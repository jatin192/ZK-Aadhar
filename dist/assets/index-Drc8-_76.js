var iI=Object.defineProperty;var aI=(t,e,r)=>e in t?iI(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var rh=(t,e,r)=>aI(t,typeof e!="symbol"?e+"":e,r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Kn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function lu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function _y(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var JA={exports:{}},Rx={},e5={exports:{}},lr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Id=Symbol.for("react.element"),oI=Symbol.for("react.portal"),sI=Symbol.for("react.fragment"),lI=Symbol.for("react.strict_mode"),cI=Symbol.for("react.profiler"),uI=Symbol.for("react.provider"),fI=Symbol.for("react.context"),dI=Symbol.for("react.forward_ref"),hI=Symbol.for("react.suspense"),xI=Symbol.for("react.memo"),pI=Symbol.for("react.lazy"),zv=Symbol.iterator;function gI(t){return t===null||typeof t!="object"?null:(t=zv&&t[zv]||t["@@iterator"],typeof t=="function"?t:null)}var t5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},r5=Object.assign,n5={};function cu(t,e,r){this.props=t,this.context=e,this.refs=n5,this.updater=r||t5}cu.prototype.isReactComponent={};cu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};cu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function i5(){}i5.prototype=cu.prototype;function By(t,e,r){this.props=t,this.context=e,this.refs=n5,this.updater=r||t5}var by=By.prototype=new i5;by.constructor=By;r5(by,cu.prototype);by.isPureReactComponent=!0;var Kv=Array.isArray,a5=Object.prototype.hasOwnProperty,Sy={current:null},o5={key:!0,ref:!0,__self:!0,__source:!0};function s5(t,e,r){var n,i={},a=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)a5.call(e,n)&&!o5.hasOwnProperty(n)&&(i[n]=e[n]);var s=arguments.length-2;if(s===1)i.children=r;else if(1<s){for(var u=Array(s),l=0;l<s;l++)u[l]=arguments[l+2];i.children=u}if(t&&t.defaultProps)for(n in s=t.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return{$$typeof:Id,type:t,key:a,ref:o,props:i,_owner:Sy.current}}function mI(t,e){return{$$typeof:Id,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Iy(t){return typeof t=="object"&&t!==null&&t.$$typeof===Id}function yI(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var qv=/\/+/g;function i2(t,e){return typeof t=="object"&&t!==null&&t.key!=null?yI(""+t.key):e.toString(36)}function Yh(t,e,r,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Id:case oI:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+i2(o,0):n,Kv(i)?(r="",t!=null&&(r=t.replace(qv,"$&/")+"/"),Yh(i,e,r,"",function(l){return l})):i!=null&&(Iy(i)&&(i=mI(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(qv,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",Kv(t))for(var s=0;s<t.length;s++){a=t[s];var u=n+i2(a,s);o+=Yh(a,e,r,u,i)}else if(u=gI(t),typeof u=="function")for(t=u.call(t),s=0;!(a=t.next()).done;)a=a.value,u=n+i2(a,s++),o+=Yh(a,e,r,u,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function nh(t,e,r){if(t==null)return t;var n=[],i=0;return Yh(t,n,"","",function(a){return e.call(r,a,i++)}),n}function vI(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ai={current:null},Zh={transition:null},EI={ReactCurrentDispatcher:Ai,ReactCurrentBatchConfig:Zh,ReactCurrentOwner:Sy};function l5(){throw Error("act(...) is not supported in production builds of React.")}lr.Children={map:nh,forEach:function(t,e,r){nh(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return nh(t,function(){e++}),e},toArray:function(t){return nh(t,function(e){return e})||[]},only:function(t){if(!Iy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};lr.Component=cu;lr.Fragment=sI;lr.Profiler=cI;lr.PureComponent=By;lr.StrictMode=lI;lr.Suspense=hI;lr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=EI;lr.act=l5;lr.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=r5({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=Sy.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(u in e)a5.call(e,u)&&!o5.hasOwnProperty(u)&&(n[u]=e[u]===void 0&&s!==void 0?s[u]:e[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){s=Array(u);for(var l=0;l<u;l++)s[l]=arguments[l+2];n.children=s}return{$$typeof:Id,type:t.type,key:i,ref:a,props:n,_owner:o}};lr.createContext=function(t){return t={$$typeof:fI,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:uI,_context:t},t.Consumer=t};lr.createElement=s5;lr.createFactory=function(t){var e=s5.bind(null,t);return e.type=t,e};lr.createRef=function(){return{current:null}};lr.forwardRef=function(t){return{$$typeof:dI,render:t}};lr.isValidElement=Iy;lr.lazy=function(t){return{$$typeof:pI,_payload:{_status:-1,_result:t},_init:vI}};lr.memo=function(t,e){return{$$typeof:xI,type:t,compare:e===void 0?null:e}};lr.startTransition=function(t){var e=Zh.transition;Zh.transition={};try{t()}finally{Zh.transition=e}};lr.unstable_act=l5;lr.useCallback=function(t,e){return Ai.current.useCallback(t,e)};lr.useContext=function(t){return Ai.current.useContext(t)};lr.useDebugValue=function(){};lr.useDeferredValue=function(t){return Ai.current.useDeferredValue(t)};lr.useEffect=function(t,e){return Ai.current.useEffect(t,e)};lr.useId=function(){return Ai.current.useId()};lr.useImperativeHandle=function(t,e,r){return Ai.current.useImperativeHandle(t,e,r)};lr.useInsertionEffect=function(t,e){return Ai.current.useInsertionEffect(t,e)};lr.useLayoutEffect=function(t,e){return Ai.current.useLayoutEffect(t,e)};lr.useMemo=function(t,e){return Ai.current.useMemo(t,e)};lr.useReducer=function(t,e,r){return Ai.current.useReducer(t,e,r)};lr.useRef=function(t){return Ai.current.useRef(t)};lr.useState=function(t){return Ai.current.useState(t)};lr.useSyncExternalStore=function(t,e,r){return Ai.current.useSyncExternalStore(t,e,r)};lr.useTransition=function(){return Ai.current.useTransition()};lr.version="18.3.1";e5.exports=lr;var Dt=e5.exports;const Bn=lu(Dt);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CI=Dt,AI=Symbol.for("react.element"),wI=Symbol.for("react.fragment"),_I=Object.prototype.hasOwnProperty,BI=CI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,bI={key:!0,ref:!0,__self:!0,__source:!0};function c5(t,e,r){var n,i={},a=null,o=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)_I.call(e,n)&&!bI.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:AI,type:t,key:a,ref:o,props:i,_owner:BI.current}}Rx.Fragment=wI;Rx.jsx=c5;Rx.jsxs=c5;JA.exports=Rx;var we=JA.exports,u5={exports:{}},aa={},f5={exports:{}},d5={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(G,$){var Z=G.length;G.push($);e:for(;0<Z;){var W=Z-1>>>1,P=G[W];if(0<i(P,$))G[W]=$,G[Z]=P,Z=W;else break e}}function r(G){return G.length===0?null:G[0]}function n(G){if(G.length===0)return null;var $=G[0],Z=G.pop();if(Z!==$){G[0]=Z;e:for(var W=0,P=G.length,R=P>>>1;W<R;){var re=2*(W+1)-1,T=G[re],x=re+1,z=G[x];if(0>i(T,Z))x<P&&0>i(z,T)?(G[W]=z,G[x]=Z,W=x):(G[W]=T,G[re]=Z,W=re);else if(x<P&&0>i(z,Z))G[W]=z,G[x]=Z,W=x;else break e}}return $}function i(G,$){var Z=G.sortIndex-$.sortIndex;return Z!==0?Z:G.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var u=[],l=[],c=1,f=null,d=3,h=!1,y=!1,w=!1,_=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(G){for(var $=r(l);$!==null;){if($.callback===null)n(l);else if($.startTime<=G)n(l),$.sortIndex=$.expirationTime,e(u,$);else break;$=r(l)}}function S(G){if(w=!1,m(G),!y)if(r(u)!==null)y=!0,N(F);else{var $=r(l);$!==null&&U(S,$.startTime-G)}}function F(G,$){y=!1,w&&(w=!1,E(A),A=-1),h=!0;var Z=d;try{for(m($),f=r(u);f!==null&&(!(f.expirationTime>$)||G&&!j());){var W=f.callback;if(typeof W=="function"){f.callback=null,d=f.priorityLevel;var P=W(f.expirationTime<=$);$=t.unstable_now(),typeof P=="function"?f.callback=P:f===r(u)&&n(u),m($)}else n(u);f=r(u)}if(f!==null)var R=!0;else{var re=r(l);re!==null&&U(S,re.startTime-$),R=!1}return R}finally{f=null,d=Z,h=!1}}var I=!1,v=null,A=-1,D=5,L=-1;function j(){return!(t.unstable_now()-L<D)}function Y(){if(v!==null){var G=t.unstable_now();L=G;var $=!0;try{$=v(!0,G)}finally{$?O():(I=!1,v=null)}}else I=!1}var O;if(typeof p=="function")O=function(){p(Y)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,C=B.port2;B.port1.onmessage=Y,O=function(){C.postMessage(null)}}else O=function(){_(Y,0)};function N(G){v=G,I||(I=!0,O())}function U(G,$){A=_(function(){G(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_continueExecution=function(){y||h||(y=!0,N(F))},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(G){switch(d){case 1:case 2:case 3:var $=3;break;default:$=d}var Z=d;d=$;try{return G()}finally{d=Z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(G,$){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var Z=d;d=G;try{return $()}finally{d=Z}},t.unstable_scheduleCallback=function(G,$,Z){var W=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?W+Z:W):Z=W,G){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=Z+P,G={id:c++,callback:$,priorityLevel:G,startTime:Z,expirationTime:P,sortIndex:-1},Z>W?(G.sortIndex=Z,e(l,G),r(u)===null&&G===r(l)&&(w?(E(A),A=-1):w=!0,U(S,Z-W))):(G.sortIndex=P,e(u,G),y||h||(y=!0,N(F))),G},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(G){var $=d;return function(){var Z=d;d=$;try{return G.apply(this,arguments)}finally{d=Z}}}})(d5);f5.exports=d5;var SI=f5.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var II=Dt,ia=SI;function ct(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var h5=new Set,Hf={};function Tl(t,e){Rc(t,e),Rc(t+"Capture",e)}function Rc(t,e){for(Hf[t]=e,t=0;t<e.length;t++)h5.add(e[t])}var Ls=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),im=Object.prototype.hasOwnProperty,LI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Qv={},Hv={};function FI(t){return im.call(Hv,t)?!0:im.call(Qv,t)?!1:LI.test(t)?Hv[t]=!0:(Qv[t]=!0,!1)}function DI(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function TI(t,e,r,n){if(e===null||typeof e>"u"||DI(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function wi(t,e,r,n,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var Hn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Hn[t]=new wi(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Hn[e]=new wi(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Hn[t]=new wi(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Hn[t]=new wi(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Hn[t]=new wi(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Hn[t]=new wi(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Hn[t]=new wi(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Hn[t]=new wi(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Hn[t]=new wi(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ly=/[\-:]([a-z])/g;function Fy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ly,Fy);Hn[e]=new wi(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ly,Fy);Hn[e]=new wi(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ly,Fy);Hn[e]=new wi(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Hn[t]=new wi(t,1,!1,t.toLowerCase(),null,!1,!1)});Hn.xlinkHref=new wi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Hn[t]=new wi(t,1,!1,t.toLowerCase(),null,!0,!0)});function Dy(t,e,r,n){var i=Hn.hasOwnProperty(e)?Hn[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(TI(e,r,i,n)&&(r=null),n||i===null?FI(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Rs=II.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ih=Symbol.for("react.element"),nc=Symbol.for("react.portal"),ic=Symbol.for("react.fragment"),Ty=Symbol.for("react.strict_mode"),am=Symbol.for("react.profiler"),x5=Symbol.for("react.provider"),p5=Symbol.for("react.context"),ky=Symbol.for("react.forward_ref"),om=Symbol.for("react.suspense"),sm=Symbol.for("react.suspense_list"),Ny=Symbol.for("react.memo"),Ys=Symbol.for("react.lazy"),g5=Symbol.for("react.offscreen"),jv=Symbol.iterator;function Pu(t){return t===null||typeof t!="object"?null:(t=jv&&t[jv]||t["@@iterator"],typeof t=="function"?t:null)}var on=Object.assign,a2;function lf(t){if(a2===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);a2=e&&e[1]||""}return`
`+a2+t}var o2=!1;function s2(t,e){if(!t||o2)return"";o2=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var n=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){n=l}t.call(e.prototype)}else{try{throw Error()}catch(l){n=l}t()}}catch(l){if(l&&n&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=s);break}}}finally{o2=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?lf(t):""}function kI(t){switch(t.tag){case 5:return lf(t.type);case 16:return lf("Lazy");case 13:return lf("Suspense");case 19:return lf("SuspenseList");case 0:case 2:case 15:return t=s2(t.type,!1),t;case 11:return t=s2(t.type.render,!1),t;case 1:return t=s2(t.type,!0),t;default:return""}}function lm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ic:return"Fragment";case nc:return"Portal";case am:return"Profiler";case Ty:return"StrictMode";case om:return"Suspense";case sm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case p5:return(t.displayName||"Context")+".Consumer";case x5:return(t._context.displayName||"Context")+".Provider";case ky:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ny:return e=t.displayName||null,e!==null?e:lm(t.type)||"Memo";case Ys:e=t._payload,t=t._init;try{return lm(t(e))}catch{}}return null}function NI(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return lm(e);case 8:return e===Ty?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function b0(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function m5(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function PI(t){var e=m5(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ah(t){t._valueTracker||(t._valueTracker=PI(t))}function y5(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=m5(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function I1(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function cm(t,e){var r=e.checked;return on({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function $v(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=b0(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function v5(t,e){e=e.checked,e!=null&&Dy(t,"checked",e,!1)}function um(t,e){v5(t,e);var r=b0(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?fm(t,e.type,r):e.hasOwnProperty("defaultValue")&&fm(t,e.type,b0(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Wv(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function fm(t,e,r){(e!=="number"||I1(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var cf=Array.isArray;function wc(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+b0(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function dm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ct(91));return on({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Yv(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(ct(92));if(cf(r)){if(1<r.length)throw Error(ct(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:b0(r)}}function E5(t,e){var r=b0(e.value),n=b0(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Zv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function C5(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function hm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?C5(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var oh,A5=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(oh=oh||document.createElement("div"),oh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=oh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function jf(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Ef={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},RI=["Webkit","ms","Moz","O"];Object.keys(Ef).forEach(function(t){RI.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ef[e]=Ef[t]})});function w5(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Ef.hasOwnProperty(t)&&Ef[t]?(""+e).trim():e+"px"}function _5(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=w5(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var MI=on({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xm(t,e){if(e){if(MI[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ct(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ct(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ct(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ct(62))}}function pm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gm=null;function Py(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var mm=null,_c=null,Bc=null;function Xv(t){if(t=Dd(t)){if(typeof mm!="function")throw Error(ct(280));var e=t.stateNode;e&&(e=Gx(e),mm(t.stateNode,t.type,e))}}function B5(t){_c?Bc?Bc.push(t):Bc=[t]:_c=t}function b5(){if(_c){var t=_c,e=Bc;if(Bc=_c=null,Xv(t),e)for(t=0;t<e.length;t++)Xv(e[t])}}function S5(t,e){return t(e)}function I5(){}var l2=!1;function L5(t,e,r){if(l2)return t(e,r);l2=!0;try{return S5(t,e,r)}finally{l2=!1,(_c!==null||Bc!==null)&&(I5(),b5())}}function $f(t,e){var r=t.stateNode;if(r===null)return null;var n=Gx(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(ct(231,e,typeof r));return r}var ym=!1;if(Ls)try{var Ru={};Object.defineProperty(Ru,"passive",{get:function(){ym=!0}}),window.addEventListener("test",Ru,Ru),window.removeEventListener("test",Ru,Ru)}catch{ym=!1}function UI(t,e,r,n,i,a,o,s,u){var l=Array.prototype.slice.call(arguments,3);try{e.apply(r,l)}catch(c){this.onError(c)}}var Cf=!1,L1=null,F1=!1,vm=null,OI={onError:function(t){Cf=!0,L1=t}};function VI(t,e,r,n,i,a,o,s,u){Cf=!1,L1=null,UI.apply(OI,arguments)}function GI(t,e,r,n,i,a,o,s,u){if(VI.apply(this,arguments),Cf){if(Cf){var l=L1;Cf=!1,L1=null}else throw Error(ct(198));F1||(F1=!0,vm=l)}}function kl(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function F5(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Jv(t){if(kl(t)!==t)throw Error(ct(188))}function zI(t){var e=t.alternate;if(!e){if(e=kl(t),e===null)throw Error(ct(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return Jv(i),t;if(a===n)return Jv(i),e;a=a.sibling}throw Error(ct(188))}if(r.return!==n.return)r=i,n=a;else{for(var o=!1,s=i.child;s;){if(s===r){o=!0,r=i,n=a;break}if(s===n){o=!0,n=i,r=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===r){o=!0,r=a,n=i;break}if(s===n){o=!0,n=a,r=i;break}s=s.sibling}if(!o)throw Error(ct(189))}}if(r.alternate!==n)throw Error(ct(190))}if(r.tag!==3)throw Error(ct(188));return r.stateNode.current===r?t:e}function D5(t){return t=zI(t),t!==null?T5(t):null}function T5(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=T5(t);if(e!==null)return e;t=t.sibling}return null}var k5=ia.unstable_scheduleCallback,eE=ia.unstable_cancelCallback,KI=ia.unstable_shouldYield,qI=ia.unstable_requestPaint,hn=ia.unstable_now,QI=ia.unstable_getCurrentPriorityLevel,Ry=ia.unstable_ImmediatePriority,N5=ia.unstable_UserBlockingPriority,D1=ia.unstable_NormalPriority,HI=ia.unstable_LowPriority,P5=ia.unstable_IdlePriority,Mx=null,Ro=null;function jI(t){if(Ro&&typeof Ro.onCommitFiberRoot=="function")try{Ro.onCommitFiberRoot(Mx,t,void 0,(t.current.flags&128)===128)}catch{}}var eo=Math.clz32?Math.clz32:YI,$I=Math.log,WI=Math.LN2;function YI(t){return t>>>=0,t===0?32:31-($I(t)/WI|0)|0}var sh=64,lh=4194304;function uf(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function T1(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,a=t.pingedLanes,o=r&268435455;if(o!==0){var s=o&~i;s!==0?n=uf(s):(a&=o,a!==0&&(n=uf(a)))}else o=r&~i,o!==0?n=uf(o):a!==0&&(n=uf(a));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-eo(e),i=1<<r,n|=t[r],e&=~i;return n}function ZI(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function XI(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-eo(a),s=1<<o,u=i[o];u===-1?(!(s&r)||s&n)&&(i[o]=ZI(s,e)):u<=e&&(t.expiredLanes|=s),a&=~s}}function Em(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function R5(){var t=sh;return sh<<=1,!(sh&4194240)&&(sh=64),t}function c2(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Ld(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-eo(e),t[e]=r}function JI(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-eo(r),a=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~a}}function My(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-eo(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Tr=0;function M5(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var U5,Uy,O5,V5,G5,Cm=!1,ch=[],h0=null,x0=null,p0=null,Wf=new Map,Yf=new Map,e0=[],eL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tE(t,e){switch(t){case"focusin":case"focusout":h0=null;break;case"dragenter":case"dragleave":x0=null;break;case"mouseover":case"mouseout":p0=null;break;case"pointerover":case"pointerout":Wf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yf.delete(e.pointerId)}}function Mu(t,e,r,n,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},e!==null&&(e=Dd(e),e!==null&&Uy(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function tL(t,e,r,n,i){switch(e){case"focusin":return h0=Mu(h0,t,e,r,n,i),!0;case"dragenter":return x0=Mu(x0,t,e,r,n,i),!0;case"mouseover":return p0=Mu(p0,t,e,r,n,i),!0;case"pointerover":var a=i.pointerId;return Wf.set(a,Mu(Wf.get(a)||null,t,e,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Yf.set(a,Mu(Yf.get(a)||null,t,e,r,n,i)),!0}return!1}function z5(t){var e=rl(t.target);if(e!==null){var r=kl(e);if(r!==null){if(e=r.tag,e===13){if(e=F5(r),e!==null){t.blockedOn=e,G5(t.priority,function(){O5(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Xh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Am(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);gm=n,r.target.dispatchEvent(n),gm=null}else return e=Dd(r),e!==null&&Uy(e),t.blockedOn=r,!1;e.shift()}return!0}function rE(t,e,r){Xh(t)&&r.delete(e)}function rL(){Cm=!1,h0!==null&&Xh(h0)&&(h0=null),x0!==null&&Xh(x0)&&(x0=null),p0!==null&&Xh(p0)&&(p0=null),Wf.forEach(rE),Yf.forEach(rE)}function Uu(t,e){t.blockedOn===e&&(t.blockedOn=null,Cm||(Cm=!0,ia.unstable_scheduleCallback(ia.unstable_NormalPriority,rL)))}function Zf(t){function e(i){return Uu(i,t)}if(0<ch.length){Uu(ch[0],t);for(var r=1;r<ch.length;r++){var n=ch[r];n.blockedOn===t&&(n.blockedOn=null)}}for(h0!==null&&Uu(h0,t),x0!==null&&Uu(x0,t),p0!==null&&Uu(p0,t),Wf.forEach(e),Yf.forEach(e),r=0;r<e0.length;r++)n=e0[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<e0.length&&(r=e0[0],r.blockedOn===null);)z5(r),r.blockedOn===null&&e0.shift()}var bc=Rs.ReactCurrentBatchConfig,k1=!0;function nL(t,e,r,n){var i=Tr,a=bc.transition;bc.transition=null;try{Tr=1,Oy(t,e,r,n)}finally{Tr=i,bc.transition=a}}function iL(t,e,r,n){var i=Tr,a=bc.transition;bc.transition=null;try{Tr=4,Oy(t,e,r,n)}finally{Tr=i,bc.transition=a}}function Oy(t,e,r,n){if(k1){var i=Am(t,e,r,n);if(i===null)v2(t,e,n,N1,r),tE(t,n);else if(tL(i,t,e,r,n))n.stopPropagation();else if(tE(t,n),e&4&&-1<eL.indexOf(t)){for(;i!==null;){var a=Dd(i);if(a!==null&&U5(a),a=Am(t,e,r,n),a===null&&v2(t,e,n,N1,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else v2(t,e,n,null,r)}}var N1=null;function Am(t,e,r,n){if(N1=null,t=Py(n),t=rl(t),t!==null)if(e=kl(t),e===null)t=null;else if(r=e.tag,r===13){if(t=F5(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return N1=t,null}function K5(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(QI()){case Ry:return 1;case N5:return 4;case D1:case HI:return 16;case P5:return 536870912;default:return 16}default:return 16}}var i0=null,Vy=null,Jh=null;function q5(){if(Jh)return Jh;var t,e=Vy,r=e.length,n,i="value"in i0?i0.value:i0.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[a-n];n++);return Jh=i.slice(t,1<n?1-n:void 0)}function e1(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function uh(){return!0}function nE(){return!1}function oa(t){function e(r,n,i,a,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(r=t[s],this[s]=r?r(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?uh:nE,this.isPropagationStopped=nE,this}return on(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=uh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=uh)},persist:function(){},isPersistent:uh}),e}var uu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gy=oa(uu),Fd=on({},uu,{view:0,detail:0}),aL=oa(Fd),u2,f2,Ou,Ux=on({},Fd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ou&&(Ou&&t.type==="mousemove"?(u2=t.screenX-Ou.screenX,f2=t.screenY-Ou.screenY):f2=u2=0,Ou=t),u2)},movementY:function(t){return"movementY"in t?t.movementY:f2}}),iE=oa(Ux),oL=on({},Ux,{dataTransfer:0}),sL=oa(oL),lL=on({},Fd,{relatedTarget:0}),d2=oa(lL),cL=on({},uu,{animationName:0,elapsedTime:0,pseudoElement:0}),uL=oa(cL),fL=on({},uu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),dL=oa(fL),hL=on({},uu,{data:0}),aE=oa(hL),xL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mL(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=gL[t])?!!e[t]:!1}function zy(){return mL}var yL=on({},Fd,{key:function(t){if(t.key){var e=xL[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=e1(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?pL[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zy,charCode:function(t){return t.type==="keypress"?e1(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?e1(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),vL=oa(yL),EL=on({},Ux,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),oE=oa(EL),CL=on({},Fd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zy}),AL=oa(CL),wL=on({},uu,{propertyName:0,elapsedTime:0,pseudoElement:0}),_L=oa(wL),BL=on({},Ux,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),bL=oa(BL),SL=[9,13,27,32],Ky=Ls&&"CompositionEvent"in window,Af=null;Ls&&"documentMode"in document&&(Af=document.documentMode);var IL=Ls&&"TextEvent"in window&&!Af,Q5=Ls&&(!Ky||Af&&8<Af&&11>=Af),sE=" ",lE=!1;function H5(t,e){switch(t){case"keyup":return SL.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function j5(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ac=!1;function LL(t,e){switch(t){case"compositionend":return j5(e);case"keypress":return e.which!==32?null:(lE=!0,sE);case"textInput":return t=e.data,t===sE&&lE?null:t;default:return null}}function FL(t,e){if(ac)return t==="compositionend"||!Ky&&H5(t,e)?(t=q5(),Jh=Vy=i0=null,ac=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Q5&&e.locale!=="ko"?null:e.data;default:return null}}var DL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!DL[t.type]:e==="textarea"}function $5(t,e,r,n){B5(n),e=P1(e,"onChange"),0<e.length&&(r=new Gy("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var wf=null,Xf=null;function TL(t){a9(t,0)}function Ox(t){var e=lc(t);if(y5(e))return t}function kL(t,e){if(t==="change")return e}var W5=!1;if(Ls){var h2;if(Ls){var x2="oninput"in document;if(!x2){var uE=document.createElement("div");uE.setAttribute("oninput","return;"),x2=typeof uE.oninput=="function"}h2=x2}else h2=!1;W5=h2&&(!document.documentMode||9<document.documentMode)}function fE(){wf&&(wf.detachEvent("onpropertychange",Y5),Xf=wf=null)}function Y5(t){if(t.propertyName==="value"&&Ox(Xf)){var e=[];$5(e,Xf,t,Py(t)),L5(TL,e)}}function NL(t,e,r){t==="focusin"?(fE(),wf=e,Xf=r,wf.attachEvent("onpropertychange",Y5)):t==="focusout"&&fE()}function PL(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ox(Xf)}function RL(t,e){if(t==="click")return Ox(e)}function ML(t,e){if(t==="input"||t==="change")return Ox(e)}function UL(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var io=typeof Object.is=="function"?Object.is:UL;function Jf(t,e){if(io(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!im.call(e,i)||!io(t[i],e[i]))return!1}return!0}function dE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function hE(t,e){var r=dE(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dE(r)}}function Z5(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Z5(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function X5(){for(var t=window,e=I1();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=I1(t.document)}return e}function qy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function OL(t){var e=X5(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Z5(r.ownerDocument.documentElement,r)){if(n!==null&&qy(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!t.extend&&a>n&&(i=n,n=a,a=i),i=hE(r,a);var o=hE(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var VL=Ls&&"documentMode"in document&&11>=document.documentMode,oc=null,wm=null,_f=null,_m=!1;function xE(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;_m||oc==null||oc!==I1(n)||(n=oc,"selectionStart"in n&&qy(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),_f&&Jf(_f,n)||(_f=n,n=P1(wm,"onSelect"),0<n.length&&(e=new Gy("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=oc)))}function fh(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var sc={animationend:fh("Animation","AnimationEnd"),animationiteration:fh("Animation","AnimationIteration"),animationstart:fh("Animation","AnimationStart"),transitionend:fh("Transition","TransitionEnd")},p2={},J5={};Ls&&(J5=document.createElement("div").style,"AnimationEvent"in window||(delete sc.animationend.animation,delete sc.animationiteration.animation,delete sc.animationstart.animation),"TransitionEvent"in window||delete sc.transitionend.transition);function Vx(t){if(p2[t])return p2[t];if(!sc[t])return t;var e=sc[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in J5)return p2[t]=e[r];return t}var e9=Vx("animationend"),t9=Vx("animationiteration"),r9=Vx("animationstart"),n9=Vx("transitionend"),i9=new Map,pE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function R0(t,e){i9.set(t,e),Tl(e,[t])}for(var g2=0;g2<pE.length;g2++){var m2=pE[g2],GL=m2.toLowerCase(),zL=m2[0].toUpperCase()+m2.slice(1);R0(GL,"on"+zL)}R0(e9,"onAnimationEnd");R0(t9,"onAnimationIteration");R0(r9,"onAnimationStart");R0("dblclick","onDoubleClick");R0("focusin","onFocus");R0("focusout","onBlur");R0(n9,"onTransitionEnd");Rc("onMouseEnter",["mouseout","mouseover"]);Rc("onMouseLeave",["mouseout","mouseover"]);Rc("onPointerEnter",["pointerout","pointerover"]);Rc("onPointerLeave",["pointerout","pointerover"]);Tl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Tl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Tl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Tl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Tl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Tl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ff="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KL=new Set("cancel close invalid load scroll toggle".split(" ").concat(ff));function gE(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,GI(n,e,void 0,t),t.currentTarget=null}function a9(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var o=n.length-1;0<=o;o--){var s=n[o],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;gE(i,s,l),a=u}else for(o=0;o<n.length;o++){if(s=n[o],u=s.instance,l=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;gE(i,s,l),a=u}}}if(F1)throw t=vm,F1=!1,vm=null,t}function zr(t,e){var r=e[Lm];r===void 0&&(r=e[Lm]=new Set);var n=t+"__bubble";r.has(n)||(o9(e,t,2,!1),r.add(n))}function y2(t,e,r){var n=0;e&&(n|=4),o9(r,t,n,e)}var dh="_reactListening"+Math.random().toString(36).slice(2);function ed(t){if(!t[dh]){t[dh]=!0,h5.forEach(function(r){r!=="selectionchange"&&(KL.has(r)||y2(r,!1,t),y2(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[dh]||(e[dh]=!0,y2("selectionchange",!1,e))}}function o9(t,e,r,n){switch(K5(e)){case 1:var i=nL;break;case 4:i=iL;break;default:i=Oy}r=i.bind(null,e,r,t),i=void 0,!ym||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function v2(t,e,r,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var s=n.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;s!==null;){if(o=rl(s),o===null)return;if(u=o.tag,u===5||u===6){n=a=o;continue e}s=s.parentNode}}n=n.return}L5(function(){var l=a,c=Py(r),f=[];e:{var d=i9.get(t);if(d!==void 0){var h=Gy,y=t;switch(t){case"keypress":if(e1(r)===0)break e;case"keydown":case"keyup":h=vL;break;case"focusin":y="focus",h=d2;break;case"focusout":y="blur",h=d2;break;case"beforeblur":case"afterblur":h=d2;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=iE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=sL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=AL;break;case e9:case t9:case r9:h=uL;break;case n9:h=_L;break;case"scroll":h=aL;break;case"wheel":h=bL;break;case"copy":case"cut":case"paste":h=dL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=oE}var w=(e&4)!==0,_=!w&&t==="scroll",E=w?d!==null?d+"Capture":null:d;w=[];for(var p=l,m;p!==null;){m=p;var S=m.stateNode;if(m.tag===5&&S!==null&&(m=S,E!==null&&(S=$f(p,E),S!=null&&w.push(td(p,S,m)))),_)break;p=p.return}0<w.length&&(d=new h(d,y,null,r,c),f.push({event:d,listeners:w}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",d&&r!==gm&&(y=r.relatedTarget||r.fromElement)&&(rl(y)||y[Fs]))break e;if((h||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,h?(y=r.relatedTarget||r.toElement,h=l,y=y?rl(y):null,y!==null&&(_=kl(y),y!==_||y.tag!==5&&y.tag!==6)&&(y=null)):(h=null,y=l),h!==y)){if(w=iE,S="onMouseLeave",E="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(w=oE,S="onPointerLeave",E="onPointerEnter",p="pointer"),_=h==null?d:lc(h),m=y==null?d:lc(y),d=new w(S,p+"leave",h,r,c),d.target=_,d.relatedTarget=m,S=null,rl(c)===l&&(w=new w(E,p+"enter",y,r,c),w.target=m,w.relatedTarget=_,S=w),_=S,h&&y)t:{for(w=h,E=y,p=0,m=w;m;m=Hl(m))p++;for(m=0,S=E;S;S=Hl(S))m++;for(;0<p-m;)w=Hl(w),p--;for(;0<m-p;)E=Hl(E),m--;for(;p--;){if(w===E||E!==null&&w===E.alternate)break t;w=Hl(w),E=Hl(E)}w=null}else w=null;h!==null&&mE(f,d,h,w,!1),y!==null&&_!==null&&mE(f,_,y,w,!0)}}e:{if(d=l?lc(l):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var F=kL;else if(cE(d))if(W5)F=ML;else{F=PL;var I=NL}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(F=RL);if(F&&(F=F(t,l))){$5(f,F,r,c);break e}I&&I(t,d,l),t==="focusout"&&(I=d._wrapperState)&&I.controlled&&d.type==="number"&&fm(d,"number",d.value)}switch(I=l?lc(l):window,t){case"focusin":(cE(I)||I.contentEditable==="true")&&(oc=I,wm=l,_f=null);break;case"focusout":_f=wm=oc=null;break;case"mousedown":_m=!0;break;case"contextmenu":case"mouseup":case"dragend":_m=!1,xE(f,r,c);break;case"selectionchange":if(VL)break;case"keydown":case"keyup":xE(f,r,c)}var v;if(Ky)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else ac?H5(t,r)&&(A="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(Q5&&r.locale!=="ko"&&(ac||A!=="onCompositionStart"?A==="onCompositionEnd"&&ac&&(v=q5()):(i0=c,Vy="value"in i0?i0.value:i0.textContent,ac=!0)),I=P1(l,A),0<I.length&&(A=new aE(A,t,null,r,c),f.push({event:A,listeners:I}),v?A.data=v:(v=j5(r),v!==null&&(A.data=v)))),(v=IL?LL(t,r):FL(t,r))&&(l=P1(l,"onBeforeInput"),0<l.length&&(c=new aE("onBeforeInput","beforeinput",null,r,c),f.push({event:c,listeners:l}),c.data=v))}a9(f,e)})}function td(t,e,r){return{instance:t,listener:e,currentTarget:r}}function P1(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=$f(t,r),a!=null&&n.unshift(td(t,a,i)),a=$f(t,e),a!=null&&n.push(td(t,a,i))),t=t.return}return n}function Hl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function mE(t,e,r,n,i){for(var a=e._reactName,o=[];r!==null&&r!==n;){var s=r,u=s.alternate,l=s.stateNode;if(u!==null&&u===n)break;s.tag===5&&l!==null&&(s=l,i?(u=$f(r,a),u!=null&&o.unshift(td(r,u,s))):i||(u=$f(r,a),u!=null&&o.push(td(r,u,s)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var qL=/\r\n?/g,QL=/\u0000|\uFFFD/g;function yE(t){return(typeof t=="string"?t:""+t).replace(qL,`
`).replace(QL,"")}function hh(t,e,r){if(e=yE(e),yE(t)!==e&&r)throw Error(ct(425))}function R1(){}var Bm=null,bm=null;function Sm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Im=typeof setTimeout=="function"?setTimeout:void 0,HL=typeof clearTimeout=="function"?clearTimeout:void 0,vE=typeof Promise=="function"?Promise:void 0,jL=typeof queueMicrotask=="function"?queueMicrotask:typeof vE<"u"?function(t){return vE.resolve(null).then(t).catch($L)}:Im;function $L(t){setTimeout(function(){throw t})}function E2(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Zf(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Zf(e)}function g0(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function EE(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var fu=Math.random().toString(36).slice(2),So="__reactFiber$"+fu,rd="__reactProps$"+fu,Fs="__reactContainer$"+fu,Lm="__reactEvents$"+fu,WL="__reactListeners$"+fu,YL="__reactHandles$"+fu;function rl(t){var e=t[So];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Fs]||r[So]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=EE(t);t!==null;){if(r=t[So])return r;t=EE(t)}return e}t=r,r=t.parentNode}return null}function Dd(t){return t=t[So]||t[Fs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function lc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ct(33))}function Gx(t){return t[rd]||null}var Fm=[],cc=-1;function M0(t){return{current:t}}function Hr(t){0>cc||(t.current=Fm[cc],Fm[cc]=null,cc--)}function Ur(t,e){cc++,Fm[cc]=t.current,t.current=e}var S0={},ci=M0(S0),Mi=M0(!1),yl=S0;function Mc(t,e){var r=t.type.contextTypes;if(!r)return S0;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ui(t){return t=t.childContextTypes,t!=null}function M1(){Hr(Mi),Hr(ci)}function CE(t,e,r){if(ci.current!==S0)throw Error(ct(168));Ur(ci,e),Ur(Mi,r)}function s9(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(ct(108,NI(t)||"Unknown",i));return on({},r,n)}function U1(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||S0,yl=ci.current,Ur(ci,t),Ur(Mi,Mi.current),!0}function AE(t,e,r){var n=t.stateNode;if(!n)throw Error(ct(169));r?(t=s9(t,e,yl),n.__reactInternalMemoizedMergedChildContext=t,Hr(Mi),Hr(ci),Ur(ci,t)):Hr(Mi),Ur(Mi,r)}var ds=null,zx=!1,C2=!1;function l9(t){ds===null?ds=[t]:ds.push(t)}function ZL(t){zx=!0,l9(t)}function U0(){if(!C2&&ds!==null){C2=!0;var t=0,e=Tr;try{var r=ds;for(Tr=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}ds=null,zx=!1}catch(i){throw ds!==null&&(ds=ds.slice(t+1)),k5(Ry,U0),i}finally{Tr=e,C2=!1}}return null}var uc=[],fc=0,O1=null,V1=0,ya=[],va=0,vl=null,vs=1,Es="";function $0(t,e){uc[fc++]=V1,uc[fc++]=O1,O1=t,V1=e}function c9(t,e,r){ya[va++]=vs,ya[va++]=Es,ya[va++]=vl,vl=t;var n=vs;t=Es;var i=32-eo(n)-1;n&=~(1<<i),r+=1;var a=32-eo(e)+i;if(30<a){var o=i-i%5;a=(n&(1<<o)-1).toString(32),n>>=o,i-=o,vs=1<<32-eo(e)+i|r<<i|n,Es=a+t}else vs=1<<a|r<<i|n,Es=t}function Qy(t){t.return!==null&&($0(t,1),c9(t,1,0))}function Hy(t){for(;t===O1;)O1=uc[--fc],uc[fc]=null,V1=uc[--fc],uc[fc]=null;for(;t===vl;)vl=ya[--va],ya[va]=null,Es=ya[--va],ya[va]=null,vs=ya[--va],ya[va]=null}var na=null,ea=null,Zr=!1,Za=null;function u9(t,e){var r=Ca(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function wE(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,na=t,ea=g0(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,na=t,ea=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=vl!==null?{id:vs,overflow:Es}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Ca(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,na=t,ea=null,!0):!1;default:return!1}}function Dm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Tm(t){if(Zr){var e=ea;if(e){var r=e;if(!wE(t,e)){if(Dm(t))throw Error(ct(418));e=g0(r.nextSibling);var n=na;e&&wE(t,e)?u9(n,r):(t.flags=t.flags&-4097|2,Zr=!1,na=t)}}else{if(Dm(t))throw Error(ct(418));t.flags=t.flags&-4097|2,Zr=!1,na=t}}}function _E(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;na=t}function xh(t){if(t!==na)return!1;if(!Zr)return _E(t),Zr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Sm(t.type,t.memoizedProps)),e&&(e=ea)){if(Dm(t))throw f9(),Error(ct(418));for(;e;)u9(t,e),e=g0(e.nextSibling)}if(_E(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ct(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){ea=g0(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}ea=null}}else ea=na?g0(t.stateNode.nextSibling):null;return!0}function f9(){for(var t=ea;t;)t=g0(t.nextSibling)}function Uc(){ea=na=null,Zr=!1}function jy(t){Za===null?Za=[t]:Za.push(t)}var XL=Rs.ReactCurrentBatchConfig;function Vu(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ct(309));var n=r.stateNode}if(!n)throw Error(ct(147,t));var i=n,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var s=i.refs;o===null?delete s[a]:s[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(ct(284));if(!r._owner)throw Error(ct(290,t))}return t}function ph(t,e){throw t=Object.prototype.toString.call(e),Error(ct(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function BE(t){var e=t._init;return e(t._payload)}function d9(t){function e(E,p){if(t){var m=E.deletions;m===null?(E.deletions=[p],E.flags|=16):m.push(p)}}function r(E,p){if(!t)return null;for(;p!==null;)e(E,p),p=p.sibling;return null}function n(E,p){for(E=new Map;p!==null;)p.key!==null?E.set(p.key,p):E.set(p.index,p),p=p.sibling;return E}function i(E,p){return E=E0(E,p),E.index=0,E.sibling=null,E}function a(E,p,m){return E.index=m,t?(m=E.alternate,m!==null?(m=m.index,m<p?(E.flags|=2,p):m):(E.flags|=2,p)):(E.flags|=1048576,p)}function o(E){return t&&E.alternate===null&&(E.flags|=2),E}function s(E,p,m,S){return p===null||p.tag!==6?(p=I2(m,E.mode,S),p.return=E,p):(p=i(p,m),p.return=E,p)}function u(E,p,m,S){var F=m.type;return F===ic?c(E,p,m.props.children,S,m.key):p!==null&&(p.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===Ys&&BE(F)===p.type)?(S=i(p,m.props),S.ref=Vu(E,p,m),S.return=E,S):(S=s1(m.type,m.key,m.props,null,E.mode,S),S.ref=Vu(E,p,m),S.return=E,S)}function l(E,p,m,S){return p===null||p.tag!==4||p.stateNode.containerInfo!==m.containerInfo||p.stateNode.implementation!==m.implementation?(p=L2(m,E.mode,S),p.return=E,p):(p=i(p,m.children||[]),p.return=E,p)}function c(E,p,m,S,F){return p===null||p.tag!==7?(p=hl(m,E.mode,S,F),p.return=E,p):(p=i(p,m),p.return=E,p)}function f(E,p,m){if(typeof p=="string"&&p!==""||typeof p=="number")return p=I2(""+p,E.mode,m),p.return=E,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case ih:return m=s1(p.type,p.key,p.props,null,E.mode,m),m.ref=Vu(E,null,p),m.return=E,m;case nc:return p=L2(p,E.mode,m),p.return=E,p;case Ys:var S=p._init;return f(E,S(p._payload),m)}if(cf(p)||Pu(p))return p=hl(p,E.mode,m,null),p.return=E,p;ph(E,p)}return null}function d(E,p,m,S){var F=p!==null?p.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return F!==null?null:s(E,p,""+m,S);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case ih:return m.key===F?u(E,p,m,S):null;case nc:return m.key===F?l(E,p,m,S):null;case Ys:return F=m._init,d(E,p,F(m._payload),S)}if(cf(m)||Pu(m))return F!==null?null:c(E,p,m,S,null);ph(E,m)}return null}function h(E,p,m,S,F){if(typeof S=="string"&&S!==""||typeof S=="number")return E=E.get(m)||null,s(p,E,""+S,F);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case ih:return E=E.get(S.key===null?m:S.key)||null,u(p,E,S,F);case nc:return E=E.get(S.key===null?m:S.key)||null,l(p,E,S,F);case Ys:var I=S._init;return h(E,p,m,I(S._payload),F)}if(cf(S)||Pu(S))return E=E.get(m)||null,c(p,E,S,F,null);ph(p,S)}return null}function y(E,p,m,S){for(var F=null,I=null,v=p,A=p=0,D=null;v!==null&&A<m.length;A++){v.index>A?(D=v,v=null):D=v.sibling;var L=d(E,v,m[A],S);if(L===null){v===null&&(v=D);break}t&&v&&L.alternate===null&&e(E,v),p=a(L,p,A),I===null?F=L:I.sibling=L,I=L,v=D}if(A===m.length)return r(E,v),Zr&&$0(E,A),F;if(v===null){for(;A<m.length;A++)v=f(E,m[A],S),v!==null&&(p=a(v,p,A),I===null?F=v:I.sibling=v,I=v);return Zr&&$0(E,A),F}for(v=n(E,v);A<m.length;A++)D=h(v,E,A,m[A],S),D!==null&&(t&&D.alternate!==null&&v.delete(D.key===null?A:D.key),p=a(D,p,A),I===null?F=D:I.sibling=D,I=D);return t&&v.forEach(function(j){return e(E,j)}),Zr&&$0(E,A),F}function w(E,p,m,S){var F=Pu(m);if(typeof F!="function")throw Error(ct(150));if(m=F.call(m),m==null)throw Error(ct(151));for(var I=F=null,v=p,A=p=0,D=null,L=m.next();v!==null&&!L.done;A++,L=m.next()){v.index>A?(D=v,v=null):D=v.sibling;var j=d(E,v,L.value,S);if(j===null){v===null&&(v=D);break}t&&v&&j.alternate===null&&e(E,v),p=a(j,p,A),I===null?F=j:I.sibling=j,I=j,v=D}if(L.done)return r(E,v),Zr&&$0(E,A),F;if(v===null){for(;!L.done;A++,L=m.next())L=f(E,L.value,S),L!==null&&(p=a(L,p,A),I===null?F=L:I.sibling=L,I=L);return Zr&&$0(E,A),F}for(v=n(E,v);!L.done;A++,L=m.next())L=h(v,E,A,L.value,S),L!==null&&(t&&L.alternate!==null&&v.delete(L.key===null?A:L.key),p=a(L,p,A),I===null?F=L:I.sibling=L,I=L);return t&&v.forEach(function(Y){return e(E,Y)}),Zr&&$0(E,A),F}function _(E,p,m,S){if(typeof m=="object"&&m!==null&&m.type===ic&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case ih:e:{for(var F=m.key,I=p;I!==null;){if(I.key===F){if(F=m.type,F===ic){if(I.tag===7){r(E,I.sibling),p=i(I,m.props.children),p.return=E,E=p;break e}}else if(I.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===Ys&&BE(F)===I.type){r(E,I.sibling),p=i(I,m.props),p.ref=Vu(E,I,m),p.return=E,E=p;break e}r(E,I);break}else e(E,I);I=I.sibling}m.type===ic?(p=hl(m.props.children,E.mode,S,m.key),p.return=E,E=p):(S=s1(m.type,m.key,m.props,null,E.mode,S),S.ref=Vu(E,p,m),S.return=E,E=S)}return o(E);case nc:e:{for(I=m.key;p!==null;){if(p.key===I)if(p.tag===4&&p.stateNode.containerInfo===m.containerInfo&&p.stateNode.implementation===m.implementation){r(E,p.sibling),p=i(p,m.children||[]),p.return=E,E=p;break e}else{r(E,p);break}else e(E,p);p=p.sibling}p=L2(m,E.mode,S),p.return=E,E=p}return o(E);case Ys:return I=m._init,_(E,p,I(m._payload),S)}if(cf(m))return y(E,p,m,S);if(Pu(m))return w(E,p,m,S);ph(E,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,p!==null&&p.tag===6?(r(E,p.sibling),p=i(p,m),p.return=E,E=p):(r(E,p),p=I2(m,E.mode,S),p.return=E,E=p),o(E)):r(E,p)}return _}var Oc=d9(!0),h9=d9(!1),G1=M0(null),z1=null,dc=null,$y=null;function Wy(){$y=dc=z1=null}function Yy(t){var e=G1.current;Hr(G1),t._currentValue=e}function km(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Sc(t,e){z1=t,$y=dc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ni=!0),t.firstContext=null)}function Ia(t){var e=t._currentValue;if($y!==t)if(t={context:t,memoizedValue:e,next:null},dc===null){if(z1===null)throw Error(ct(308));dc=t,z1.dependencies={lanes:0,firstContext:t}}else dc=dc.next=t;return e}var nl=null;function Zy(t){nl===null?nl=[t]:nl.push(t)}function x9(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,Zy(e)):(r.next=i.next,i.next=r),e.interleaved=r,Ds(t,n)}function Ds(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Zs=!1;function Xy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function p9(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Bs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function m0(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Er&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Ds(t,r)}return i=n.interleaved,i===null?(e.next=e,Zy(n)):(e.next=i.next,i.next=e),n.interleaved=e,Ds(t,r)}function t1(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,My(t,r)}}function bE(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function K1(t,e,r,n){var i=t.updateQueue;Zs=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var u=s,l=u.next;u.next=null,o===null?a=l:o.next=l,o=u;var c=t.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==o&&(s===null?c.firstBaseUpdate=l:s.next=l,c.lastBaseUpdate=u))}if(a!==null){var f=i.baseState;o=0,c=l=u=null,s=a;do{var d=s.lane,h=s.eventTime;if((n&d)===d){c!==null&&(c=c.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var y=t,w=s;switch(d=e,h=r,w.tag){case 1:if(y=w.payload,typeof y=="function"){f=y.call(h,f,d);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,d=typeof y=="function"?y.call(h,f,d):y,d==null)break e;f=on({},f,d);break e;case 2:Zs=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[s]:d.push(s))}else h={eventTime:h,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(l=c=h,u=f):c=c.next=h,o|=d;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;d=s,s=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(u=f),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);Cl|=o,t.lanes=o,t.memoizedState=f}}function SE(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(ct(191,i));i.call(n)}}}var Td={},Mo=M0(Td),nd=M0(Td),id=M0(Td);function il(t){if(t===Td)throw Error(ct(174));return t}function Jy(t,e){switch(Ur(id,e),Ur(nd,t),Ur(Mo,Td),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:hm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=hm(e,t)}Hr(Mo),Ur(Mo,e)}function Vc(){Hr(Mo),Hr(nd),Hr(id)}function g9(t){il(id.current);var e=il(Mo.current),r=hm(e,t.type);e!==r&&(Ur(nd,t),Ur(Mo,r))}function e8(t){nd.current===t&&(Hr(Mo),Hr(nd))}var rn=M0(0);function q1(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var A2=[];function t8(){for(var t=0;t<A2.length;t++)A2[t]._workInProgressVersionPrimary=null;A2.length=0}var r1=Rs.ReactCurrentDispatcher,w2=Rs.ReactCurrentBatchConfig,El=0,an=null,_n=null,Fn=null,Q1=!1,Bf=!1,ad=0,JL=0;function Jn(){throw Error(ct(321))}function r8(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!io(t[r],e[r]))return!1;return!0}function n8(t,e,r,n,i,a){if(El=a,an=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,r1.current=t===null||t.memoizedState===null?nF:iF,t=r(n,i),Bf){a=0;do{if(Bf=!1,ad=0,25<=a)throw Error(ct(301));a+=1,Fn=_n=null,e.updateQueue=null,r1.current=aF,t=r(n,i)}while(Bf)}if(r1.current=H1,e=_n!==null&&_n.next!==null,El=0,Fn=_n=an=null,Q1=!1,e)throw Error(ct(300));return t}function i8(){var t=ad!==0;return ad=0,t}function vo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fn===null?an.memoizedState=Fn=t:Fn=Fn.next=t,Fn}function La(){if(_n===null){var t=an.alternate;t=t!==null?t.memoizedState:null}else t=_n.next;var e=Fn===null?an.memoizedState:Fn.next;if(e!==null)Fn=e,_n=t;else{if(t===null)throw Error(ct(310));_n=t,t={memoizedState:_n.memoizedState,baseState:_n.baseState,baseQueue:_n.baseQueue,queue:_n.queue,next:null},Fn===null?an.memoizedState=Fn=t:Fn=Fn.next=t}return Fn}function od(t,e){return typeof e=="function"?e(t):e}function _2(t){var e=La(),r=e.queue;if(r===null)throw Error(ct(311));r.lastRenderedReducer=t;var n=_n,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var s=o=null,u=null,l=a;do{var c=l.lane;if((El&c)===c)u!==null&&(u=u.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),n=l.hasEagerState?l.eagerState:t(n,l.action);else{var f={lane:c,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};u===null?(s=u=f,o=n):u=u.next=f,an.lanes|=c,Cl|=c}l=l.next}while(l!==null&&l!==a);u===null?o=n:u.next=s,io(n,e.memoizedState)||(Ni=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=u,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do a=i.lane,an.lanes|=a,Cl|=a,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function B2(t){var e=La(),r=e.queue;if(r===null)throw Error(ct(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);io(a,e.memoizedState)||(Ni=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function m9(){}function y9(t,e){var r=an,n=La(),i=e(),a=!io(n.memoizedState,i);if(a&&(n.memoizedState=i,Ni=!0),n=n.queue,a8(C9.bind(null,r,n,t),[t]),n.getSnapshot!==e||a||Fn!==null&&Fn.memoizedState.tag&1){if(r.flags|=2048,sd(9,E9.bind(null,r,n,i,e),void 0,null),Nn===null)throw Error(ct(349));El&30||v9(r,e,i)}return i}function v9(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=an.updateQueue,e===null?(e={lastEffect:null,stores:null},an.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function E9(t,e,r,n){e.value=r,e.getSnapshot=n,A9(e)&&w9(t)}function C9(t,e,r){return r(function(){A9(e)&&w9(t)})}function A9(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!io(t,r)}catch{return!0}}function w9(t){var e=Ds(t,1);e!==null&&to(e,t,1,-1)}function IE(t){var e=vo();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:od,lastRenderedState:t},e.queue=t,t=t.dispatch=rF.bind(null,an,t),[e.memoizedState,t]}function sd(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=an.updateQueue,e===null?(e={lastEffect:null,stores:null},an.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function _9(){return La().memoizedState}function n1(t,e,r,n){var i=vo();an.flags|=t,i.memoizedState=sd(1|e,r,void 0,n===void 0?null:n)}function Kx(t,e,r,n){var i=La();n=n===void 0?null:n;var a=void 0;if(_n!==null){var o=_n.memoizedState;if(a=o.destroy,n!==null&&r8(n,o.deps)){i.memoizedState=sd(e,r,a,n);return}}an.flags|=t,i.memoizedState=sd(1|e,r,a,n)}function LE(t,e){return n1(8390656,8,t,e)}function a8(t,e){return Kx(2048,8,t,e)}function B9(t,e){return Kx(4,2,t,e)}function b9(t,e){return Kx(4,4,t,e)}function S9(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function I9(t,e,r){return r=r!=null?r.concat([t]):null,Kx(4,4,S9.bind(null,e,t),r)}function o8(){}function L9(t,e){var r=La();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&r8(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function F9(t,e){var r=La();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&r8(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function D9(t,e,r){return El&21?(io(r,e)||(r=R5(),an.lanes|=r,Cl|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ni=!0),t.memoizedState=r)}function eF(t,e){var r=Tr;Tr=r!==0&&4>r?r:4,t(!0);var n=w2.transition;w2.transition={};try{t(!1),e()}finally{Tr=r,w2.transition=n}}function T9(){return La().memoizedState}function tF(t,e,r){var n=v0(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},k9(t))N9(e,r);else if(r=x9(t,e,r,n),r!==null){var i=vi();to(r,t,n,i),P9(r,e,n)}}function rF(t,e,r){var n=v0(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(k9(t))N9(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,s=a(o,r);if(i.hasEagerState=!0,i.eagerState=s,io(s,o)){var u=e.interleaved;u===null?(i.next=i,Zy(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}r=x9(t,e,i,n),r!==null&&(i=vi(),to(r,t,n,i),P9(r,e,n))}}function k9(t){var e=t.alternate;return t===an||e!==null&&e===an}function N9(t,e){Bf=Q1=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function P9(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,My(t,r)}}var H1={readContext:Ia,useCallback:Jn,useContext:Jn,useEffect:Jn,useImperativeHandle:Jn,useInsertionEffect:Jn,useLayoutEffect:Jn,useMemo:Jn,useReducer:Jn,useRef:Jn,useState:Jn,useDebugValue:Jn,useDeferredValue:Jn,useTransition:Jn,useMutableSource:Jn,useSyncExternalStore:Jn,useId:Jn,unstable_isNewReconciler:!1},nF={readContext:Ia,useCallback:function(t,e){return vo().memoizedState=[t,e===void 0?null:e],t},useContext:Ia,useEffect:LE,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,n1(4194308,4,S9.bind(null,e,t),r)},useLayoutEffect:function(t,e){return n1(4194308,4,t,e)},useInsertionEffect:function(t,e){return n1(4,2,t,e)},useMemo:function(t,e){var r=vo();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=vo();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=tF.bind(null,an,t),[n.memoizedState,t]},useRef:function(t){var e=vo();return t={current:t},e.memoizedState=t},useState:IE,useDebugValue:o8,useDeferredValue:function(t){return vo().memoizedState=t},useTransition:function(){var t=IE(!1),e=t[0];return t=eF.bind(null,t[1]),vo().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=an,i=vo();if(Zr){if(r===void 0)throw Error(ct(407));r=r()}else{if(r=e(),Nn===null)throw Error(ct(349));El&30||v9(n,e,r)}i.memoizedState=r;var a={value:r,getSnapshot:e};return i.queue=a,LE(C9.bind(null,n,a,t),[t]),n.flags|=2048,sd(9,E9.bind(null,n,a,r,e),void 0,null),r},useId:function(){var t=vo(),e=Nn.identifierPrefix;if(Zr){var r=Es,n=vs;r=(n&~(1<<32-eo(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=ad++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=JL++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},iF={readContext:Ia,useCallback:L9,useContext:Ia,useEffect:a8,useImperativeHandle:I9,useInsertionEffect:B9,useLayoutEffect:b9,useMemo:F9,useReducer:_2,useRef:_9,useState:function(){return _2(od)},useDebugValue:o8,useDeferredValue:function(t){var e=La();return D9(e,_n.memoizedState,t)},useTransition:function(){var t=_2(od)[0],e=La().memoizedState;return[t,e]},useMutableSource:m9,useSyncExternalStore:y9,useId:T9,unstable_isNewReconciler:!1},aF={readContext:Ia,useCallback:L9,useContext:Ia,useEffect:a8,useImperativeHandle:I9,useInsertionEffect:B9,useLayoutEffect:b9,useMemo:F9,useReducer:B2,useRef:_9,useState:function(){return B2(od)},useDebugValue:o8,useDeferredValue:function(t){var e=La();return _n===null?e.memoizedState=t:D9(e,_n.memoizedState,t)},useTransition:function(){var t=B2(od)[0],e=La().memoizedState;return[t,e]},useMutableSource:m9,useSyncExternalStore:y9,useId:T9,unstable_isNewReconciler:!1};function ja(t,e){if(t&&t.defaultProps){e=on({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Nm(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:on({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var qx={isMounted:function(t){return(t=t._reactInternals)?kl(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=vi(),i=v0(t),a=Bs(n,i);a.payload=e,r!=null&&(a.callback=r),e=m0(t,a,i),e!==null&&(to(e,t,i,n),t1(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=vi(),i=v0(t),a=Bs(n,i);a.tag=1,a.payload=e,r!=null&&(a.callback=r),e=m0(t,a,i),e!==null&&(to(e,t,i,n),t1(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=vi(),n=v0(t),i=Bs(r,n);i.tag=2,e!=null&&(i.callback=e),e=m0(t,i,n),e!==null&&(to(e,t,n,r),t1(e,t,n))}};function FE(t,e,r,n,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,o):e.prototype&&e.prototype.isPureReactComponent?!Jf(r,n)||!Jf(i,a):!0}function R9(t,e,r){var n=!1,i=S0,a=e.contextType;return typeof a=="object"&&a!==null?a=Ia(a):(i=Ui(e)?yl:ci.current,n=e.contextTypes,a=(n=n!=null)?Mc(t,i):S0),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=qx,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function DE(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&qx.enqueueReplaceState(e,e.state,null)}function Pm(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},Xy(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=Ia(a):(a=Ui(e)?yl:ci.current,i.context=Mc(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(Nm(t,e,a,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&qx.enqueueReplaceState(i,i.state,null),K1(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Gc(t,e){try{var r="",n=e;do r+=kI(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function b2(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Rm(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var oF=typeof WeakMap=="function"?WeakMap:Map;function M9(t,e,r){r=Bs(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){$1||($1=!0,Hm=n),Rm(t,e)},r}function U9(t,e,r){r=Bs(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){Rm(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Rm(t,e),typeof n!="function"&&(y0===null?y0=new Set([this]):y0.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function TE(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new oF;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=EF.bind(null,t,e,r),e.then(t,t))}function kE(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function NE(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Bs(-1,1),e.tag=2,m0(r,e,1))),r.lanes|=1),t)}var sF=Rs.ReactCurrentOwner,Ni=!1;function pi(t,e,r,n){e.child=t===null?h9(e,null,r,n):Oc(e,t.child,r,n)}function PE(t,e,r,n,i){r=r.render;var a=e.ref;return Sc(e,i),n=n8(t,e,r,n,a,i),r=i8(),t!==null&&!Ni?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ts(t,e,i)):(Zr&&r&&Qy(e),e.flags|=1,pi(t,e,n,i),e.child)}function RE(t,e,r,n,i){if(t===null){var a=r.type;return typeof a=="function"&&!x8(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=a,O9(t,e,a,n,i)):(t=s1(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:Jf,r(o,n)&&t.ref===e.ref)return Ts(t,e,i)}return e.flags|=1,t=E0(a,n),t.ref=e.ref,t.return=e,e.child=t}function O9(t,e,r,n,i){if(t!==null){var a=t.memoizedProps;if(Jf(a,n)&&t.ref===e.ref)if(Ni=!1,e.pendingProps=n=a,(t.lanes&i)!==0)t.flags&131072&&(Ni=!0);else return e.lanes=t.lanes,Ts(t,e,i)}return Mm(t,e,r,n,i)}function V9(t,e,r){var n=e.pendingProps,i=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ur(xc,$i),$i|=r;else{if(!(r&1073741824))return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ur(xc,$i),$i|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Ur(xc,$i),$i|=n}else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,Ur(xc,$i),$i|=n;return pi(t,e,i,r),e.child}function G9(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Mm(t,e,r,n,i){var a=Ui(r)?yl:ci.current;return a=Mc(e,a),Sc(e,i),r=n8(t,e,r,n,a,i),n=i8(),t!==null&&!Ni?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ts(t,e,i)):(Zr&&n&&Qy(e),e.flags|=1,pi(t,e,r,i),e.child)}function ME(t,e,r,n,i){if(Ui(r)){var a=!0;U1(e)}else a=!1;if(Sc(e,i),e.stateNode===null)i1(t,e),R9(e,r,n),Pm(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,s=e.memoizedProps;o.props=s;var u=o.context,l=r.contextType;typeof l=="object"&&l!==null?l=Ia(l):(l=Ui(r)?yl:ci.current,l=Mc(e,l));var c=r.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==n||u!==l)&&DE(e,o,n,l),Zs=!1;var d=e.memoizedState;o.state=d,K1(e,n,o,i),u=e.memoizedState,s!==n||d!==u||Mi.current||Zs?(typeof c=="function"&&(Nm(e,r,c,n),u=e.memoizedState),(s=Zs||FE(e,r,s,n,d,u,l))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=u),o.props=n,o.state=u,o.context=l,n=s):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,p9(t,e),s=e.memoizedProps,l=e.type===e.elementType?s:ja(e.type,s),o.props=l,f=e.pendingProps,d=o.context,u=r.contextType,typeof u=="object"&&u!==null?u=Ia(u):(u=Ui(r)?yl:ci.current,u=Mc(e,u));var h=r.getDerivedStateFromProps;(c=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==f||d!==u)&&DE(e,o,n,u),Zs=!1,d=e.memoizedState,o.state=d,K1(e,n,o,i);var y=e.memoizedState;s!==f||d!==y||Mi.current||Zs?(typeof h=="function"&&(Nm(e,r,h,n),y=e.memoizedState),(l=Zs||FE(e,r,l,n,d,y,u)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,y,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,y,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=y),o.props=n,o.state=y,o.context=u,n=l):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),n=!1)}return Um(t,e,r,n,a,i)}function Um(t,e,r,n,i,a){G9(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&AE(e,r,!1),Ts(t,e,a);n=e.stateNode,sF.current=e;var s=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Oc(e,t.child,null,a),e.child=Oc(e,null,s,a)):pi(t,e,s,a),e.memoizedState=n.state,i&&AE(e,r,!0),e.child}function z9(t){var e=t.stateNode;e.pendingContext?CE(t,e.pendingContext,e.pendingContext!==e.context):e.context&&CE(t,e.context,!1),Jy(t,e.containerInfo)}function UE(t,e,r,n,i){return Uc(),jy(i),e.flags|=256,pi(t,e,r,n),e.child}var Om={dehydrated:null,treeContext:null,retryLane:0};function Vm(t){return{baseLanes:t,cachePool:null,transitions:null}}function K9(t,e,r){var n=e.pendingProps,i=rn.current,a=!1,o=(e.flags&128)!==0,s;if((s=o)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ur(rn,i&1),t===null)return Tm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,a?(n=e.mode,a=e.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=jx(o,n,0,null),t=hl(t,n,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=Vm(r),e.memoizedState=Om,t):s8(e,o));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return lF(t,e,o,n,s,i,r);if(a){a=n.fallback,o=e.mode,i=t.child,s=i.sibling;var u={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=u,e.deletions=null):(n=E0(i,u),n.subtreeFlags=i.subtreeFlags&14680064),s!==null?a=E0(s,a):(a=hl(a,o,r,null),a.flags|=2),a.return=e,n.return=e,n.sibling=a,e.child=n,n=a,a=e.child,o=t.child.memoizedState,o=o===null?Vm(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~r,e.memoizedState=Om,n}return a=t.child,t=a.sibling,n=E0(a,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function s8(t,e){return e=jx({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function gh(t,e,r,n){return n!==null&&jy(n),Oc(e,t.child,null,r),t=s8(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function lF(t,e,r,n,i,a,o){if(r)return e.flags&256?(e.flags&=-257,n=b2(Error(ct(422))),gh(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=n.fallback,i=e.mode,n=jx({mode:"visible",children:n.children},i,0,null),a=hl(a,i,o,null),a.flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,e.mode&1&&Oc(e,t.child,null,o),e.child.memoizedState=Vm(o),e.memoizedState=Om,a);if(!(e.mode&1))return gh(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var s=n.dgst;return n=s,a=Error(ct(419)),n=b2(a,n,void 0),gh(t,e,o,n)}if(s=(o&t.childLanes)!==0,Ni||s){if(n=Nn,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Ds(t,i),to(n,t,i,-1))}return h8(),n=b2(Error(ct(421))),gh(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=CF.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,ea=g0(i.nextSibling),na=e,Zr=!0,Za=null,t!==null&&(ya[va++]=vs,ya[va++]=Es,ya[va++]=vl,vs=t.id,Es=t.overflow,vl=e),e=s8(e,n.children),e.flags|=4096,e)}function OE(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),km(t.return,e,r)}function S2(t,e,r,n,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function q9(t,e,r){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if(pi(t,e,n.children,r),n=rn.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&OE(t,r,e);else if(t.tag===19)OE(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Ur(rn,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&q1(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),S2(e,!1,i,r,a);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&q1(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}S2(e,!0,r,null,a);break;case"together":S2(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function i1(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ts(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Cl|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ct(153));if(e.child!==null){for(t=e.child,r=E0(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=E0(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function cF(t,e,r){switch(e.tag){case 3:z9(e),Uc();break;case 5:g9(e);break;case 1:Ui(e.type)&&U1(e);break;case 4:Jy(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Ur(G1,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Ur(rn,rn.current&1),e.flags|=128,null):r&e.child.childLanes?K9(t,e,r):(Ur(rn,rn.current&1),t=Ts(t,e,r),t!==null?t.sibling:null);Ur(rn,rn.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return q9(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ur(rn,rn.current),n)break;return null;case 22:case 23:return e.lanes=0,V9(t,e,r)}return Ts(t,e,r)}var Q9,Gm,H9,j9;Q9=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Gm=function(){};H9=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,il(Mo.current);var a=null;switch(r){case"input":i=cm(t,i),n=cm(t,n),a=[];break;case"select":i=on({},i,{value:void 0}),n=on({},n,{value:void 0}),a=[];break;case"textarea":i=dm(t,i),n=dm(t,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=R1)}xm(r,n);var o;r=null;for(l in i)if(!n.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var s=i[l];for(o in s)s.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Hf.hasOwnProperty(l)?a||(a=[]):(a=a||[]).push(l,null));for(l in n){var u=n[l];if(s=i!=null?i[l]:void 0,n.hasOwnProperty(l)&&u!==s&&(u!=null||s!=null))if(l==="style")if(s){for(o in s)!s.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in u)u.hasOwnProperty(o)&&s[o]!==u[o]&&(r||(r={}),r[o]=u[o])}else r||(a||(a=[]),a.push(l,r)),r=u;else l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,s=s?s.__html:void 0,u!=null&&s!==u&&(a=a||[]).push(l,u)):l==="children"?typeof u!="string"&&typeof u!="number"||(a=a||[]).push(l,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(Hf.hasOwnProperty(l)?(u!=null&&l==="onScroll"&&zr("scroll",t),a||s===u||(a=[])):(a=a||[]).push(l,u))}r&&(a=a||[]).push("style",r);var l=a;(e.updateQueue=l)&&(e.flags|=4)}};j9=function(t,e,r,n){r!==n&&(e.flags|=4)};function Gu(t,e){if(!Zr)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function ei(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function uF(t,e,r){var n=e.pendingProps;switch(Hy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ei(e),null;case 1:return Ui(e.type)&&M1(),ei(e),null;case 3:return n=e.stateNode,Vc(),Hr(Mi),Hr(ci),t8(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(xh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Za!==null&&(Wm(Za),Za=null))),Gm(t,e),ei(e),null;case 5:e8(e);var i=il(id.current);if(r=e.type,t!==null&&e.stateNode!=null)H9(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(ct(166));return ei(e),null}if(t=il(Mo.current),xh(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[So]=e,n[rd]=a,t=(e.mode&1)!==0,r){case"dialog":zr("cancel",n),zr("close",n);break;case"iframe":case"object":case"embed":zr("load",n);break;case"video":case"audio":for(i=0;i<ff.length;i++)zr(ff[i],n);break;case"source":zr("error",n);break;case"img":case"image":case"link":zr("error",n),zr("load",n);break;case"details":zr("toggle",n);break;case"input":$v(n,a),zr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},zr("invalid",n);break;case"textarea":Yv(n,a),zr("invalid",n)}xm(r,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];o==="children"?typeof s=="string"?n.textContent!==s&&(a.suppressHydrationWarning!==!0&&hh(n.textContent,s,t),i=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&hh(n.textContent,s,t),i=["children",""+s]):Hf.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&zr("scroll",n)}switch(r){case"input":ah(n),Wv(n,a,!0);break;case"textarea":ah(n),Zv(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=R1)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=C5(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[So]=e,t[rd]=n,Q9(t,e,!1,!1),e.stateNode=t;e:{switch(o=pm(r,n),r){case"dialog":zr("cancel",t),zr("close",t),i=n;break;case"iframe":case"object":case"embed":zr("load",t),i=n;break;case"video":case"audio":for(i=0;i<ff.length;i++)zr(ff[i],t);i=n;break;case"source":zr("error",t),i=n;break;case"img":case"image":case"link":zr("error",t),zr("load",t),i=n;break;case"details":zr("toggle",t),i=n;break;case"input":$v(t,n),i=cm(t,n),zr("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=on({},n,{value:void 0}),zr("invalid",t);break;case"textarea":Yv(t,n),i=dm(t,n),zr("invalid",t);break;default:i=n}xm(r,i),s=i;for(a in s)if(s.hasOwnProperty(a)){var u=s[a];a==="style"?_5(t,u):a==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&A5(t,u)):a==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&jf(t,u):typeof u=="number"&&jf(t,""+u):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Hf.hasOwnProperty(a)?u!=null&&a==="onScroll"&&zr("scroll",t):u!=null&&Dy(t,a,u,o))}switch(r){case"input":ah(t),Wv(t,n,!1);break;case"textarea":ah(t),Zv(t);break;case"option":n.value!=null&&t.setAttribute("value",""+b0(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?wc(t,!!n.multiple,a,!1):n.defaultValue!=null&&wc(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=R1)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ei(e),null;case 6:if(t&&e.stateNode!=null)j9(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(ct(166));if(r=il(id.current),il(Mo.current),xh(e)){if(n=e.stateNode,r=e.memoizedProps,n[So]=e,(a=n.nodeValue!==r)&&(t=na,t!==null))switch(t.tag){case 3:hh(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&hh(n.nodeValue,r,(t.mode&1)!==0)}a&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[So]=e,e.stateNode=n}return ei(e),null;case 13:if(Hr(rn),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Zr&&ea!==null&&e.mode&1&&!(e.flags&128))f9(),Uc(),e.flags|=98560,a=!1;else if(a=xh(e),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(ct(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ct(317));a[So]=e}else Uc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ei(e),a=!1}else Za!==null&&(Wm(Za),Za=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||rn.current&1?bn===0&&(bn=3):h8())),e.updateQueue!==null&&(e.flags|=4),ei(e),null);case 4:return Vc(),Gm(t,e),t===null&&ed(e.stateNode.containerInfo),ei(e),null;case 10:return Yy(e.type._context),ei(e),null;case 17:return Ui(e.type)&&M1(),ei(e),null;case 19:if(Hr(rn),a=e.memoizedState,a===null)return ei(e),null;if(n=(e.flags&128)!==0,o=a.rendering,o===null)if(n)Gu(a,!1);else{if(bn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=q1(t),o!==null){for(e.flags|=128,Gu(a,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Ur(rn,rn.current&1|2),e.child}t=t.sibling}a.tail!==null&&hn()>zc&&(e.flags|=128,n=!0,Gu(a,!1),e.lanes=4194304)}else{if(!n)if(t=q1(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Gu(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Zr)return ei(e),null}else 2*hn()-a.renderingStartTime>zc&&r!==1073741824&&(e.flags|=128,n=!0,Gu(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(r=a.last,r!==null?r.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=hn(),e.sibling=null,r=rn.current,Ur(rn,n?r&1|2:r&1),e):(ei(e),null);case 22:case 23:return d8(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?$i&1073741824&&(ei(e),e.subtreeFlags&6&&(e.flags|=8192)):ei(e),null;case 24:return null;case 25:return null}throw Error(ct(156,e.tag))}function fF(t,e){switch(Hy(e),e.tag){case 1:return Ui(e.type)&&M1(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Vc(),Hr(Mi),Hr(ci),t8(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return e8(e),null;case 13:if(Hr(rn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ct(340));Uc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Hr(rn),null;case 4:return Vc(),null;case 10:return Yy(e.type._context),null;case 22:case 23:return d8(),null;case 24:return null;default:return null}}var mh=!1,oi=!1,dF=typeof WeakSet=="function"?WeakSet:Set,_t=null;function hc(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ln(t,e,n)}else r.current=null}function zm(t,e,r){try{r()}catch(n){ln(t,e,n)}}var VE=!1;function hF(t,e){if(Bm=k1,t=X5(),qy(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,s=-1,u=-1,l=0,c=0,f=t,d=null;t:for(;;){for(var h;f!==r||i!==0&&f.nodeType!==3||(s=o+i),f!==a||n!==0&&f.nodeType!==3||(u=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===t)break t;if(d===r&&++l===i&&(s=o),d===a&&++c===n&&(u=o),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}r=s===-1||u===-1?null:{start:s,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(bm={focusedElem:t,selectionRange:r},k1=!1,_t=e;_t!==null;)if(e=_t,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,_t=t;else for(;_t!==null;){e=_t;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,_=y.memoizedState,E=e.stateNode,p=E.getSnapshotBeforeUpdate(e.elementType===e.type?w:ja(e.type,w),_);E.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var m=e.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ct(163))}}catch(S){ln(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,_t=t;break}_t=e.return}return y=VE,VE=!1,y}function bf(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&zm(e,r,a)}i=i.next}while(i!==n)}}function Qx(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Km(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function $9(t){var e=t.alternate;e!==null&&(t.alternate=null,$9(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[So],delete e[rd],delete e[Lm],delete e[WL],delete e[YL])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function W9(t){return t.tag===5||t.tag===3||t.tag===4}function GE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||W9(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function qm(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=R1));else if(n!==4&&(t=t.child,t!==null))for(qm(t,e,r),t=t.sibling;t!==null;)qm(t,e,r),t=t.sibling}function Qm(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Qm(t,e,r),t=t.sibling;t!==null;)Qm(t,e,r),t=t.sibling}var On=null,Ya=!1;function zs(t,e,r){for(r=r.child;r!==null;)Y9(t,e,r),r=r.sibling}function Y9(t,e,r){if(Ro&&typeof Ro.onCommitFiberUnmount=="function")try{Ro.onCommitFiberUnmount(Mx,r)}catch{}switch(r.tag){case 5:oi||hc(r,e);case 6:var n=On,i=Ya;On=null,zs(t,e,r),On=n,Ya=i,On!==null&&(Ya?(t=On,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):On.removeChild(r.stateNode));break;case 18:On!==null&&(Ya?(t=On,r=r.stateNode,t.nodeType===8?E2(t.parentNode,r):t.nodeType===1&&E2(t,r),Zf(t)):E2(On,r.stateNode));break;case 4:n=On,i=Ya,On=r.stateNode.containerInfo,Ya=!0,zs(t,e,r),On=n,Ya=i;break;case 0:case 11:case 14:case 15:if(!oi&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&zm(r,e,o),i=i.next}while(i!==n)}zs(t,e,r);break;case 1:if(!oi&&(hc(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){ln(r,e,s)}zs(t,e,r);break;case 21:zs(t,e,r);break;case 22:r.mode&1?(oi=(n=oi)||r.memoizedState!==null,zs(t,e,r),oi=n):zs(t,e,r);break;default:zs(t,e,r)}}function zE(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new dF),e.forEach(function(n){var i=AF.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Va(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=t,o=e,s=o;e:for(;s!==null;){switch(s.tag){case 5:On=s.stateNode,Ya=!1;break e;case 3:On=s.stateNode.containerInfo,Ya=!0;break e;case 4:On=s.stateNode.containerInfo,Ya=!0;break e}s=s.return}if(On===null)throw Error(ct(160));Y9(a,o,i),On=null,Ya=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(l){ln(i,e,l)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Z9(e,t),e=e.sibling}function Z9(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Va(e,t),xo(t),n&4){try{bf(3,t,t.return),Qx(3,t)}catch(w){ln(t,t.return,w)}try{bf(5,t,t.return)}catch(w){ln(t,t.return,w)}}break;case 1:Va(e,t),xo(t),n&512&&r!==null&&hc(r,r.return);break;case 5:if(Va(e,t),xo(t),n&512&&r!==null&&hc(r,r.return),t.flags&32){var i=t.stateNode;try{jf(i,"")}catch(w){ln(t,t.return,w)}}if(n&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,o=r!==null?r.memoizedProps:a,s=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&v5(i,a),pm(s,o);var l=pm(s,a);for(o=0;o<u.length;o+=2){var c=u[o],f=u[o+1];c==="style"?_5(i,f):c==="dangerouslySetInnerHTML"?A5(i,f):c==="children"?jf(i,f):Dy(i,c,f,l)}switch(s){case"input":um(i,a);break;case"textarea":E5(i,a);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var h=a.value;h!=null?wc(i,!!a.multiple,h,!1):d!==!!a.multiple&&(a.defaultValue!=null?wc(i,!!a.multiple,a.defaultValue,!0):wc(i,!!a.multiple,a.multiple?[]:"",!1))}i[rd]=a}catch(w){ln(t,t.return,w)}}break;case 6:if(Va(e,t),xo(t),n&4){if(t.stateNode===null)throw Error(ct(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(w){ln(t,t.return,w)}}break;case 3:if(Va(e,t),xo(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Zf(e.containerInfo)}catch(w){ln(t,t.return,w)}break;case 4:Va(e,t),xo(t);break;case 13:Va(e,t),xo(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(u8=hn())),n&4&&zE(t);break;case 22:if(c=r!==null&&r.memoizedState!==null,t.mode&1?(oi=(l=oi)||c,Va(e,t),oi=l):Va(e,t),xo(t),n&8192){if(l=t.memoizedState!==null,(t.stateNode.isHidden=l)&&!c&&t.mode&1)for(_t=t,c=t.child;c!==null;){for(f=_t=c;_t!==null;){switch(d=_t,h=d.child,d.tag){case 0:case 11:case 14:case 15:bf(4,d,d.return);break;case 1:hc(d,d.return);var y=d.stateNode;if(typeof y.componentWillUnmount=="function"){n=d,r=d.return;try{e=n,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(w){ln(n,r,w)}}break;case 5:hc(d,d.return);break;case 22:if(d.memoizedState!==null){qE(f);continue}}h!==null?(h.return=d,_t=h):qE(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,l?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=f.stateNode,u=f.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,s.style.display=w5("display",o))}catch(w){ln(t,t.return,w)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=l?"":f.memoizedProps}catch(w){ln(t,t.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Va(e,t),xo(t),n&4&&zE(t);break;case 21:break;default:Va(e,t),xo(t)}}function xo(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(W9(r)){var n=r;break e}r=r.return}throw Error(ct(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(jf(i,""),n.flags&=-33);var a=GE(t);Qm(t,a,i);break;case 3:case 4:var o=n.stateNode.containerInfo,s=GE(t);qm(t,s,o);break;default:throw Error(ct(161))}}catch(u){ln(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function xF(t,e,r){_t=t,X9(t)}function X9(t,e,r){for(var n=(t.mode&1)!==0;_t!==null;){var i=_t,a=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||mh;if(!o){var s=i.alternate,u=s!==null&&s.memoizedState!==null||oi;s=mh;var l=oi;if(mh=o,(oi=u)&&!l)for(_t=i;_t!==null;)o=_t,u=o.child,o.tag===22&&o.memoizedState!==null?QE(i):u!==null?(u.return=o,_t=u):QE(i);for(;a!==null;)_t=a,X9(a),a=a.sibling;_t=i,mh=s,oi=l}KE(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,_t=a):KE(t)}}function KE(t){for(;_t!==null;){var e=_t;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:oi||Qx(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!oi)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:ja(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&SE(e,a,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}SE(e,o,r)}break;case 5:var s=e.stateNode;if(r===null&&e.flags&4){r=s;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var l=e.alternate;if(l!==null){var c=l.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Zf(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ct(163))}oi||e.flags&512&&Km(e)}catch(d){ln(e,e.return,d)}}if(e===t){_t=null;break}if(r=e.sibling,r!==null){r.return=e.return,_t=r;break}_t=e.return}}function qE(t){for(;_t!==null;){var e=_t;if(e===t){_t=null;break}var r=e.sibling;if(r!==null){r.return=e.return,_t=r;break}_t=e.return}}function QE(t){for(;_t!==null;){var e=_t;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Qx(4,e)}catch(u){ln(e,r,u)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(u){ln(e,i,u)}}var a=e.return;try{Km(e)}catch(u){ln(e,a,u)}break;case 5:var o=e.return;try{Km(e)}catch(u){ln(e,o,u)}}}catch(u){ln(e,e.return,u)}if(e===t){_t=null;break}var s=e.sibling;if(s!==null){s.return=e.return,_t=s;break}_t=e.return}}var pF=Math.ceil,j1=Rs.ReactCurrentDispatcher,l8=Rs.ReactCurrentOwner,Sa=Rs.ReactCurrentBatchConfig,Er=0,Nn=null,En=null,Qn=0,$i=0,xc=M0(0),bn=0,ld=null,Cl=0,Hx=0,c8=0,Sf=null,Ti=null,u8=0,zc=1/0,as=null,$1=!1,Hm=null,y0=null,yh=!1,a0=null,W1=0,If=0,jm=null,a1=-1,o1=0;function vi(){return Er&6?hn():a1!==-1?a1:a1=hn()}function v0(t){return t.mode&1?Er&2&&Qn!==0?Qn&-Qn:XL.transition!==null?(o1===0&&(o1=R5()),o1):(t=Tr,t!==0||(t=window.event,t=t===void 0?16:K5(t.type)),t):1}function to(t,e,r,n){if(50<If)throw If=0,jm=null,Error(ct(185));Ld(t,r,n),(!(Er&2)||t!==Nn)&&(t===Nn&&(!(Er&2)&&(Hx|=r),bn===4&&t0(t,Qn)),Oi(t,n),r===1&&Er===0&&!(e.mode&1)&&(zc=hn()+500,zx&&U0()))}function Oi(t,e){var r=t.callbackNode;XI(t,e);var n=T1(t,t===Nn?Qn:0);if(n===0)r!==null&&eE(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&eE(r),e===1)t.tag===0?ZL(HE.bind(null,t)):l9(HE.bind(null,t)),jL(function(){!(Er&6)&&U0()}),r=null;else{switch(M5(n)){case 1:r=Ry;break;case 4:r=N5;break;case 16:r=D1;break;case 536870912:r=P5;break;default:r=D1}r=ow(r,J9.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function J9(t,e){if(a1=-1,o1=0,Er&6)throw Error(ct(327));var r=t.callbackNode;if(Ic()&&t.callbackNode!==r)return null;var n=T1(t,t===Nn?Qn:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Y1(t,n);else{e=n;var i=Er;Er|=2;var a=tw();(Nn!==t||Qn!==e)&&(as=null,zc=hn()+500,dl(t,e));do try{yF();break}catch(s){ew(t,s)}while(!0);Wy(),j1.current=a,Er=i,En!==null?e=0:(Nn=null,Qn=0,e=bn)}if(e!==0){if(e===2&&(i=Em(t),i!==0&&(n=i,e=$m(t,i))),e===1)throw r=ld,dl(t,0),t0(t,n),Oi(t,hn()),r;if(e===6)t0(t,n);else{if(i=t.current.alternate,!(n&30)&&!gF(i)&&(e=Y1(t,n),e===2&&(a=Em(t),a!==0&&(n=a,e=$m(t,a))),e===1))throw r=ld,dl(t,0),t0(t,n),Oi(t,hn()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(ct(345));case 2:W0(t,Ti,as);break;case 3:if(t0(t,n),(n&130023424)===n&&(e=u8+500-hn(),10<e)){if(T1(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){vi(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Im(W0.bind(null,t,Ti,as),e);break}W0(t,Ti,as);break;case 4:if(t0(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-eo(n);a=1<<o,o=e[o],o>i&&(i=o),n&=~a}if(n=i,n=hn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*pF(n/1960))-n,10<n){t.timeoutHandle=Im(W0.bind(null,t,Ti,as),n);break}W0(t,Ti,as);break;case 5:W0(t,Ti,as);break;default:throw Error(ct(329))}}}return Oi(t,hn()),t.callbackNode===r?J9.bind(null,t):null}function $m(t,e){var r=Sf;return t.current.memoizedState.isDehydrated&&(dl(t,e).flags|=256),t=Y1(t,e),t!==2&&(e=Ti,Ti=r,e!==null&&Wm(e)),t}function Wm(t){Ti===null?Ti=t:Ti.push.apply(Ti,t)}function gF(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!io(a(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function t0(t,e){for(e&=~c8,e&=~Hx,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-eo(e),n=1<<r;t[r]=-1,e&=~n}}function HE(t){if(Er&6)throw Error(ct(327));Ic();var e=T1(t,0);if(!(e&1))return Oi(t,hn()),null;var r=Y1(t,e);if(t.tag!==0&&r===2){var n=Em(t);n!==0&&(e=n,r=$m(t,n))}if(r===1)throw r=ld,dl(t,0),t0(t,e),Oi(t,hn()),r;if(r===6)throw Error(ct(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,W0(t,Ti,as),Oi(t,hn()),null}function f8(t,e){var r=Er;Er|=1;try{return t(e)}finally{Er=r,Er===0&&(zc=hn()+500,zx&&U0())}}function Al(t){a0!==null&&a0.tag===0&&!(Er&6)&&Ic();var e=Er;Er|=1;var r=Sa.transition,n=Tr;try{if(Sa.transition=null,Tr=1,t)return t()}finally{Tr=n,Sa.transition=r,Er=e,!(Er&6)&&U0()}}function d8(){$i=xc.current,Hr(xc)}function dl(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,HL(r)),En!==null)for(r=En.return;r!==null;){var n=r;switch(Hy(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&M1();break;case 3:Vc(),Hr(Mi),Hr(ci),t8();break;case 5:e8(n);break;case 4:Vc();break;case 13:Hr(rn);break;case 19:Hr(rn);break;case 10:Yy(n.type._context);break;case 22:case 23:d8()}r=r.return}if(Nn=t,En=t=E0(t.current,null),Qn=$i=e,bn=0,ld=null,c8=Hx=Cl=0,Ti=Sf=null,nl!==null){for(e=0;e<nl.length;e++)if(r=nl[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=i,n.next=o}r.pending=n}nl=null}return t}function ew(t,e){do{var r=En;try{if(Wy(),r1.current=H1,Q1){for(var n=an.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Q1=!1}if(El=0,Fn=_n=an=null,Bf=!1,ad=0,l8.current=null,r===null||r.return===null){bn=1,ld=e,En=null;break}e:{var a=t,o=r.return,s=r,u=e;if(e=Qn,s.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var l=u,c=s,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=kE(o);if(h!==null){h.flags&=-257,NE(h,o,s,a,e),h.mode&1&&TE(a,l,e),e=h,u=l;var y=e.updateQueue;if(y===null){var w=new Set;w.add(u),e.updateQueue=w}else y.add(u);break e}else{if(!(e&1)){TE(a,l,e),h8();break e}u=Error(ct(426))}}else if(Zr&&s.mode&1){var _=kE(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),NE(_,o,s,a,e),jy(Gc(u,s));break e}}a=u=Gc(u,s),bn!==4&&(bn=2),Sf===null?Sf=[a]:Sf.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var E=M9(a,u,e);bE(a,E);break e;case 1:s=u;var p=a.type,m=a.stateNode;if(!(a.flags&128)&&(typeof p.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(y0===null||!y0.has(m)))){a.flags|=65536,e&=-e,a.lanes|=e;var S=U9(a,s,e);bE(a,S);break e}}a=a.return}while(a!==null)}nw(r)}catch(F){e=F,En===r&&r!==null&&(En=r=r.return);continue}break}while(!0)}function tw(){var t=j1.current;return j1.current=H1,t===null?H1:t}function h8(){(bn===0||bn===3||bn===2)&&(bn=4),Nn===null||!(Cl&268435455)&&!(Hx&268435455)||t0(Nn,Qn)}function Y1(t,e){var r=Er;Er|=2;var n=tw();(Nn!==t||Qn!==e)&&(as=null,dl(t,e));do try{mF();break}catch(i){ew(t,i)}while(!0);if(Wy(),Er=r,j1.current=n,En!==null)throw Error(ct(261));return Nn=null,Qn=0,bn}function mF(){for(;En!==null;)rw(En)}function yF(){for(;En!==null&&!KI();)rw(En)}function rw(t){var e=aw(t.alternate,t,$i);t.memoizedProps=t.pendingProps,e===null?nw(t):En=e,l8.current=null}function nw(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=fF(r,e),r!==null){r.flags&=32767,En=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{bn=6,En=null;return}}else if(r=uF(r,e,$i),r!==null){En=r;return}if(e=e.sibling,e!==null){En=e;return}En=e=t}while(e!==null);bn===0&&(bn=5)}function W0(t,e,r){var n=Tr,i=Sa.transition;try{Sa.transition=null,Tr=1,vF(t,e,r,n)}finally{Sa.transition=i,Tr=n}return null}function vF(t,e,r,n){do Ic();while(a0!==null);if(Er&6)throw Error(ct(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(ct(177));t.callbackNode=null,t.callbackPriority=0;var a=r.lanes|r.childLanes;if(JI(t,a),t===Nn&&(En=Nn=null,Qn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||yh||(yh=!0,ow(D1,function(){return Ic(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Sa.transition,Sa.transition=null;var o=Tr;Tr=1;var s=Er;Er|=4,l8.current=null,hF(t,r),Z9(r,t),OL(bm),k1=!!Bm,bm=Bm=null,t.current=r,xF(r),qI(),Er=s,Tr=o,Sa.transition=a}else t.current=r;if(yh&&(yh=!1,a0=t,W1=i),a=t.pendingLanes,a===0&&(y0=null),jI(r.stateNode),Oi(t,hn()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if($1)throw $1=!1,t=Hm,Hm=null,t;return W1&1&&t.tag!==0&&Ic(),a=t.pendingLanes,a&1?t===jm?If++:(If=0,jm=t):If=0,U0(),null}function Ic(){if(a0!==null){var t=M5(W1),e=Sa.transition,r=Tr;try{if(Sa.transition=null,Tr=16>t?16:t,a0===null)var n=!1;else{if(t=a0,a0=null,W1=0,Er&6)throw Error(ct(331));var i=Er;for(Er|=4,_t=t.current;_t!==null;){var a=_t,o=a.child;if(_t.flags&16){var s=a.deletions;if(s!==null){for(var u=0;u<s.length;u++){var l=s[u];for(_t=l;_t!==null;){var c=_t;switch(c.tag){case 0:case 11:case 15:bf(8,c,a)}var f=c.child;if(f!==null)f.return=c,_t=f;else for(;_t!==null;){c=_t;var d=c.sibling,h=c.return;if($9(c),c===l){_t=null;break}if(d!==null){d.return=h,_t=d;break}_t=h}}}var y=a.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var _=w.sibling;w.sibling=null,w=_}while(w!==null)}}_t=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,_t=o;else e:for(;_t!==null;){if(a=_t,a.flags&2048)switch(a.tag){case 0:case 11:case 15:bf(9,a,a.return)}var E=a.sibling;if(E!==null){E.return=a.return,_t=E;break e}_t=a.return}}var p=t.current;for(_t=p;_t!==null;){o=_t;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,_t=m;else e:for(o=p;_t!==null;){if(s=_t,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Qx(9,s)}}catch(F){ln(s,s.return,F)}if(s===o){_t=null;break e}var S=s.sibling;if(S!==null){S.return=s.return,_t=S;break e}_t=s.return}}if(Er=i,U0(),Ro&&typeof Ro.onPostCommitFiberRoot=="function")try{Ro.onPostCommitFiberRoot(Mx,t)}catch{}n=!0}return n}finally{Tr=r,Sa.transition=e}}return!1}function jE(t,e,r){e=Gc(r,e),e=M9(t,e,1),t=m0(t,e,1),e=vi(),t!==null&&(Ld(t,1,e),Oi(t,e))}function ln(t,e,r){if(t.tag===3)jE(t,t,r);else for(;e!==null;){if(e.tag===3){jE(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(y0===null||!y0.has(n))){t=Gc(r,t),t=U9(e,t,1),e=m0(e,t,1),t=vi(),e!==null&&(Ld(e,1,t),Oi(e,t));break}}e=e.return}}function EF(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=vi(),t.pingedLanes|=t.suspendedLanes&r,Nn===t&&(Qn&r)===r&&(bn===4||bn===3&&(Qn&130023424)===Qn&&500>hn()-u8?dl(t,0):c8|=r),Oi(t,e)}function iw(t,e){e===0&&(t.mode&1?(e=lh,lh<<=1,!(lh&130023424)&&(lh=4194304)):e=1);var r=vi();t=Ds(t,e),t!==null&&(Ld(t,e,r),Oi(t,r))}function CF(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),iw(t,r)}function AF(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(ct(314))}n!==null&&n.delete(e),iw(t,r)}var aw;aw=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Mi.current)Ni=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Ni=!1,cF(t,e,r);Ni=!!(t.flags&131072)}else Ni=!1,Zr&&e.flags&1048576&&c9(e,V1,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;i1(t,e),t=e.pendingProps;var i=Mc(e,ci.current);Sc(e,r),i=n8(null,e,n,t,i,r);var a=i8();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ui(n)?(a=!0,U1(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Xy(e),i.updater=qx,e.stateNode=i,i._reactInternals=e,Pm(e,n,t,r),e=Um(null,e,n,!0,a,r)):(e.tag=0,Zr&&a&&Qy(e),pi(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(i1(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=_F(n),t=ja(n,t),i){case 0:e=Mm(null,e,n,t,r);break e;case 1:e=ME(null,e,n,t,r);break e;case 11:e=PE(null,e,n,t,r);break e;case 14:e=RE(null,e,n,ja(n.type,t),r);break e}throw Error(ct(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ja(n,i),Mm(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ja(n,i),ME(t,e,n,i,r);case 3:e:{if(z9(e),t===null)throw Error(ct(387));n=e.pendingProps,a=e.memoizedState,i=a.element,p9(t,e),K1(e,n,null,r);var o=e.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=Gc(Error(ct(423)),e),e=UE(t,e,n,r,i);break e}else if(n!==i){i=Gc(Error(ct(424)),e),e=UE(t,e,n,r,i);break e}else for(ea=g0(e.stateNode.containerInfo.firstChild),na=e,Zr=!0,Za=null,r=h9(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Uc(),n===i){e=Ts(t,e,r);break e}pi(t,e,n,r)}e=e.child}return e;case 5:return g9(e),t===null&&Tm(e),n=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,Sm(n,i)?o=null:a!==null&&Sm(n,a)&&(e.flags|=32),G9(t,e),pi(t,e,o,r),e.child;case 6:return t===null&&Tm(e),null;case 13:return K9(t,e,r);case 4:return Jy(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Oc(e,null,n,r):pi(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ja(n,i),PE(t,e,n,i,r);case 7:return pi(t,e,e.pendingProps,r),e.child;case 8:return pi(t,e,e.pendingProps.children,r),e.child;case 12:return pi(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value,Ur(G1,n._currentValue),n._currentValue=o,a!==null)if(io(a.value,o)){if(a.children===i.children&&!Mi.current){e=Ts(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var s=a.dependencies;if(s!==null){o=a.child;for(var u=s.firstContext;u!==null;){if(u.context===n){if(a.tag===1){u=Bs(-1,r&-r),u.tag=2;var l=a.updateQueue;if(l!==null){l=l.shared;var c=l.pending;c===null?u.next=u:(u.next=c.next,c.next=u),l.pending=u}}a.lanes|=r,u=a.alternate,u!==null&&(u.lanes|=r),km(a.return,r,e),s.lanes|=r;break}u=u.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(ct(341));o.lanes|=r,s=o.alternate,s!==null&&(s.lanes|=r),km(o,r,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}pi(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Sc(e,r),i=Ia(i),n=n(i),e.flags|=1,pi(t,e,n,r),e.child;case 14:return n=e.type,i=ja(n,e.pendingProps),i=ja(n.type,i),RE(t,e,n,i,r);case 15:return O9(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ja(n,i),i1(t,e),e.tag=1,Ui(n)?(t=!0,U1(e)):t=!1,Sc(e,r),R9(e,n,i),Pm(e,n,i,r),Um(null,e,n,!0,t,r);case 19:return q9(t,e,r);case 22:return V9(t,e,r)}throw Error(ct(156,e.tag))};function ow(t,e){return k5(t,e)}function wF(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ca(t,e,r,n){return new wF(t,e,r,n)}function x8(t){return t=t.prototype,!(!t||!t.isReactComponent)}function _F(t){if(typeof t=="function")return x8(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ky)return 11;if(t===Ny)return 14}return 2}function E0(t,e){var r=t.alternate;return r===null?(r=Ca(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function s1(t,e,r,n,i,a){var o=2;if(n=t,typeof t=="function")x8(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ic:return hl(r.children,i,a,e);case Ty:o=8,i|=8;break;case am:return t=Ca(12,r,e,i|2),t.elementType=am,t.lanes=a,t;case om:return t=Ca(13,r,e,i),t.elementType=om,t.lanes=a,t;case sm:return t=Ca(19,r,e,i),t.elementType=sm,t.lanes=a,t;case g5:return jx(r,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case x5:o=10;break e;case p5:o=9;break e;case ky:o=11;break e;case Ny:o=14;break e;case Ys:o=16,n=null;break e}throw Error(ct(130,t==null?t:typeof t,""))}return e=Ca(o,r,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function hl(t,e,r,n){return t=Ca(7,t,n,e),t.lanes=r,t}function jx(t,e,r,n){return t=Ca(22,t,n,e),t.elementType=g5,t.lanes=r,t.stateNode={isHidden:!1},t}function I2(t,e,r){return t=Ca(6,t,null,e),t.lanes=r,t}function L2(t,e,r){return e=Ca(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function BF(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=c2(0),this.expirationTimes=c2(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=c2(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function p8(t,e,r,n,i,a,o,s,u){return t=new BF(t,e,r,s,u),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Ca(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xy(a),t}function bF(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:nc,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function sw(t){if(!t)return S0;t=t._reactInternals;e:{if(kl(t)!==t||t.tag!==1)throw Error(ct(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ui(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ct(171))}if(t.tag===1){var r=t.type;if(Ui(r))return s9(t,r,e)}return e}function lw(t,e,r,n,i,a,o,s,u){return t=p8(r,n,!0,t,i,a,o,s,u),t.context=sw(null),r=t.current,n=vi(),i=v0(r),a=Bs(n,i),a.callback=e??null,m0(r,a,i),t.current.lanes=i,Ld(t,i,n),Oi(t,n),t}function $x(t,e,r,n){var i=e.current,a=vi(),o=v0(i);return r=sw(r),e.context===null?e.context=r:e.pendingContext=r,e=Bs(a,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=m0(i,e,o),t!==null&&(to(t,i,o,a),t1(t,i,o)),o}function Z1(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function $E(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function g8(t,e){$E(t,e),(t=t.alternate)&&$E(t,e)}function SF(){return null}var cw=typeof reportError=="function"?reportError:function(t){console.error(t)};function m8(t){this._internalRoot=t}Wx.prototype.render=m8.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ct(409));$x(t,e,null,null)};Wx.prototype.unmount=m8.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Al(function(){$x(null,t,null,null)}),e[Fs]=null}};function Wx(t){this._internalRoot=t}Wx.prototype.unstable_scheduleHydration=function(t){if(t){var e=V5();t={blockedOn:null,target:t,priority:e};for(var r=0;r<e0.length&&e!==0&&e<e0[r].priority;r++);e0.splice(r,0,t),r===0&&z5(t)}};function y8(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Yx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function WE(){}function IF(t,e,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var l=Z1(o);a.call(l)}}var o=lw(e,n,t,0,null,!1,!1,"",WE);return t._reactRootContainer=o,t[Fs]=o.current,ed(t.nodeType===8?t.parentNode:t),Al(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var s=n;n=function(){var l=Z1(u);s.call(l)}}var u=p8(t,0,!1,null,null,!1,!1,"",WE);return t._reactRootContainer=u,t[Fs]=u.current,ed(t.nodeType===8?t.parentNode:t),Al(function(){$x(e,u,r,n)}),u}function Zx(t,e,r,n,i){var a=r._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var s=i;i=function(){var u=Z1(o);s.call(u)}}$x(e,o,t,i)}else o=IF(r,e,t,i,n);return Z1(o)}U5=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=uf(e.pendingLanes);r!==0&&(My(e,r|1),Oi(e,hn()),!(Er&6)&&(zc=hn()+500,U0()))}break;case 13:Al(function(){var n=Ds(t,1);if(n!==null){var i=vi();to(n,t,1,i)}}),g8(t,1)}};Uy=function(t){if(t.tag===13){var e=Ds(t,134217728);if(e!==null){var r=vi();to(e,t,134217728,r)}g8(t,134217728)}};O5=function(t){if(t.tag===13){var e=v0(t),r=Ds(t,e);if(r!==null){var n=vi();to(r,t,e,n)}g8(t,e)}};V5=function(){return Tr};G5=function(t,e){var r=Tr;try{return Tr=t,e()}finally{Tr=r}};mm=function(t,e,r){switch(e){case"input":if(um(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Gx(n);if(!i)throw Error(ct(90));y5(n),um(n,i)}}}break;case"textarea":E5(t,r);break;case"select":e=r.value,e!=null&&wc(t,!!r.multiple,e,!1)}};S5=f8;I5=Al;var LF={usingClientEntryPoint:!1,Events:[Dd,lc,Gx,B5,b5,f8]},zu={findFiberByHostInstance:rl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},FF={bundleType:zu.bundleType,version:zu.version,rendererPackageName:zu.rendererPackageName,rendererConfig:zu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Rs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=D5(t),t===null?null:t.stateNode},findFiberByHostInstance:zu.findFiberByHostInstance||SF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vh.isDisabled&&vh.supportsFiber)try{Mx=vh.inject(FF),Ro=vh}catch{}}aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LF;aa.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y8(e))throw Error(ct(200));return bF(t,e,null,r)};aa.createRoot=function(t,e){if(!y8(t))throw Error(ct(299));var r=!1,n="",i=cw;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=p8(t,1,!1,null,null,r,!1,n,i),t[Fs]=e.current,ed(t.nodeType===8?t.parentNode:t),new m8(e)};aa.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ct(188)):(t=Object.keys(t).join(","),Error(ct(268,t)));return t=D5(e),t=t===null?null:t.stateNode,t};aa.flushSync=function(t){return Al(t)};aa.hydrate=function(t,e,r){if(!Yx(e))throw Error(ct(200));return Zx(null,t,e,!0,r)};aa.hydrateRoot=function(t,e,r){if(!y8(t))throw Error(ct(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",o=cw;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=lw(e,null,t,1,r??null,i,!1,a,o),t[Fs]=e.current,ed(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Wx(e)};aa.render=function(t,e,r){if(!Yx(e))throw Error(ct(200));return Zx(null,t,e,!1,r)};aa.unmountComponentAtNode=function(t){if(!Yx(t))throw Error(ct(40));return t._reactRootContainer?(Al(function(){Zx(null,null,t,!1,function(){t._reactRootContainer=null,t[Fs]=null})}),!0):!1};aa.unstable_batchedUpdates=f8;aa.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Yx(r))throw Error(ct(200));if(t==null||t._reactInternals===void 0)throw Error(ct(38));return Zx(t,e,r,!1,n)};aa.version="18.3.1-next-f1338f8080-20240426";function uw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(uw)}catch(t){console.error(t)}}uw(),u5.exports=aa;var DF=u5.exports,fw,YE=DF;fw=YE.createRoot,YE.hydrateRoot;function df(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}const TF={},kF=Object.freeze(Object.defineProperty({__proto__:null,default:TF},Symbol.toStringTag,{value:"Module"})),O0=_y(kF);var F2={},Ku={},ZE;function NF(){if(ZE)return Ku;ZE=1,Ku.byteLength=s,Ku.toByteArray=l,Ku.fromByteArray=d;for(var t=[],e=[],r=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,a=n.length;i<a;++i)t[i]=n[i],e[n.charCodeAt(i)]=i;e[45]=62,e[95]=63;function o(h){var y=h.length;if(y%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var w=h.indexOf("=");w===-1&&(w=y);var _=w===y?0:4-w%4;return[w,_]}function s(h){var y=o(h),w=y[0],_=y[1];return(w+_)*3/4-_}function u(h,y,w){return(y+w)*3/4-w}function l(h){var y,w=o(h),_=w[0],E=w[1],p=new r(u(h,_,E)),m=0,S=E>0?_-4:_,F;for(F=0;F<S;F+=4)y=e[h.charCodeAt(F)]<<18|e[h.charCodeAt(F+1)]<<12|e[h.charCodeAt(F+2)]<<6|e[h.charCodeAt(F+3)],p[m++]=y>>16&255,p[m++]=y>>8&255,p[m++]=y&255;return E===2&&(y=e[h.charCodeAt(F)]<<2|e[h.charCodeAt(F+1)]>>4,p[m++]=y&255),E===1&&(y=e[h.charCodeAt(F)]<<10|e[h.charCodeAt(F+1)]<<4|e[h.charCodeAt(F+2)]>>2,p[m++]=y>>8&255,p[m++]=y&255),p}function c(h){return t[h>>18&63]+t[h>>12&63]+t[h>>6&63]+t[h&63]}function f(h,y,w){for(var _,E=[],p=y;p<w;p+=3)_=(h[p]<<16&16711680)+(h[p+1]<<8&65280)+(h[p+2]&255),E.push(c(_));return E.join("")}function d(h){for(var y,w=h.length,_=w%3,E=[],p=16383,m=0,S=w-_;m<S;m+=p)E.push(f(h,m,m+p>S?S:m+p));return _===1?(y=h[w-1],E.push(t[y>>2]+t[y<<4&63]+"==")):_===2&&(y=(h[w-2]<<8)+h[w-1],E.push(t[y>>10]+t[y>>4&63]+t[y<<2&63]+"=")),E.join("")}return Ku}var Eh={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var XE;function PF(){return XE||(XE=1,Eh.read=function(t,e,r,n,i){var a,o,s=i*8-n-1,u=(1<<s)-1,l=u>>1,c=-7,f=r?i-1:0,d=r?-1:1,h=t[e+f];for(f+=d,a=h&(1<<-c)-1,h>>=-c,c+=s;c>0;a=a*256+t[e+f],f+=d,c-=8);for(o=a&(1<<-c)-1,a>>=-c,c+=n;c>0;o=o*256+t[e+f],f+=d,c-=8);if(a===0)a=1-l;else{if(a===u)return o?NaN:(h?-1:1)*(1/0);o=o+Math.pow(2,n),a=a-l}return(h?-1:1)*o*Math.pow(2,a-n)},Eh.write=function(t,e,r,n,i,a){var o,s,u,l=a*8-i-1,c=(1<<l)-1,f=c>>1,d=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:a-1,y=n?1:-1,w=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,o=c):(o=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-o))<1&&(o--,u*=2),o+f>=1?e+=d/u:e+=d*Math.pow(2,1-f),e*u>=2&&(o++,u/=2),o+f>=c?(s=0,o=c):o+f>=1?(s=(e*u-1)*Math.pow(2,i),o=o+f):(s=e*Math.pow(2,f-1)*Math.pow(2,i),o=0));i>=8;t[r+h]=s&255,h+=y,s/=256,i-=8);for(o=o<<i|s,l+=i;l>0;t[r+h]=o&255,h+=y,o/=256,l-=8);t[r+h-y]|=w*128}),Eh}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var JE;function dw(){return JE||(JE=1,function(t){const e=NF(),r=PF(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=s,t.SlowBuffer=p,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i,s.TYPED_ARRAY_SUPPORT=a(),!s.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function a(){try{const oe=new Uint8Array(1),X={foo:function(){return 42}};return Object.setPrototypeOf(X,Uint8Array.prototype),Object.setPrototypeOf(oe,X),oe.foo()===42}catch{return!1}}Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}});function o(oe){if(oe>i)throw new RangeError('The value "'+oe+'" is invalid for option "size"');const X=new Uint8Array(oe);return Object.setPrototypeOf(X,s.prototype),X}function s(oe,X,te){if(typeof oe=="number"){if(typeof X=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(oe)}return u(oe,X,te)}s.poolSize=8192;function u(oe,X,te){if(typeof oe=="string")return d(oe,X);if(ArrayBuffer.isView(oe))return y(oe);if(oe==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof oe);if(Ae(oe,ArrayBuffer)||oe&&Ae(oe.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ae(oe,SharedArrayBuffer)||oe&&Ae(oe.buffer,SharedArrayBuffer)))return w(oe,X,te);if(typeof oe=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const de=oe.valueOf&&oe.valueOf();if(de!=null&&de!==oe)return s.from(de,X,te);const Ce=_(oe);if(Ce)return Ce;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof oe[Symbol.toPrimitive]=="function")return s.from(oe[Symbol.toPrimitive]("string"),X,te);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof oe)}s.from=function(oe,X,te){return u(oe,X,te)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array);function l(oe){if(typeof oe!="number")throw new TypeError('"size" argument must be of type number');if(oe<0)throw new RangeError('The value "'+oe+'" is invalid for option "size"')}function c(oe,X,te){return l(oe),oe<=0?o(oe):X!==void 0?typeof te=="string"?o(oe).fill(X,te):o(oe).fill(X):o(oe)}s.alloc=function(oe,X,te){return c(oe,X,te)};function f(oe){return l(oe),o(oe<0?0:E(oe)|0)}s.allocUnsafe=function(oe){return f(oe)},s.allocUnsafeSlow=function(oe){return f(oe)};function d(oe,X){if((typeof X!="string"||X==="")&&(X="utf8"),!s.isEncoding(X))throw new TypeError("Unknown encoding: "+X);const te=m(oe,X)|0;let de=o(te);const Ce=de.write(oe,X);return Ce!==te&&(de=de.slice(0,Ce)),de}function h(oe){const X=oe.length<0?0:E(oe.length)|0,te=o(X);for(let de=0;de<X;de+=1)te[de]=oe[de]&255;return te}function y(oe){if(Ae(oe,Uint8Array)){const X=new Uint8Array(oe);return w(X.buffer,X.byteOffset,X.byteLength)}return h(oe)}function w(oe,X,te){if(X<0||oe.byteLength<X)throw new RangeError('"offset" is outside of buffer bounds');if(oe.byteLength<X+(te||0))throw new RangeError('"length" is outside of buffer bounds');let de;return X===void 0&&te===void 0?de=new Uint8Array(oe):te===void 0?de=new Uint8Array(oe,X):de=new Uint8Array(oe,X,te),Object.setPrototypeOf(de,s.prototype),de}function _(oe){if(s.isBuffer(oe)){const X=E(oe.length)|0,te=o(X);return te.length===0||oe.copy(te,0,0,X),te}if(oe.length!==void 0)return typeof oe.length!="number"||Fe(oe.length)?o(0):h(oe);if(oe.type==="Buffer"&&Array.isArray(oe.data))return h(oe.data)}function E(oe){if(oe>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return oe|0}function p(oe){return+oe!=oe&&(oe=0),s.alloc(+oe)}s.isBuffer=function(X){return X!=null&&X._isBuffer===!0&&X!==s.prototype},s.compare=function(X,te){if(Ae(X,Uint8Array)&&(X=s.from(X,X.offset,X.byteLength)),Ae(te,Uint8Array)&&(te=s.from(te,te.offset,te.byteLength)),!s.isBuffer(X)||!s.isBuffer(te))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(X===te)return 0;let de=X.length,Ce=te.length;for(let Se=0,ge=Math.min(de,Ce);Se<ge;++Se)if(X[Se]!==te[Se]){de=X[Se],Ce=te[Se];break}return de<Ce?-1:Ce<de?1:0},s.isEncoding=function(X){switch(String(X).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(X,te){if(!Array.isArray(X))throw new TypeError('"list" argument must be an Array of Buffers');if(X.length===0)return s.alloc(0);let de;if(te===void 0)for(te=0,de=0;de<X.length;++de)te+=X[de].length;const Ce=s.allocUnsafe(te);let Se=0;for(de=0;de<X.length;++de){let ge=X[de];if(Ae(ge,Uint8Array))Se+ge.length>Ce.length?(s.isBuffer(ge)||(ge=s.from(ge)),ge.copy(Ce,Se)):Uint8Array.prototype.set.call(Ce,ge,Se);else if(s.isBuffer(ge))ge.copy(Ce,Se);else throw new TypeError('"list" argument must be an Array of Buffers');Se+=ge.length}return Ce};function m(oe,X){if(s.isBuffer(oe))return oe.length;if(ArrayBuffer.isView(oe)||Ae(oe,ArrayBuffer))return oe.byteLength;if(typeof oe!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof oe);const te=oe.length,de=arguments.length>2&&arguments[2]===!0;if(!de&&te===0)return 0;let Ce=!1;for(;;)switch(X){case"ascii":case"latin1":case"binary":return te;case"utf8":case"utf-8":return ne(oe).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return te*2;case"hex":return te>>>1;case"base64":return fe(oe).length;default:if(Ce)return de?-1:ne(oe).length;X=(""+X).toLowerCase(),Ce=!0}}s.byteLength=m;function S(oe,X,te){let de=!1;if((X===void 0||X<0)&&(X=0),X>this.length||((te===void 0||te>this.length)&&(te=this.length),te<=0)||(te>>>=0,X>>>=0,te<=X))return"";for(oe||(oe="utf8");;)switch(oe){case"hex":return $(this,X,te);case"utf8":case"utf-8":return B(this,X,te);case"ascii":return U(this,X,te);case"latin1":case"binary":return G(this,X,te);case"base64":return O(this,X,te);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Z(this,X,te);default:if(de)throw new TypeError("Unknown encoding: "+oe);oe=(oe+"").toLowerCase(),de=!0}}s.prototype._isBuffer=!0;function F(oe,X,te){const de=oe[X];oe[X]=oe[te],oe[te]=de}s.prototype.swap16=function(){const X=this.length;if(X%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let te=0;te<X;te+=2)F(this,te,te+1);return this},s.prototype.swap32=function(){const X=this.length;if(X%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let te=0;te<X;te+=4)F(this,te,te+3),F(this,te+1,te+2);return this},s.prototype.swap64=function(){const X=this.length;if(X%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let te=0;te<X;te+=8)F(this,te,te+7),F(this,te+1,te+6),F(this,te+2,te+5),F(this,te+3,te+4);return this},s.prototype.toString=function(){const X=this.length;return X===0?"":arguments.length===0?B(this,0,X):S.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(X){if(!s.isBuffer(X))throw new TypeError("Argument must be a Buffer");return this===X?!0:s.compare(this,X)===0},s.prototype.inspect=function(){let X="";const te=t.INSPECT_MAX_BYTES;return X=this.toString("hex",0,te).replace(/(.{2})/g,"$1 ").trim(),this.length>te&&(X+=" ... "),"<Buffer "+X+">"},n&&(s.prototype[n]=s.prototype.inspect),s.prototype.compare=function(X,te,de,Ce,Se){if(Ae(X,Uint8Array)&&(X=s.from(X,X.offset,X.byteLength)),!s.isBuffer(X))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof X);if(te===void 0&&(te=0),de===void 0&&(de=X?X.length:0),Ce===void 0&&(Ce=0),Se===void 0&&(Se=this.length),te<0||de>X.length||Ce<0||Se>this.length)throw new RangeError("out of range index");if(Ce>=Se&&te>=de)return 0;if(Ce>=Se)return-1;if(te>=de)return 1;if(te>>>=0,de>>>=0,Ce>>>=0,Se>>>=0,this===X)return 0;let ge=Se-Ce,q=de-te;const H=Math.min(ge,q),ye=this.slice(Ce,Se),_e=X.slice(te,de);for(let ve=0;ve<H;++ve)if(ye[ve]!==_e[ve]){ge=ye[ve],q=_e[ve];break}return ge<q?-1:q<ge?1:0};function I(oe,X,te,de,Ce){if(oe.length===0)return-1;if(typeof te=="string"?(de=te,te=0):te>2147483647?te=2147483647:te<-2147483648&&(te=-2147483648),te=+te,Fe(te)&&(te=Ce?0:oe.length-1),te<0&&(te=oe.length+te),te>=oe.length){if(Ce)return-1;te=oe.length-1}else if(te<0)if(Ce)te=0;else return-1;if(typeof X=="string"&&(X=s.from(X,de)),s.isBuffer(X))return X.length===0?-1:v(oe,X,te,de,Ce);if(typeof X=="number")return X=X&255,typeof Uint8Array.prototype.indexOf=="function"?Ce?Uint8Array.prototype.indexOf.call(oe,X,te):Uint8Array.prototype.lastIndexOf.call(oe,X,te):v(oe,[X],te,de,Ce);throw new TypeError("val must be string, number or Buffer")}function v(oe,X,te,de,Ce){let Se=1,ge=oe.length,q=X.length;if(de!==void 0&&(de=String(de).toLowerCase(),de==="ucs2"||de==="ucs-2"||de==="utf16le"||de==="utf-16le")){if(oe.length<2||X.length<2)return-1;Se=2,ge/=2,q/=2,te/=2}function H(_e,ve){return Se===1?_e[ve]:_e.readUInt16BE(ve*Se)}let ye;if(Ce){let _e=-1;for(ye=te;ye<ge;ye++)if(H(oe,ye)===H(X,_e===-1?0:ye-_e)){if(_e===-1&&(_e=ye),ye-_e+1===q)return _e*Se}else _e!==-1&&(ye-=ye-_e),_e=-1}else for(te+q>ge&&(te=ge-q),ye=te;ye>=0;ye--){let _e=!0;for(let ve=0;ve<q;ve++)if(H(oe,ye+ve)!==H(X,ve)){_e=!1;break}if(_e)return ye}return-1}s.prototype.includes=function(X,te,de){return this.indexOf(X,te,de)!==-1},s.prototype.indexOf=function(X,te,de){return I(this,X,te,de,!0)},s.prototype.lastIndexOf=function(X,te,de){return I(this,X,te,de,!1)};function A(oe,X,te,de){te=Number(te)||0;const Ce=oe.length-te;de?(de=Number(de),de>Ce&&(de=Ce)):de=Ce;const Se=X.length;de>Se/2&&(de=Se/2);let ge;for(ge=0;ge<de;++ge){const q=parseInt(X.substr(ge*2,2),16);if(Fe(q))return ge;oe[te+ge]=q}return ge}function D(oe,X,te,de){return ce(ne(X,oe.length-te),oe,te,de)}function L(oe,X,te,de){return ce(le(X),oe,te,de)}function j(oe,X,te,de){return ce(fe(X),oe,te,de)}function Y(oe,X,te,de){return ce(he(X,oe.length-te),oe,te,de)}s.prototype.write=function(X,te,de,Ce){if(te===void 0)Ce="utf8",de=this.length,te=0;else if(de===void 0&&typeof te=="string")Ce=te,de=this.length,te=0;else if(isFinite(te))te=te>>>0,isFinite(de)?(de=de>>>0,Ce===void 0&&(Ce="utf8")):(Ce=de,de=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Se=this.length-te;if((de===void 0||de>Se)&&(de=Se),X.length>0&&(de<0||te<0)||te>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ce||(Ce="utf8");let ge=!1;for(;;)switch(Ce){case"hex":return A(this,X,te,de);case"utf8":case"utf-8":return D(this,X,te,de);case"ascii":case"latin1":case"binary":return L(this,X,te,de);case"base64":return j(this,X,te,de);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Y(this,X,te,de);default:if(ge)throw new TypeError("Unknown encoding: "+Ce);Ce=(""+Ce).toLowerCase(),ge=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function O(oe,X,te){return X===0&&te===oe.length?e.fromByteArray(oe):e.fromByteArray(oe.slice(X,te))}function B(oe,X,te){te=Math.min(oe.length,te);const de=[];let Ce=X;for(;Ce<te;){const Se=oe[Ce];let ge=null,q=Se>239?4:Se>223?3:Se>191?2:1;if(Ce+q<=te){let H,ye,_e,ve;switch(q){case 1:Se<128&&(ge=Se);break;case 2:H=oe[Ce+1],(H&192)===128&&(ve=(Se&31)<<6|H&63,ve>127&&(ge=ve));break;case 3:H=oe[Ce+1],ye=oe[Ce+2],(H&192)===128&&(ye&192)===128&&(ve=(Se&15)<<12|(H&63)<<6|ye&63,ve>2047&&(ve<55296||ve>57343)&&(ge=ve));break;case 4:H=oe[Ce+1],ye=oe[Ce+2],_e=oe[Ce+3],(H&192)===128&&(ye&192)===128&&(_e&192)===128&&(ve=(Se&15)<<18|(H&63)<<12|(ye&63)<<6|_e&63,ve>65535&&ve<1114112&&(ge=ve))}}ge===null?(ge=65533,q=1):ge>65535&&(ge-=65536,de.push(ge>>>10&1023|55296),ge=56320|ge&1023),de.push(ge),Ce+=q}return N(de)}const C=4096;function N(oe){const X=oe.length;if(X<=C)return String.fromCharCode.apply(String,oe);let te="",de=0;for(;de<X;)te+=String.fromCharCode.apply(String,oe.slice(de,de+=C));return te}function U(oe,X,te){let de="";te=Math.min(oe.length,te);for(let Ce=X;Ce<te;++Ce)de+=String.fromCharCode(oe[Ce]&127);return de}function G(oe,X,te){let de="";te=Math.min(oe.length,te);for(let Ce=X;Ce<te;++Ce)de+=String.fromCharCode(oe[Ce]);return de}function $(oe,X,te){const de=oe.length;(!X||X<0)&&(X=0),(!te||te<0||te>de)&&(te=de);let Ce="";for(let Se=X;Se<te;++Se)Ce+=Me[oe[Se]];return Ce}function Z(oe,X,te){const de=oe.slice(X,te);let Ce="";for(let Se=0;Se<de.length-1;Se+=2)Ce+=String.fromCharCode(de[Se]+de[Se+1]*256);return Ce}s.prototype.slice=function(X,te){const de=this.length;X=~~X,te=te===void 0?de:~~te,X<0?(X+=de,X<0&&(X=0)):X>de&&(X=de),te<0?(te+=de,te<0&&(te=0)):te>de&&(te=de),te<X&&(te=X);const Ce=this.subarray(X,te);return Object.setPrototypeOf(Ce,s.prototype),Ce};function W(oe,X,te){if(oe%1!==0||oe<0)throw new RangeError("offset is not uint");if(oe+X>te)throw new RangeError("Trying to access beyond buffer length")}s.prototype.readUintLE=s.prototype.readUIntLE=function(X,te,de){X=X>>>0,te=te>>>0,de||W(X,te,this.length);let Ce=this[X],Se=1,ge=0;for(;++ge<te&&(Se*=256);)Ce+=this[X+ge]*Se;return Ce},s.prototype.readUintBE=s.prototype.readUIntBE=function(X,te,de){X=X>>>0,te=te>>>0,de||W(X,te,this.length);let Ce=this[X+--te],Se=1;for(;te>0&&(Se*=256);)Ce+=this[X+--te]*Se;return Ce},s.prototype.readUint8=s.prototype.readUInt8=function(X,te){return X=X>>>0,te||W(X,1,this.length),this[X]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(X,te){return X=X>>>0,te||W(X,2,this.length),this[X]|this[X+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(X,te){return X=X>>>0,te||W(X,2,this.length),this[X]<<8|this[X+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(X,te){return X=X>>>0,te||W(X,4,this.length),(this[X]|this[X+1]<<8|this[X+2]<<16)+this[X+3]*16777216},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(X,te){return X=X>>>0,te||W(X,4,this.length),this[X]*16777216+(this[X+1]<<16|this[X+2]<<8|this[X+3])},s.prototype.readBigUInt64LE=Ke(function(X){X=X>>>0,Q(X,"offset");const te=this[X],de=this[X+7];(te===void 0||de===void 0)&&k(X,this.length-8);const Ce=te+this[++X]*2**8+this[++X]*2**16+this[++X]*2**24,Se=this[++X]+this[++X]*2**8+this[++X]*2**16+de*2**24;return BigInt(Ce)+(BigInt(Se)<<BigInt(32))}),s.prototype.readBigUInt64BE=Ke(function(X){X=X>>>0,Q(X,"offset");const te=this[X],de=this[X+7];(te===void 0||de===void 0)&&k(X,this.length-8);const Ce=te*2**24+this[++X]*2**16+this[++X]*2**8+this[++X],Se=this[++X]*2**24+this[++X]*2**16+this[++X]*2**8+de;return(BigInt(Ce)<<BigInt(32))+BigInt(Se)}),s.prototype.readIntLE=function(X,te,de){X=X>>>0,te=te>>>0,de||W(X,te,this.length);let Ce=this[X],Se=1,ge=0;for(;++ge<te&&(Se*=256);)Ce+=this[X+ge]*Se;return Se*=128,Ce>=Se&&(Ce-=Math.pow(2,8*te)),Ce},s.prototype.readIntBE=function(X,te,de){X=X>>>0,te=te>>>0,de||W(X,te,this.length);let Ce=te,Se=1,ge=this[X+--Ce];for(;Ce>0&&(Se*=256);)ge+=this[X+--Ce]*Se;return Se*=128,ge>=Se&&(ge-=Math.pow(2,8*te)),ge},s.prototype.readInt8=function(X,te){return X=X>>>0,te||W(X,1,this.length),this[X]&128?(255-this[X]+1)*-1:this[X]},s.prototype.readInt16LE=function(X,te){X=X>>>0,te||W(X,2,this.length);const de=this[X]|this[X+1]<<8;return de&32768?de|4294901760:de},s.prototype.readInt16BE=function(X,te){X=X>>>0,te||W(X,2,this.length);const de=this[X+1]|this[X]<<8;return de&32768?de|4294901760:de},s.prototype.readInt32LE=function(X,te){return X=X>>>0,te||W(X,4,this.length),this[X]|this[X+1]<<8|this[X+2]<<16|this[X+3]<<24},s.prototype.readInt32BE=function(X,te){return X=X>>>0,te||W(X,4,this.length),this[X]<<24|this[X+1]<<16|this[X+2]<<8|this[X+3]},s.prototype.readBigInt64LE=Ke(function(X){X=X>>>0,Q(X,"offset");const te=this[X],de=this[X+7];(te===void 0||de===void 0)&&k(X,this.length-8);const Ce=this[X+4]+this[X+5]*2**8+this[X+6]*2**16+(de<<24);return(BigInt(Ce)<<BigInt(32))+BigInt(te+this[++X]*2**8+this[++X]*2**16+this[++X]*2**24)}),s.prototype.readBigInt64BE=Ke(function(X){X=X>>>0,Q(X,"offset");const te=this[X],de=this[X+7];(te===void 0||de===void 0)&&k(X,this.length-8);const Ce=(te<<24)+this[++X]*2**16+this[++X]*2**8+this[++X];return(BigInt(Ce)<<BigInt(32))+BigInt(this[++X]*2**24+this[++X]*2**16+this[++X]*2**8+de)}),s.prototype.readFloatLE=function(X,te){return X=X>>>0,te||W(X,4,this.length),r.read(this,X,!0,23,4)},s.prototype.readFloatBE=function(X,te){return X=X>>>0,te||W(X,4,this.length),r.read(this,X,!1,23,4)},s.prototype.readDoubleLE=function(X,te){return X=X>>>0,te||W(X,8,this.length),r.read(this,X,!0,52,8)},s.prototype.readDoubleBE=function(X,te){return X=X>>>0,te||W(X,8,this.length),r.read(this,X,!1,52,8)};function P(oe,X,te,de,Ce,Se){if(!s.isBuffer(oe))throw new TypeError('"buffer" argument must be a Buffer instance');if(X>Ce||X<Se)throw new RangeError('"value" argument is out of bounds');if(te+de>oe.length)throw new RangeError("Index out of range")}s.prototype.writeUintLE=s.prototype.writeUIntLE=function(X,te,de,Ce){if(X=+X,te=te>>>0,de=de>>>0,!Ce){const q=Math.pow(2,8*de)-1;P(this,X,te,de,q,0)}let Se=1,ge=0;for(this[te]=X&255;++ge<de&&(Se*=256);)this[te+ge]=X/Se&255;return te+de},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(X,te,de,Ce){if(X=+X,te=te>>>0,de=de>>>0,!Ce){const q=Math.pow(2,8*de)-1;P(this,X,te,de,q,0)}let Se=de-1,ge=1;for(this[te+Se]=X&255;--Se>=0&&(ge*=256);)this[te+Se]=X/ge&255;return te+de},s.prototype.writeUint8=s.prototype.writeUInt8=function(X,te,de){return X=+X,te=te>>>0,de||P(this,X,te,1,255,0),this[te]=X&255,te+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(X,te,de){return X=+X,te=te>>>0,de||P(this,X,te,2,65535,0),this[te]=X&255,this[te+1]=X>>>8,te+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(X,te,de){return X=+X,te=te>>>0,de||P(this,X,te,2,65535,0),this[te]=X>>>8,this[te+1]=X&255,te+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(X,te,de){return X=+X,te=te>>>0,de||P(this,X,te,4,4294967295,0),this[te+3]=X>>>24,this[te+2]=X>>>16,this[te+1]=X>>>8,this[te]=X&255,te+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(X,te,de){return X=+X,te=te>>>0,de||P(this,X,te,4,4294967295,0),this[te]=X>>>24,this[te+1]=X>>>16,this[te+2]=X>>>8,this[te+3]=X&255,te+4};function R(oe,X,te,de,Ce){M(X,de,Ce,oe,te,7);let Se=Number(X&BigInt(4294967295));oe[te++]=Se,Se=Se>>8,oe[te++]=Se,Se=Se>>8,oe[te++]=Se,Se=Se>>8,oe[te++]=Se;let ge=Number(X>>BigInt(32)&BigInt(4294967295));return oe[te++]=ge,ge=ge>>8,oe[te++]=ge,ge=ge>>8,oe[te++]=ge,ge=ge>>8,oe[te++]=ge,te}function re(oe,X,te,de,Ce){M(X,de,Ce,oe,te,7);let Se=Number(X&BigInt(4294967295));oe[te+7]=Se,Se=Se>>8,oe[te+6]=Se,Se=Se>>8,oe[te+5]=Se,Se=Se>>8,oe[te+4]=Se;let ge=Number(X>>BigInt(32)&BigInt(4294967295));return oe[te+3]=ge,ge=ge>>8,oe[te+2]=ge,ge=ge>>8,oe[te+1]=ge,ge=ge>>8,oe[te]=ge,te+8}s.prototype.writeBigUInt64LE=Ke(function(X,te=0){return R(this,X,te,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeBigUInt64BE=Ke(function(X,te=0){return re(this,X,te,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeIntLE=function(X,te,de,Ce){if(X=+X,te=te>>>0,!Ce){const H=Math.pow(2,8*de-1);P(this,X,te,de,H-1,-H)}let Se=0,ge=1,q=0;for(this[te]=X&255;++Se<de&&(ge*=256);)X<0&&q===0&&this[te+Se-1]!==0&&(q=1),this[te+Se]=(X/ge>>0)-q&255;return te+de},s.prototype.writeIntBE=function(X,te,de,Ce){if(X=+X,te=te>>>0,!Ce){const H=Math.pow(2,8*de-1);P(this,X,te,de,H-1,-H)}let Se=de-1,ge=1,q=0;for(this[te+Se]=X&255;--Se>=0&&(ge*=256);)X<0&&q===0&&this[te+Se+1]!==0&&(q=1),this[te+Se]=(X/ge>>0)-q&255;return te+de},s.prototype.writeInt8=function(X,te,de){return X=+X,te=te>>>0,de||P(this,X,te,1,127,-128),X<0&&(X=255+X+1),this[te]=X&255,te+1},s.prototype.writeInt16LE=function(X,te,de){return X=+X,te=te>>>0,de||P(this,X,te,2,32767,-32768),this[te]=X&255,this[te+1]=X>>>8,te+2},s.prototype.writeInt16BE=function(X,te,de){return X=+X,te=te>>>0,de||P(this,X,te,2,32767,-32768),this[te]=X>>>8,this[te+1]=X&255,te+2},s.prototype.writeInt32LE=function(X,te,de){return X=+X,te=te>>>0,de||P(this,X,te,4,2147483647,-2147483648),this[te]=X&255,this[te+1]=X>>>8,this[te+2]=X>>>16,this[te+3]=X>>>24,te+4},s.prototype.writeInt32BE=function(X,te,de){return X=+X,te=te>>>0,de||P(this,X,te,4,2147483647,-2147483648),X<0&&(X=4294967295+X+1),this[te]=X>>>24,this[te+1]=X>>>16,this[te+2]=X>>>8,this[te+3]=X&255,te+4},s.prototype.writeBigInt64LE=Ke(function(X,te=0){return R(this,X,te,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeBigInt64BE=Ke(function(X,te=0){return re(this,X,te,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function T(oe,X,te,de,Ce,Se){if(te+de>oe.length)throw new RangeError("Index out of range");if(te<0)throw new RangeError("Index out of range")}function x(oe,X,te,de,Ce){return X=+X,te=te>>>0,Ce||T(oe,X,te,4),r.write(oe,X,te,de,23,4),te+4}s.prototype.writeFloatLE=function(X,te,de){return x(this,X,te,!0,de)},s.prototype.writeFloatBE=function(X,te,de){return x(this,X,te,!1,de)};function z(oe,X,te,de,Ce){return X=+X,te=te>>>0,Ce||T(oe,X,te,8),r.write(oe,X,te,de,52,8),te+8}s.prototype.writeDoubleLE=function(X,te,de){return z(this,X,te,!0,de)},s.prototype.writeDoubleBE=function(X,te,de){return z(this,X,te,!1,de)},s.prototype.copy=function(X,te,de,Ce){if(!s.isBuffer(X))throw new TypeError("argument should be a Buffer");if(de||(de=0),!Ce&&Ce!==0&&(Ce=this.length),te>=X.length&&(te=X.length),te||(te=0),Ce>0&&Ce<de&&(Ce=de),Ce===de||X.length===0||this.length===0)return 0;if(te<0)throw new RangeError("targetStart out of bounds");if(de<0||de>=this.length)throw new RangeError("Index out of range");if(Ce<0)throw new RangeError("sourceEnd out of bounds");Ce>this.length&&(Ce=this.length),X.length-te<Ce-de&&(Ce=X.length-te+de);const Se=Ce-de;return this===X&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(te,de,Ce):Uint8Array.prototype.set.call(X,this.subarray(de,Ce),te),Se},s.prototype.fill=function(X,te,de,Ce){if(typeof X=="string"){if(typeof te=="string"?(Ce=te,te=0,de=this.length):typeof de=="string"&&(Ce=de,de=this.length),Ce!==void 0&&typeof Ce!="string")throw new TypeError("encoding must be a string");if(typeof Ce=="string"&&!s.isEncoding(Ce))throw new TypeError("Unknown encoding: "+Ce);if(X.length===1){const ge=X.charCodeAt(0);(Ce==="utf8"&&ge<128||Ce==="latin1")&&(X=ge)}}else typeof X=="number"?X=X&255:typeof X=="boolean"&&(X=Number(X));if(te<0||this.length<te||this.length<de)throw new RangeError("Out of range index");if(de<=te)return this;te=te>>>0,de=de===void 0?this.length:de>>>0,X||(X=0);let Se;if(typeof X=="number")for(Se=te;Se<de;++Se)this[Se]=X;else{const ge=s.isBuffer(X)?X:s.from(X,Ce),q=ge.length;if(q===0)throw new TypeError('The value "'+X+'" is invalid for argument "value"');for(Se=0;Se<de-te;++Se)this[Se+te]=ge[Se%q]}return this};const b={};function J(oe,X,te){b[oe]=class extends te{constructor(){super(),Object.defineProperty(this,"message",{value:X.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${oe}]`,this.stack,delete this.name}get code(){return oe}set code(Ce){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Ce,writable:!0})}toString(){return`${this.name} [${oe}]: ${this.message}`}}}J("ERR_BUFFER_OUT_OF_BOUNDS",function(oe){return oe?`${oe} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),J("ERR_INVALID_ARG_TYPE",function(oe,X){return`The "${oe}" argument must be of type number. Received type ${typeof X}`},TypeError),J("ERR_OUT_OF_RANGE",function(oe,X,te){let de=`The value of "${oe}" is out of range.`,Ce=te;return Number.isInteger(te)&&Math.abs(te)>2**32?Ce=V(String(te)):typeof te=="bigint"&&(Ce=String(te),(te>BigInt(2)**BigInt(32)||te<-(BigInt(2)**BigInt(32)))&&(Ce=V(Ce)),Ce+="n"),de+=` It must be ${X}. Received ${Ce}`,de},RangeError);function V(oe){let X="",te=oe.length;const de=oe[0]==="-"?1:0;for(;te>=de+4;te-=3)X=`_${oe.slice(te-3,te)}${X}`;return`${oe.slice(0,te)}${X}`}function g(oe,X,te){Q(X,"offset"),(oe[X]===void 0||oe[X+te]===void 0)&&k(X,oe.length-(te+1))}function M(oe,X,te,de,Ce,Se){if(oe>te||oe<X){const ge=typeof X=="bigint"?"n":"";let q;throw X===0||X===BigInt(0)?q=`>= 0${ge} and < 2${ge} ** ${(Se+1)*8}${ge}`:q=`>= -(2${ge} ** ${(Se+1)*8-1}${ge}) and < 2 ** ${(Se+1)*8-1}${ge}`,new b.ERR_OUT_OF_RANGE("value",q,oe)}g(de,Ce,Se)}function Q(oe,X){if(typeof oe!="number")throw new b.ERR_INVALID_ARG_TYPE(X,"number",oe)}function k(oe,X,te){throw Math.floor(oe)!==oe?(Q(oe,te),new b.ERR_OUT_OF_RANGE("offset","an integer",oe)):X<0?new b.ERR_BUFFER_OUT_OF_BOUNDS:new b.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${X}`,oe)}const K=/[^+/0-9A-Za-z-_]/g;function ie(oe){if(oe=oe.split("=")[0],oe=oe.trim().replace(K,""),oe.length<2)return"";for(;oe.length%4!==0;)oe=oe+"=";return oe}function ne(oe,X){X=X||1/0;let te;const de=oe.length;let Ce=null;const Se=[];for(let ge=0;ge<de;++ge){if(te=oe.charCodeAt(ge),te>55295&&te<57344){if(!Ce){if(te>56319){(X-=3)>-1&&Se.push(239,191,189);continue}else if(ge+1===de){(X-=3)>-1&&Se.push(239,191,189);continue}Ce=te;continue}if(te<56320){(X-=3)>-1&&Se.push(239,191,189),Ce=te;continue}te=(Ce-55296<<10|te-56320)+65536}else Ce&&(X-=3)>-1&&Se.push(239,191,189);if(Ce=null,te<128){if((X-=1)<0)break;Se.push(te)}else if(te<2048){if((X-=2)<0)break;Se.push(te>>6|192,te&63|128)}else if(te<65536){if((X-=3)<0)break;Se.push(te>>12|224,te>>6&63|128,te&63|128)}else if(te<1114112){if((X-=4)<0)break;Se.push(te>>18|240,te>>12&63|128,te>>6&63|128,te&63|128)}else throw new Error("Invalid code point")}return Se}function le(oe){const X=[];for(let te=0;te<oe.length;++te)X.push(oe.charCodeAt(te)&255);return X}function he(oe,X){let te,de,Ce;const Se=[];for(let ge=0;ge<oe.length&&!((X-=2)<0);++ge)te=oe.charCodeAt(ge),de=te>>8,Ce=te%256,Se.push(Ce),Se.push(de);return Se}function fe(oe){return e.toByteArray(ie(oe))}function ce(oe,X,te,de){let Ce;for(Ce=0;Ce<de&&!(Ce+te>=X.length||Ce>=oe.length);++Ce)X[Ce+te]=oe[Ce];return Ce}function Ae(oe,X){return oe instanceof X||oe!=null&&oe.constructor!=null&&oe.constructor.name!=null&&oe.constructor.name===X.name}function Fe(oe){return oe!==oe}const Me=function(){const oe="0123456789abcdef",X=new Array(256);for(let te=0;te<16;++te){const de=te*16;for(let Ce=0;Ce<16;++Ce)X[de+Ce]=oe[te]+oe[Ce]}return X}();function Ke(oe){return typeof BigInt>"u"?$e:oe}function $e(){throw new Error("BigInt not supported")}}(F2)),F2}var hw={},Xx={},Jx={};Object.defineProperty(Jx,"__esModule",{value:!0});Jx.default=MF;let Ch;const RF=new Uint8Array(16);function MF(){if(!Ch&&(Ch=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Ch))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ch(RF)}var V0={},Nl={},ep={};Object.defineProperty(ep,"__esModule",{value:!0});ep.default=void 0;var UF=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;ep.default=UF;Object.defineProperty(Nl,"__esModule",{value:!0});Nl.default=void 0;var OF=VF(ep);function VF(t){return t&&t.__esModule?t:{default:t}}function GF(t){return typeof t=="string"&&OF.default.test(t)}var zF=GF;Nl.default=zF;Object.defineProperty(V0,"__esModule",{value:!0});V0.default=void 0;V0.unsafeStringify=xw;var KF=qF(Nl);function qF(t){return t&&t.__esModule?t:{default:t}}const Un=[];for(let t=0;t<256;++t)Un.push((t+256).toString(16).slice(1));function xw(t,e=0){return Un[t[e+0]]+Un[t[e+1]]+Un[t[e+2]]+Un[t[e+3]]+"-"+Un[t[e+4]]+Un[t[e+5]]+"-"+Un[t[e+6]]+Un[t[e+7]]+"-"+Un[t[e+8]]+Un[t[e+9]]+"-"+Un[t[e+10]]+Un[t[e+11]]+Un[t[e+12]]+Un[t[e+13]]+Un[t[e+14]]+Un[t[e+15]]}function QF(t,e=0){const r=xw(t,e);if(!(0,KF.default)(r))throw TypeError("Stringified UUID is invalid");return r}var HF=QF;V0.default=HF;Object.defineProperty(Xx,"__esModule",{value:!0});Xx.default=void 0;var jF=WF(Jx),$F=V0;function WF(t){return t&&t.__esModule?t:{default:t}}let e6,D2,T2=0,k2=0;function YF(t,e,r){let n=e&&r||0;const i=e||new Array(16);t=t||{};let a=t.node||e6,o=t.clockseq!==void 0?t.clockseq:D2;if(a==null||o==null){const d=t.random||(t.rng||jF.default)();a==null&&(a=e6=[d[0]|1,d[1],d[2],d[3],d[4],d[5]]),o==null&&(o=D2=(d[6]<<8|d[7])&16383)}let s=t.msecs!==void 0?t.msecs:Date.now(),u=t.nsecs!==void 0?t.nsecs:k2+1;const l=s-T2+(u-k2)/1e4;if(l<0&&t.clockseq===void 0&&(o=o+1&16383),(l<0||s>T2)&&t.nsecs===void 0&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");T2=s,k2=u,D2=o,s+=122192928e5;const c=((s&268435455)*1e4+u)%4294967296;i[n++]=c>>>24&255,i[n++]=c>>>16&255,i[n++]=c>>>8&255,i[n++]=c&255;const f=s/4294967296*1e4&268435455;i[n++]=f>>>8&255,i[n++]=f&255,i[n++]=f>>>24&15|16,i[n++]=f>>>16&255,i[n++]=o>>>8|128,i[n++]=o&255;for(let d=0;d<6;++d)i[n+d]=a[d];return e||(0,$F.unsafeStringify)(i)}var ZF=YF;Xx.default=ZF;var tp={},I0={},kd={};Object.defineProperty(kd,"__esModule",{value:!0});kd.default=void 0;var XF=JF(Nl);function JF(t){return t&&t.__esModule?t:{default:t}}function eD(t){if(!(0,XF.default)(t))throw TypeError("Invalid UUID");let e;const r=new Uint8Array(16);return r[0]=(e=parseInt(t.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=e&255,r[4]=(e=parseInt(t.slice(9,13),16))>>>8,r[5]=e&255,r[6]=(e=parseInt(t.slice(14,18),16))>>>8,r[7]=e&255,r[8]=(e=parseInt(t.slice(19,23),16))>>>8,r[9]=e&255,r[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=e&255,r}var tD=eD;kd.default=tD;Object.defineProperty(I0,"__esModule",{value:!0});I0.URL=I0.DNS=void 0;I0.default=oD;var rD=V0,nD=iD(kd);function iD(t){return t&&t.__esModule?t:{default:t}}function aD(t){t=unescape(encodeURIComponent(t));const e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e}const pw="6ba7b810-9dad-11d1-80b4-00c04fd430c8";I0.DNS=pw;const gw="6ba7b811-9dad-11d1-80b4-00c04fd430c8";I0.URL=gw;function oD(t,e,r){function n(i,a,o,s){var u;if(typeof i=="string"&&(i=aD(i)),typeof a=="string"&&(a=(0,nD.default)(a)),((u=a)===null||u===void 0?void 0:u.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let l=new Uint8Array(16+i.length);if(l.set(a),l.set(i,a.length),l=r(l),l[6]=l[6]&15|e,l[8]=l[8]&63|128,o){s=s||0;for(let c=0;c<16;++c)o[s+c]=l[c];return o}return(0,rD.unsafeStringify)(l)}try{n.name=t}catch{}return n.DNS=pw,n.URL=gw,n}var rp={};Object.defineProperty(rp,"__esModule",{value:!0});rp.default=void 0;function sD(t){if(typeof t=="string"){const e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(let r=0;r<e.length;++r)t[r]=e.charCodeAt(r)}return lD(cD(uD(t),t.length*8))}function lD(t){const e=[],r=t.length*32,n="0123456789abcdef";for(let i=0;i<r;i+=8){const a=t[i>>5]>>>i%32&255,o=parseInt(n.charAt(a>>>4&15)+n.charAt(a&15),16);e.push(o)}return e}function mw(t){return(t+64>>>9<<4)+14+1}function cD(t,e){t[e>>5]|=128<<e%32,t[mw(e)-1]=e;let r=1732584193,n=-271733879,i=-1732584194,a=271733878;for(let o=0;o<t.length;o+=16){const s=r,u=n,l=i,c=a;r=ti(r,n,i,a,t[o],7,-680876936),a=ti(a,r,n,i,t[o+1],12,-389564586),i=ti(i,a,r,n,t[o+2],17,606105819),n=ti(n,i,a,r,t[o+3],22,-1044525330),r=ti(r,n,i,a,t[o+4],7,-176418897),a=ti(a,r,n,i,t[o+5],12,1200080426),i=ti(i,a,r,n,t[o+6],17,-1473231341),n=ti(n,i,a,r,t[o+7],22,-45705983),r=ti(r,n,i,a,t[o+8],7,1770035416),a=ti(a,r,n,i,t[o+9],12,-1958414417),i=ti(i,a,r,n,t[o+10],17,-42063),n=ti(n,i,a,r,t[o+11],22,-1990404162),r=ti(r,n,i,a,t[o+12],7,1804603682),a=ti(a,r,n,i,t[o+13],12,-40341101),i=ti(i,a,r,n,t[o+14],17,-1502002290),n=ti(n,i,a,r,t[o+15],22,1236535329),r=ri(r,n,i,a,t[o+1],5,-165796510),a=ri(a,r,n,i,t[o+6],9,-1069501632),i=ri(i,a,r,n,t[o+11],14,643717713),n=ri(n,i,a,r,t[o],20,-373897302),r=ri(r,n,i,a,t[o+5],5,-701558691),a=ri(a,r,n,i,t[o+10],9,38016083),i=ri(i,a,r,n,t[o+15],14,-660478335),n=ri(n,i,a,r,t[o+4],20,-405537848),r=ri(r,n,i,a,t[o+9],5,568446438),a=ri(a,r,n,i,t[o+14],9,-1019803690),i=ri(i,a,r,n,t[o+3],14,-187363961),n=ri(n,i,a,r,t[o+8],20,1163531501),r=ri(r,n,i,a,t[o+13],5,-1444681467),a=ri(a,r,n,i,t[o+2],9,-51403784),i=ri(i,a,r,n,t[o+7],14,1735328473),n=ri(n,i,a,r,t[o+12],20,-1926607734),r=ni(r,n,i,a,t[o+5],4,-378558),a=ni(a,r,n,i,t[o+8],11,-2022574463),i=ni(i,a,r,n,t[o+11],16,1839030562),n=ni(n,i,a,r,t[o+14],23,-35309556),r=ni(r,n,i,a,t[o+1],4,-1530992060),a=ni(a,r,n,i,t[o+4],11,1272893353),i=ni(i,a,r,n,t[o+7],16,-155497632),n=ni(n,i,a,r,t[o+10],23,-1094730640),r=ni(r,n,i,a,t[o+13],4,681279174),a=ni(a,r,n,i,t[o],11,-358537222),i=ni(i,a,r,n,t[o+3],16,-722521979),n=ni(n,i,a,r,t[o+6],23,76029189),r=ni(r,n,i,a,t[o+9],4,-640364487),a=ni(a,r,n,i,t[o+12],11,-421815835),i=ni(i,a,r,n,t[o+15],16,530742520),n=ni(n,i,a,r,t[o+2],23,-995338651),r=ii(r,n,i,a,t[o],6,-198630844),a=ii(a,r,n,i,t[o+7],10,1126891415),i=ii(i,a,r,n,t[o+14],15,-1416354905),n=ii(n,i,a,r,t[o+5],21,-57434055),r=ii(r,n,i,a,t[o+12],6,1700485571),a=ii(a,r,n,i,t[o+3],10,-1894986606),i=ii(i,a,r,n,t[o+10],15,-1051523),n=ii(n,i,a,r,t[o+1],21,-2054922799),r=ii(r,n,i,a,t[o+8],6,1873313359),a=ii(a,r,n,i,t[o+15],10,-30611744),i=ii(i,a,r,n,t[o+6],15,-1560198380),n=ii(n,i,a,r,t[o+13],21,1309151649),r=ii(r,n,i,a,t[o+4],6,-145523070),a=ii(a,r,n,i,t[o+11],10,-1120210379),i=ii(i,a,r,n,t[o+2],15,718787259),n=ii(n,i,a,r,t[o+9],21,-343485551),r=o0(r,s),n=o0(n,u),i=o0(i,l),a=o0(a,c)}return[r,n,i,a]}function uD(t){if(t.length===0)return[];const e=t.length*8,r=new Uint32Array(mw(e));for(let n=0;n<e;n+=8)r[n>>5]|=(t[n/8]&255)<<n%32;return r}function o0(t,e){const r=(t&65535)+(e&65535);return(t>>16)+(e>>16)+(r>>16)<<16|r&65535}function fD(t,e){return t<<e|t>>>32-e}function np(t,e,r,n,i,a){return o0(fD(o0(o0(e,t),o0(n,a)),i),r)}function ti(t,e,r,n,i,a,o){return np(e&r|~e&n,t,e,i,a,o)}function ri(t,e,r,n,i,a,o){return np(e&n|r&~n,t,e,i,a,o)}function ni(t,e,r,n,i,a,o){return np(e^r^n,t,e,i,a,o)}function ii(t,e,r,n,i,a,o){return np(r^(e|~n),t,e,i,a,o)}var dD=sD;rp.default=dD;Object.defineProperty(tp,"__esModule",{value:!0});tp.default=void 0;var hD=yw(I0),xD=yw(rp);function yw(t){return t&&t.__esModule?t:{default:t}}const pD=(0,hD.default)("v3",48,xD.default);var gD=pD;tp.default=gD;var ip={},ap={};Object.defineProperty(ap,"__esModule",{value:!0});ap.default=void 0;const mD=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var yD={randomUUID:mD};ap.default=yD;Object.defineProperty(ip,"__esModule",{value:!0});ip.default=void 0;var t6=vw(ap),vD=vw(Jx),ED=V0;function vw(t){return t&&t.__esModule?t:{default:t}}function CD(t,e,r){if(t6.default.randomUUID&&!e&&!t)return t6.default.randomUUID();t=t||{};const n=t.random||(t.rng||vD.default)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(let i=0;i<16;++i)e[r+i]=n[i];return e}return(0,ED.unsafeStringify)(n)}var AD=CD;ip.default=AD;var op={},sp={};Object.defineProperty(sp,"__esModule",{value:!0});sp.default=void 0;function wD(t,e,r,n){switch(t){case 0:return e&r^~e&n;case 1:return e^r^n;case 2:return e&r^e&n^r&n;case 3:return e^r^n}}function N2(t,e){return t<<e|t>>>32-e}function _D(t){const e=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){const o=unescape(encodeURIComponent(t));t=[];for(let s=0;s<o.length;++s)t.push(o.charCodeAt(s))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);const n=t.length/4+2,i=Math.ceil(n/16),a=new Array(i);for(let o=0;o<i;++o){const s=new Uint32Array(16);for(let u=0;u<16;++u)s[u]=t[o*64+u*4]<<24|t[o*64+u*4+1]<<16|t[o*64+u*4+2]<<8|t[o*64+u*4+3];a[o]=s}a[i-1][14]=(t.length-1)*8/Math.pow(2,32),a[i-1][14]=Math.floor(a[i-1][14]),a[i-1][15]=(t.length-1)*8&4294967295;for(let o=0;o<i;++o){const s=new Uint32Array(80);for(let h=0;h<16;++h)s[h]=a[o][h];for(let h=16;h<80;++h)s[h]=N2(s[h-3]^s[h-8]^s[h-14]^s[h-16],1);let u=r[0],l=r[1],c=r[2],f=r[3],d=r[4];for(let h=0;h<80;++h){const y=Math.floor(h/20),w=N2(u,5)+wD(y,l,c,f)+d+e[y]+s[h]>>>0;d=f,f=c,c=N2(l,30)>>>0,l=u,u=w}r[0]=r[0]+u>>>0,r[1]=r[1]+l>>>0,r[2]=r[2]+c>>>0,r[3]=r[3]+f>>>0,r[4]=r[4]+d>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,r[0]&255,r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,r[1]&255,r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,r[2]&255,r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,r[3]&255,r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,r[4]&255]}var BD=_D;sp.default=BD;Object.defineProperty(op,"__esModule",{value:!0});op.default=void 0;var bD=Ew(I0),SD=Ew(sp);function Ew(t){return t&&t.__esModule?t:{default:t}}const ID=(0,bD.default)("v5",80,SD.default);var LD=ID;op.default=LD;var lp={};Object.defineProperty(lp,"__esModule",{value:!0});lp.default=void 0;var FD="00000000-0000-0000-0000-000000000000";lp.default=FD;var cp={};Object.defineProperty(cp,"__esModule",{value:!0});cp.default=void 0;var DD=TD(Nl);function TD(t){return t&&t.__esModule?t:{default:t}}function kD(t){if(!(0,DD.default)(t))throw TypeError("Invalid UUID");return parseInt(t.slice(14,15),16)}var ND=kD;cp.default=ND;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NIL",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"v1",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(t,"v3",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"v4",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"v5",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"validate",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return o.default}});var e=c(Xx),r=c(tp),n=c(ip),i=c(op),a=c(lp),o=c(cp),s=c(Nl),u=c(V0),l=c(kd);function c(f){return f&&f.__esModule?f:{default:f}}})(hw);const PD=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4];function up(t,e){if(!e||e==10)return BigInt(t);if(e==16)return t.slice(0,2)=="0x"?BigInt(t):BigInt("0x"+t)}const xn=up;function RD(t,e){let r=BigInt(0);e=BigInt(e);for(let n=0;n<t.length;n++)r=r*e+BigInt(t[n]);return r}function Nd(t){const e=t.toString(16);return(e.length-1)*4+PD[parseInt(e[0],16)]}function Cw(t){return BigInt(t)<BigInt(0)}function Aw(t){return!t}function X1(t,e){return BigInt(t)<<BigInt(e)}function Lc(t,e){return BigInt(t)>>BigInt(e)}const MD=X1,UD=Lc;function v8(t){return(BigInt(t)&BigInt(1))==BigInt(1)}function OD(t){let e=BigInt(t);const r=[];for(;e;){if(e&BigInt(1)){const n=2-Number(e%BigInt(4));r.push(n),e=e-BigInt(n)}else r.push(0);e=e>>BigInt(1)}return r}function ww(t){let e=BigInt(t);const r=[];for(;e;)e&BigInt(1)?r.push(1):r.push(0),e=e>>BigInt(1);return r}function _w(t){if(t>BigInt(Number.MAX_SAFE_INTEGER))throw new Error("Number too big");return Number(t)}function VD(t,e){const r=[];let n=BigInt(t);for(e=BigInt(e);n;)r.unshift(Number(n%e)),n=n/e;return r}function E8(t,e){return BigInt(t)+BigInt(e)}function bs(t,e){return BigInt(t)-BigInt(e)}function Bw(t){return-BigInt(t)}function bw(t,e){return BigInt(t)*BigInt(e)}function GD(t){return BigInt(t)*BigInt(t)}function Pd(t,e){return BigInt(t)**BigInt(e)}function zD(t,e){return BigInt(t)**BigInt(e)}function KD(t){return BigInt(t)>=0?BigInt(t):-BigInt(t)}function Kc(t,e){return BigInt(t)/BigInt(e)}function Ao(t,e){return BigInt(t)%BigInt(e)}function hs(t,e){return BigInt(t)==BigInt(e)}function qD(t,e){return BigInt(t)!=BigInt(e)}function QD(t,e){return BigInt(t)<BigInt(e)}function Ym(t,e){return BigInt(t)>BigInt(e)}function HD(t,e){return BigInt(t)<=BigInt(e)}function Sw(t,e){return BigInt(t)>=BigInt(e)}function C8(t,e){return BigInt(t)&BigInt(e)}function jD(t,e){return BigInt(t)|BigInt(e)}function $D(t,e){return BigInt(t)^BigInt(e)}function WD(t,e){return BigInt(t)&&BigInt(e)}function YD(t,e){return BigInt(t)||BigInt(e)}function ZD(t){return!BigInt(t)}function cd(t,e,r,n){const i="0000000"+r.toString(16),a=new Uint32Array(t.buffer,t.byteOffset+e,n/4),o=((i.length-7)*4-1>>5)+1;for(let s=0;s<o;s++)a[s]=parseInt(i.substring(i.length-8*s-8,i.length-8*s),16);for(let s=o;s<a.length;s++)a[s]=0;for(let s=a.length*4;s<n;s++)t[s]=_w(C8(Lc(r,s*8),255))}function Iw(t,e,r,n){const i="0000000"+r.toString(16),a=new DataView(t.buffer,t.byteOffset+e,n),o=((i.length-7)*4-1>>5)+1;for(let s=0;s<o;s++)a.setUint32(n-s*4-4,parseInt(i.substring(i.length-8*s-8,i.length-8*s),16),!1);for(let s=0;s<n/4-o;s++)a[s]=0}function ud(t,e,r){r=r||t.byteLength,e=e||0;const n=new Uint32Array(t.buffer,t.byteOffset+e,r/4),i=new Array(r/4);return n.forEach((a,o)=>i[i.length-o-1]=a.toString(16).padStart(8,"0")),up(i.join(""),16)}function Lw(t,e,r){r=r||t.byteLength,e=e||0;const n=new DataView(t.buffer,t.byteOffset+e,r),i=new Array(r/4);for(let a=0;a<r/4;a++)i[a]=n.getUint32(a*4,!1).toString(16).padStart(8,"0");return up(i.join(""),16)}function A8(t,e){return t.toString(e)}function qc(t){const e=new Uint8Array(Math.floor((Nd(t)-1)/8)+1);return cd(e,0,t,e.byteLength),e}const Fw=xn(0),Y0=xn(1);var XD=Object.freeze({__proto__:null,abs:KD,add:E8,band:C8,bitLength:Nd,bits:ww,bor:jD,bxor:$D,div:Kc,e:xn,eq:hs,exp:zD,fromArray:RD,fromRprBE:Lw,fromRprLE:ud,fromString:up,geq:Sw,gt:Ym,isNegative:Cw,isOdd:v8,isZero:Aw,land:WD,leq:HD,lnot:ZD,lor:YD,lt:QD,mod:Ao,mul:bw,naf:OD,neg:Bw,neq:qD,one:Y0,pow:Pd,shiftLeft:X1,shiftRight:Lc,shl:MD,shr:UD,square:GD,sub:bs,toArray:VD,toLEBuff:qc,toNumber:_w,toRprBE:Iw,toRprLE:cd,toString:A8,zero:Fw});function r6(t,e,r){if(Aw(r))return t.one;const n=ww(r);if(n.length==0)return t.one;let i=e;for(let a=n.length-2;a>=0;a--)i=t.square(i),n[a]&&(i=t.mul(i,e));return i}function JD(t){if(t.m%2==1)if(hs(Ao(t.p,4),1))if(hs(Ao(t.p,8),1))if(hs(Ao(t.p,16),1))eT(t);else if(hs(Ao(t.p,16),9))tT(t);else throw new Error("Field withot sqrt");else if(hs(Ao(t.p,8),5))rT(t);else throw new Error("Field withot sqrt");else hs(Ao(t.p,4),3)&&nT(t);else{const e=Ao(Pd(t.p,t.m/2),4);e==1?iT(t):e==3?aT(t):oT(t)}}function eT(t){for(t.sqrt_q=Pd(t.p,t.m),t.sqrt_s=0,t.sqrt_t=bs(t.sqrt_q,1);!v8(t.sqrt_t);)t.sqrt_s=t.sqrt_s+1,t.sqrt_t=Kc(t.sqrt_t,2);let e=t.one;for(;t.eq(e,t.one);){const r=t.random();t.sqrt_z=t.pow(r,t.sqrt_t),e=t.pow(t.sqrt_z,2**(t.sqrt_s-1))}t.sqrt_tm1d2=Kc(bs(t.sqrt_t,1),2),t.sqrt=function(r){const n=this;if(n.isZero(r))return n.zero;let i=n.pow(r,n.sqrt_tm1d2);const a=n.pow(n.mul(n.square(i),r),2**(n.sqrt_s-1));if(n.eq(a,n.negone))return null;let o=n.sqrt_s,s=n.mul(r,i),u=n.mul(s,i),l=n.sqrt_z;for(;!n.eq(u,n.one);){let c=n.square(u),f=1;for(;!n.eq(c,n.one);)c=n.square(c),f++;i=l;for(let d=0;d<o-f-1;d++)i=n.square(i);l=n.square(i),u=n.mul(u,l),s=n.mul(s,i),o=f}return n.geq(s,n.zero)?s:n.neg(s)}}function tT(t){t.sqrt=function(){throw new Error("Sqrt alg 4 not implemented")}}function rT(t){t.sqrt=function(){throw new Error("Sqrt alg 3 not implemented")}}function nT(t){t.sqrt_q=Pd(t.p,t.m),t.sqrt_e1=Kc(bs(t.sqrt_q,3),4),t.sqrt=function(e){if(this.isZero(e))return this.zero;const r=this.pow(e,this.sqrt_e1),n=this.mul(this.square(r),e);if(this.eq(n,this.negone))return null;const i=this.mul(r,e);return t.geq(i,t.zero)?i:t.neg(i)}}function iT(t){t.sqrt=function(){throw new Error("Sqrt alg 10 not implemented")}}function aT(t){t.sqrt_q=Pd(t.p,t.m/2),t.sqrt_e34=Kc(bs(t.sqrt_q,3),4),t.sqrt_e12=Kc(bs(t.sqrt_q,1),2),t.frobenius=function(e,r){return e%2==1?t.conjugate(r):r},t.sqrt=function(e){const r=this,n=r.pow(e,r.sqrt_e34),i=r.mul(r.square(n),e),a=r.mul(r.frobenius(1,i),i);if(r.eq(a,r.negone))return null;const o=r.mul(n,e);let s;if(r.eq(i,r.negone))s=r.mul(o,[r.F.zero,r.F.one]);else{const u=r.pow(r.add(r.one,i),r.sqrt_e12);s=r.mul(u,o)}return r.geq(s,r.zero)?s:r.neg(s)}}function oT(t){t.sqrt=function(){throw new Error("Sqrt alg 8 not implemented")}}function Ks(t,e,r,n,i){t[e]=t[e]+t[r]>>>0,t[i]=(t[i]^t[e])>>>0,t[i]=(t[i]<<16|t[i]>>>16&65535)>>>0,t[n]=t[n]+t[i]>>>0,t[r]=(t[r]^t[n])>>>0,t[r]=(t[r]<<12|t[r]>>>20&4095)>>>0,t[e]=t[e]+t[r]>>>0,t[i]=(t[i]^t[e])>>>0,t[i]=(t[i]<<8|t[i]>>>24&255)>>>0,t[n]=t[n]+t[i]>>>0,t[r]=(t[r]^t[n])>>>0,t[r]=(t[r]<<7|t[r]>>>25&127)>>>0}function sT(t){Ks(t,0,4,8,12),Ks(t,1,5,9,13),Ks(t,2,6,10,14),Ks(t,3,7,11,15),Ks(t,0,5,10,15),Ks(t,1,6,11,12),Ks(t,2,7,8,13),Ks(t,3,4,9,14)}class wl{constructor(e){e=e||[0,0,0,0,0,0,0,0],this.state=[1634760805,857760878,2036477234,1797285236,e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],0,0,0,0],this.idx=16,this.buff=new Array(16)}nextU32(){return this.idx==16&&this.update(),this.buff[this.idx++]}nextU64(){return E8(bw(this.nextU32(),4294967296),this.nextU32())}nextBool(){return(this.nextU32()&1)==1}update(){for(let e=0;e<16;e++)this.buff[e]=this.state[e];for(let e=0;e<10;e++)sT(this.buff);for(let e=0;e<16;e++)this.buff[e]=this.buff[e]+this.state[e]>>>0;this.idx=0,this.state[12]=this.state[12]+1>>>0,this.state[12]==0&&(this.state[13]=this.state[13]+1>>>0,this.state[13]==0&&(this.state[14]=this.state[14]+1>>>0,this.state[14]==0&&(this.state[15]=this.state[15]+1>>>0)))}}function Dw(t){let e=new Uint8Array(t);if(typeof globalThis.crypto<"u")globalThis.crypto.getRandomValues(e);else for(let r=0;r<t;r++)e[r]=Math.random()*4294967296>>>0;return e}function lT(){const t=Dw(32),e=new Uint32Array(t.buffer),r=[];for(let n=0;n<8;n++)r.push(e[n]);return r}let Ah=null;function w8(){return Ah||(Ah=new wl(lT()),Ah)}class cT{constructor(e,r,n){this.F=r,this.G=e,this.opMulGF=n;let i=r.sqrt_t||r.t,a=r.sqrt_s||r.s,o=r.one;for(;r.eq(r.pow(o,r.half),r.one);)o=r.add(o,r.one);this.w=new Array(a+1),this.wi=new Array(a+1),this.w[a]=this.F.pow(o,i),this.wi[a]=this.F.inv(this.w[a]);let s=a-1;for(;s>=0;)this.w[s]=this.F.square(this.w[s+1]),this.wi[s]=this.F.square(this.wi[s+1]),s--;this.roots=[],this._setRoots(Math.min(a,15))}_setRoots(e){for(let r=e;r>=0&&!this.roots[r];r--){let n=this.F.one;const i=1<<r,a=new Array(i);for(let o=0;o<i;o++)a[o]=n,n=this.F.mul(n,this.w[r]);this.roots[r]=a}}fft(e){if(e.length<=1)return e;const r=n6(e.length-1)+1;this._setRoots(r);const n=1<<r;if(e.length!=n)throw new Error("Size must be multiple of 2");return J1(this,e,r,0,1)}ifft(e){if(e.length<=1)return e;const r=n6(e.length-1)+1;this._setRoots(r);const n=1<<r;if(e.length!=n)throw new Error("Size must be multiple of 2");const i=J1(this,e,r,0,1),a=this.F.inv(this.F.mulScalar(this.F.one,n)),o=new Array(n);for(let s=0;s<n;s++)o[s]=this.opMulGF(i[(n-s)%n],a);return o}}function n6(t){return(t&4294901760?(t&=4294901760,16):0)|(t&4278255360?(t&=4278255360,8):0)|(t&4042322160?(t&=4042322160,4):0)|(t&3435973836?(t&=3435973836,2):0)|(t&2863311530)!==0}function J1(t,e,r,n,i){const a=1<<r;if(a==1)return[e[n]];if(a==2)return[t.G.add(e[n],e[n+i]),t.G.sub(e[n],e[n+i])];const o=a>>1,s=J1(t,e,r-1,n,i*2),u=J1(t,e,r-1,n+i,i*2),l=new Array(a);for(let c=0;c<o;c++)l[c]=t.G.add(s[c],t.opMulGF(u[c],t.roots[r][c])),l[c+o]=t.G.sub(s[c],t.opMulGF(u[c],t.roots[r][c]));return l}class _8{constructor(e){this.type="F1",this.one=BigInt(1),this.zero=BigInt(0),this.p=BigInt(e),this.m=1,this.negone=this.p-this.one,this.two=BigInt(2),this.half=this.p>>this.one,this.bitLength=Nd(this.p),this.mask=(this.one<<BigInt(this.bitLength))-this.one,this.n64=Math.floor((this.bitLength-1)/64)+1,this.n32=this.n64*2,this.n8=this.n64*8,this.R=this.e(this.one<<BigInt(this.n64*64)),this.Ri=this.inv(this.R);const r=this.negone>>this.one;this.nqr=this.two;let n=this.pow(this.nqr,r);for(;!this.eq(n,this.negone);)this.nqr=this.nqr+this.one,n=this.pow(this.nqr,r);for(this.s=0,this.t=this.negone;(this.t&this.one)==this.zero;)this.s=this.s+1,this.t=this.t>>this.one;this.nqr_to_t=this.pow(this.nqr,this.t),JD(this),this.FFT=new cT(this,this,this.mul.bind(this)),this.fft=this.FFT.fft.bind(this.FFT),this.ifft=this.FFT.ifft.bind(this.FFT),this.w=this.FFT.w,this.wi=this.FFT.wi,this.shift=this.square(this.nqr),this.k=this.exp(this.nqr,2**this.s)}e(e,r){let n;if(r?r==16&&(n=BigInt("0x"+e)):n=BigInt(e),n<0){let i=-n;return i>=this.p&&(i=i%this.p),this.p-i}else return n>=this.p?n%this.p:n}add(e,r){const n=e+r;return n>=this.p?n-this.p:n}sub(e,r){return e>=r?e-r:this.p-r+e}neg(e){return e&&this.p-e}mul(e,r){return e*r%this.p}mulScalar(e,r){return e*this.e(r)%this.p}square(e){return e*e%this.p}eq(e,r){return e==r}neq(e,r){return e!=r}lt(e,r){const n=e>this.half?e-this.p:e,i=r>this.half?r-this.p:r;return n<i}gt(e,r){const n=e>this.half?e-this.p:e,i=r>this.half?r-this.p:r;return n>i}leq(e,r){const n=e>this.half?e-this.p:e,i=r>this.half?r-this.p:r;return n<=i}geq(e,r){const n=e>this.half?e-this.p:e,i=r>this.half?r-this.p:r;return n>=i}div(e,r){return this.mul(e,this.inv(r))}idiv(e,r){if(!r)throw new Error("Division by zero");return e/r}inv(e){if(!e)throw new Error("Division by zero");let r=this.zero,n=this.p,i=this.one,a=e%this.p;for(;a;){let o=n/a;[r,i]=[i,r-o*i],[n,a]=[a,n-o*a]}return r<this.zero&&(r+=this.p),r}mod(e,r){return e%r}pow(e,r){return r6(this,e,r)}exp(e,r){return r6(this,e,r)}band(e,r){const n=e&r&this.mask;return n>=this.p?n-this.p:n}bor(e,r){const n=(e|r)&this.mask;return n>=this.p?n-this.p:n}bxor(e,r){const n=(e^r)&this.mask;return n>=this.p?n-this.p:n}bnot(e){const r=e^this.mask;return r>=this.p?r-this.p:r}shl(e,r){if(Number(r)<this.bitLength){const n=e<<r&this.mask;return n>=this.p?n-this.p:n}else{const n=this.p-r;return Number(n)<this.bitLength?e>>n:this.zero}}shr(e,r){if(Number(r)<this.bitLength)return e>>r;{const n=this.p-r;if(Number(n)<this.bitLength){const i=e<<n&this.mask;return i>=this.p?i-this.p:i}else return 0}}land(e,r){return e&&r?this.one:this.zero}lor(e,r){return e||r?this.one:this.zero}lnot(e){return e?this.zero:this.one}sqrt_old(e){if(e==this.zero)return this.zero;if(this.pow(e,this.negone>>this.one)!=this.one)return null;let n=this.s,i=this.nqr_to_t,a=this.pow(e,this.t),o=this.pow(e,this.add(this.t,this.one)>>this.one);for(;a!=this.one;){let s=this.square(a),u=1;for(;s!=this.one;)u++,s=this.square(s);let l=i;for(let c=0;c<n-u-1;c++)l=this.square(l);n=u,i=this.square(l),a=this.mul(a,i),o=this.mul(o,l)}return o>this.p>>this.one&&(o=this.neg(o)),o}normalize(e,r){if(e=BigInt(e,r),e<0){let n=-e;return n>=this.p&&(n=n%this.p),this.p-n}else return e>=this.p?e%this.p:e}random(){const e=this.bitLength*2/8;let r=this.zero;for(let n=0;n<e;n++)r=(r<<BigInt(8))+BigInt(Dw(1)[0]);return r%this.p}toString(e,r){r=r||10;let n;return e>this.half&&r==10?n="-"+(this.p-e).toString(r):n=e.toString(r),n}isZero(e){return e==this.zero}fromRng(e){let r;do{r=this.zero;for(let n=0;n<this.n64;n++)r+=e.nextU64()<<BigInt(64*n);r&=this.mask}while(r>=this.p);return r=r*this.Ri%this.p,r}fft(e){return this.FFT.fft(e)}ifft(e){return this.FFT.ifft(e)}toRprLE(e,r,n){cd(e,r,n,this.n64*8)}toRprBE(e,r,n){Iw(e,r,n,this.n64*8)}toRprBEM(e,r,n){return this.toRprBE(e,r,this.mul(this.R,n))}toRprLEM(e,r,n){return this.toRprLE(e,r,this.mul(this.R,n))}fromRprLE(e,r){return ud(e,r,this.n8)}fromRprBE(e,r){return Lw(e,r,this.n8)}fromRprLEM(e,r){return this.mul(this.fromRprLE(e,r),this.Ri)}fromRprBEM(e,r){return this.mul(this.fromRprBE(e,r),this.Ri)}toObject(e){return e}}var G0={};G0.bigInt2BytesLE=function(e,r){const n=Array(r);let i=BigInt(e);for(let a=0;a<r;a++)n[a]=Number(i&0xFFn),i=i>>8n;return n};G0.bigInt2U32LE=function(e,r){const n=Array(r);let i=BigInt(e);for(let a=0;a<r;a++)n[a]=Number(i&0xFFFFFFFFn),i=i>>32n;return n};G0.isOcamNum=function(t){return!(!Array.isArray(t)||t.length!=3||typeof t[0]!="number"||typeof t[1]!="number"||!Array.isArray(t[2]))};var uT=function(e,r,n){const i=n||"int";if(e.modules[i])return i;e.modules[i]={};const a=r*2,o=r*8;function s(){const I=e.addFunction(i+"_copy");I.addParam("px","i32"),I.addParam("pr","i32");const v=I.getCodeBuilder();for(let A=0;A<r;A++)I.addCode(v.i64_store(v.getLocal("pr"),A*8,v.i64_load(v.getLocal("px"),A*8)))}function u(){const I=e.addFunction(i+"_zero");I.addParam("pr","i32");const v=I.getCodeBuilder();for(let A=0;A<r;A++)I.addCode(v.i64_store(v.getLocal("pr"),A*8,v.i64_const(0)))}function l(){const I=e.addFunction(i+"_one");I.addParam("pr","i32");const v=I.getCodeBuilder();I.addCode(v.i64_store(v.getLocal("pr"),0,v.i64_const(1)));for(let A=1;A<r;A++)I.addCode(v.i64_store(v.getLocal("pr"),A*8,v.i64_const(0)))}function c(){const I=e.addFunction(i+"_isZero");I.addParam("px","i32"),I.setReturnType("i32");const v=I.getCodeBuilder();function A(D){return D==0?v.ret(v.i64_eqz(v.i64_load(v.getLocal("px")))):v.if(v.i64_eqz(v.i64_load(v.getLocal("px"),D*8)),A(D-1),v.ret(v.i32_const(0)))}I.addCode(A(r-1)),I.addCode(v.ret(v.i32_const(0)))}function f(){const I=e.addFunction(i+"_eq");I.addParam("px","i32"),I.addParam("py","i32"),I.setReturnType("i32");const v=I.getCodeBuilder();function A(D){return D==0?v.ret(v.i64_eq(v.i64_load(v.getLocal("px")),v.i64_load(v.getLocal("py")))):v.if(v.i64_eq(v.i64_load(v.getLocal("px"),D*8),v.i64_load(v.getLocal("py"),D*8)),A(D-1),v.ret(v.i32_const(0)))}I.addCode(A(r-1)),I.addCode(v.ret(v.i32_const(0)))}function d(){const I=e.addFunction(i+"_gte");I.addParam("px","i32"),I.addParam("py","i32"),I.setReturnType("i32");const v=I.getCodeBuilder();function A(D){return D==0?v.ret(v.i64_ge_u(v.i64_load(v.getLocal("px")),v.i64_load(v.getLocal("py")))):v.if(v.i64_lt_u(v.i64_load(v.getLocal("px"),D*8),v.i64_load(v.getLocal("py"),D*8)),v.ret(v.i32_const(0)),v.if(v.i64_gt_u(v.i64_load(v.getLocal("px"),D*8),v.i64_load(v.getLocal("py"),D*8)),v.ret(v.i32_const(1)),A(D-1)))}I.addCode(A(r-1)),I.addCode(v.ret(v.i32_const(0)))}function h(){const I=e.addFunction(i+"_add");I.addParam("x","i32"),I.addParam("y","i32"),I.addParam("r","i32"),I.setReturnType("i32"),I.addLocal("c","i64");const v=I.getCodeBuilder();I.addCode(v.setLocal("c",v.i64_add(v.i64_load32_u(v.getLocal("x")),v.i64_load32_u(v.getLocal("y"))))),I.addCode(v.i64_store32(v.getLocal("r"),v.getLocal("c")));for(let A=1;A<a;A++)I.addCode(v.setLocal("c",v.i64_add(v.i64_add(v.i64_load32_u(v.getLocal("x"),4*A),v.i64_load32_u(v.getLocal("y"),4*A)),v.i64_shr_u(v.getLocal("c"),v.i64_const(32))))),I.addCode(v.i64_store32(v.getLocal("r"),A*4,v.getLocal("c")));I.addCode(v.i32_wrap_i64(v.i64_shr_u(v.getLocal("c"),v.i64_const(32))))}function y(){const I=e.addFunction(i+"_sub");I.addParam("x","i32"),I.addParam("y","i32"),I.addParam("r","i32"),I.setReturnType("i32"),I.addLocal("c","i64");const v=I.getCodeBuilder();I.addCode(v.setLocal("c",v.i64_sub(v.i64_load32_u(v.getLocal("x")),v.i64_load32_u(v.getLocal("y"))))),I.addCode(v.i64_store32(v.getLocal("r"),v.i64_and(v.getLocal("c"),v.i64_const("0xFFFFFFFF"))));for(let A=1;A<a;A++)I.addCode(v.setLocal("c",v.i64_add(v.i64_sub(v.i64_load32_u(v.getLocal("x"),4*A),v.i64_load32_u(v.getLocal("y"),4*A)),v.i64_shr_s(v.getLocal("c"),v.i64_const(32))))),I.addCode(v.i64_store32(v.getLocal("r"),A*4,v.i64_and(v.getLocal("c"),v.i64_const("0xFFFFFFFF"))));I.addCode(v.i32_wrap_i64(v.i64_shr_s(v.getLocal("c"),v.i64_const(32))))}function w(){const I=e.addFunction(i+"_mul");I.addParam("x","i32"),I.addParam("y","i32"),I.addParam("r","i32"),I.addLocal("c0","i64"),I.addLocal("c1","i64");for(let O=0;O<a;O++)I.addLocal("x"+O,"i64"),I.addLocal("y"+O,"i64");const v=I.getCodeBuilder(),A=[],D=[];function L(O,B){let C,N;return A[O]?C=v.getLocal("x"+O):(C=v.teeLocal("x"+O,v.i64_load32_u(v.getLocal("x"),O*4)),A[O]=!0),D[B]?N=v.getLocal("y"+B):(N=v.teeLocal("y"+B,v.i64_load32_u(v.getLocal("y"),B*4)),D[B]=!0),v.i64_mul(C,N)}let j="c0",Y="c1";for(let O=0;O<a*2-1;O++){for(let B=Math.max(0,O-a+1);B<=O&&B<a;B++){const C=O-B;I.addCode(v.setLocal(j,v.i64_add(v.i64_and(v.getLocal(j),v.i64_const(4294967295)),L(B,C)))),I.addCode(v.setLocal(Y,v.i64_add(v.getLocal(Y),v.i64_shr_u(v.getLocal(j),v.i64_const(32)))))}I.addCode(v.i64_store32(v.getLocal("r"),O*4,v.getLocal(j))),[j,Y]=[Y,j],I.addCode(v.setLocal(Y,v.i64_shr_u(v.getLocal(j),v.i64_const(32))))}I.addCode(v.i64_store32(v.getLocal("r"),a*4*2-4,v.getLocal(j)))}function _(){const I=e.addFunction(i+"_square");I.addParam("x","i32"),I.addParam("r","i32"),I.addLocal("c0","i64"),I.addLocal("c1","i64"),I.addLocal("c0_old","i64"),I.addLocal("c1_old","i64");for(let B=0;B<a;B++)I.addLocal("x"+B,"i64");const v=I.getCodeBuilder(),A=[];function D(B,C){let N,U;return A[B]?N=v.getLocal("x"+B):(N=v.teeLocal("x"+B,v.i64_load32_u(v.getLocal("x"),B*4)),A[B]=!0),A[C]?U=v.getLocal("x"+C):(U=v.teeLocal("x"+C,v.i64_load32_u(v.getLocal("x"),C*4)),A[C]=!0),v.i64_mul(N,U)}let L="c0",j="c1",Y="c0_old",O="c1_old";for(let B=0;B<a*2-1;B++){I.addCode(v.setLocal(L,v.i64_const(0)),v.setLocal(j,v.i64_const(0)));for(let C=Math.max(0,B-a+1);C<B+1>>1&&C<a;C++){const N=B-C;I.addCode(v.setLocal(L,v.i64_add(v.i64_and(v.getLocal(L),v.i64_const(4294967295)),D(C,N)))),I.addCode(v.setLocal(j,v.i64_add(v.getLocal(j),v.i64_shr_u(v.getLocal(L),v.i64_const(32)))))}I.addCode(v.setLocal(L,v.i64_shl(v.i64_and(v.getLocal(L),v.i64_const(4294967295)),v.i64_const(1)))),I.addCode(v.setLocal(j,v.i64_add(v.i64_shl(v.getLocal(j),v.i64_const(1)),v.i64_shr_u(v.getLocal(L),v.i64_const(32))))),B%2==0&&(I.addCode(v.setLocal(L,v.i64_add(v.i64_and(v.getLocal(L),v.i64_const(4294967295)),D(B>>1,B>>1)))),I.addCode(v.setLocal(j,v.i64_add(v.getLocal(j),v.i64_shr_u(v.getLocal(L),v.i64_const(32)))))),B>0&&(I.addCode(v.setLocal(L,v.i64_add(v.i64_and(v.getLocal(L),v.i64_const(4294967295)),v.i64_and(v.getLocal(Y),v.i64_const(4294967295))))),I.addCode(v.setLocal(j,v.i64_add(v.i64_add(v.getLocal(j),v.i64_shr_u(v.getLocal(L),v.i64_const(32))),v.getLocal(O))))),I.addCode(v.i64_store32(v.getLocal("r"),B*4,v.getLocal(L))),I.addCode(v.setLocal(Y,v.getLocal(j)),v.setLocal(O,v.i64_shr_u(v.getLocal(Y),v.i64_const(32))))}I.addCode(v.i64_store32(v.getLocal("r"),a*4*2-4,v.getLocal(Y)))}function E(){const I=e.addFunction(i+"_squareOld");I.addParam("x","i32"),I.addParam("r","i32");const v=I.getCodeBuilder();I.addCode(v.call(i+"_mul",v.getLocal("x"),v.getLocal("x"),v.getLocal("r")))}function p(){const I=e.addFunction(i+"__mul1");I.addParam("px","i32"),I.addParam("y","i64"),I.addParam("pr","i32"),I.addLocal("c","i64");const v=I.getCodeBuilder();I.addCode(v.setLocal("c",v.i64_mul(v.i64_load32_u(v.getLocal("px"),0,0),v.getLocal("y")))),I.addCode(v.i64_store32(v.getLocal("pr"),0,0,v.getLocal("c")));for(let A=1;A<a;A++)I.addCode(v.setLocal("c",v.i64_add(v.i64_mul(v.i64_load32_u(v.getLocal("px"),4*A,0),v.getLocal("y")),v.i64_shr_u(v.getLocal("c"),v.i64_const(32))))),I.addCode(v.i64_store32(v.getLocal("pr"),A*4,0,v.getLocal("c")))}function m(){const I=e.addFunction(i+"__add1");I.addParam("x","i32"),I.addParam("y","i64"),I.addLocal("c","i64"),I.addLocal("px","i32");const v=I.getCodeBuilder();I.addCode(v.setLocal("px",v.getLocal("x"))),I.addCode(v.setLocal("c",v.i64_add(v.i64_load32_u(v.getLocal("px"),0,0),v.getLocal("y")))),I.addCode(v.i64_store32(v.getLocal("px"),0,0,v.getLocal("c"))),I.addCode(v.setLocal("c",v.i64_shr_u(v.getLocal("c"),v.i64_const(32)))),I.addCode(v.block(v.loop(v.br_if(1,v.i64_eqz(v.getLocal("c"))),v.setLocal("px",v.i32_add(v.getLocal("px"),v.i32_const(4))),v.setLocal("c",v.i64_add(v.i64_load32_u(v.getLocal("px"),0,0),v.getLocal("c"))),v.i64_store32(v.getLocal("px"),0,0,v.getLocal("c")),v.setLocal("c",v.i64_shr_u(v.getLocal("c"),v.i64_const(32))),v.br(0))))}function S(){p(),m();const I=e.addFunction(i+"_div");I.addParam("x","i32"),I.addParam("y","i32"),I.addParam("c","i32"),I.addParam("r","i32"),I.addLocal("rr","i32"),I.addLocal("cc","i32"),I.addLocal("eX","i32"),I.addLocal("eY","i32"),I.addLocal("sy","i64"),I.addLocal("sx","i64"),I.addLocal("ec","i32");const v=I.getCodeBuilder(),A=v.i32_const(e.alloc(o)),D=v.i32_const(e.alloc(o)),L=v.i32_const(e.alloc(o)),j=v.getLocal("cc"),Y=v.getLocal("rr"),O=e.alloc(o*2),B=v.i32_const(O),C=v.i32_const(O+o);I.addCode(v.if(v.getLocal("c"),v.setLocal("cc",v.getLocal("c")),v.setLocal("cc",D))),I.addCode(v.if(v.getLocal("r"),v.setLocal("rr",v.getLocal("r")),v.setLocal("rr",L))),I.addCode(v.call(i+"_copy",v.getLocal("x"),Y)),I.addCode(v.call(i+"_copy",v.getLocal("y"),A)),I.addCode(v.call(i+"_zero",j)),I.addCode(v.call(i+"_zero",B)),I.addCode(v.setLocal("eX",v.i32_const(o-1))),I.addCode(v.setLocal("eY",v.i32_const(o-1))),I.addCode(v.block(v.loop(v.br_if(1,v.i32_or(v.i32_load8_u(v.i32_add(A,v.getLocal("eY")),0,0),v.i32_eq(v.getLocal("eY"),v.i32_const(3)))),v.setLocal("eY",v.i32_sub(v.getLocal("eY"),v.i32_const(1))),v.br(0)))),I.addCode(v.setLocal("sy",v.i64_add(v.i64_load32_u(v.i32_sub(v.i32_add(A,v.getLocal("eY")),v.i32_const(3)),0,0),v.i64_const(1)))),I.addCode(v.if(v.i64_eq(v.getLocal("sy"),v.i64_const(1)),v.drop(v.i64_div_u(v.i64_const(0),v.i64_const(0))))),I.addCode(v.block(v.loop(v.block(v.loop(v.br_if(1,v.i32_or(v.i32_load8_u(v.i32_add(Y,v.getLocal("eX")),0,0),v.i32_eq(v.getLocal("eX"),v.i32_const(7)))),v.setLocal("eX",v.i32_sub(v.getLocal("eX"),v.i32_const(1))),v.br(0))),v.setLocal("sx",v.i64_load(v.i32_sub(v.i32_add(Y,v.getLocal("eX")),v.i32_const(7)),0,0)),v.setLocal("sx",v.i64_div_u(v.getLocal("sx"),v.getLocal("sy"))),v.setLocal("ec",v.i32_sub(v.i32_sub(v.getLocal("eX"),v.getLocal("eY")),v.i32_const(4))),v.block(v.loop(v.br_if(1,v.i32_and(v.i64_eqz(v.i64_and(v.getLocal("sx"),v.i64_const("0xFFFFFFFF00000000"))),v.i32_ge_s(v.getLocal("ec"),v.i32_const(0)))),v.setLocal("sx",v.i64_shr_u(v.getLocal("sx"),v.i64_const(8))),v.setLocal("ec",v.i32_add(v.getLocal("ec"),v.i32_const(1))),v.br(0))),v.if(v.i64_eqz(v.getLocal("sx")),[...v.br_if(2,v.i32_eqz(v.call(i+"_gte",Y,A))),...v.setLocal("sx",v.i64_const(1)),...v.setLocal("ec",v.i32_const(0))]),v.call(i+"__mul1",A,v.getLocal("sx"),C),v.drop(v.call(i+"_sub",Y,v.i32_sub(C,v.getLocal("ec")),Y)),v.call(i+"__add1",v.i32_add(j,v.getLocal("ec")),v.getLocal("sx")),v.br(0))))}function F(){const I=e.addFunction(i+"_inverseMod");I.addParam("px","i32"),I.addParam("pm","i32"),I.addParam("pr","i32"),I.addLocal("t","i32"),I.addLocal("newt","i32"),I.addLocal("r","i32"),I.addLocal("qq","i32"),I.addLocal("qr","i32"),I.addLocal("newr","i32"),I.addLocal("swp","i32"),I.addLocal("x","i32"),I.addLocal("signt","i32"),I.addLocal("signnewt","i32"),I.addLocal("signx","i32");const v=I.getCodeBuilder(),A=v.i32_const(e.alloc(o)),D=v.i32_const(e.alloc(o)),L=v.i32_const(e.alloc(o)),j=v.i32_const(e.alloc(o)),Y=v.i32_const(e.alloc(o)),O=v.i32_const(e.alloc(o)),B=v.i32_const(e.alloc(o*2)),C=v.i32_const(e.alloc(o));I.addCode(v.setLocal("t",A),v.call(i+"_zero",A),v.setLocal("signt",v.i32_const(0))),I.addCode(v.setLocal("r",D),v.call(i+"_copy",v.getLocal("pm"),D)),I.addCode(v.setLocal("newt",L),v.call(i+"_one",L),v.setLocal("signnewt",v.i32_const(0))),I.addCode(v.setLocal("newr",j),v.call(i+"_copy",v.getLocal("px"),j)),I.addCode(v.setLocal("qq",Y)),I.addCode(v.setLocal("qr",O)),I.addCode(v.setLocal("x",C)),I.addCode(v.block(v.loop(v.br_if(1,v.call(i+"_isZero",v.getLocal("newr"))),v.call(i+"_div",v.getLocal("r"),v.getLocal("newr"),v.getLocal("qq"),v.getLocal("qr")),v.call(i+"_mul",v.getLocal("qq"),v.getLocal("newt"),B),v.if(v.getLocal("signt"),v.if(v.getLocal("signnewt"),v.if(v.call(i+"_gte",B,v.getLocal("t")),[...v.drop(v.call(i+"_sub",B,v.getLocal("t"),v.getLocal("x"))),...v.setLocal("signx",v.i32_const(0))],[...v.drop(v.call(i+"_sub",v.getLocal("t"),B,v.getLocal("x"))),...v.setLocal("signx",v.i32_const(1))]),[...v.drop(v.call(i+"_add",B,v.getLocal("t"),v.getLocal("x"))),...v.setLocal("signx",v.i32_const(1))]),v.if(v.getLocal("signnewt"),[...v.drop(v.call(i+"_add",B,v.getLocal("t"),v.getLocal("x"))),...v.setLocal("signx",v.i32_const(0))],v.if(v.call(i+"_gte",v.getLocal("t"),B),[...v.drop(v.call(i+"_sub",v.getLocal("t"),B,v.getLocal("x"))),...v.setLocal("signx",v.i32_const(0))],[...v.drop(v.call(i+"_sub",B,v.getLocal("t"),v.getLocal("x"))),...v.setLocal("signx",v.i32_const(1))]))),v.setLocal("swp",v.getLocal("t")),v.setLocal("t",v.getLocal("newt")),v.setLocal("newt",v.getLocal("x")),v.setLocal("x",v.getLocal("swp")),v.setLocal("signt",v.getLocal("signnewt")),v.setLocal("signnewt",v.getLocal("signx")),v.setLocal("swp",v.getLocal("r")),v.setLocal("r",v.getLocal("newr")),v.setLocal("newr",v.getLocal("qr")),v.setLocal("qr",v.getLocal("swp")),v.br(0)))),I.addCode(v.if(v.getLocal("signt"),v.drop(v.call(i+"_sub",v.getLocal("pm"),v.getLocal("t"),v.getLocal("pr"))),v.call(i+"_copy",v.getLocal("t"),v.getLocal("pr"))))}return s(),u(),c(),l(),f(),d(),h(),y(),w(),_(),E(),S(),F(),e.exportFunction(i+"_copy"),e.exportFunction(i+"_zero"),e.exportFunction(i+"_one"),e.exportFunction(i+"_isZero"),e.exportFunction(i+"_eq"),e.exportFunction(i+"_gte"),e.exportFunction(i+"_add"),e.exportFunction(i+"_sub"),e.exportFunction(i+"_mul"),e.exportFunction(i+"_square"),e.exportFunction(i+"_squareOld"),e.exportFunction(i+"_div"),e.exportFunction(i+"_inverseMod"),i},B8=function(e,r,n,i,a,o,s){const u=e.addFunction(r);u.addParam("base","i32"),u.addParam("scalar","i32"),u.addParam("scalarLength","i32"),u.addParam("r","i32"),u.addLocal("i","i32"),u.addLocal("b","i32");const l=u.getCodeBuilder(),c=l.i32_const(e.alloc(n));u.addCode(l.if(l.i32_eqz(l.getLocal("scalarLength")),[...l.call(s,l.getLocal("r")),...l.ret([])])),u.addCode(l.call(o,l.getLocal("base"),c)),u.addCode(l.call(s,l.getLocal("r"))),u.addCode(l.setLocal("i",l.getLocal("scalarLength"))),u.addCode(l.block(l.loop(l.setLocal("i",l.i32_sub(l.getLocal("i"),l.i32_const(1))),l.setLocal("b",l.i32_load8_u(l.i32_add(l.getLocal("scalar"),l.getLocal("i")))),...f(),l.br_if(1,l.i32_eqz(l.getLocal("i"))),l.br(0))));function f(){const d=[];for(let h=0;h<8;h++)d.push(...l.call(a,l.getLocal("r"),l.getLocal("r")),...l.if(l.i32_ge_u(l.getLocal("b"),l.i32_const(128>>h)),[...l.setLocal("b",l.i32_sub(l.getLocal("b"),l.i32_const(128>>h))),...l.call(i,l.getLocal("r"),c,l.getLocal("r"))]));return d}},b8=fT;function fT(t,e){const r=t.modules[e].n64*8,n=t.addFunction(e+"_batchInverse");n.addParam("pIn","i32"),n.addParam("inStep","i32"),n.addParam("n","i32"),n.addParam("pOut","i32"),n.addParam("outStep","i32"),n.addLocal("itAux","i32"),n.addLocal("itIn","i32"),n.addLocal("itOut","i32"),n.addLocal("i","i32");const i=n.getCodeBuilder(),a=i.i32_const(t.alloc(r));n.addCode(i.setLocal("itAux",i.i32_load(i.i32_const(0))),i.i32_store(i.i32_const(0),i.i32_add(i.getLocal("itAux"),i.i32_mul(i.i32_add(i.getLocal("n"),i.i32_const(1)),i.i32_const(r))))),n.addCode(i.call(e+"_one",i.getLocal("itAux")),i.setLocal("itIn",i.getLocal("pIn")),i.setLocal("itAux",i.i32_add(i.getLocal("itAux"),i.i32_const(r))),i.setLocal("i",i.i32_const(0)),i.block(i.loop(i.br_if(1,i.i32_eq(i.getLocal("i"),i.getLocal("n"))),i.if(i.call(e+"_isZero",i.getLocal("itIn")),i.call(e+"_copy",i.i32_sub(i.getLocal("itAux"),i.i32_const(r)),i.getLocal("itAux")),i.call(e+"_mul",i.getLocal("itIn"),i.i32_sub(i.getLocal("itAux"),i.i32_const(r)),i.getLocal("itAux"))),i.setLocal("itIn",i.i32_add(i.getLocal("itIn"),i.getLocal("inStep"))),i.setLocal("itAux",i.i32_add(i.getLocal("itAux"),i.i32_const(r))),i.setLocal("i",i.i32_add(i.getLocal("i"),i.i32_const(1))),i.br(0))),i.setLocal("itIn",i.i32_sub(i.getLocal("itIn"),i.getLocal("inStep"))),i.setLocal("itAux",i.i32_sub(i.getLocal("itAux"),i.i32_const(r))),i.setLocal("itOut",i.i32_add(i.getLocal("pOut"),i.i32_mul(i.i32_sub(i.getLocal("n"),i.i32_const(1)),i.getLocal("outStep")))),i.call(e+"_inverse",i.getLocal("itAux"),i.getLocal("itAux")),i.block(i.loop(i.br_if(1,i.i32_eqz(i.getLocal("i"))),i.if(i.call(e+"_isZero",i.getLocal("itIn")),[...i.call(e+"_copy",i.getLocal("itAux"),i.i32_sub(i.getLocal("itAux"),i.i32_const(r))),...i.call(e+"_zero",i.getLocal("itOut"))],[...i.call(e+"_copy",i.i32_sub(i.getLocal("itAux"),i.i32_const(r)),a),...i.call(e+"_mul",i.getLocal("itAux"),i.getLocal("itIn"),i.i32_sub(i.getLocal("itAux"),i.i32_const(r))),...i.call(e+"_mul",i.getLocal("itAux"),a,i.getLocal("itOut"))]),i.setLocal("itIn",i.i32_sub(i.getLocal("itIn"),i.getLocal("inStep"))),i.setLocal("itOut",i.i32_sub(i.getLocal("itOut"),i.getLocal("outStep"))),i.setLocal("itAux",i.i32_sub(i.getLocal("itAux"),i.i32_const(r))),i.setLocal("i",i.i32_sub(i.getLocal("i"),i.i32_const(1))),i.br(0)))),n.addCode(i.i32_store(i.i32_const(0),i.getLocal("itAux")))}var Tw=dT;function dT(t,e,r,n,i,a){typeof a>"u"&&(n<i?a=!0:a=!1);const o=t.addFunction(e);o.addParam("pIn","i32"),o.addParam("n","i32"),o.addParam("pOut","i32"),o.addLocal("i","i32"),o.addLocal("itIn","i32"),o.addLocal("itOut","i32");const s=o.getCodeBuilder();a?o.addCode(s.setLocal("itIn",s.i32_add(s.getLocal("pIn"),s.i32_mul(s.i32_sub(s.getLocal("n"),s.i32_const(1)),s.i32_const(n)))),s.setLocal("itOut",s.i32_add(s.getLocal("pOut"),s.i32_mul(s.i32_sub(s.getLocal("n"),s.i32_const(1)),s.i32_const(i)))),s.setLocal("i",s.i32_const(0)),s.block(s.loop(s.br_if(1,s.i32_eq(s.getLocal("i"),s.getLocal("n"))),s.call(r,s.getLocal("itIn"),s.getLocal("itOut")),s.setLocal("itIn",s.i32_sub(s.getLocal("itIn"),s.i32_const(n))),s.setLocal("itOut",s.i32_sub(s.getLocal("itOut"),s.i32_const(i))),s.setLocal("i",s.i32_add(s.getLocal("i"),s.i32_const(1))),s.br(0)))):o.addCode(s.setLocal("itIn",s.getLocal("pIn")),s.setLocal("itOut",s.getLocal("pOut")),s.setLocal("i",s.i32_const(0)),s.block(s.loop(s.br_if(1,s.i32_eq(s.getLocal("i"),s.getLocal("n"))),s.call(r,s.getLocal("itIn"),s.getLocal("itOut")),s.setLocal("itIn",s.i32_add(s.getLocal("itIn"),s.i32_const(n))),s.setLocal("itOut",s.i32_add(s.getLocal("itOut"),s.i32_const(i))),s.setLocal("i",s.i32_add(s.getLocal("i"),s.i32_const(1))),s.br(0))))}var hT=xT;function xT(t,e,r,n,i,a){typeof a>"u"&&(n<i?a=!0:a=!1);const o=t.addFunction(e);o.addParam("pIn1","i32"),o.addParam("pIn2","i32"),o.addParam("n","i32"),o.addParam("pOut","i32"),o.addLocal("i","i32"),o.addLocal("itIn1","i32"),o.addLocal("itIn2","i32"),o.addLocal("itOut","i32");const s=o.getCodeBuilder();a?o.addCode(s.setLocal("itIn1",s.i32_add(s.getLocal("pIn1"),s.i32_mul(s.i32_sub(s.getLocal("n"),s.i32_const(1)),s.i32_const(n)))),s.setLocal("itIn2",s.i32_add(s.getLocal("pIn2"),s.i32_mul(s.i32_sub(s.getLocal("n"),s.i32_const(1)),s.i32_const(n)))),s.setLocal("itOut",s.i32_add(s.getLocal("pOut"),s.i32_mul(s.i32_sub(s.getLocal("n"),s.i32_const(1)),s.i32_const(i)))),s.setLocal("i",s.i32_const(0)),s.block(s.loop(s.br_if(1,s.i32_eq(s.getLocal("i"),s.getLocal("n"))),s.call(r,s.getLocal("itIn1"),s.getLocal("itIn2"),s.getLocal("itOut")),s.setLocal("itIn1",s.i32_sub(s.getLocal("itIn1"),s.i32_const(n))),s.setLocal("itIn2",s.i32_sub(s.getLocal("itIn2"),s.i32_const(n))),s.setLocal("itOut",s.i32_sub(s.getLocal("itOut"),s.i32_const(i))),s.setLocal("i",s.i32_add(s.getLocal("i"),s.i32_const(1))),s.br(0)))):o.addCode(s.setLocal("itIn1",s.getLocal("pIn1")),s.setLocal("itIn2",s.getLocal("pIn2")),s.setLocal("itOut",s.getLocal("pOut")),s.setLocal("i",s.i32_const(0)),s.block(s.loop(s.br_if(1,s.i32_eq(s.getLocal("i"),s.getLocal("n"))),s.call(r,s.getLocal("itIn1"),s.getLocal("itIn2"),s.getLocal("itOut")),s.setLocal("itIn1",s.i32_add(s.getLocal("itIn1"),s.i32_const(n))),s.setLocal("itIn2",s.i32_add(s.getLocal("itIn2"),s.i32_const(n))),s.setLocal("itOut",s.i32_add(s.getLocal("itOut"),s.i32_const(i))),s.setLocal("i",s.i32_add(s.getLocal("i"),s.i32_const(1))),s.br(0))))}var _i={};function kw(t,e){return t===e?0:t>e?1:-1}function S8(t){return t*t}function Nw(t){return t%2n!==0n}function I8(t){return t%2n===0n}function fp(t){return t<0n}function pT(t){return t>0n}function Pw(t){return fp(t)?t.toString(2).length-1:t.toString(2).length}function Rd(t){return t<0n?-t:t}function Qc(t){return Rd(t)===1n}function Rw(t,e){for(var r=0n,n=1n,i=e,a=Rd(t),o,s,u;a!==0n;)o=i/a,s=r,u=i,r=n,i=a,n=s-o*n,a=u-o*a;if(!Qc(i))throw new Error(t.toString()+" and "+e.toString()+" are not co-prime");return kw(r,0n)===-1&&(r=r+e),fp(t)?-r:r}function Mw(t,e,r){if(r===0n)throw new Error("Cannot take modPow with modulus 0");var n=1n,i=t%r;for(fp(e)&&(e=e*-1n,i=Rw(i,r));pT(e);){if(i===0n)return 0n;Nw(e)&&(n=n*i%r),e=e/2n,i=S8(i)%r}return n}function gT(t,e){return t=t>=0n?t:-t,e=e>=0n?e:-e,t===e?0:t>e?1:-1}function i6(t,e){return e===0n?!1:Qc(e)?!0:gT(e,2n)===0?I8(t):t%e===0n}function mT(t){var e=Rd(t);if(Qc(e))return!1;if(e===2n||e===3n||e===5n)return!0;if(I8(e)||i6(e,3n)||i6(e,5n))return!1;if(e<49n)return!0}function yT(t){return t-1n}function a6(t,e){for(var r=yT(t),n=r,i=0,a,o,s;I8(n);)n=n/2n,i++;e:for(o=0;o<e.length;o++)if(!(t<e[o])&&(s=Mw(BigInt(e[o]),n,t),!(Qc(s)||s===r))){for(a=i-1;a!=0;a--){if(s=S8(s)%t,Qc(s))return!1;if(s===r)continue e}return!1}return!0}function vT(t){var e=mT(t);if(e!==void 0)return e;var r=Rd(t),n=Pw(r);if(n<=64)return a6(r,[2,3,5,7,11,13,17,19,23,29,31,37]);for(var i=Math.log(2)*Number(n),a=Math.ceil(i),o=[],s=0;s<a;s++)o.push(BigInt(s+2));return a6(r,o)}_i.bitLength=Pw;_i.isOdd=Nw;_i.isNegative=fp;_i.abs=Rd;_i.isUnit=Qc;_i.compare=kw;_i.modInv=Rw;_i.modPow=Mw;_i.isPrime=vT;_i.square=S8;const ET=uT,Xo=G0,CT=B8,AT=b8,P2=Tw,R2=hT,{bitLength:wT,modInv:M2,modPow:o6,isPrime:s6,isOdd:_T,square:BT}=_i;var L8=function(e,r,n,i){const a=BigInt(r),o=Math.floor((wT(a-1n)-1)/64)+1,s=o*2,u=o*8,l=n||"f1m";if(e.modules[l])return l;const c=ET(e,o,i),f=e.alloc(u,Xo.bigInt2BytesLE(a,u)),d=e.alloc(Xo.bigInt2BytesLE(BT(1n<<BigInt(o*64))%a,u)),h=e.alloc(Xo.bigInt2BytesLE((1n<<BigInt(o*64))%a,u)),y=e.alloc(Xo.bigInt2BytesLE(0n,u)),w=a-1n,_=w>>1n,E=e.alloc(u,Xo.bigInt2BytesLE(_,u)),p=_+1n,m=e.alloc(u,Xo.bigInt2BytesLE(p,u));e.modules[l]={pq:f,pR2:d,n64:o,q:a,pOne:h,pZero:y,pePlusOne:m};function S(){const V=e.addFunction(l+"_one");V.addParam("pr","i32");const g=V.getCodeBuilder();V.addCode(g.call(c+"_copy",g.i32_const(h),g.getLocal("pr")))}function F(){const V=e.addFunction(l+"_add");V.addParam("x","i32"),V.addParam("y","i32"),V.addParam("r","i32");const g=V.getCodeBuilder();V.addCode(g.if(g.call(c+"_add",g.getLocal("x"),g.getLocal("y"),g.getLocal("r")),g.drop(g.call(c+"_sub",g.getLocal("r"),g.i32_const(f),g.getLocal("r"))),g.if(g.call(c+"_gte",g.getLocal("r"),g.i32_const(f)),g.drop(g.call(c+"_sub",g.getLocal("r"),g.i32_const(f),g.getLocal("r"))))))}function I(){const V=e.addFunction(l+"_sub");V.addParam("x","i32"),V.addParam("y","i32"),V.addParam("r","i32");const g=V.getCodeBuilder();V.addCode(g.if(g.call(c+"_sub",g.getLocal("x"),g.getLocal("y"),g.getLocal("r")),g.drop(g.call(c+"_add",g.getLocal("r"),g.i32_const(f),g.getLocal("r")))))}function v(){const V=e.addFunction(l+"_neg");V.addParam("x","i32"),V.addParam("r","i32");const g=V.getCodeBuilder();V.addCode(g.call(l+"_sub",g.i32_const(y),g.getLocal("x"),g.getLocal("r")))}function A(){const V=e.addFunction(l+"_isNegative");V.addParam("x","i32"),V.setReturnType("i32");const g=V.getCodeBuilder(),M=g.i32_const(e.alloc(u));V.addCode(g.call(l+"_fromMontgomery",g.getLocal("x"),M),g.call(c+"_gte",M,g.i32_const(m)))}function D(){const V=e.addFunction(l+"_sign");V.addParam("x","i32"),V.setReturnType("i32");const g=V.getCodeBuilder(),M=g.i32_const(e.alloc(u));V.addCode(g.if(g.call(c+"_isZero",g.getLocal("x")),g.ret(g.i32_const(0))),g.call(l+"_fromMontgomery",g.getLocal("x"),M),g.if(g.call(c+"_gte",M,g.i32_const(m)),g.ret(g.i32_const(-1))),g.ret(g.i32_const(1)))}function L(){const V=e.alloc(s*s*8),g=e.addFunction(l+"_mReduct");g.addParam("t","i32"),g.addParam("r","i32"),g.addLocal("np32","i64"),g.addLocal("c","i64"),g.addLocal("m","i64");const M=g.getCodeBuilder(),Q=Number(0x100000000n-M2(a,0x100000000n));g.addCode(M.setLocal("np32",M.i64_const(Q)));for(let k=0;k<s;k++){g.addCode(M.setLocal("c",M.i64_const(0))),g.addCode(M.setLocal("m",M.i64_and(M.i64_mul(M.i64_load32_u(M.getLocal("t"),k*4),M.getLocal("np32")),M.i64_const("0xFFFFFFFF"))));for(let K=0;K<s;K++)g.addCode(M.setLocal("c",M.i64_add(M.i64_add(M.i64_load32_u(M.getLocal("t"),(k+K)*4),M.i64_shr_u(M.getLocal("c"),M.i64_const(32))),M.i64_mul(M.i64_load32_u(M.i32_const(f),K*4),M.getLocal("m"))))),g.addCode(M.i64_store32(M.getLocal("t"),(k+K)*4,M.getLocal("c")));g.addCode(M.i64_store32(M.i32_const(V),k*4,M.i64_shr_u(M.getLocal("c"),M.i64_const(32))))}g.addCode(M.call(l+"_add",M.i32_const(V),M.i32_add(M.getLocal("t"),M.i32_const(s*4)),M.getLocal("r")))}function j(){const V=e.addFunction(l+"_mul");V.addParam("x","i32"),V.addParam("y","i32"),V.addParam("r","i32"),V.addLocal("c0","i64"),V.addLocal("c1","i64"),V.addLocal("np32","i64");for(let fe=0;fe<s;fe++)V.addLocal("x"+fe,"i64"),V.addLocal("y"+fe,"i64"),V.addLocal("m"+fe,"i64"),V.addLocal("q"+fe,"i64");const g=V.getCodeBuilder(),M=Number(0x100000000n-M2(a,0x100000000n));V.addCode(g.setLocal("np32",g.i64_const(M)));const Q=[],k=[],K=[];function ie(fe,ce){let Ae,Fe;return Q[fe]?Ae=g.getLocal("x"+fe):(Ae=g.teeLocal("x"+fe,g.i64_load32_u(g.getLocal("x"),fe*4)),Q[fe]=!0),k[ce]?Fe=g.getLocal("y"+ce):(Fe=g.teeLocal("y"+ce,g.i64_load32_u(g.getLocal("y"),ce*4)),k[ce]=!0),g.i64_mul(Ae,Fe)}function ne(fe,ce){let Ae,Fe;return K[fe]?Ae=g.getLocal("q"+fe):(Ae=g.teeLocal("q"+fe,g.i64_load32_u(g.i32_const(0),f+fe*4)),K[fe]=!0),Fe=g.getLocal("m"+ce),g.i64_mul(Ae,Fe)}let le="c0",he="c1";for(let fe=0;fe<s*2-1;fe++){for(let ce=Math.max(0,fe-s+1);ce<=fe&&ce<s;ce++){const Ae=fe-ce;V.addCode(g.setLocal(le,g.i64_add(g.i64_and(g.getLocal(le),g.i64_const(4294967295)),ie(ce,Ae)))),V.addCode(g.setLocal(he,g.i64_add(g.getLocal(he),g.i64_shr_u(g.getLocal(le),g.i64_const(32)))))}for(let ce=Math.max(1,fe-s+1);ce<=fe&&ce<s;ce++){const Ae=fe-ce;V.addCode(g.setLocal(le,g.i64_add(g.i64_and(g.getLocal(le),g.i64_const(4294967295)),ne(ce,Ae)))),V.addCode(g.setLocal(he,g.i64_add(g.getLocal(he),g.i64_shr_u(g.getLocal(le),g.i64_const(32)))))}fe<s&&(V.addCode(g.setLocal("m"+fe,g.i64_and(g.i64_mul(g.i64_and(g.getLocal(le),g.i64_const(4294967295)),g.getLocal("np32")),g.i64_const("0xFFFFFFFF")))),V.addCode(g.setLocal(le,g.i64_add(g.i64_and(g.getLocal(le),g.i64_const(4294967295)),ne(0,fe)))),V.addCode(g.setLocal(he,g.i64_add(g.getLocal(he),g.i64_shr_u(g.getLocal(le),g.i64_const(32)))))),fe>=s&&V.addCode(g.i64_store32(g.getLocal("r"),(fe-s)*4,g.getLocal(le))),[le,he]=[he,le],V.addCode(g.setLocal(he,g.i64_shr_u(g.getLocal(le),g.i64_const(32))))}V.addCode(g.i64_store32(g.getLocal("r"),s*4-4,g.getLocal(le))),V.addCode(g.if(g.i32_wrap_i64(g.getLocal(he)),g.drop(g.call(c+"_sub",g.getLocal("r"),g.i32_const(f),g.getLocal("r"))),g.if(g.call(c+"_gte",g.getLocal("r"),g.i32_const(f)),g.drop(g.call(c+"_sub",g.getLocal("r"),g.i32_const(f),g.getLocal("r"))))))}function Y(){const V=e.addFunction(l+"_square");V.addParam("x","i32"),V.addParam("r","i32"),V.addLocal("c0","i64"),V.addLocal("c1","i64"),V.addLocal("c0_old","i64"),V.addLocal("c1_old","i64"),V.addLocal("np32","i64");for(let ce=0;ce<s;ce++)V.addLocal("x"+ce,"i64"),V.addLocal("m"+ce,"i64"),V.addLocal("q"+ce,"i64");const g=V.getCodeBuilder(),M=Number(0x100000000n-M2(a,0x100000000n));V.addCode(g.setLocal("np32",g.i64_const(M)));const Q=[],k=[];function K(ce,Ae){let Fe,Me;return Q[ce]?Fe=g.getLocal("x"+ce):(Fe=g.teeLocal("x"+ce,g.i64_load32_u(g.getLocal("x"),ce*4)),Q[ce]=!0),Q[Ae]?Me=g.getLocal("x"+Ae):(Me=g.teeLocal("x"+Ae,g.i64_load32_u(g.getLocal("x"),Ae*4)),Q[Ae]=!0),g.i64_mul(Fe,Me)}function ie(ce,Ae){let Fe,Me;return k[ce]?Fe=g.getLocal("q"+ce):(Fe=g.teeLocal("q"+ce,g.i64_load32_u(g.i32_const(0),f+ce*4)),k[ce]=!0),Me=g.getLocal("m"+Ae),g.i64_mul(Fe,Me)}let ne="c0",le="c1",he="c0_old",fe="c1_old";for(let ce=0;ce<s*2-1;ce++){V.addCode(g.setLocal(ne,g.i64_const(0)),g.setLocal(le,g.i64_const(0)));for(let Ae=Math.max(0,ce-s+1);Ae<ce+1>>1&&Ae<s;Ae++){const Fe=ce-Ae;V.addCode(g.setLocal(ne,g.i64_add(g.i64_and(g.getLocal(ne),g.i64_const(4294967295)),K(Ae,Fe)))),V.addCode(g.setLocal(le,g.i64_add(g.getLocal(le),g.i64_shr_u(g.getLocal(ne),g.i64_const(32)))))}V.addCode(g.setLocal(ne,g.i64_shl(g.i64_and(g.getLocal(ne),g.i64_const(4294967295)),g.i64_const(1)))),V.addCode(g.setLocal(le,g.i64_add(g.i64_shl(g.getLocal(le),g.i64_const(1)),g.i64_shr_u(g.getLocal(ne),g.i64_const(32))))),ce%2==0&&(V.addCode(g.setLocal(ne,g.i64_add(g.i64_and(g.getLocal(ne),g.i64_const(4294967295)),K(ce>>1,ce>>1)))),V.addCode(g.setLocal(le,g.i64_add(g.getLocal(le),g.i64_shr_u(g.getLocal(ne),g.i64_const(32)))))),ce>0&&(V.addCode(g.setLocal(ne,g.i64_add(g.i64_and(g.getLocal(ne),g.i64_const(4294967295)),g.i64_and(g.getLocal(he),g.i64_const(4294967295))))),V.addCode(g.setLocal(le,g.i64_add(g.i64_add(g.getLocal(le),g.i64_shr_u(g.getLocal(ne),g.i64_const(32))),g.getLocal(fe)))));for(let Ae=Math.max(1,ce-s+1);Ae<=ce&&Ae<s;Ae++){const Fe=ce-Ae;V.addCode(g.setLocal(ne,g.i64_add(g.i64_and(g.getLocal(ne),g.i64_const(4294967295)),ie(Ae,Fe)))),V.addCode(g.setLocal(le,g.i64_add(g.getLocal(le),g.i64_shr_u(g.getLocal(ne),g.i64_const(32)))))}ce<s&&(V.addCode(g.setLocal("m"+ce,g.i64_and(g.i64_mul(g.i64_and(g.getLocal(ne),g.i64_const(4294967295)),g.getLocal("np32")),g.i64_const("0xFFFFFFFF")))),V.addCode(g.setLocal(ne,g.i64_add(g.i64_and(g.getLocal(ne),g.i64_const(4294967295)),ie(0,ce)))),V.addCode(g.setLocal(le,g.i64_add(g.getLocal(le),g.i64_shr_u(g.getLocal(ne),g.i64_const(32)))))),ce>=s&&V.addCode(g.i64_store32(g.getLocal("r"),(ce-s)*4,g.getLocal(ne))),V.addCode(g.setLocal(he,g.getLocal(le)),g.setLocal(fe,g.i64_shr_u(g.getLocal(he),g.i64_const(32))))}V.addCode(g.i64_store32(g.getLocal("r"),s*4-4,g.getLocal(he))),V.addCode(g.if(g.i32_wrap_i64(g.getLocal(fe)),g.drop(g.call(c+"_sub",g.getLocal("r"),g.i32_const(f),g.getLocal("r"))),g.if(g.call(c+"_gte",g.getLocal("r"),g.i32_const(f)),g.drop(g.call(c+"_sub",g.getLocal("r"),g.i32_const(f),g.getLocal("r"))))))}function O(){const V=e.addFunction(l+"_squareOld");V.addParam("x","i32"),V.addParam("r","i32");const g=V.getCodeBuilder();V.addCode(g.call(l+"_mul",g.getLocal("x"),g.getLocal("x"),g.getLocal("r")))}function B(){const V=e.addFunction(l+"_toMontgomery");V.addParam("x","i32"),V.addParam("r","i32");const g=V.getCodeBuilder();V.addCode(g.call(l+"_mul",g.getLocal("x"),g.i32_const(d),g.getLocal("r")))}function C(){const V=e.alloc(u*2),g=e.addFunction(l+"_fromMontgomery");g.addParam("x","i32"),g.addParam("r","i32");const M=g.getCodeBuilder();g.addCode(M.call(c+"_copy",M.getLocal("x"),M.i32_const(V))),g.addCode(M.call(c+"_zero",M.i32_const(V+u))),g.addCode(M.call(l+"_mReduct",M.i32_const(V),M.getLocal("r")))}function N(){const V=e.addFunction(l+"_inverse");V.addParam("x","i32"),V.addParam("r","i32");const g=V.getCodeBuilder();V.addCode(g.call(l+"_fromMontgomery",g.getLocal("x"),g.getLocal("r"))),V.addCode(g.call(c+"_inverseMod",g.getLocal("r"),g.i32_const(f),g.getLocal("r"))),V.addCode(g.call(l+"_toMontgomery",g.getLocal("r"),g.getLocal("r")))}let U=2n;if(s6(a))for(;o6(U,_,a)!==w;)U=U+1n;let G=0,$=w;for(;!_T($)&&$!==0n;)G++,$=$>>1n;const Z=e.alloc(u,Xo.bigInt2BytesLE($,u)),W=o6(U,$,a),P=e.alloc(Xo.bigInt2BytesLE((W<<BigInt(o*64))%a,u)),R=$+1n>>1n,re=e.alloc(u,Xo.bigInt2BytesLE(R,u));function T(){const V=e.addFunction(l+"_sqrt");V.addParam("n","i32"),V.addParam("r","i32"),V.addLocal("m","i32"),V.addLocal("i","i32"),V.addLocal("j","i32");const g=V.getCodeBuilder(),M=g.i32_const(h),Q=g.i32_const(e.alloc(u)),k=g.i32_const(e.alloc(u)),K=g.i32_const(e.alloc(u)),ie=g.i32_const(e.alloc(u)),ne=g.i32_const(e.alloc(u));V.addCode(g.if(g.call(l+"_isZero",g.getLocal("n")),g.ret(g.call(l+"_zero",g.getLocal("r")))),g.setLocal("m",g.i32_const(G)),g.call(l+"_copy",g.i32_const(P),Q),g.call(l+"_exp",g.getLocal("n"),g.i32_const(Z),g.i32_const(u),k),g.call(l+"_exp",g.getLocal("n"),g.i32_const(re),g.i32_const(u),K),g.block(g.loop(g.br_if(1,g.call(l+"_eq",k,M)),g.call(l+"_square",k,ie),g.setLocal("i",g.i32_const(1)),g.block(g.loop(g.br_if(1,g.call(l+"_eq",ie,M)),g.call(l+"_square",ie,ie),g.setLocal("i",g.i32_add(g.getLocal("i"),g.i32_const(1))),g.br(0))),g.call(l+"_copy",Q,ne),g.setLocal("j",g.i32_sub(g.i32_sub(g.getLocal("m"),g.getLocal("i")),g.i32_const(1))),g.block(g.loop(g.br_if(1,g.i32_eqz(g.getLocal("j"))),g.call(l+"_square",ne,ne),g.setLocal("j",g.i32_sub(g.getLocal("j"),g.i32_const(1))),g.br(0))),g.setLocal("m",g.getLocal("i")),g.call(l+"_square",ne,Q),g.call(l+"_mul",k,Q,k),g.call(l+"_mul",K,ne,K),g.br(0))),g.if(g.call(l+"_isNegative",K),g.call(l+"_neg",K,g.getLocal("r")),g.call(l+"_copy",K,g.getLocal("r"))))}function x(){const V=e.addFunction(l+"_isSquare");V.addParam("n","i32"),V.setReturnType("i32");const g=V.getCodeBuilder(),M=g.i32_const(h),Q=g.i32_const(e.alloc(u));V.addCode(g.if(g.call(l+"_isZero",g.getLocal("n")),g.ret(g.i32_const(1))),g.call(l+"_exp",g.getLocal("n"),g.i32_const(E),g.i32_const(u),Q),g.call(l+"_eq",Q,M))}function z(){const V=e.addFunction(l+"_load");V.addParam("scalar","i32"),V.addParam("scalarLen","i32"),V.addParam("r","i32"),V.addLocal("p","i32"),V.addLocal("l","i32"),V.addLocal("i","i32"),V.addLocal("j","i32");const g=V.getCodeBuilder(),M=g.i32_const(e.alloc(u)),Q=e.alloc(u),k=g.i32_const(Q);V.addCode(g.call(c+"_zero",g.getLocal("r")),g.setLocal("i",g.i32_const(u)),g.setLocal("p",g.getLocal("scalar")),g.block(g.loop(g.br_if(1,g.i32_gt_u(g.getLocal("i"),g.getLocal("scalarLen"))),g.if(g.i32_eq(g.getLocal("i"),g.i32_const(u)),g.call(l+"_one",M),g.call(l+"_mul",M,g.i32_const(d),M)),g.call(l+"_mul",g.getLocal("p"),M,k),g.call(l+"_add",g.getLocal("r"),k,g.getLocal("r")),g.setLocal("p",g.i32_add(g.getLocal("p"),g.i32_const(u))),g.setLocal("i",g.i32_add(g.getLocal("i"),g.i32_const(u))),g.br(0))),g.setLocal("l",g.i32_rem_u(g.getLocal("scalarLen"),g.i32_const(u))),g.if(g.i32_eqz(g.getLocal("l")),g.ret([])),g.call(c+"_zero",k),g.setLocal("j",g.i32_const(0)),g.block(g.loop(g.br_if(1,g.i32_eq(g.getLocal("j"),g.getLocal("l"))),g.i32_store8(g.getLocal("j"),Q,g.i32_load8_u(g.getLocal("p"))),g.setLocal("p",g.i32_add(g.getLocal("p"),g.i32_const(1))),g.setLocal("j",g.i32_add(g.getLocal("j"),g.i32_const(1))),g.br(0))),g.if(g.i32_eq(g.getLocal("i"),g.i32_const(u)),g.call(l+"_one",M),g.call(l+"_mul",M,g.i32_const(d),M)),g.call(l+"_mul",k,M,k),g.call(l+"_add",g.getLocal("r"),k,g.getLocal("r")))}function b(){const V=e.addFunction(l+"_timesScalar");V.addParam("x","i32"),V.addParam("scalar","i32"),V.addParam("scalarLen","i32"),V.addParam("r","i32");const g=V.getCodeBuilder(),M=g.i32_const(e.alloc(u));V.addCode(g.call(l+"_load",g.getLocal("scalar"),g.getLocal("scalarLen"),M),g.call(l+"_toMontgomery",M,M),g.call(l+"_mul",g.getLocal("x"),M,g.getLocal("r")))}function J(){const V=e.addFunction(l+"_isOne");V.addParam("x","i32"),V.setReturnType("i32");const g=V.getCodeBuilder();V.addCode(g.ret(g.call(c+"_eq",g.getLocal("x"),g.i32_const(h))))}return e.exportFunction(c+"_copy",l+"_copy"),e.exportFunction(c+"_zero",l+"_zero"),e.exportFunction(c+"_isZero",l+"_isZero"),e.exportFunction(c+"_eq",l+"_eq"),J(),F(),I(),v(),L(),j(),Y(),O(),B(),C(),A(),D(),N(),S(),z(),b(),AT(e,l),P2(e,l+"_batchToMontgomery",l+"_toMontgomery",u,u),P2(e,l+"_batchFromMontgomery",l+"_fromMontgomery",u,u),P2(e,l+"_batchNeg",l+"_neg",u,u),R2(e,l+"_batchAdd",l+"_add",u,u),R2(e,l+"_batchSub",l+"_sub",u,u),R2(e,l+"_batchMul",l+"_mul",u,u),e.exportFunction(l+"_add"),e.exportFunction(l+"_sub"),e.exportFunction(l+"_neg"),e.exportFunction(l+"_isNegative"),e.exportFunction(l+"_isOne"),e.exportFunction(l+"_sign"),e.exportFunction(l+"_mReduct"),e.exportFunction(l+"_mul"),e.exportFunction(l+"_square"),e.exportFunction(l+"_squareOld"),e.exportFunction(l+"_fromMontgomery"),e.exportFunction(l+"_toMontgomery"),e.exportFunction(l+"_inverse"),e.exportFunction(l+"_one"),e.exportFunction(l+"_load"),e.exportFunction(l+"_timesScalar"),CT(e,l+"_exp",u,l+"_mul",l+"_square",c+"_copy",l+"_one"),e.exportFunction(l+"_exp"),e.exportFunction(l+"_batchInverse"),s6(a)&&(T(),x(),e.exportFunction(l+"_sqrt"),e.exportFunction(l+"_isSquare")),e.exportFunction(l+"_batchToMontgomery"),e.exportFunction(l+"_batchFromMontgomery"),l};const bT=L8,{bitLength:ST}=_i;var Uw=function(e,r,n,i,a){const o=BigInt(r),s=Math.floor((ST(o-1n)-1)/64)+1,u=s*8,l=n||"f1";if(e.modules[l])return l;e.modules[l]={n64:s};const c=a||"int",f=bT(e,o,i,c),d=e.modules[f].pR2,h=e.modules[f].pq,y=e.modules[f].pePlusOne;function w(){const m=e.alloc(u),S=e.addFunction(l+"_mul");S.addParam("x","i32"),S.addParam("y","i32"),S.addParam("r","i32");const F=S.getCodeBuilder();S.addCode(F.call(f+"_mul",F.getLocal("x"),F.getLocal("y"),F.i32_const(m))),S.addCode(F.call(f+"_mul",F.i32_const(m),F.i32_const(d),F.getLocal("r")))}function _(){const m=e.addFunction(l+"_square");m.addParam("x","i32"),m.addParam("r","i32");const S=m.getCodeBuilder();m.addCode(S.call(l+"_mul",S.getLocal("x"),S.getLocal("x"),S.getLocal("r")))}function E(){const m=e.addFunction(l+"_inverse");m.addParam("x","i32"),m.addParam("r","i32");const S=m.getCodeBuilder();m.addCode(S.call(c+"_inverseMod",S.getLocal("x"),S.i32_const(h),S.getLocal("r")))}function p(){const m=e.addFunction(l+"_isNegative");m.addParam("x","i32"),m.setReturnType("i32");const S=m.getCodeBuilder();m.addCode(S.call(c+"_gte",S.getLocal("x"),S.i32_const(y)))}return w(),_(),E(),p(),e.exportFunction(f+"_add",l+"_add"),e.exportFunction(f+"_sub",l+"_sub"),e.exportFunction(f+"_neg",l+"_neg"),e.exportFunction(l+"_mul"),e.exportFunction(l+"_square"),e.exportFunction(l+"_inverse"),e.exportFunction(l+"_isNegative"),e.exportFunction(f+"_copy",l+"_copy"),e.exportFunction(f+"_zero",l+"_zero"),e.exportFunction(f+"_one",l+"_one"),e.exportFunction(f+"_isZero",l+"_isZero"),e.exportFunction(f+"_eq",l+"_eq"),l};const IT=B8,LT=b8,U2=G0;var Ow=function(e,r,n,i){if(e.modules[n])return n;const a=e.modules[i].n64*8,o=e.modules[i].q;e.modules[n]={n64:e.modules[i].n64*2};function s(){const Y=e.addFunction(n+"_add");Y.addParam("x","i32"),Y.addParam("y","i32"),Y.addParam("r","i32");const O=Y.getCodeBuilder(),B=O.getLocal("x"),C=O.i32_add(O.getLocal("x"),O.i32_const(a)),N=O.getLocal("y"),U=O.i32_add(O.getLocal("y"),O.i32_const(a)),G=O.getLocal("r"),$=O.i32_add(O.getLocal("r"),O.i32_const(a));Y.addCode(O.call(i+"_add",B,N,G),O.call(i+"_add",C,U,$))}function u(){const Y=e.addFunction(n+"_timesScalar");Y.addParam("x","i32"),Y.addParam("scalar","i32"),Y.addParam("scalarLen","i32"),Y.addParam("r","i32");const O=Y.getCodeBuilder(),B=O.getLocal("x"),C=O.i32_add(O.getLocal("x"),O.i32_const(a)),N=O.getLocal("r"),U=O.i32_add(O.getLocal("r"),O.i32_const(a));Y.addCode(O.call(i+"_timesScalar",B,O.getLocal("scalar"),O.getLocal("scalarLen"),N),O.call(i+"_timesScalar",C,O.getLocal("scalar"),O.getLocal("scalarLen"),U))}function l(){const Y=e.addFunction(n+"_sub");Y.addParam("x","i32"),Y.addParam("y","i32"),Y.addParam("r","i32");const O=Y.getCodeBuilder(),B=O.getLocal("x"),C=O.i32_add(O.getLocal("x"),O.i32_const(a)),N=O.getLocal("y"),U=O.i32_add(O.getLocal("y"),O.i32_const(a)),G=O.getLocal("r"),$=O.i32_add(O.getLocal("r"),O.i32_const(a));Y.addCode(O.call(i+"_sub",B,N,G),O.call(i+"_sub",C,U,$))}function c(){const Y=e.addFunction(n+"_neg");Y.addParam("x","i32"),Y.addParam("r","i32");const O=Y.getCodeBuilder(),B=O.getLocal("x"),C=O.i32_add(O.getLocal("x"),O.i32_const(a)),N=O.getLocal("r"),U=O.i32_add(O.getLocal("r"),O.i32_const(a));Y.addCode(O.call(i+"_neg",B,N),O.call(i+"_neg",C,U))}function f(){const Y=e.addFunction(n+"_conjugate");Y.addParam("x","i32"),Y.addParam("r","i32");const O=Y.getCodeBuilder(),B=O.getLocal("x"),C=O.i32_add(O.getLocal("x"),O.i32_const(a)),N=O.getLocal("r"),U=O.i32_add(O.getLocal("r"),O.i32_const(a));Y.addCode(O.call(i+"_copy",B,N),O.call(i+"_neg",C,U))}function d(){const Y=e.addFunction(n+"_isNegative");Y.addParam("x","i32"),Y.setReturnType("i32");const O=Y.getCodeBuilder(),B=O.getLocal("x"),C=O.i32_add(O.getLocal("x"),O.i32_const(a));Y.addCode(O.if(O.call(i+"_isZero",C),O.ret(O.call(i+"_isNegative",B))),O.ret(O.call(i+"_isNegative",C)))}function h(){const Y=e.addFunction(n+"_mul");Y.addParam("x","i32"),Y.addParam("y","i32"),Y.addParam("r","i32");const O=Y.getCodeBuilder(),B=O.getLocal("x"),C=O.i32_add(O.getLocal("x"),O.i32_const(a)),N=O.getLocal("y"),U=O.i32_add(O.getLocal("y"),O.i32_const(a)),G=O.getLocal("r"),$=O.i32_add(O.getLocal("r"),O.i32_const(a)),Z=O.i32_const(e.alloc(a)),W=O.i32_const(e.alloc(a)),P=O.i32_const(e.alloc(a)),R=O.i32_const(e.alloc(a));Y.addCode(O.call(i+"_mul",B,N,Z),O.call(i+"_mul",C,U,W),O.call(i+"_add",B,C,P),O.call(i+"_add",N,U,R),O.call(i+"_mul",P,R,P),O.call(r,W,G),O.call(i+"_add",Z,G,G),O.call(i+"_add",Z,W,$),O.call(i+"_sub",P,$,$))}function y(){const Y=e.addFunction(n+"_mul1");Y.addParam("x","i32"),Y.addParam("y","i32"),Y.addParam("r","i32");const O=Y.getCodeBuilder(),B=O.getLocal("x"),C=O.i32_add(O.getLocal("x"),O.i32_const(a)),N=O.getLocal("y"),U=O.getLocal("r"),G=O.i32_add(O.getLocal("r"),O.i32_const(a));Y.addCode(O.call(i+"_mul",B,N,U),O.call(i+"_mul",C,N,G))}function w(){const Y=e.addFunction(n+"_square");Y.addParam("x","i32"),Y.addParam("r","i32");const O=Y.getCodeBuilder(),B=O.getLocal("x"),C=O.i32_add(O.getLocal("x"),O.i32_const(a)),N=O.getLocal("r"),U=O.i32_add(O.getLocal("r"),O.i32_const(a)),G=O.i32_const(e.alloc(a)),$=O.i32_const(e.alloc(a)),Z=O.i32_const(e.alloc(a)),W=O.i32_const(e.alloc(a));Y.addCode(O.call(i+"_mul",B,C,G),O.call(i+"_add",B,C,$),O.call(r,C,Z),O.call(i+"_add",B,Z,Z),O.call(r,G,W),O.call(i+"_add",W,G,W),O.call(i+"_mul",$,Z,N),O.call(i+"_sub",N,W,N),O.call(i+"_add",G,G,U))}function _(){const Y=e.addFunction(n+"_toMontgomery");Y.addParam("x","i32"),Y.addParam("r","i32");const O=Y.getCodeBuilder(),B=O.getLocal("x"),C=O.i32_add(O.getLocal("x"),O.i32_const(a)),N=O.getLocal("r"),U=O.i32_add(O.getLocal("r"),O.i32_const(a));Y.addCode(O.call(i+"_toMontgomery",B,N),O.call(i+"_toMontgomery",C,U))}function E(){const Y=e.addFunction(n+"_fromMontgomery");Y.addParam("x","i32"),Y.addParam("r","i32");const O=Y.getCodeBuilder(),B=O.getLocal("x"),C=O.i32_add(O.getLocal("x"),O.i32_const(a)),N=O.getLocal("r"),U=O.i32_add(O.getLocal("r"),O.i32_const(a));Y.addCode(O.call(i+"_fromMontgomery",B,N),O.call(i+"_fromMontgomery",C,U))}function p(){const Y=e.addFunction(n+"_copy");Y.addParam("x","i32"),Y.addParam("r","i32");const O=Y.getCodeBuilder(),B=O.getLocal("x"),C=O.i32_add(O.getLocal("x"),O.i32_const(a)),N=O.getLocal("r"),U=O.i32_add(O.getLocal("r"),O.i32_const(a));Y.addCode(O.call(i+"_copy",B,N),O.call(i+"_copy",C,U))}function m(){const Y=e.addFunction(n+"_zero");Y.addParam("x","i32");const O=Y.getCodeBuilder(),B=O.getLocal("x"),C=O.i32_add(O.getLocal("x"),O.i32_const(a));Y.addCode(O.call(i+"_zero",B),O.call(i+"_zero",C))}function S(){const Y=e.addFunction(n+"_one");Y.addParam("x","i32");const O=Y.getCodeBuilder(),B=O.getLocal("x"),C=O.i32_add(O.getLocal("x"),O.i32_const(a));Y.addCode(O.call(i+"_one",B),O.call(i+"_zero",C))}function F(){const Y=e.addFunction(n+"_eq");Y.addParam("x","i32"),Y.addParam("y","i32"),Y.setReturnType("i32");const O=Y.getCodeBuilder(),B=O.getLocal("x"),C=O.i32_add(O.getLocal("x"),O.i32_const(a)),N=O.getLocal("y"),U=O.i32_add(O.getLocal("y"),O.i32_const(a));Y.addCode(O.i32_and(O.call(i+"_eq",B,N),O.call(i+"_eq",C,U)))}function I(){const Y=e.addFunction(n+"_isZero");Y.addParam("x","i32"),Y.setReturnType("i32");const O=Y.getCodeBuilder(),B=O.getLocal("x"),C=O.i32_add(O.getLocal("x"),O.i32_const(a));Y.addCode(O.i32_and(O.call(i+"_isZero",B),O.call(i+"_isZero",C)))}function v(){const Y=e.addFunction(n+"_inverse");Y.addParam("x","i32"),Y.addParam("r","i32");const O=Y.getCodeBuilder(),B=O.getLocal("x"),C=O.i32_add(O.getLocal("x"),O.i32_const(a)),N=O.getLocal("r"),U=O.i32_add(O.getLocal("r"),O.i32_const(a)),G=O.i32_const(e.alloc(a)),$=O.i32_const(e.alloc(a)),Z=O.i32_const(e.alloc(a)),W=O.i32_const(e.alloc(a));Y.addCode(O.call(i+"_square",B,G),O.call(i+"_square",C,$),O.call(r,$,Z),O.call(i+"_sub",G,Z,Z),O.call(i+"_inverse",Z,W),O.call(i+"_mul",B,W,N),O.call(i+"_mul",C,W,U),O.call(i+"_neg",U,U))}function A(){const Y=e.addFunction(n+"_sign");Y.addParam("x","i32"),Y.addLocal("s","i32"),Y.setReturnType("i32");const O=Y.getCodeBuilder(),B=O.getLocal("x"),C=O.i32_add(O.getLocal("x"),O.i32_const(a));Y.addCode(O.setLocal("s",O.call(i+"_sign",C)),O.if(O.getLocal("s"),O.ret(O.getLocal("s"))),O.ret(O.call(i+"_sign",B)))}function D(){const Y=e.addFunction(n+"_isOne");Y.addParam("x","i32"),Y.setReturnType("i32");const O=Y.getCodeBuilder(),B=O.getLocal("x"),C=O.i32_add(O.getLocal("x"),O.i32_const(a));Y.addCode(O.ret(O.i32_and(O.call(i+"_isOne",B),O.call(i+"_isZero",C))))}function L(){const Y=e.addFunction(n+"_sqrt");Y.addParam("a","i32"),Y.addParam("pr","i32");const O=Y.getCodeBuilder(),B=O.i32_const(e.alloc(U2.bigInt2BytesLE((BigInt(o||0)-3n)/4n,a))),C=O.i32_const(e.alloc(U2.bigInt2BytesLE((BigInt(o||0)-1n)/2n,a))),N=O.getLocal("a"),U=O.i32_const(e.alloc(a*2)),G=O.i32_const(e.alloc(a*2)),$=O.i32_const(e.alloc(a*2)),Z=e.alloc(a*2),W=O.i32_const(Z),P=O.i32_const(Z),R=O.i32_const(Z+a),re=O.i32_const(e.alloc(a*2)),T=O.i32_const(e.alloc(a*2));Y.addCode(O.call(n+"_one",W),O.call(n+"_neg",W,W),O.call(n+"_exp",N,B,O.i32_const(a),U),O.call(n+"_square",U,G),O.call(n+"_mul",N,G,G),O.call(n+"_conjugate",G,$),O.call(n+"_mul",$,G,$),O.if(O.call(n+"_eq",$,W),O.unreachable()),O.call(n+"_mul",U,N,re),O.if(O.call(n+"_eq",G,W),[...O.call(i+"_zero",P),...O.call(i+"_one",R),...O.call(n+"_mul",W,re,O.getLocal("pr"))],[...O.call(n+"_one",T),...O.call(n+"_add",T,G,T),...O.call(n+"_exp",T,C,O.i32_const(a),T),...O.call(n+"_mul",T,re,O.getLocal("pr"))]))}function j(){const Y=e.addFunction(n+"_isSquare");Y.addParam("a","i32"),Y.setReturnType("i32");const O=Y.getCodeBuilder(),B=O.i32_const(e.alloc(U2.bigInt2BytesLE((BigInt(o||0)-3n)/4n,a))),C=O.getLocal("a"),N=O.i32_const(e.alloc(a*2)),U=O.i32_const(e.alloc(a*2)),G=O.i32_const(e.alloc(a*2)),$=e.alloc(a*2),Z=O.i32_const($);Y.addCode(O.call(n+"_one",Z),O.call(n+"_neg",Z,Z),O.call(n+"_exp",C,B,O.i32_const(a),N),O.call(n+"_square",N,U),O.call(n+"_mul",C,U,U),O.call(n+"_conjugate",U,G),O.call(n+"_mul",G,U,G),O.if(O.call(n+"_eq",G,Z),O.ret(O.i32_const(0))),O.ret(O.i32_const(1)))}return I(),D(),m(),S(),p(),h(),y(),w(),s(),l(),c(),f(),_(),E(),F(),v(),u(),A(),d(),e.exportFunction(n+"_isZero"),e.exportFunction(n+"_isOne"),e.exportFunction(n+"_zero"),e.exportFunction(n+"_one"),e.exportFunction(n+"_copy"),e.exportFunction(n+"_mul"),e.exportFunction(n+"_mul1"),e.exportFunction(n+"_square"),e.exportFunction(n+"_add"),e.exportFunction(n+"_sub"),e.exportFunction(n+"_neg"),e.exportFunction(n+"_sign"),e.exportFunction(n+"_conjugate"),e.exportFunction(n+"_fromMontgomery"),e.exportFunction(n+"_toMontgomery"),e.exportFunction(n+"_eq"),e.exportFunction(n+"_inverse"),LT(e,n),IT(e,n+"_exp",a*2,n+"_mul",n+"_square",n+"_copy",n+"_one"),L(),j(),e.exportFunction(n+"_exp"),e.exportFunction(n+"_timesScalar"),e.exportFunction(n+"_batchInverse"),e.exportFunction(n+"_sqrt"),e.exportFunction(n+"_isSquare"),e.exportFunction(n+"_isNegative"),n};const FT=B8,DT=b8;var Vw=function(e,r,n,i){if(e.modules[n])return n;const a=e.modules[i].n64*8;e.modules[n]={n64:e.modules[i].n64*3};function o(){const v=e.addFunction(n+"_add");v.addParam("x","i32"),v.addParam("y","i32"),v.addParam("r","i32");const A=v.getCodeBuilder(),D=A.getLocal("x"),L=A.i32_add(A.getLocal("x"),A.i32_const(a)),j=A.i32_add(A.getLocal("x"),A.i32_const(2*a)),Y=A.getLocal("y"),O=A.i32_add(A.getLocal("y"),A.i32_const(a)),B=A.i32_add(A.getLocal("y"),A.i32_const(2*a)),C=A.getLocal("r"),N=A.i32_add(A.getLocal("r"),A.i32_const(a)),U=A.i32_add(A.getLocal("r"),A.i32_const(2*a));v.addCode(A.call(i+"_add",D,Y,C),A.call(i+"_add",L,O,N),A.call(i+"_add",j,B,U))}function s(){const v=e.addFunction(n+"_timesScalar");v.addParam("x","i32"),v.addParam("scalar","i32"),v.addParam("scalarLen","i32"),v.addParam("r","i32");const A=v.getCodeBuilder(),D=A.getLocal("x"),L=A.i32_add(A.getLocal("x"),A.i32_const(a)),j=A.i32_add(A.getLocal("x"),A.i32_const(2*a)),Y=A.getLocal("r"),O=A.i32_add(A.getLocal("r"),A.i32_const(a)),B=A.i32_add(A.getLocal("r"),A.i32_const(2*a));v.addCode(A.call(i+"_timesScalar",D,A.getLocal("scalar"),A.getLocal("scalarLen"),Y),A.call(i+"_timesScalar",L,A.getLocal("scalar"),A.getLocal("scalarLen"),O),A.call(i+"_timesScalar",j,A.getLocal("scalar"),A.getLocal("scalarLen"),B))}function u(){const v=e.addFunction(n+"_sub");v.addParam("x","i32"),v.addParam("y","i32"),v.addParam("r","i32");const A=v.getCodeBuilder(),D=A.getLocal("x"),L=A.i32_add(A.getLocal("x"),A.i32_const(a)),j=A.i32_add(A.getLocal("x"),A.i32_const(2*a)),Y=A.getLocal("y"),O=A.i32_add(A.getLocal("y"),A.i32_const(a)),B=A.i32_add(A.getLocal("y"),A.i32_const(2*a)),C=A.getLocal("r"),N=A.i32_add(A.getLocal("r"),A.i32_const(a)),U=A.i32_add(A.getLocal("r"),A.i32_const(2*a));v.addCode(A.call(i+"_sub",D,Y,C),A.call(i+"_sub",L,O,N),A.call(i+"_sub",j,B,U))}function l(){const v=e.addFunction(n+"_neg");v.addParam("x","i32"),v.addParam("r","i32");const A=v.getCodeBuilder(),D=A.getLocal("x"),L=A.i32_add(A.getLocal("x"),A.i32_const(a)),j=A.i32_add(A.getLocal("x"),A.i32_const(2*a)),Y=A.getLocal("r"),O=A.i32_add(A.getLocal("r"),A.i32_const(a)),B=A.i32_add(A.getLocal("r"),A.i32_const(2*a));v.addCode(A.call(i+"_neg",D,Y),A.call(i+"_neg",L,O),A.call(i+"_neg",j,B))}function c(){const v=e.addFunction(n+"_isNegative");v.addParam("x","i32"),v.setReturnType("i32");const A=v.getCodeBuilder(),D=A.getLocal("x"),L=A.i32_add(A.getLocal("x"),A.i32_const(a)),j=A.i32_add(A.getLocal("x"),A.i32_const(2*a));v.addCode(A.if(A.call(i+"_isZero",j),A.if(A.call(i+"_isZero",L),A.ret(A.call(i+"_isNegative",D)),A.ret(A.call(i+"_isNegative",L)))),A.ret(A.call(i+"_isNegative",j)))}function f(){const v=e.addFunction(n+"_mul");v.addParam("x","i32"),v.addParam("y","i32"),v.addParam("r","i32");const A=v.getCodeBuilder(),D=A.getLocal("x"),L=A.i32_add(A.getLocal("x"),A.i32_const(a)),j=A.i32_add(A.getLocal("x"),A.i32_const(2*a)),Y=A.getLocal("y"),O=A.i32_add(A.getLocal("y"),A.i32_const(a)),B=A.i32_add(A.getLocal("y"),A.i32_const(2*a)),C=A.getLocal("r"),N=A.i32_add(A.getLocal("r"),A.i32_const(a)),U=A.i32_add(A.getLocal("r"),A.i32_const(2*a)),G=A.i32_const(e.alloc(a)),$=A.i32_const(e.alloc(a)),Z=A.i32_const(e.alloc(a)),W=A.i32_const(e.alloc(a)),P=A.i32_const(e.alloc(a)),R=A.i32_const(e.alloc(a)),re=A.i32_const(e.alloc(a)),T=A.i32_const(e.alloc(a)),x=A.i32_const(e.alloc(a)),z=A.i32_const(e.alloc(a)),b=A.i32_const(e.alloc(a)),J=A.i32_const(e.alloc(a)),V=A.i32_const(e.alloc(a));v.addCode(A.call(i+"_mul",D,Y,G),A.call(i+"_mul",L,O,$),A.call(i+"_mul",j,B,Z),A.call(i+"_add",D,L,W),A.call(i+"_add",Y,O,P),A.call(i+"_add",D,j,R),A.call(i+"_add",Y,B,re),A.call(i+"_add",L,j,T),A.call(i+"_add",O,B,x),A.call(i+"_add",G,$,z),A.call(i+"_add",G,Z,b),A.call(i+"_add",$,Z,J),A.call(i+"_mul",T,x,C),A.call(i+"_sub",C,J,C),A.call(r,C,C),A.call(i+"_add",G,C,C),A.call(i+"_mul",W,P,N),A.call(i+"_sub",N,z,N),A.call(r,Z,V),A.call(i+"_add",N,V,N),A.call(i+"_mul",R,re,U),A.call(i+"_sub",U,b,U),A.call(i+"_add",U,$,U))}function d(){const v=e.addFunction(n+"_square");v.addParam("x","i32"),v.addParam("r","i32");const A=v.getCodeBuilder(),D=A.getLocal("x"),L=A.i32_add(A.getLocal("x"),A.i32_const(a)),j=A.i32_add(A.getLocal("x"),A.i32_const(2*a)),Y=A.getLocal("r"),O=A.i32_add(A.getLocal("r"),A.i32_const(a)),B=A.i32_add(A.getLocal("r"),A.i32_const(2*a)),C=A.i32_const(e.alloc(a)),N=A.i32_const(e.alloc(a)),U=A.i32_const(e.alloc(a)),G=A.i32_const(e.alloc(a)),$=A.i32_const(e.alloc(a)),Z=A.i32_const(e.alloc(a)),W=A.i32_const(e.alloc(a));v.addCode(A.call(i+"_square",D,C),A.call(i+"_mul",D,L,N),A.call(i+"_add",N,N,U),A.call(i+"_sub",D,L,G),A.call(i+"_add",G,j,G),A.call(i+"_square",G,G),A.call(i+"_mul",L,j,$),A.call(i+"_add",$,$,Z),A.call(i+"_square",j,W),A.call(r,Z,Y),A.call(i+"_add",C,Y,Y),A.call(r,W,O),A.call(i+"_add",U,O,O),A.call(i+"_add",C,W,B),A.call(i+"_sub",Z,B,B),A.call(i+"_add",G,B,B),A.call(i+"_add",U,B,B))}function h(){const v=e.addFunction(n+"_toMontgomery");v.addParam("x","i32"),v.addParam("r","i32");const A=v.getCodeBuilder(),D=A.getLocal("x"),L=A.i32_add(A.getLocal("x"),A.i32_const(a)),j=A.i32_add(A.getLocal("x"),A.i32_const(2*a)),Y=A.getLocal("r"),O=A.i32_add(A.getLocal("r"),A.i32_const(a)),B=A.i32_add(A.getLocal("r"),A.i32_const(2*a));v.addCode(A.call(i+"_toMontgomery",D,Y),A.call(i+"_toMontgomery",L,O),A.call(i+"_toMontgomery",j,B))}function y(){const v=e.addFunction(n+"_fromMontgomery");v.addParam("x","i32"),v.addParam("r","i32");const A=v.getCodeBuilder(),D=A.getLocal("x"),L=A.i32_add(A.getLocal("x"),A.i32_const(a)),j=A.i32_add(A.getLocal("x"),A.i32_const(2*a)),Y=A.getLocal("r"),O=A.i32_add(A.getLocal("r"),A.i32_const(a)),B=A.i32_add(A.getLocal("r"),A.i32_const(2*a));v.addCode(A.call(i+"_fromMontgomery",D,Y),A.call(i+"_fromMontgomery",L,O),A.call(i+"_fromMontgomery",j,B))}function w(){const v=e.addFunction(n+"_copy");v.addParam("x","i32"),v.addParam("r","i32");const A=v.getCodeBuilder(),D=A.getLocal("x"),L=A.i32_add(A.getLocal("x"),A.i32_const(a)),j=A.i32_add(A.getLocal("x"),A.i32_const(2*a)),Y=A.getLocal("r"),O=A.i32_add(A.getLocal("r"),A.i32_const(a)),B=A.i32_add(A.getLocal("r"),A.i32_const(2*a));v.addCode(A.call(i+"_copy",D,Y),A.call(i+"_copy",L,O),A.call(i+"_copy",j,B))}function _(){const v=e.addFunction(n+"_zero");v.addParam("x","i32");const A=v.getCodeBuilder(),D=A.getLocal("x"),L=A.i32_add(A.getLocal("x"),A.i32_const(a)),j=A.i32_add(A.getLocal("x"),A.i32_const(2*a));v.addCode(A.call(i+"_zero",D),A.call(i+"_zero",L),A.call(i+"_zero",j))}function E(){const v=e.addFunction(n+"_one");v.addParam("x","i32");const A=v.getCodeBuilder(),D=A.getLocal("x"),L=A.i32_add(A.getLocal("x"),A.i32_const(a)),j=A.i32_add(A.getLocal("x"),A.i32_const(2*a));v.addCode(A.call(i+"_one",D),A.call(i+"_zero",L),A.call(i+"_zero",j))}function p(){const v=e.addFunction(n+"_eq");v.addParam("x","i32"),v.addParam("y","i32"),v.setReturnType("i32");const A=v.getCodeBuilder(),D=A.getLocal("x"),L=A.i32_add(A.getLocal("x"),A.i32_const(a)),j=A.i32_add(A.getLocal("x"),A.i32_const(2*a)),Y=A.getLocal("y"),O=A.i32_add(A.getLocal("y"),A.i32_const(a)),B=A.i32_add(A.getLocal("y"),A.i32_const(2*a));v.addCode(A.i32_and(A.i32_and(A.call(i+"_eq",D,Y),A.call(i+"_eq",L,O)),A.call(i+"_eq",j,B)))}function m(){const v=e.addFunction(n+"_isZero");v.addParam("x","i32"),v.setReturnType("i32");const A=v.getCodeBuilder(),D=A.getLocal("x"),L=A.i32_add(A.getLocal("x"),A.i32_const(a)),j=A.i32_add(A.getLocal("x"),A.i32_const(2*a));v.addCode(A.i32_and(A.i32_and(A.call(i+"_isZero",D),A.call(i+"_isZero",L)),A.call(i+"_isZero",j)))}function S(){const v=e.addFunction(n+"_inverse");v.addParam("x","i32"),v.addParam("r","i32");const A=v.getCodeBuilder(),D=A.getLocal("x"),L=A.i32_add(A.getLocal("x"),A.i32_const(a)),j=A.i32_add(A.getLocal("x"),A.i32_const(2*a)),Y=A.getLocal("r"),O=A.i32_add(A.getLocal("r"),A.i32_const(a)),B=A.i32_add(A.getLocal("r"),A.i32_const(2*a)),C=A.i32_const(e.alloc(a)),N=A.i32_const(e.alloc(a)),U=A.i32_const(e.alloc(a)),G=A.i32_const(e.alloc(a)),$=A.i32_const(e.alloc(a)),Z=A.i32_const(e.alloc(a)),W=A.i32_const(e.alloc(a)),P=A.i32_const(e.alloc(a)),R=A.i32_const(e.alloc(a)),re=A.i32_const(e.alloc(a)),T=A.i32_const(e.alloc(a));v.addCode(A.call(i+"_square",D,C),A.call(i+"_square",L,N),A.call(i+"_square",j,U),A.call(i+"_mul",D,L,G),A.call(i+"_mul",D,j,$),A.call(i+"_mul",L,j,Z),A.call(r,Z,W),A.call(i+"_sub",C,W,W),A.call(r,U,P),A.call(i+"_sub",P,G,P),A.call(i+"_sub",N,$,R),A.call(i+"_mul",j,P,re),A.call(i+"_mul",L,R,T),A.call(i+"_add",re,T,re),A.call(r,re,re),A.call(i+"_mul",D,W,T),A.call(i+"_add",T,re,re),A.call(i+"_inverse",re,re),A.call(i+"_mul",re,W,Y),A.call(i+"_mul",re,P,O),A.call(i+"_mul",re,R,B))}function F(){const v=e.addFunction(n+"_sign");v.addParam("x","i32"),v.addLocal("s","i32"),v.setReturnType("i32");const A=v.getCodeBuilder(),D=A.getLocal("x"),L=A.i32_add(A.getLocal("x"),A.i32_const(a)),j=A.i32_add(A.getLocal("x"),A.i32_const(2*a));v.addCode(A.setLocal("s",A.call(i+"_sign",j)),A.if(A.getLocal("s"),A.ret(A.getLocal("s"))),A.setLocal("s",A.call(i+"_sign",L)),A.if(A.getLocal("s"),A.ret(A.getLocal("s"))),A.ret(A.call(i+"_sign",D)))}function I(){const v=e.addFunction(n+"_isOne");v.addParam("x","i32"),v.setReturnType("i32");const A=v.getCodeBuilder(),D=A.getLocal("x"),L=A.i32_add(A.getLocal("x"),A.i32_const(a)),j=A.i32_add(A.getLocal("x"),A.i32_const(a*2));v.addCode(A.ret(A.i32_and(A.i32_and(A.call(i+"_isOne",D),A.call(i+"_isZero",L)),A.call(i+"_isZero",j))))}return m(),I(),_(),E(),w(),f(),d(),o(),u(),l(),F(),h(),y(),p(),S(),s(),c(),e.exportFunction(n+"_isZero"),e.exportFunction(n+"_isOne"),e.exportFunction(n+"_zero"),e.exportFunction(n+"_one"),e.exportFunction(n+"_copy"),e.exportFunction(n+"_mul"),e.exportFunction(n+"_square"),e.exportFunction(n+"_add"),e.exportFunction(n+"_sub"),e.exportFunction(n+"_neg"),e.exportFunction(n+"_sign"),e.exportFunction(n+"_fromMontgomery"),e.exportFunction(n+"_toMontgomery"),e.exportFunction(n+"_eq"),e.exportFunction(n+"_inverse"),DT(e,n),FT(e,n+"_exp",a*3,n+"_mul",n+"_square",n+"_copy",n+"_one"),e.exportFunction(n+"_exp"),e.exportFunction(n+"_timesScalar"),e.exportFunction(n+"_batchInverse"),e.exportFunction(n+"_isNegative"),n},TT=function(e,r,n,i,a,o,s,u){const l=e.addFunction(r);l.addParam("base","i32"),l.addParam("scalar","i32"),l.addParam("scalarLength","i32"),l.addParam("r","i32"),l.addLocal("old0","i32"),l.addLocal("nbits","i32"),l.addLocal("i","i32"),l.addLocal("last","i32"),l.addLocal("cur","i32"),l.addLocal("carry","i32"),l.addLocal("p","i32");const c=l.getCodeBuilder(),f=c.i32_const(e.alloc(n));function d(y){return c.i32_and(c.i32_shr_u(c.i32_load(c.i32_add(c.getLocal("scalar"),c.i32_and(c.i32_shr_u(y,c.i32_const(3)),c.i32_const(4294967292)))),c.i32_and(y,c.i32_const(31))),c.i32_const(1))}function h(y){return[...c.i32_store8(c.getLocal("p"),c.i32_const(y)),...c.setLocal("p",c.i32_add(c.getLocal("p"),c.i32_const(1)))]}l.addCode(c.if(c.i32_eqz(c.getLocal("scalarLength")),[...c.call(u,c.getLocal("r")),...c.ret([])]),c.setLocal("nbits",c.i32_shl(c.getLocal("scalarLength"),c.i32_const(3))),c.setLocal("old0",c.i32_load(c.i32_const(0))),c.setLocal("p",c.getLocal("old0")),c.i32_store(c.i32_const(0),c.i32_and(c.i32_add(c.i32_add(c.getLocal("old0"),c.i32_const(32)),c.getLocal("nbits")),c.i32_const(4294967288))),c.setLocal("i",c.i32_const(1)),c.setLocal("last",d(c.i32_const(0))),c.setLocal("carry",c.i32_const(0)),c.block(c.loop(c.br_if(1,c.i32_eq(c.getLocal("i"),c.getLocal("nbits"))),c.setLocal("cur",d(c.getLocal("i"))),c.if(c.getLocal("last"),c.if(c.getLocal("cur"),c.if(c.getLocal("carry"),[...c.setLocal("last",c.i32_const(0)),...c.setLocal("carry",c.i32_const(1)),...h(1)],[...c.setLocal("last",c.i32_const(0)),...c.setLocal("carry",c.i32_const(1)),...h(255)]),c.if(c.getLocal("carry"),[...c.setLocal("last",c.i32_const(0)),...c.setLocal("carry",c.i32_const(1)),...h(255)],[...c.setLocal("last",c.i32_const(0)),...c.setLocal("carry",c.i32_const(0)),...h(1)])),c.if(c.getLocal("cur"),c.if(c.getLocal("carry"),[...c.setLocal("last",c.i32_const(0)),...c.setLocal("carry",c.i32_const(1)),...h(0)],[...c.setLocal("last",c.i32_const(1)),...c.setLocal("carry",c.i32_const(0)),...h(0)]),c.if(c.getLocal("carry"),[...c.setLocal("last",c.i32_const(1)),...c.setLocal("carry",c.i32_const(0)),...h(0)],[...c.setLocal("last",c.i32_const(0)),...c.setLocal("carry",c.i32_const(0)),...h(0)]))),c.setLocal("i",c.i32_add(c.getLocal("i"),c.i32_const(1))),c.br(0))),c.if(c.getLocal("last"),c.if(c.getLocal("carry"),[...h(255),...h(0),...h(1)],[...h(1)]),c.if(c.getLocal("carry"),[...h(0),...h(1)])),c.setLocal("p",c.i32_sub(c.getLocal("p"),c.i32_const(1))),c.call(s,c.getLocal("base"),f),c.call(u,c.getLocal("r")),c.block(c.loop(c.call(a,c.getLocal("r"),c.getLocal("r")),c.setLocal("cur",c.i32_load8_u(c.getLocal("p"))),c.if(c.getLocal("cur"),c.if(c.i32_eq(c.getLocal("cur"),c.i32_const(1)),c.call(i,c.getLocal("r"),f,c.getLocal("r")),c.call(o,c.getLocal("r"),f,c.getLocal("r")))),c.br_if(1,c.i32_eq(c.getLocal("old0"),c.getLocal("p"))),c.setLocal("p",c.i32_sub(c.getLocal("p"),c.i32_const(1))),c.br(0))),c.i32_store(c.i32_const(0),c.getLocal("old0")))},kT=function(e,r,n,i,a){const s=e.modules[r].n64*8;function u(){const d=e.addFunction(n+"_getChunk");d.addParam("pScalar","i32"),d.addParam("scalarSize","i32"),d.addParam("startBit","i32"),d.addParam("chunkSize","i32"),d.addLocal("bitsToEnd","i32"),d.addLocal("mask","i32"),d.setReturnType("i32");const h=d.getCodeBuilder();d.addCode(h.setLocal("bitsToEnd",h.i32_sub(h.i32_mul(h.getLocal("scalarSize"),h.i32_const(8)),h.getLocal("startBit"))),h.if(h.i32_gt_s(h.getLocal("chunkSize"),h.getLocal("bitsToEnd")),h.setLocal("mask",h.i32_sub(h.i32_shl(h.i32_const(1),h.getLocal("bitsToEnd")),h.i32_const(1))),h.setLocal("mask",h.i32_sub(h.i32_shl(h.i32_const(1),h.getLocal("chunkSize")),h.i32_const(1)))),h.i32_and(h.i32_shr_u(h.i32_load(h.i32_add(h.getLocal("pScalar"),h.i32_shr_u(h.getLocal("startBit"),h.i32_const(3))),0,0),h.i32_and(h.getLocal("startBit"),h.i32_const(7))),h.getLocal("mask")))}function l(){const d=e.addFunction(n+"_chunk");d.addParam("pBases","i32"),d.addParam("pScalars","i32"),d.addParam("scalarSize","i32"),d.addParam("n","i32"),d.addParam("startBit","i32"),d.addParam("chunkSize","i32"),d.addParam("pr","i32"),d.addLocal("nChunks","i32"),d.addLocal("itScalar","i32"),d.addLocal("endScalar","i32"),d.addLocal("itBase","i32"),d.addLocal("i","i32"),d.addLocal("j","i32"),d.addLocal("nTable","i32"),d.addLocal("pTable","i32"),d.addLocal("idx","i32"),d.addLocal("pIdxTable","i32");const h=d.getCodeBuilder();d.addCode(h.if(h.i32_eqz(h.getLocal("n")),[...h.call(r+"_zero",h.getLocal("pr")),...h.ret([])]),h.setLocal("nTable",h.i32_shl(h.i32_const(1),h.getLocal("chunkSize"))),h.setLocal("pTable",h.i32_load(h.i32_const(0))),h.i32_store(h.i32_const(0),h.i32_add(h.getLocal("pTable"),h.i32_mul(h.getLocal("nTable"),h.i32_const(s)))),h.setLocal("j",h.i32_const(0)),h.block(h.loop(h.br_if(1,h.i32_eq(h.getLocal("j"),h.getLocal("nTable"))),h.call(r+"_zero",h.i32_add(h.getLocal("pTable"),h.i32_mul(h.getLocal("j"),h.i32_const(s)))),h.setLocal("j",h.i32_add(h.getLocal("j"),h.i32_const(1))),h.br(0))),h.setLocal("itBase",h.getLocal("pBases")),h.setLocal("itScalar",h.getLocal("pScalars")),h.setLocal("endScalar",h.i32_add(h.getLocal("pScalars"),h.i32_mul(h.getLocal("n"),h.getLocal("scalarSize")))),h.block(h.loop(h.br_if(1,h.i32_eq(h.getLocal("itScalar"),h.getLocal("endScalar"))),h.setLocal("idx",h.call(n+"_getChunk",h.getLocal("itScalar"),h.getLocal("scalarSize"),h.getLocal("startBit"),h.getLocal("chunkSize"))),h.if(h.getLocal("idx"),[...h.setLocal("pIdxTable",h.i32_add(h.getLocal("pTable"),h.i32_mul(h.i32_sub(h.getLocal("idx"),h.i32_const(1)),h.i32_const(s)))),...h.call(i,h.getLocal("pIdxTable"),h.getLocal("itBase"),h.getLocal("pIdxTable"))]),h.setLocal("itScalar",h.i32_add(h.getLocal("itScalar"),h.getLocal("scalarSize"))),h.setLocal("itBase",h.i32_add(h.getLocal("itBase"),h.i32_const(a))),h.br(0))),h.call(n+"_reduceTable",h.getLocal("pTable"),h.getLocal("chunkSize")),h.call(r+"_copy",h.getLocal("pTable"),h.getLocal("pr")),h.i32_store(h.i32_const(0),h.getLocal("pTable")))}function c(){const d=e.addFunction(n);d.addParam("pBases","i32"),d.addParam("pScalars","i32"),d.addParam("scalarSize","i32"),d.addParam("n","i32"),d.addParam("pr","i32"),d.addLocal("chunkSize","i32"),d.addLocal("nChunks","i32"),d.addLocal("itScalar","i32"),d.addLocal("endScalar","i32"),d.addLocal("itBase","i32"),d.addLocal("itBit","i32"),d.addLocal("i","i32"),d.addLocal("j","i32"),d.addLocal("nTable","i32"),d.addLocal("pTable","i32"),d.addLocal("idx","i32"),d.addLocal("pIdxTable","i32");const h=d.getCodeBuilder(),y=h.i32_const(e.alloc(s)),w=e.alloc([17,17,17,17,17,17,17,17,17,17,16,16,15,14,13,13,12,11,10,9,8,7,7,6,5,4,3,2,1,1,1,1]);d.addCode(h.call(r+"_zero",h.getLocal("pr")),h.if(h.i32_eqz(h.getLocal("n")),h.ret([])),h.setLocal("chunkSize",h.i32_load8_u(h.i32_clz(h.getLocal("n")),w)),h.setLocal("nChunks",h.i32_add(h.i32_div_u(h.i32_sub(h.i32_shl(h.getLocal("scalarSize"),h.i32_const(3)),h.i32_const(1)),h.getLocal("chunkSize")),h.i32_const(1))),h.setLocal("itBit",h.i32_mul(h.i32_sub(h.getLocal("nChunks"),h.i32_const(1)),h.getLocal("chunkSize"))),h.block(h.loop(h.br_if(1,h.i32_lt_s(h.getLocal("itBit"),h.i32_const(0))),h.if(h.i32_eqz(h.call(r+"_isZero",h.getLocal("pr"))),[...h.setLocal("j",h.i32_const(0)),...h.block(h.loop(h.br_if(1,h.i32_eq(h.getLocal("j"),h.getLocal("chunkSize"))),h.call(r+"_double",h.getLocal("pr"),h.getLocal("pr")),h.setLocal("j",h.i32_add(h.getLocal("j"),h.i32_const(1))),h.br(0)))]),h.call(n+"_chunk",h.getLocal("pBases"),h.getLocal("pScalars"),h.getLocal("scalarSize"),h.getLocal("n"),h.getLocal("itBit"),h.getLocal("chunkSize"),y),h.call(r+"_add",h.getLocal("pr"),y,h.getLocal("pr")),h.setLocal("itBit",h.i32_sub(h.getLocal("itBit"),h.getLocal("chunkSize"))),h.br(0))))}function f(){const d=e.addFunction(n+"_reduceTable");d.addParam("pTable","i32"),d.addParam("p","i32"),d.addLocal("half","i32"),d.addLocal("it1","i32"),d.addLocal("it2","i32"),d.addLocal("pAcc","i32");const h=d.getCodeBuilder();d.addCode(h.if(h.i32_eq(h.getLocal("p"),h.i32_const(1)),h.ret([])),h.setLocal("half",h.i32_shl(h.i32_const(1),h.i32_sub(h.getLocal("p"),h.i32_const(1)))),h.setLocal("it1",h.getLocal("pTable")),h.setLocal("it2",h.i32_add(h.getLocal("pTable"),h.i32_mul(h.getLocal("half"),h.i32_const(s)))),h.setLocal("pAcc",h.i32_sub(h.getLocal("it2"),h.i32_const(s))),h.block(h.loop(h.br_if(1,h.i32_eq(h.getLocal("it1"),h.getLocal("pAcc"))),h.call(r+"_add",h.getLocal("it1"),h.getLocal("it2"),h.getLocal("it1")),h.call(r+"_add",h.getLocal("pAcc"),h.getLocal("it2"),h.getLocal("pAcc")),h.setLocal("it1",h.i32_add(h.getLocal("it1"),h.i32_const(s))),h.setLocal("it2",h.i32_add(h.getLocal("it2"),h.i32_const(s))),h.br(0))),h.call(n+"_reduceTable",h.getLocal("pTable"),h.i32_sub(h.getLocal("p"),h.i32_const(1))),h.setLocal("p",h.i32_sub(h.getLocal("p"),h.i32_const(1))),h.block(h.loop(h.br_if(1,h.i32_eqz(h.getLocal("p"))),h.call(r+"_double",h.getLocal("pAcc"),h.getLocal("pAcc")),h.setLocal("p",h.i32_sub(h.getLocal("p"),h.i32_const(1))),h.br(0))),h.call(r+"_add",h.getLocal("pTable"),h.getLocal("pAcc"),h.getLocal("pTable")))}u(),f(),l(),c(),e.exportFunction(n),e.exportFunction(n+"_chunk")};const l6=TT,qu=Tw,c6=kT;var Gw=function(e,r,n,i){const a=e.modules[n].n64,o=a*8;if(e.modules[r])return r;e.modules[r]={n64:a*3};function s(){const T=e.addFunction(r+"_isZero");T.addParam("p1","i32"),T.setReturnType("i32");const x=T.getCodeBuilder();T.addCode(x.call(n+"_isZero",x.i32_add(x.getLocal("p1"),x.i32_const(o*2))))}function u(){const T=e.addFunction(r+"_isZeroAffine");T.addParam("p1","i32"),T.setReturnType("i32");const x=T.getCodeBuilder();T.addCode(x.i32_and(x.call(n+"_isZero",x.getLocal("p1")),x.call(n+"_isZero",x.i32_add(x.getLocal("p1"),x.i32_const(o)))))}function l(){const T=e.addFunction(r+"_copy");T.addParam("ps","i32"),T.addParam("pd","i32");const x=T.getCodeBuilder();for(let z=0;z<a*3;z++)T.addCode(x.i64_store(x.getLocal("pd"),z*8,x.i64_load(x.getLocal("ps"),z*8)))}function c(){const T=e.addFunction(r+"_copyAffine");T.addParam("ps","i32"),T.addParam("pd","i32");const x=T.getCodeBuilder();for(let z=0;z<a*2;z++)T.addCode(x.i64_store(x.getLocal("pd"),z*8,x.i64_load(x.getLocal("ps"),z*8)))}function f(){const T=e.addFunction(r+"_zero");T.addParam("pr","i32");const x=T.getCodeBuilder();T.addCode(x.call(n+"_zero",x.getLocal("pr"))),T.addCode(x.call(n+"_one",x.i32_add(x.getLocal("pr"),x.i32_const(o)))),T.addCode(x.call(n+"_zero",x.i32_add(x.getLocal("pr"),x.i32_const(o*2))))}function d(){const T=e.addFunction(r+"_zeroAffine");T.addParam("pr","i32");const x=T.getCodeBuilder();T.addCode(x.call(n+"_zero",x.getLocal("pr"))),T.addCode(x.call(n+"_zero",x.i32_add(x.getLocal("pr"),x.i32_const(o))))}function h(){const T=e.addFunction(r+"_eq");T.addParam("p1","i32"),T.addParam("p2","i32"),T.setReturnType("i32"),T.addLocal("z1","i32"),T.addLocal("z2","i32");const x=T.getCodeBuilder(),z=x.getLocal("p1"),b=x.i32_add(x.getLocal("p1"),x.i32_const(o));T.addCode(x.setLocal("z1",x.i32_add(x.getLocal("p1"),x.i32_const(o*2))));const J=x.getLocal("z1"),V=x.getLocal("p2"),g=x.i32_add(x.getLocal("p2"),x.i32_const(o));T.addCode(x.setLocal("z2",x.i32_add(x.getLocal("p2"),x.i32_const(o*2))));const M=x.getLocal("z2"),Q=x.i32_const(e.alloc(o)),k=x.i32_const(e.alloc(o)),K=x.i32_const(e.alloc(o)),ie=x.i32_const(e.alloc(o)),ne=x.i32_const(e.alloc(o)),le=x.i32_const(e.alloc(o)),he=x.i32_const(e.alloc(o)),fe=x.i32_const(e.alloc(o));T.addCode(x.if(x.call(r+"_isZero",x.getLocal("p1")),x.ret(x.call(r+"_isZero",x.getLocal("p2")))),x.if(x.call(r+"_isZero",x.getLocal("p2")),x.ret(x.i32_const(0))),x.if(x.call(n+"_isOne",J),x.ret(x.call(r+"_eqMixed",x.getLocal("p2"),x.getLocal("p1")))),x.if(x.call(n+"_isOne",M),x.ret(x.call(r+"_eqMixed",x.getLocal("p1"),x.getLocal("p2")))),x.call(n+"_square",J,Q),x.call(n+"_square",M,k),x.call(n+"_mul",z,k,K),x.call(n+"_mul",V,Q,ie),x.call(n+"_mul",J,Q,ne),x.call(n+"_mul",M,k,le),x.call(n+"_mul",b,le,he),x.call(n+"_mul",g,ne,fe),x.if(x.call(n+"_eq",K,ie),x.if(x.call(n+"_eq",he,fe),x.ret(x.i32_const(1)))),x.ret(x.i32_const(0)))}function y(){const T=e.addFunction(r+"_eqMixed");T.addParam("p1","i32"),T.addParam("p2","i32"),T.setReturnType("i32"),T.addLocal("z1","i32");const x=T.getCodeBuilder(),z=x.getLocal("p1"),b=x.i32_add(x.getLocal("p1"),x.i32_const(o));T.addCode(x.setLocal("z1",x.i32_add(x.getLocal("p1"),x.i32_const(o*2))));const J=x.getLocal("z1"),V=x.getLocal("p2"),g=x.i32_add(x.getLocal("p2"),x.i32_const(o)),M=x.i32_const(e.alloc(o)),Q=x.i32_const(e.alloc(o)),k=x.i32_const(e.alloc(o)),K=x.i32_const(e.alloc(o));T.addCode(x.if(x.call(r+"_isZero",x.getLocal("p1")),x.ret(x.call(r+"_isZeroAffine",x.getLocal("p2")))),x.if(x.call(r+"_isZeroAffine",x.getLocal("p2")),x.ret(x.i32_const(0))),x.if(x.call(n+"_isOne",J),x.ret(x.call(r+"_eqAffine",x.getLocal("p1"),x.getLocal("p2")))),x.call(n+"_square",J,M),x.call(n+"_mul",V,M,Q),x.call(n+"_mul",J,M,k),x.call(n+"_mul",g,k,K),x.if(x.call(n+"_eq",z,Q),x.if(x.call(n+"_eq",b,K),x.ret(x.i32_const(1)))),x.ret(x.i32_const(0)))}function w(){const T=e.addFunction(r+"_double");T.addParam("p1","i32"),T.addParam("pr","i32");const x=T.getCodeBuilder(),z=x.getLocal("p1"),b=x.i32_add(x.getLocal("p1"),x.i32_const(o)),J=x.i32_add(x.getLocal("p1"),x.i32_const(o*2)),V=x.getLocal("pr"),g=x.i32_add(x.getLocal("pr"),x.i32_const(o)),M=x.i32_add(x.getLocal("pr"),x.i32_const(o*2)),Q=x.i32_const(e.alloc(o)),k=x.i32_const(e.alloc(o)),K=x.i32_const(e.alloc(o)),ie=x.i32_const(e.alloc(o)),ne=x.i32_const(e.alloc(o)),le=x.i32_const(e.alloc(o)),he=x.i32_const(e.alloc(o)),fe=x.i32_const(e.alloc(o));T.addCode(x.if(x.call(r+"_isZero",x.getLocal("p1")),[...x.call(r+"_copy",x.getLocal("p1"),x.getLocal("pr")),...x.ret([])]),x.if(x.call(n+"_isOne",J),[...x.ret(x.call(r+"_doubleAffine",x.getLocal("p1"),x.getLocal("pr"))),...x.ret([])]),x.call(n+"_square",z,Q),x.call(n+"_square",b,k),x.call(n+"_square",k,K),x.call(n+"_add",z,k,ie),x.call(n+"_square",ie,ie),x.call(n+"_sub",ie,Q,ie),x.call(n+"_sub",ie,K,ie),x.call(n+"_add",ie,ie,ie),x.call(n+"_add",Q,Q,ne),x.call(n+"_add",ne,Q,ne),x.call(n+"_square",ne,le),x.call(n+"_mul",b,J,he),x.call(n+"_add",ie,ie,V),x.call(n+"_sub",le,V,V),x.call(n+"_add",K,K,fe),x.call(n+"_add",fe,fe,fe),x.call(n+"_add",fe,fe,fe),x.call(n+"_sub",ie,V,g),x.call(n+"_mul",g,ne,g),x.call(n+"_sub",g,fe,g),x.call(n+"_add",he,he,M))}function _(){const T=e.addFunction(r+"_doubleAffine");T.addParam("p1","i32"),T.addParam("pr","i32");const x=T.getCodeBuilder(),z=x.getLocal("p1"),b=x.i32_add(x.getLocal("p1"),x.i32_const(o)),J=x.getLocal("pr"),V=x.i32_add(x.getLocal("pr"),x.i32_const(o)),g=x.i32_add(x.getLocal("pr"),x.i32_const(o*2)),M=x.i32_const(e.alloc(o)),Q=x.i32_const(e.alloc(o)),k=x.i32_const(e.alloc(o)),K=x.i32_const(e.alloc(o)),ie=x.i32_const(e.alloc(o)),ne=x.i32_const(e.alloc(o));T.addCode(x.if(x.call(r+"_isZeroAffine",x.getLocal("p1")),[...x.call(r+"_toJacobian",x.getLocal("p1"),x.getLocal("pr")),...x.ret([])]),x.call(n+"_square",z,M),x.call(n+"_square",b,Q),x.call(n+"_square",Q,k),x.call(n+"_add",z,Q,K),x.call(n+"_square",K,K),x.call(n+"_sub",K,M,K),x.call(n+"_sub",K,k,K),x.call(n+"_add",K,K,K),x.call(n+"_add",M,M,ie),x.call(n+"_add",ie,M,ie),x.call(n+"_add",b,b,g),x.call(n+"_square",ie,J),x.call(n+"_sub",J,K,J),x.call(n+"_sub",J,K,J),x.call(n+"_add",k,k,ne),x.call(n+"_add",ne,ne,ne),x.call(n+"_add",ne,ne,ne),x.call(n+"_sub",K,J,V),x.call(n+"_mul",V,ie,V),x.call(n+"_sub",V,ne,V))}function E(){const T=e.addFunction(r+"_eqAffine");T.addParam("p1","i32"),T.addParam("p2","i32"),T.setReturnType("i32"),T.addLocal("z1","i32");const x=T.getCodeBuilder();T.addCode(x.ret(x.i32_and(x.call(n+"_eq",x.getLocal("p1"),x.getLocal("p2")),x.call(n+"_eq",x.i32_add(x.getLocal("p1"),x.i32_const(o)),x.i32_add(x.getLocal("p2"),x.i32_const(o))))))}function p(){const T=e.addFunction(r+"_toMontgomery");T.addParam("p1","i32"),T.addParam("pr","i32");const x=T.getCodeBuilder();T.addCode(x.call(n+"_toMontgomery",x.getLocal("p1"),x.getLocal("pr")));for(let z=1;z<3;z++)T.addCode(x.call(n+"_toMontgomery",x.i32_add(x.getLocal("p1"),x.i32_const(z*o)),x.i32_add(x.getLocal("pr"),x.i32_const(z*o))))}function m(){const T=e.addFunction(r+"_toMontgomeryAffine");T.addParam("p1","i32"),T.addParam("pr","i32");const x=T.getCodeBuilder();T.addCode(x.call(n+"_toMontgomery",x.getLocal("p1"),x.getLocal("pr")));for(let z=1;z<2;z++)T.addCode(x.call(n+"_toMontgomery",x.i32_add(x.getLocal("p1"),x.i32_const(z*o)),x.i32_add(x.getLocal("pr"),x.i32_const(z*o))))}function S(){const T=e.addFunction(r+"_fromMontgomery");T.addParam("p1","i32"),T.addParam("pr","i32");const x=T.getCodeBuilder();T.addCode(x.call(n+"_fromMontgomery",x.getLocal("p1"),x.getLocal("pr")));for(let z=1;z<3;z++)T.addCode(x.call(n+"_fromMontgomery",x.i32_add(x.getLocal("p1"),x.i32_const(z*o)),x.i32_add(x.getLocal("pr"),x.i32_const(z*o))))}function F(){const T=e.addFunction(r+"_fromMontgomeryAffine");T.addParam("p1","i32"),T.addParam("pr","i32");const x=T.getCodeBuilder();T.addCode(x.call(n+"_fromMontgomery",x.getLocal("p1"),x.getLocal("pr")));for(let z=1;z<2;z++)T.addCode(x.call(n+"_fromMontgomery",x.i32_add(x.getLocal("p1"),x.i32_const(z*o)),x.i32_add(x.getLocal("pr"),x.i32_const(z*o))))}function I(){const T=e.addFunction(r+"_add");T.addParam("p1","i32"),T.addParam("p2","i32"),T.addParam("pr","i32"),T.addLocal("z1","i32"),T.addLocal("z2","i32");const x=T.getCodeBuilder(),z=x.getLocal("p1"),b=x.i32_add(x.getLocal("p1"),x.i32_const(o));T.addCode(x.setLocal("z1",x.i32_add(x.getLocal("p1"),x.i32_const(o*2))));const J=x.getLocal("z1"),V=x.getLocal("p2"),g=x.i32_add(x.getLocal("p2"),x.i32_const(o));T.addCode(x.setLocal("z2",x.i32_add(x.getLocal("p2"),x.i32_const(o*2))));const M=x.getLocal("z2"),Q=x.getLocal("pr"),k=x.i32_add(x.getLocal("pr"),x.i32_const(o)),K=x.i32_add(x.getLocal("pr"),x.i32_const(o*2)),ie=x.i32_const(e.alloc(o)),ne=x.i32_const(e.alloc(o)),le=x.i32_const(e.alloc(o)),he=x.i32_const(e.alloc(o)),fe=x.i32_const(e.alloc(o)),ce=x.i32_const(e.alloc(o)),Ae=x.i32_const(e.alloc(o)),Fe=x.i32_const(e.alloc(o)),Me=x.i32_const(e.alloc(o)),Ke=x.i32_const(e.alloc(o)),$e=x.i32_const(e.alloc(o)),oe=x.i32_const(e.alloc(o)),X=x.i32_const(e.alloc(o)),te=x.i32_const(e.alloc(o)),de=x.i32_const(e.alloc(o)),Ce=x.i32_const(e.alloc(o)),Se=x.i32_const(e.alloc(o));T.addCode(x.if(x.call(r+"_isZero",x.getLocal("p1")),[...x.call(r+"_copy",x.getLocal("p2"),x.getLocal("pr")),...x.ret([])]),x.if(x.call(r+"_isZero",x.getLocal("p2")),[...x.call(r+"_copy",x.getLocal("p1"),x.getLocal("pr")),...x.ret([])]),x.if(x.call(n+"_isOne",J),[...x.call(r+"_addMixed",V,z,Q),...x.ret([])]),x.if(x.call(n+"_isOne",M),[...x.call(r+"_addMixed",z,V,Q),...x.ret([])]),x.call(n+"_square",J,ie),x.call(n+"_square",M,ne),x.call(n+"_mul",z,ne,le),x.call(n+"_mul",V,ie,he),x.call(n+"_mul",J,ie,fe),x.call(n+"_mul",M,ne,ce),x.call(n+"_mul",b,ce,Ae),x.call(n+"_mul",g,fe,Fe),x.if(x.call(n+"_eq",le,he),x.if(x.call(n+"_eq",Ae,Fe),[...x.call(r+"_double",x.getLocal("p1"),x.getLocal("pr")),...x.ret([])])),x.call(n+"_sub",he,le,Me),x.call(n+"_sub",Fe,Ae,Ke),x.call(n+"_add",Me,Me,$e),x.call(n+"_square",$e,$e),x.call(n+"_mul",Me,$e,oe),x.call(n+"_add",Ke,Ke,X),x.call(n+"_mul",le,$e,de),x.call(n+"_square",X,te),x.call(n+"_add",de,de,Ce),x.call(n+"_sub",te,oe,Q),x.call(n+"_sub",Q,Ce,Q),x.call(n+"_mul",Ae,oe,Se),x.call(n+"_add",Se,Se,Se),x.call(n+"_sub",de,Q,k),x.call(n+"_mul",k,X,k),x.call(n+"_sub",k,Se,k),x.call(n+"_add",J,M,K),x.call(n+"_square",K,K),x.call(n+"_sub",K,ie,K),x.call(n+"_sub",K,ne,K),x.call(n+"_mul",K,Me,K))}function v(){const T=e.addFunction(r+"_addMixed");T.addParam("p1","i32"),T.addParam("p2","i32"),T.addParam("pr","i32"),T.addLocal("z1","i32");const x=T.getCodeBuilder(),z=x.getLocal("p1"),b=x.i32_add(x.getLocal("p1"),x.i32_const(o));T.addCode(x.setLocal("z1",x.i32_add(x.getLocal("p1"),x.i32_const(o*2))));const J=x.getLocal("z1"),V=x.getLocal("p2"),g=x.i32_add(x.getLocal("p2"),x.i32_const(o)),M=x.getLocal("pr"),Q=x.i32_add(x.getLocal("pr"),x.i32_const(o)),k=x.i32_add(x.getLocal("pr"),x.i32_const(o*2)),K=x.i32_const(e.alloc(o)),ie=x.i32_const(e.alloc(o)),ne=x.i32_const(e.alloc(o)),le=x.i32_const(e.alloc(o)),he=x.i32_const(e.alloc(o)),fe=x.i32_const(e.alloc(o)),ce=x.i32_const(e.alloc(o)),Ae=x.i32_const(e.alloc(o)),Fe=x.i32_const(e.alloc(o)),Me=x.i32_const(e.alloc(o)),Ke=x.i32_const(e.alloc(o)),$e=x.i32_const(e.alloc(o)),oe=x.i32_const(e.alloc(o)),X=x.i32_const(e.alloc(o));T.addCode(x.if(x.call(r+"_isZero",x.getLocal("p1")),[...x.call(r+"_copyAffine",x.getLocal("p2"),x.getLocal("pr")),...x.call(n+"_one",x.i32_add(x.getLocal("pr"),x.i32_const(o*2))),...x.ret([])]),x.if(x.call(r+"_isZeroAffine",x.getLocal("p2")),[...x.call(r+"_copy",x.getLocal("p1"),x.getLocal("pr")),...x.ret([])]),x.if(x.call(n+"_isOne",J),[...x.call(r+"_addAffine",z,V,M),...x.ret([])]),x.call(n+"_square",J,K),x.call(n+"_mul",V,K,ie),x.call(n+"_mul",J,K,ne),x.call(n+"_mul",g,ne,le),x.if(x.call(n+"_eq",z,ie),x.if(x.call(n+"_eq",b,le),[...x.call(r+"_doubleAffine",x.getLocal("p2"),x.getLocal("pr")),...x.ret([])])),x.call(n+"_sub",ie,z,he),x.call(n+"_sub",le,b,ce),x.call(n+"_square",he,fe),x.call(n+"_add",fe,fe,Ae),x.call(n+"_add",Ae,Ae,Ae),x.call(n+"_mul",he,Ae,Fe),x.call(n+"_add",ce,ce,Me),x.call(n+"_mul",z,Ae,$e),x.call(n+"_square",Me,Ke),x.call(n+"_add",$e,$e,oe),x.call(n+"_sub",Ke,Fe,M),x.call(n+"_sub",M,oe,M),x.call(n+"_mul",b,Fe,X),x.call(n+"_add",X,X,X),x.call(n+"_sub",$e,M,Q),x.call(n+"_mul",Q,Me,Q),x.call(n+"_sub",Q,X,Q),x.call(n+"_add",J,he,k),x.call(n+"_square",k,k),x.call(n+"_sub",k,K,k),x.call(n+"_sub",k,fe,k))}function A(){const T=e.addFunction(r+"_addAffine");T.addParam("p1","i32"),T.addParam("p2","i32"),T.addParam("pr","i32"),T.addLocal("z1","i32");const x=T.getCodeBuilder(),z=x.getLocal("p1"),b=x.i32_add(x.getLocal("p1"),x.i32_const(o));T.addCode(x.setLocal("z1",x.i32_add(x.getLocal("p1"),x.i32_const(o*2))));const J=x.getLocal("p2"),V=x.i32_add(x.getLocal("p2"),x.i32_const(o)),g=x.getLocal("pr"),M=x.i32_add(x.getLocal("pr"),x.i32_const(o)),Q=x.i32_add(x.getLocal("pr"),x.i32_const(o*2)),k=x.i32_const(e.alloc(o)),K=x.i32_const(e.alloc(o)),ie=x.i32_const(e.alloc(o)),ne=x.i32_const(e.alloc(o)),le=x.i32_const(e.alloc(o)),he=x.i32_const(e.alloc(o)),fe=x.i32_const(e.alloc(o)),ce=x.i32_const(e.alloc(o)),Ae=x.i32_const(e.alloc(o)),Fe=x.i32_const(e.alloc(o));T.addCode(x.if(x.call(r+"_isZeroAffine",x.getLocal("p1")),[...x.call(r+"_copyAffine",x.getLocal("p2"),x.getLocal("pr")),...x.call(n+"_one",x.i32_add(x.getLocal("pr"),x.i32_const(o*2))),...x.ret([])]),x.if(x.call(r+"_isZeroAffine",x.getLocal("p2")),[...x.call(r+"_copyAffine",x.getLocal("p1"),x.getLocal("pr")),...x.call(n+"_one",x.i32_add(x.getLocal("pr"),x.i32_const(o*2))),...x.ret([])]),x.if(x.call(n+"_eq",z,J),x.if(x.call(n+"_eq",b,V),[...x.call(r+"_doubleAffine",x.getLocal("p2"),x.getLocal("pr")),...x.ret([])])),x.call(n+"_sub",J,z,k),x.call(n+"_sub",V,b,ie),x.call(n+"_square",k,K),x.call(n+"_add",K,K,ne),x.call(n+"_add",ne,ne,ne),x.call(n+"_mul",k,ne,le),x.call(n+"_add",ie,ie,he),x.call(n+"_mul",z,ne,ce),x.call(n+"_square",he,fe),x.call(n+"_add",ce,ce,Ae),x.call(n+"_sub",fe,le,g),x.call(n+"_sub",g,Ae,g),x.call(n+"_mul",b,le,Fe),x.call(n+"_add",Fe,Fe,Fe),x.call(n+"_sub",ce,g,M),x.call(n+"_mul",M,he,M),x.call(n+"_sub",M,Fe,M),x.call(n+"_add",k,k,Q))}function D(){const T=e.addFunction(r+"_neg");T.addParam("p1","i32"),T.addParam("pr","i32");const x=T.getCodeBuilder(),z=x.getLocal("p1"),b=x.i32_add(x.getLocal("p1"),x.i32_const(o)),J=x.i32_add(x.getLocal("p1"),x.i32_const(o*2)),V=x.getLocal("pr"),g=x.i32_add(x.getLocal("pr"),x.i32_const(o)),M=x.i32_add(x.getLocal("pr"),x.i32_const(o*2));T.addCode(x.call(n+"_copy",z,V),x.call(n+"_neg",b,g),x.call(n+"_copy",J,M))}function L(){const T=e.addFunction(r+"_negAffine");T.addParam("p1","i32"),T.addParam("pr","i32");const x=T.getCodeBuilder(),z=x.getLocal("p1"),b=x.i32_add(x.getLocal("p1"),x.i32_const(o)),J=x.getLocal("pr"),V=x.i32_add(x.getLocal("pr"),x.i32_const(o));T.addCode(x.call(n+"_copy",z,J),x.call(n+"_neg",b,V))}function j(){const T=e.addFunction(r+"_sub");T.addParam("p1","i32"),T.addParam("p2","i32"),T.addParam("pr","i32");const x=T.getCodeBuilder(),z=x.i32_const(e.alloc(o*3));T.addCode(x.call(r+"_neg",x.getLocal("p2"),z),x.call(r+"_add",x.getLocal("p1"),z,x.getLocal("pr")))}function Y(){const T=e.addFunction(r+"_subMixed");T.addParam("p1","i32"),T.addParam("p2","i32"),T.addParam("pr","i32");const x=T.getCodeBuilder(),z=x.i32_const(e.alloc(o*3));T.addCode(x.call(r+"_negAffine",x.getLocal("p2"),z),x.call(r+"_addMixed",x.getLocal("p1"),z,x.getLocal("pr")))}function O(){const T=e.addFunction(r+"_subAffine");T.addParam("p1","i32"),T.addParam("p2","i32"),T.addParam("pr","i32");const x=T.getCodeBuilder(),z=x.i32_const(e.alloc(o*3));T.addCode(x.call(r+"_negAffine",x.getLocal("p2"),z),x.call(r+"_addAffine",x.getLocal("p1"),z,x.getLocal("pr")))}function B(){const T=e.addFunction(r+"_normalize");T.addParam("p1","i32"),T.addParam("pr","i32");const x=T.getCodeBuilder(),z=x.getLocal("p1"),b=x.i32_add(x.getLocal("p1"),x.i32_const(o)),J=x.i32_add(x.getLocal("p1"),x.i32_const(o*2)),V=x.getLocal("pr"),g=x.i32_add(x.getLocal("pr"),x.i32_const(o)),M=x.i32_add(x.getLocal("pr"),x.i32_const(o*2)),Q=x.i32_const(e.alloc(o)),k=x.i32_const(e.alloc(o)),K=x.i32_const(e.alloc(o));T.addCode(x.if(x.call(r+"_isZero",x.getLocal("p1")),x.call(r+"_zero",x.getLocal("pr")),[...x.call(n+"_inverse",J,Q),...x.call(n+"_square",Q,k),...x.call(n+"_mul",Q,k,K),...x.call(n+"_mul",z,k,V),...x.call(n+"_mul",b,K,g),...x.call(n+"_one",M)]))}function C(){const T=e.addFunction(r+"_toAffine");T.addParam("p1","i32"),T.addParam("pr","i32");const x=T.getCodeBuilder(),z=x.getLocal("p1"),b=x.i32_add(x.getLocal("p1"),x.i32_const(o)),J=x.i32_add(x.getLocal("p1"),x.i32_const(o*2)),V=x.getLocal("pr"),g=x.i32_add(x.getLocal("pr"),x.i32_const(o)),M=x.i32_const(e.alloc(o)),Q=x.i32_const(e.alloc(o)),k=x.i32_const(e.alloc(o));T.addCode(x.if(x.call(r+"_isZero",x.getLocal("p1")),[...x.call(n+"_zero",V),...x.call(n+"_zero",g)],[...x.call(n+"_inverse",J,M),...x.call(n+"_square",M,Q),...x.call(n+"_mul",M,Q,k),...x.call(n+"_mul",z,Q,V),...x.call(n+"_mul",b,k,g)]))}function N(){const T=e.addFunction(r+"_toJacobian");T.addParam("p1","i32"),T.addParam("pr","i32");const x=T.getCodeBuilder(),z=x.getLocal("p1"),b=x.i32_add(x.getLocal("p1"),x.i32_const(o)),J=x.getLocal("pr"),V=x.i32_add(x.getLocal("pr"),x.i32_const(o)),g=x.i32_add(x.getLocal("pr"),x.i32_const(o*2));T.addCode(x.if(x.call(r+"_isZeroAffine",x.getLocal("p1")),x.call(r+"_zero",x.getLocal("pr")),[...x.call(n+"_one",g),...x.call(n+"_copy",b,V),...x.call(n+"_copy",z,J)]))}function U(){const T=e.addFunction(r+"_batchToAffine");T.addParam("pIn","i32"),T.addParam("n","i32"),T.addParam("pOut","i32"),T.addLocal("pAux","i32"),T.addLocal("itIn","i32"),T.addLocal("itAux","i32"),T.addLocal("itOut","i32"),T.addLocal("i","i32");const x=T.getCodeBuilder(),z=x.i32_const(e.alloc(o));T.addCode(x.setLocal("pAux",x.i32_load(x.i32_const(0))),x.i32_store(x.i32_const(0),x.i32_add(x.getLocal("pAux"),x.i32_mul(x.getLocal("n"),x.i32_const(o)))),x.call(n+"_batchInverse",x.i32_add(x.getLocal("pIn"),x.i32_const(o*2)),x.i32_const(o*3),x.getLocal("n"),x.getLocal("pAux"),x.i32_const(o)),x.setLocal("itIn",x.getLocal("pIn")),x.setLocal("itAux",x.getLocal("pAux")),x.setLocal("itOut",x.getLocal("pOut")),x.setLocal("i",x.i32_const(0)),x.block(x.loop(x.br_if(1,x.i32_eq(x.getLocal("i"),x.getLocal("n"))),x.if(x.call(n+"_isZero",x.getLocal("itAux")),[...x.call(n+"_zero",x.getLocal("itOut")),...x.call(n+"_zero",x.i32_add(x.getLocal("itOut"),x.i32_const(o)))],[...x.call(n+"_mul",x.getLocal("itAux"),x.i32_add(x.getLocal("itIn"),x.i32_const(o)),z),...x.call(n+"_square",x.getLocal("itAux"),x.getLocal("itAux")),...x.call(n+"_mul",x.getLocal("itAux"),x.getLocal("itIn"),x.getLocal("itOut")),...x.call(n+"_mul",x.getLocal("itAux"),z,x.i32_add(x.getLocal("itOut"),x.i32_const(o)))]),x.setLocal("itIn",x.i32_add(x.getLocal("itIn"),x.i32_const(o*3))),x.setLocal("itOut",x.i32_add(x.getLocal("itOut"),x.i32_const(o*2))),x.setLocal("itAux",x.i32_add(x.getLocal("itAux"),x.i32_const(o))),x.setLocal("i",x.i32_add(x.getLocal("i"),x.i32_const(1))),x.br(0))),x.i32_store(x.i32_const(0),x.getLocal("pAux")))}function G(){const T=e.addFunction(r+"__reverseBytes");T.addParam("pIn","i32"),T.addParam("n","i32"),T.addParam("pOut","i32"),T.addLocal("itOut","i32"),T.addLocal("itIn","i32");const x=T.getCodeBuilder();T.addCode(x.setLocal("itOut",x.i32_sub(x.i32_add(x.getLocal("pOut"),x.getLocal("n")),x.i32_const(1))),x.setLocal("itIn",x.getLocal("pIn")),x.block(x.loop(x.br_if(1,x.i32_lt_s(x.getLocal("itOut"),x.getLocal("pOut"))),x.i32_store8(x.getLocal("itOut"),x.i32_load8_u(x.getLocal("itIn"))),x.setLocal("itOut",x.i32_sub(x.getLocal("itOut"),x.i32_const(1))),x.setLocal("itIn",x.i32_add(x.getLocal("itIn"),x.i32_const(1))),x.br(0))))}function $(){const T=e.addFunction(r+"_LEMtoC");T.addParam("pIn","i32"),T.addParam("pOut","i32");const x=T.getCodeBuilder(),z=x.i32_const(e.alloc(o));T.addCode(x.if(x.call(r+"_isZeroAffine",x.getLocal("pIn")),[...x.call(n+"_zero",x.getLocal("pOut")),...x.i32_store8(x.getLocal("pOut"),x.i32_const(64)),...x.ret([])]),x.call(n+"_fromMontgomery",x.getLocal("pIn"),z),x.call(r+"__reverseBytes",z,x.i32_const(o),x.getLocal("pOut")),x.if(x.i32_eq(x.call(n+"_sign",x.i32_add(x.getLocal("pIn"),x.i32_const(o))),x.i32_const(-1)),x.i32_store8(x.getLocal("pOut"),x.i32_or(x.i32_load8_u(x.getLocal("pOut")),x.i32_const(128)))))}function Z(){const T=e.addFunction(r+"_LEMtoU");T.addParam("pIn","i32"),T.addParam("pOut","i32");const x=T.getCodeBuilder(),z=e.alloc(o*2),b=x.i32_const(z),J=x.i32_const(z),V=x.i32_const(z+o);T.addCode(x.if(x.call(r+"_isZeroAffine",x.getLocal("pIn")),[...x.call(r+"_zeroAffine",x.getLocal("pOut")),...x.ret([])]),x.call(r+"_fromMontgomeryAffine",x.getLocal("pIn"),b),x.call(r+"__reverseBytes",J,x.i32_const(o),x.getLocal("pOut")),x.call(r+"__reverseBytes",V,x.i32_const(o),x.i32_add(x.getLocal("pOut"),x.i32_const(o))))}function W(){const T=e.addFunction(r+"_UtoLEM");T.addParam("pIn","i32"),T.addParam("pOut","i32");const x=T.getCodeBuilder(),z=e.alloc(o*2),b=x.i32_const(z),J=x.i32_const(z),V=x.i32_const(z+o);T.addCode(x.if(x.i32_and(x.i32_load8_u(x.getLocal("pIn")),x.i32_const(64)),[...x.call(r+"_zeroAffine",x.getLocal("pOut")),...x.ret([])]),x.call(r+"__reverseBytes",x.getLocal("pIn"),x.i32_const(o),J),x.call(r+"__reverseBytes",x.i32_add(x.getLocal("pIn"),x.i32_const(o)),x.i32_const(o),V),x.call(r+"_toMontgomeryAffine",b,x.getLocal("pOut")))}function P(){const T=e.addFunction(r+"_CtoLEM");T.addParam("pIn","i32"),T.addParam("pOut","i32"),T.addLocal("firstByte","i32"),T.addLocal("greatest","i32");const x=T.getCodeBuilder(),z=e.alloc(o*2),b=x.i32_const(z),J=x.i32_const(z+o);T.addCode(x.setLocal("firstByte",x.i32_load8_u(x.getLocal("pIn"))),x.if(x.i32_and(x.getLocal("firstByte"),x.i32_const(64)),[...x.call(r+"_zeroAffine",x.getLocal("pOut")),...x.ret([])]),x.setLocal("greatest",x.i32_and(x.getLocal("firstByte"),x.i32_const(128))),x.call(n+"_copy",x.getLocal("pIn"),J),x.i32_store8(J,x.i32_and(x.getLocal("firstByte"),x.i32_const(63))),x.call(r+"__reverseBytes",J,x.i32_const(o),b),x.call(n+"_toMontgomery",b,x.getLocal("pOut")),x.call(n+"_square",x.getLocal("pOut"),J),x.call(n+"_mul",x.getLocal("pOut"),J,J),x.call(n+"_add",J,x.i32_const(i),J),x.call(n+"_sqrt",J,J),x.call(n+"_neg",J,b),x.if(x.i32_eq(x.call(n+"_sign",J),x.i32_const(-1)),x.if(x.getLocal("greatest"),x.call(n+"_copy",J,x.i32_add(x.getLocal("pOut"),x.i32_const(o))),x.call(n+"_neg",J,x.i32_add(x.getLocal("pOut"),x.i32_const(o)))),x.if(x.getLocal("greatest"),x.call(n+"_neg",J,x.i32_add(x.getLocal("pOut"),x.i32_const(o))),x.call(n+"_copy",J,x.i32_add(x.getLocal("pOut"),x.i32_const(o))))))}function R(){const T=e.addFunction(r+"_inCurveAffine");T.addParam("pIn","i32"),T.setReturnType("i32");const x=T.getCodeBuilder(),z=x.getLocal("pIn"),b=x.i32_add(x.getLocal("pIn"),x.i32_const(o)),J=x.i32_const(e.alloc(o)),V=x.i32_const(e.alloc(o));T.addCode(x.call(n+"_square",b,J),x.call(n+"_square",z,V),x.call(n+"_mul",z,V,V),x.call(n+"_add",V,x.i32_const(i),V),x.ret(x.call(n+"_eq",J,V)))}function re(){const T=e.addFunction(r+"_inCurve");T.addParam("pIn","i32"),T.setReturnType("i32");const x=T.getCodeBuilder(),z=x.i32_const(e.alloc(o*2));T.addCode(x.call(r+"_toAffine",x.getLocal("pIn"),z),x.ret(x.call(r+"_inCurveAffine",z)))}return u(),s(),d(),f(),c(),l(),N(),E(),y(),h(),_(),w(),A(),v(),I(),L(),D(),O(),Y(),j(),F(),S(),m(),p(),C(),R(),re(),U(),B(),G(),Z(),$(),W(),P(),qu(e,r+"_batchLEMtoU",r+"_LEMtoU",o*2,o*2),qu(e,r+"_batchLEMtoC",r+"_LEMtoC",o*2,o),qu(e,r+"_batchUtoLEM",r+"_UtoLEM",o*2,o*2),qu(e,r+"_batchCtoLEM",r+"_CtoLEM",o,o*2,!0),qu(e,r+"_batchToJacobian",r+"_toJacobian",o*2,o*3,!0),c6(e,r,r+"_multiexp",r+"_add",o*3),c6(e,r,r+"_multiexpAffine",r+"_addMixed",o*2),l6(e,r+"_timesScalar",o*3,r+"_add",r+"_double",r+"_sub",r+"_copy",r+"_zero"),l6(e,r+"_timesScalarAffine",o*2,r+"_addMixed",r+"_double",r+"_subMixed",r+"_copyAffine",r+"_zero"),e.exportFunction(r+"_isZero"),e.exportFunction(r+"_isZeroAffine"),e.exportFunction(r+"_eq"),e.exportFunction(r+"_eqMixed"),e.exportFunction(r+"_eqAffine"),e.exportFunction(r+"_copy"),e.exportFunction(r+"_copyAffine"),e.exportFunction(r+"_zero"),e.exportFunction(r+"_zeroAffine"),e.exportFunction(r+"_double"),e.exportFunction(r+"_doubleAffine"),e.exportFunction(r+"_add"),e.exportFunction(r+"_addMixed"),e.exportFunction(r+"_addAffine"),e.exportFunction(r+"_neg"),e.exportFunction(r+"_negAffine"),e.exportFunction(r+"_sub"),e.exportFunction(r+"_subMixed"),e.exportFunction(r+"_subAffine"),e.exportFunction(r+"_fromMontgomery"),e.exportFunction(r+"_fromMontgomeryAffine"),e.exportFunction(r+"_toMontgomery"),e.exportFunction(r+"_toMontgomeryAffine"),e.exportFunction(r+"_timesScalar"),e.exportFunction(r+"_timesScalarAffine"),e.exportFunction(r+"_normalize"),e.exportFunction(r+"_LEMtoU"),e.exportFunction(r+"_LEMtoC"),e.exportFunction(r+"_UtoLEM"),e.exportFunction(r+"_CtoLEM"),e.exportFunction(r+"_batchLEMtoU"),e.exportFunction(r+"_batchLEMtoC"),e.exportFunction(r+"_batchUtoLEM"),e.exportFunction(r+"_batchCtoLEM"),e.exportFunction(r+"_toAffine"),e.exportFunction(r+"_toJacobian"),e.exportFunction(r+"_batchToAffine"),e.exportFunction(r+"_batchToJacobian"),e.exportFunction(r+"_inCurve"),e.exportFunction(r+"_inCurveAffine"),r};const{isOdd:NT,modInv:u6,modPow:Qu}=_i,wh=G0;var zw=function(e,r,n,i,a){const s=e.modules[i].n64*8,l=e.modules[n].n64*8,c=e.modules[i].q;let f=c-1n,d=0;for(;!NT(f);)d++,f=f>>1n;let h=2n;for(;Qu(h,c>>1n,c)===1n;)h=h+1n;const y=new Array(d+1);y[d]=Qu(h,f,c);let w=d-1;for(;w>=0;)y[w]=Qu(y[w+1],2n,c),w--;const _=[],E=(1n<<BigInt(s*8))%c;for(let z=0;z<y.length;z++){const b=y[z]*E%c;_.push(...wh.bigInt2BytesLE(b,s))}const p=e.alloc(_),m=new Array(d+1);m[0]=1n;for(let z=1;z<=d;z++)m[z]=m[z-1]*2n;const S=[];for(let z=0;z<=d;z++){const b=u6(m[z],c)*E%c;S.push(...wh.bigInt2BytesLE(b,s))}const F=e.alloc(S),I=Qu(h,2n,c),v=[],A=[];for(let z=0;z<=d;z++){const b=Qu(I,2n**BigInt(z),c),J=u6(c+1n-b,c);v.push(...wh.bigInt2BytesLE(b*E%c,s)),A.push(...wh.bigInt2BytesLE(J*E%c,s))}const D=e.alloc(v),L=e.alloc(A);function j(z){let b=0;for(let J=0;J<8;J++)z&1<<J&&(b=b|128>>J);return b}const Y=Array(256);for(let z=0;z<256;z++)Y[z]=j(z);const O=e.alloc(Y);function B(){const z=e.addFunction(r+"__log2");z.addParam("n","i32"),z.setReturnType("i32"),z.addLocal("bits","i32"),z.addLocal("aux","i32");const b=z.getCodeBuilder();z.addCode(b.setLocal("aux",b.i32_shr_u(b.getLocal("n"),b.i32_const(1)))),z.addCode(b.setLocal("bits",b.i32_const(0))),z.addCode(b.block(b.loop(b.br_if(1,b.i32_eqz(b.getLocal("aux"))),b.setLocal("aux",b.i32_shr_u(b.getLocal("aux"),b.i32_const(1))),b.setLocal("bits",b.i32_add(b.getLocal("bits"),b.i32_const(1))),b.br(0)))),z.addCode(b.if(b.i32_ne(b.getLocal("n"),b.i32_shl(b.i32_const(1),b.getLocal("bits"))),b.unreachable())),z.addCode(b.if(b.i32_gt_u(b.getLocal("bits"),b.i32_const(d)),b.unreachable())),z.addCode(b.getLocal("bits"))}function C(){const z=e.addFunction(r+"_fft");z.addParam("px","i32"),z.addParam("n","i32"),z.addLocal("bits","i32");const b=z.getCodeBuilder(),J=b.i32_const(e.alloc(s));z.addCode(b.setLocal("bits",b.call(r+"__log2",b.getLocal("n"))),b.call(i+"_one",J),b.call(r+"_rawfft",b.getLocal("px"),b.getLocal("bits"),b.i32_const(0),J))}function N(){const z=e.addFunction(r+"_ifft");z.addParam("px","i32"),z.addParam("n","i32"),z.addLocal("bits","i32"),z.addLocal("pInv2","i32");const b=z.getCodeBuilder();z.addCode(b.setLocal("bits",b.call(r+"__log2",b.getLocal("n"))),b.setLocal("pInv2",b.i32_add(b.i32_const(F),b.i32_mul(b.getLocal("bits"),b.i32_const(s)))),b.call(r+"_rawfft",b.getLocal("px"),b.getLocal("bits"),b.i32_const(1),b.getLocal("pInv2")))}function U(){const z=e.addFunction(r+"_rawfft");z.addParam("px","i32"),z.addParam("bits","i32"),z.addParam("reverse","i32"),z.addParam("mulFactor","i32"),z.addLocal("s","i32"),z.addLocal("k","i32"),z.addLocal("j","i32"),z.addLocal("m","i32"),z.addLocal("mdiv2","i32"),z.addLocal("n","i32"),z.addLocal("pwm","i32"),z.addLocal("idx1","i32"),z.addLocal("idx2","i32");const b=z.getCodeBuilder(),J=b.i32_const(e.alloc(s)),V=b.i32_const(e.alloc(l)),g=b.i32_const(e.alloc(l));z.addCode(b.call(r+"__reversePermutation",b.getLocal("px"),b.getLocal("bits")),b.setLocal("n",b.i32_shl(b.i32_const(1),b.getLocal("bits"))),b.setLocal("s",b.i32_const(1)),b.block(b.loop(b.br_if(1,b.i32_gt_u(b.getLocal("s"),b.getLocal("bits"))),b.setLocal("m",b.i32_shl(b.i32_const(1),b.getLocal("s"))),b.setLocal("pwm",b.i32_add(b.i32_const(p),b.i32_mul(b.getLocal("s"),b.i32_const(s)))),b.setLocal("k",b.i32_const(0)),b.block(b.loop(b.br_if(1,b.i32_ge_u(b.getLocal("k"),b.getLocal("n"))),b.call(i+"_one",J),b.setLocal("mdiv2",b.i32_shr_u(b.getLocal("m"),b.i32_const(1))),b.setLocal("j",b.i32_const(0)),b.block(b.loop(b.br_if(1,b.i32_ge_u(b.getLocal("j"),b.getLocal("mdiv2"))),b.setLocal("idx1",b.i32_add(b.getLocal("px"),b.i32_mul(b.i32_add(b.getLocal("k"),b.getLocal("j")),b.i32_const(l)))),b.setLocal("idx2",b.i32_add(b.getLocal("idx1"),b.i32_mul(b.getLocal("mdiv2"),b.i32_const(l)))),b.call(a,b.getLocal("idx2"),J,V),b.call(n+"_copy",b.getLocal("idx1"),g),b.call(n+"_add",g,V,b.getLocal("idx1")),b.call(n+"_sub",g,V,b.getLocal("idx2")),b.call(i+"_mul",J,b.getLocal("pwm"),J),b.setLocal("j",b.i32_add(b.getLocal("j"),b.i32_const(1))),b.br(0))),b.setLocal("k",b.i32_add(b.getLocal("k"),b.getLocal("m"))),b.br(0))),b.setLocal("s",b.i32_add(b.getLocal("s"),b.i32_const(1))),b.br(0))),b.call(r+"__fftFinal",b.getLocal("px"),b.getLocal("bits"),b.getLocal("reverse"),b.getLocal("mulFactor")))}function G(){const z=e.addFunction(r+"__fftFinal");z.addParam("px","i32"),z.addParam("bits","i32"),z.addParam("reverse","i32"),z.addParam("mulFactor","i32"),z.addLocal("n","i32"),z.addLocal("ndiv2","i32"),z.addLocal("pInv2","i32"),z.addLocal("i","i32"),z.addLocal("mask","i32"),z.addLocal("idx1","i32"),z.addLocal("idx2","i32");const b=z.getCodeBuilder(),J=b.i32_const(e.alloc(l));z.addCode(b.if(b.i32_and(b.i32_eqz(b.getLocal("reverse")),b.call(i+"_isOne",b.getLocal("mulFactor"))),b.ret([])),b.setLocal("n",b.i32_shl(b.i32_const(1),b.getLocal("bits"))),b.setLocal("mask",b.i32_sub(b.getLocal("n"),b.i32_const(1))),b.setLocal("i",b.i32_const(1)),b.setLocal("ndiv2",b.i32_shr_u(b.getLocal("n"),b.i32_const(1))),b.block(b.loop(b.br_if(1,b.i32_ge_u(b.getLocal("i"),b.getLocal("ndiv2"))),b.setLocal("idx1",b.i32_add(b.getLocal("px"),b.i32_mul(b.getLocal("i"),b.i32_const(l)))),b.setLocal("idx2",b.i32_add(b.getLocal("px"),b.i32_mul(b.i32_sub(b.getLocal("n"),b.getLocal("i")),b.i32_const(l)))),b.if(b.getLocal("reverse"),b.if(b.call(i+"_isOne",b.getLocal("mulFactor")),[...b.call(n+"_copy",b.getLocal("idx1"),J),...b.call(n+"_copy",b.getLocal("idx2"),b.getLocal("idx1")),...b.call(n+"_copy",J,b.getLocal("idx2"))],[...b.call(n+"_copy",b.getLocal("idx1"),J),...b.call(a,b.getLocal("idx2"),b.getLocal("mulFactor"),b.getLocal("idx1")),...b.call(a,J,b.getLocal("mulFactor"),b.getLocal("idx2"))]),b.if(b.call(i+"_isOne",b.getLocal("mulFactor")),[],[...b.call(a,b.getLocal("idx1"),b.getLocal("mulFactor"),b.getLocal("idx1")),...b.call(a,b.getLocal("idx2"),b.getLocal("mulFactor"),b.getLocal("idx2"))])),b.setLocal("i",b.i32_add(b.getLocal("i"),b.i32_const(1))),b.br(0))),b.if(b.call(i+"_isOne",b.getLocal("mulFactor")),[],[...b.call(a,b.getLocal("px"),b.getLocal("mulFactor"),b.getLocal("px")),...b.setLocal("idx2",b.i32_add(b.getLocal("px"),b.i32_mul(b.getLocal("ndiv2"),b.i32_const(l)))),...b.call(a,b.getLocal("idx2"),b.getLocal("mulFactor"),b.getLocal("idx2"))]))}function $(){const z=e.addFunction(r+"__reversePermutation");z.addParam("px","i32"),z.addParam("bits","i32"),z.addLocal("n","i32"),z.addLocal("i","i32"),z.addLocal("ri","i32"),z.addLocal("idx1","i32"),z.addLocal("idx2","i32");const b=z.getCodeBuilder(),J=b.i32_const(e.alloc(l));z.addCode(b.setLocal("n",b.i32_shl(b.i32_const(1),b.getLocal("bits"))),b.setLocal("i",b.i32_const(0)),b.block(b.loop(b.br_if(1,b.i32_eq(b.getLocal("i"),b.getLocal("n"))),b.setLocal("idx1",b.i32_add(b.getLocal("px"),b.i32_mul(b.getLocal("i"),b.i32_const(l)))),b.setLocal("ri",b.call(r+"__rev",b.getLocal("i"),b.getLocal("bits"))),b.setLocal("idx2",b.i32_add(b.getLocal("px"),b.i32_mul(b.getLocal("ri"),b.i32_const(l)))),b.if(b.i32_lt_u(b.getLocal("i"),b.getLocal("ri")),[...b.call(n+"_copy",b.getLocal("idx1"),J),...b.call(n+"_copy",b.getLocal("idx2"),b.getLocal("idx1")),...b.call(n+"_copy",J,b.getLocal("idx2"))]),b.setLocal("i",b.i32_add(b.getLocal("i"),b.i32_const(1))),b.br(0))))}function Z(){const z=e.addFunction(r+"__rev");z.addParam("x","i32"),z.addParam("bits","i32"),z.setReturnType("i32");const b=z.getCodeBuilder();z.addCode(b.i32_rotl(b.i32_add(b.i32_add(b.i32_shl(b.i32_load8_u(b.i32_and(b.getLocal("x"),b.i32_const(255)),O,0),b.i32_const(24)),b.i32_shl(b.i32_load8_u(b.i32_and(b.i32_shr_u(b.getLocal("x"),b.i32_const(8)),b.i32_const(255)),O,0),b.i32_const(16))),b.i32_add(b.i32_shl(b.i32_load8_u(b.i32_and(b.i32_shr_u(b.getLocal("x"),b.i32_const(16)),b.i32_const(255)),O,0),b.i32_const(8)),b.i32_load8_u(b.i32_and(b.i32_shr_u(b.getLocal("x"),b.i32_const(24)),b.i32_const(255)),O,0))),b.getLocal("bits")))}function W(){const z=e.addFunction(r+"_fftJoin");z.addParam("pBuff1","i32"),z.addParam("pBuff2","i32"),z.addParam("n","i32"),z.addParam("first","i32"),z.addParam("inc","i32"),z.addLocal("idx1","i32"),z.addLocal("idx2","i32"),z.addLocal("i","i32");const b=z.getCodeBuilder(),J=b.i32_const(e.alloc(s)),V=b.i32_const(e.alloc(l)),g=b.i32_const(e.alloc(l));z.addCode(b.call(i+"_copy",b.getLocal("first"),J),b.setLocal("i",b.i32_const(0)),b.block(b.loop(b.br_if(1,b.i32_eq(b.getLocal("i"),b.getLocal("n"))),b.setLocal("idx1",b.i32_add(b.getLocal("pBuff1"),b.i32_mul(b.getLocal("i"),b.i32_const(l)))),b.setLocal("idx2",b.i32_add(b.getLocal("pBuff2"),b.i32_mul(b.getLocal("i"),b.i32_const(l)))),b.call(a,b.getLocal("idx2"),J,V),b.call(n+"_copy",b.getLocal("idx1"),g),b.call(n+"_add",g,V,b.getLocal("idx1")),b.call(n+"_sub",g,V,b.getLocal("idx2")),b.call(i+"_mul",J,b.getLocal("inc"),J),b.setLocal("i",b.i32_add(b.getLocal("i"),b.i32_const(1))),b.br(0))))}function P(){const z=e.addFunction(r+"_fftJoinExt");z.addParam("pBuff1","i32"),z.addParam("pBuff2","i32"),z.addParam("n","i32"),z.addParam("first","i32"),z.addParam("inc","i32"),z.addParam("totalBits","i32"),z.addLocal("idx1","i32"),z.addLocal("idx2","i32"),z.addLocal("i","i32"),z.addLocal("pShiftToM","i32");const b=z.getCodeBuilder(),J=b.i32_const(e.alloc(s)),V=b.i32_const(e.alloc(l));z.addCode(b.setLocal("pShiftToM",b.i32_add(b.i32_const(D),b.i32_mul(b.getLocal("totalBits"),b.i32_const(s)))),b.call(i+"_copy",b.getLocal("first"),J),b.setLocal("i",b.i32_const(0)),b.block(b.loop(b.br_if(1,b.i32_eq(b.getLocal("i"),b.getLocal("n"))),b.setLocal("idx1",b.i32_add(b.getLocal("pBuff1"),b.i32_mul(b.getLocal("i"),b.i32_const(l)))),b.setLocal("idx2",b.i32_add(b.getLocal("pBuff2"),b.i32_mul(b.getLocal("i"),b.i32_const(l)))),b.call(n+"_add",b.getLocal("idx1"),b.getLocal("idx2"),V),b.call(a,b.getLocal("idx2"),b.getLocal("pShiftToM"),b.getLocal("idx2")),b.call(n+"_add",b.getLocal("idx1"),b.getLocal("idx2"),b.getLocal("idx2")),b.call(a,b.getLocal("idx2"),J,b.getLocal("idx2")),b.call(n+"_copy",V,b.getLocal("idx1")),b.call(i+"_mul",J,b.getLocal("inc"),J),b.setLocal("i",b.i32_add(b.getLocal("i"),b.i32_const(1))),b.br(0))))}function R(){const z=e.addFunction(r+"_fftJoinExtInv");z.addParam("pBuff1","i32"),z.addParam("pBuff2","i32"),z.addParam("n","i32"),z.addParam("first","i32"),z.addParam("inc","i32"),z.addParam("totalBits","i32"),z.addLocal("idx1","i32"),z.addLocal("idx2","i32"),z.addLocal("i","i32"),z.addLocal("pShiftToM","i32"),z.addLocal("pSConst","i32");const b=z.getCodeBuilder(),J=b.i32_const(e.alloc(s)),V=b.i32_const(e.alloc(l));z.addCode(b.setLocal("pShiftToM",b.i32_add(b.i32_const(D),b.i32_mul(b.getLocal("totalBits"),b.i32_const(s)))),b.setLocal("pSConst",b.i32_add(b.i32_const(L),b.i32_mul(b.getLocal("totalBits"),b.i32_const(s)))),b.call(i+"_copy",b.getLocal("first"),J),b.setLocal("i",b.i32_const(0)),b.block(b.loop(b.br_if(1,b.i32_eq(b.getLocal("i"),b.getLocal("n"))),b.setLocal("idx1",b.i32_add(b.getLocal("pBuff1"),b.i32_mul(b.getLocal("i"),b.i32_const(l)))),b.setLocal("idx2",b.i32_add(b.getLocal("pBuff2"),b.i32_mul(b.getLocal("i"),b.i32_const(l)))),b.call(a,b.getLocal("idx2"),J,V),b.call(n+"_sub",b.getLocal("idx1"),V,b.getLocal("idx2")),b.call(a,b.getLocal("idx2"),b.getLocal("pSConst"),b.getLocal("idx2")),b.call(a,b.getLocal("idx1"),b.getLocal("pShiftToM"),b.getLocal("idx1")),b.call(n+"_sub",V,b.getLocal("idx1"),b.getLocal("idx1")),b.call(a,b.getLocal("idx1"),b.getLocal("pSConst"),b.getLocal("idx1")),b.call(i+"_mul",J,b.getLocal("inc"),J),b.setLocal("i",b.i32_add(b.getLocal("i"),b.i32_const(1))),b.br(0))))}function re(){const z=e.addFunction(r+"_prepareLagrangeEvaluation");z.addParam("pBuff1","i32"),z.addParam("pBuff2","i32"),z.addParam("n","i32"),z.addParam("first","i32"),z.addParam("inc","i32"),z.addParam("totalBits","i32"),z.addLocal("idx1","i32"),z.addLocal("idx2","i32"),z.addLocal("i","i32"),z.addLocal("pShiftToM","i32"),z.addLocal("pSConst","i32");const b=z.getCodeBuilder(),J=b.i32_const(e.alloc(s)),V=b.i32_const(e.alloc(l));z.addCode(b.setLocal("pShiftToM",b.i32_add(b.i32_const(D),b.i32_mul(b.getLocal("totalBits"),b.i32_const(s)))),b.setLocal("pSConst",b.i32_add(b.i32_const(L),b.i32_mul(b.getLocal("totalBits"),b.i32_const(s)))),b.call(i+"_copy",b.getLocal("first"),J),b.setLocal("i",b.i32_const(0)),b.block(b.loop(b.br_if(1,b.i32_eq(b.getLocal("i"),b.getLocal("n"))),b.setLocal("idx1",b.i32_add(b.getLocal("pBuff1"),b.i32_mul(b.getLocal("i"),b.i32_const(l)))),b.setLocal("idx2",b.i32_add(b.getLocal("pBuff2"),b.i32_mul(b.getLocal("i"),b.i32_const(l)))),b.call(a,b.getLocal("idx1"),b.getLocal("pShiftToM"),V),b.call(n+"_sub",b.getLocal("idx2"),V,V),b.call(n+"_sub",b.getLocal("idx1"),b.getLocal("idx2"),b.getLocal("idx2")),b.call(a,V,b.getLocal("pSConst"),b.getLocal("idx1")),b.call(a,b.getLocal("idx2"),J,b.getLocal("idx2")),b.call(i+"_mul",J,b.getLocal("inc"),J),b.setLocal("i",b.i32_add(b.getLocal("i"),b.i32_const(1))),b.br(0))))}function T(){const z=e.addFunction(r+"_fftMix");z.addParam("pBuff","i32"),z.addParam("n","i32"),z.addParam("exp","i32"),z.addLocal("nGroups","i32"),z.addLocal("nPerGroup","i32"),z.addLocal("nPerGroupDiv2","i32"),z.addLocal("pairOffset","i32"),z.addLocal("idx1","i32"),z.addLocal("idx2","i32"),z.addLocal("i","i32"),z.addLocal("j","i32"),z.addLocal("pwm","i32");const b=z.getCodeBuilder(),J=b.i32_const(e.alloc(s)),V=b.i32_const(e.alloc(l)),g=b.i32_const(e.alloc(l));z.addCode(b.setLocal("nPerGroup",b.i32_shl(b.i32_const(1),b.getLocal("exp"))),b.setLocal("nPerGroupDiv2",b.i32_shr_u(b.getLocal("nPerGroup"),b.i32_const(1))),b.setLocal("nGroups",b.i32_shr_u(b.getLocal("n"),b.getLocal("exp"))),b.setLocal("pairOffset",b.i32_mul(b.getLocal("nPerGroupDiv2"),b.i32_const(l))),b.setLocal("pwm",b.i32_add(b.i32_const(p),b.i32_mul(b.getLocal("exp"),b.i32_const(s)))),b.setLocal("i",b.i32_const(0)),b.block(b.loop(b.br_if(1,b.i32_eq(b.getLocal("i"),b.getLocal("nGroups"))),b.call(i+"_one",J),b.setLocal("j",b.i32_const(0)),b.block(b.loop(b.br_if(1,b.i32_eq(b.getLocal("j"),b.getLocal("nPerGroupDiv2"))),b.setLocal("idx1",b.i32_add(b.getLocal("pBuff"),b.i32_mul(b.i32_add(b.i32_mul(b.getLocal("i"),b.getLocal("nPerGroup")),b.getLocal("j")),b.i32_const(l)))),b.setLocal("idx2",b.i32_add(b.getLocal("idx1"),b.getLocal("pairOffset"))),b.call(a,b.getLocal("idx2"),J,V),b.call(n+"_copy",b.getLocal("idx1"),g),b.call(n+"_add",g,V,b.getLocal("idx1")),b.call(n+"_sub",g,V,b.getLocal("idx2")),b.call(i+"_mul",J,b.getLocal("pwm"),J),b.setLocal("j",b.i32_add(b.getLocal("j"),b.i32_const(1))),b.br(0))),b.setLocal("i",b.i32_add(b.getLocal("i"),b.i32_const(1))),b.br(0))))}function x(){const z=e.addFunction(r+"_fftFinal");z.addParam("pBuff","i32"),z.addParam("n","i32"),z.addParam("factor","i32"),z.addLocal("idx1","i32"),z.addLocal("idx2","i32"),z.addLocal("i","i32"),z.addLocal("ndiv2","i32");const b=z.getCodeBuilder(),J=b.i32_const(e.alloc(l));z.addCode(b.setLocal("ndiv2",b.i32_shr_u(b.getLocal("n"),b.i32_const(1))),b.if(b.i32_and(b.getLocal("n"),b.i32_const(1)),b.call(a,b.i32_add(b.getLocal("pBuff"),b.i32_mul(b.getLocal("ndiv2"),b.i32_const(l))),b.getLocal("factor"),b.i32_add(b.getLocal("pBuff"),b.i32_mul(b.getLocal("ndiv2"),b.i32_const(l))))),b.setLocal("i",b.i32_const(0)),b.block(b.loop(b.br_if(1,b.i32_ge_u(b.getLocal("i"),b.getLocal("ndiv2"))),b.setLocal("idx1",b.i32_add(b.getLocal("pBuff"),b.i32_mul(b.getLocal("i"),b.i32_const(l)))),b.setLocal("idx2",b.i32_add(b.getLocal("pBuff"),b.i32_mul(b.i32_sub(b.i32_sub(b.getLocal("n"),b.i32_const(1)),b.getLocal("i")),b.i32_const(l)))),b.call(a,b.getLocal("idx2"),b.getLocal("factor"),J),b.call(a,b.getLocal("idx1"),b.getLocal("factor"),b.getLocal("idx2")),b.call(n+"_copy",J,b.getLocal("idx1")),b.setLocal("i",b.i32_add(b.getLocal("i"),b.i32_const(1))),b.br(0))))}Z(),$(),G(),U(),B(),C(),N(),W(),P(),R(),T(),x(),re(),e.exportFunction(r+"_fft"),e.exportFunction(r+"_ifft"),e.exportFunction(r+"_rawfft"),e.exportFunction(r+"_fftJoin"),e.exportFunction(r+"_fftJoinExt"),e.exportFunction(r+"_fftJoinExtInv"),e.exportFunction(r+"_fftMix"),e.exportFunction(r+"_fftFinal"),e.exportFunction(r+"_prepareLagrangeEvaluation")},Kw=function(e,r,n){const a=e.modules[n].n64*8;function o(){const u=e.addFunction(r+"_zero");u.addParam("px","i32"),u.addParam("n","i32"),u.addLocal("lastp","i32"),u.addLocal("p","i32");const l=u.getCodeBuilder();u.addCode(l.setLocal("p",l.getLocal("px")),l.setLocal("lastp",l.i32_add(l.getLocal("px"),l.i32_mul(l.getLocal("n"),l.i32_const(a)))),l.block(l.loop(l.br_if(1,l.i32_eq(l.getLocal("p"),l.getLocal("lastp"))),l.call(n+"_zero",l.getLocal("p")),l.setLocal("p",l.i32_add(l.getLocal("p"),l.i32_const(a))),l.br(0))))}function s(){const u=e.addFunction(r+"_constructLC");u.addParam("ppolynomials","i32"),u.addParam("psignals","i32"),u.addParam("nSignals","i32"),u.addParam("pres","i32"),u.addLocal("i","i32"),u.addLocal("j","i32"),u.addLocal("pp","i32"),u.addLocal("ps","i32"),u.addLocal("pd","i32"),u.addLocal("ncoefs","i32");const l=u.getCodeBuilder(),c=l.i32_const(e.alloc(a));u.addCode(l.setLocal("i",l.i32_const(0)),l.setLocal("pp",l.getLocal("ppolynomials")),l.setLocal("ps",l.getLocal("psignals")),l.block(l.loop(l.br_if(1,l.i32_eq(l.getLocal("i"),l.getLocal("nSignals"))),l.setLocal("ncoefs",l.i32_load(l.getLocal("pp"))),l.setLocal("pp",l.i32_add(l.getLocal("pp"),l.i32_const(4))),l.setLocal("j",l.i32_const(0)),l.block(l.loop(l.br_if(1,l.i32_eq(l.getLocal("j"),l.getLocal("ncoefs"))),l.setLocal("pd",l.i32_add(l.getLocal("pres"),l.i32_mul(l.i32_load(l.getLocal("pp")),l.i32_const(a)))),l.setLocal("pp",l.i32_add(l.getLocal("pp"),l.i32_const(4))),l.call(n+"_mul",l.getLocal("ps"),l.getLocal("pp"),c),l.call(n+"_add",c,l.getLocal("pd"),l.getLocal("pd")),l.setLocal("pp",l.i32_add(l.getLocal("pp"),l.i32_const(a))),l.setLocal("j",l.i32_add(l.getLocal("j"),l.i32_const(1))),l.br(0))),l.setLocal("ps",l.i32_add(l.getLocal("ps"),l.i32_const(a))),l.setLocal("i",l.i32_add(l.getLocal("i"),l.i32_const(1))),l.br(0))))}return o(),s(),e.exportFunction(r+"_zero"),e.exportFunction(r+"_constructLC"),r},qw=function(e,r,n){const a=e.modules[n].n64*8;function o(){const l=e.addFunction(r+"_buildABC");l.addParam("pCoefs","i32"),l.addParam("nCoefs","i32"),l.addParam("pWitness","i32"),l.addParam("pA","i32"),l.addParam("pB","i32"),l.addParam("pC","i32"),l.addParam("offsetOut","i32"),l.addParam("nOut","i32"),l.addParam("offsetWitness","i32"),l.addParam("nWitness","i32"),l.addLocal("it","i32"),l.addLocal("ita","i32"),l.addLocal("itb","i32"),l.addLocal("last","i32"),l.addLocal("m","i32"),l.addLocal("c","i32"),l.addLocal("s","i32"),l.addLocal("pOut","i32");const c=l.getCodeBuilder(),f=c.i32_const(e.alloc(a));l.addCode(c.setLocal("ita",c.getLocal("pA")),c.setLocal("itb",c.getLocal("pB")),c.setLocal("last",c.i32_add(c.getLocal("pA"),c.i32_mul(c.getLocal("nOut"),c.i32_const(a)))),c.block(c.loop(c.br_if(1,c.i32_eq(c.getLocal("ita"),c.getLocal("last"))),c.call(n+"_zero",c.getLocal("ita")),c.call(n+"_zero",c.getLocal("itb")),c.setLocal("ita",c.i32_add(c.getLocal("ita"),c.i32_const(a))),c.setLocal("itb",c.i32_add(c.getLocal("itb"),c.i32_const(a))),c.br(0))),c.setLocal("it",c.getLocal("pCoefs")),c.setLocal("last",c.i32_add(c.getLocal("pCoefs"),c.i32_mul(c.getLocal("nCoefs"),c.i32_const(a+12)))),c.block(c.loop(c.br_if(1,c.i32_eq(c.getLocal("it"),c.getLocal("last"))),c.setLocal("s",c.i32_load(c.getLocal("it"),8)),c.if(c.i32_or(c.i32_lt_u(c.getLocal("s"),c.getLocal("offsetWitness")),c.i32_ge_u(c.getLocal("s"),c.i32_add(c.getLocal("offsetWitness"),c.getLocal("nWitness")))),[...c.setLocal("it",c.i32_add(c.getLocal("it"),c.i32_const(a+12))),...c.br(1)]),c.setLocal("m",c.i32_load(c.getLocal("it"))),c.if(c.i32_eq(c.getLocal("m"),c.i32_const(0)),c.setLocal("pOut",c.getLocal("pA")),c.if(c.i32_eq(c.getLocal("m"),c.i32_const(1)),c.setLocal("pOut",c.getLocal("pB")),[...c.setLocal("it",c.i32_add(c.getLocal("it"),c.i32_const(a+12))),...c.br(1)])),c.setLocal("c",c.i32_load(c.getLocal("it"),4)),c.if(c.i32_or(c.i32_lt_u(c.getLocal("c"),c.getLocal("offsetOut")),c.i32_ge_u(c.getLocal("c"),c.i32_add(c.getLocal("offsetOut"),c.getLocal("nOut")))),[...c.setLocal("it",c.i32_add(c.getLocal("it"),c.i32_const(a+12))),...c.br(1)]),c.setLocal("pOut",c.i32_add(c.getLocal("pOut"),c.i32_mul(c.i32_sub(c.getLocal("c"),c.getLocal("offsetOut")),c.i32_const(a)))),c.call(n+"_mul",c.i32_add(c.getLocal("pWitness"),c.i32_mul(c.i32_sub(c.getLocal("s"),c.getLocal("offsetWitness")),c.i32_const(a))),c.i32_add(c.getLocal("it"),c.i32_const(12)),f),c.call(n+"_add",c.getLocal("pOut"),f,c.getLocal("pOut")),c.setLocal("it",c.i32_add(c.getLocal("it"),c.i32_const(a+12))),c.br(0))),c.setLocal("ita",c.getLocal("pA")),c.setLocal("itb",c.getLocal("pB")),c.setLocal("it",c.getLocal("pC")),c.setLocal("last",c.i32_add(c.getLocal("pA"),c.i32_mul(c.getLocal("nOut"),c.i32_const(a)))),c.block(c.loop(c.br_if(1,c.i32_eq(c.getLocal("ita"),c.getLocal("last"))),c.call(n+"_mul",c.getLocal("ita"),c.getLocal("itb"),c.getLocal("it")),c.setLocal("ita",c.i32_add(c.getLocal("ita"),c.i32_const(a))),c.setLocal("itb",c.i32_add(c.getLocal("itb"),c.i32_const(a))),c.setLocal("it",c.i32_add(c.getLocal("it"),c.i32_const(a))),c.br(0))))}function s(){const l=e.addFunction(r+"_joinABC");l.addParam("pA","i32"),l.addParam("pB","i32"),l.addParam("pC","i32"),l.addParam("n","i32"),l.addParam("pP","i32"),l.addLocal("ita","i32"),l.addLocal("itb","i32"),l.addLocal("itc","i32"),l.addLocal("itp","i32"),l.addLocal("last","i32");const c=l.getCodeBuilder(),f=c.i32_const(e.alloc(a));l.addCode(c.setLocal("ita",c.getLocal("pA")),c.setLocal("itb",c.getLocal("pB")),c.setLocal("itc",c.getLocal("pC")),c.setLocal("itp",c.getLocal("pP")),c.setLocal("last",c.i32_add(c.getLocal("pA"),c.i32_mul(c.getLocal("n"),c.i32_const(a)))),c.block(c.loop(c.br_if(1,c.i32_eq(c.getLocal("ita"),c.getLocal("last"))),c.call(n+"_mul",c.getLocal("ita"),c.getLocal("itb"),f),c.call(n+"_sub",f,c.getLocal("itc"),c.getLocal("itp")),c.setLocal("ita",c.i32_add(c.getLocal("ita"),c.i32_const(a))),c.setLocal("itb",c.i32_add(c.getLocal("itb"),c.i32_const(a))),c.setLocal("itc",c.i32_add(c.getLocal("itc"),c.i32_const(a))),c.setLocal("itp",c.i32_add(c.getLocal("itp"),c.i32_const(a))),c.br(0))))}function u(){const l=e.addFunction(r+"_batchAdd");l.addParam("pa","i32"),l.addParam("pb","i32"),l.addParam("n","i32"),l.addParam("pr","i32"),l.addLocal("ita","i32"),l.addLocal("itb","i32"),l.addLocal("itr","i32"),l.addLocal("last","i32");const c=l.getCodeBuilder();l.addCode(c.setLocal("ita",c.getLocal("pa")),c.setLocal("itb",c.getLocal("pb")),c.setLocal("itr",c.getLocal("pr")),c.setLocal("last",c.i32_add(c.getLocal("pa"),c.i32_mul(c.getLocal("n"),c.i32_const(a)))),c.block(c.loop(c.br_if(1,c.i32_eq(c.getLocal("ita"),c.getLocal("last"))),c.call(n+"_add",c.getLocal("ita"),c.getLocal("itb"),c.getLocal("itr")),c.setLocal("ita",c.i32_add(c.getLocal("ita"),c.i32_const(a))),c.setLocal("itb",c.i32_add(c.getLocal("itb"),c.i32_const(a))),c.setLocal("itr",c.i32_add(c.getLocal("itr"),c.i32_const(a))),c.br(0))))}return o(),s(),u(),e.exportFunction(r+"_buildABC"),e.exportFunction(r+"_joinABC"),e.exportFunction(r+"_batchAdd"),r},Qw=function(e,r,n,i,a,o,s,u){const l=e.addFunction(r);l.addParam("pIn","i32"),l.addParam("n","i32"),l.addParam("pFirst","i32"),l.addParam("pInc","i32"),l.addParam("pOut","i32"),l.addLocal("pOldFree","i32"),l.addLocal("i","i32"),l.addLocal("pFrom","i32"),l.addLocal("pTo","i32");const c=l.getCodeBuilder(),f=c.i32_const(e.alloc(s));l.addCode(c.setLocal("pFrom",c.getLocal("pIn")),c.setLocal("pTo",c.getLocal("pOut"))),l.addCode(c.call(i+"_copy",c.getLocal("pFirst"),f)),l.addCode(c.setLocal("i",c.i32_const(0)),c.block(c.loop(c.br_if(1,c.i32_eq(c.getLocal("i"),c.getLocal("n"))),c.call(u,c.getLocal("pFrom"),f,c.getLocal("pTo")),c.setLocal("pFrom",c.i32_add(c.getLocal("pFrom"),c.i32_const(a))),c.setLocal("pTo",c.i32_add(c.getLocal("pTo"),c.i32_const(o))),c.call(i+"_mul",f,c.getLocal("pInc"),f),c.setLocal("i",c.i32_add(c.getLocal("i"),c.i32_const(1))),c.br(0)))),e.exportFunction(r)};const Vt=G0,PT=L8,RT=Uw,f6=Ow,MT=Vw,d6=Gw,O2=zw,UT=Kw,OT=qw,Hu=Qw,{bitLength:VT,modInv:GT,isOdd:h6,isNegative:zT}=_i;var KT=function(e,r){const n=r||"bn128";if(e.modules[n])return n;const i=21888242871839275222246405745257275088696311157297823662689037894645226208583n,a=21888242871839275222246405745257275088548364400416034343698204186575808495617n,o=Math.floor((VT(i-1n)-1)/64)+1,s=o*8,u=s,l=s,c=l*2,f=l*12,d=e.alloc(Vt.bigInt2BytesLE(a,u)),h=PT(e,i,"f1m");RT(e,a,"fr","frm");const y=e.alloc(Vt.bigInt2BytesLE(S(3n),l)),w=d6(e,"g1m","f1m",y);O2(e,"frm","frm","frm","frm_mul"),UT(e,"pol","frm"),OT(e,"qap","frm");const _=f6(e,"f1m_neg","f2m","f1m"),E=e.alloc([...Vt.bigInt2BytesLE(S(19485874751759354771024239261021720505790618469301721065564631296452457478373n),l),...Vt.bigInt2BytesLE(S(266929791119991161246907387137283842545076965332900288569378510910307636690n),l)]),p=d6(e,"g2m","f2m",E);function m(ge,q){const H=e.addFunction(ge);H.addParam("pG","i32"),H.addParam("pFr","i32"),H.addParam("pr","i32");const ye=H.getCodeBuilder(),_e=ye.i32_const(e.alloc(s));H.addCode(ye.call("frm_fromMontgomery",ye.getLocal("pFr"),_e),ye.call(q,ye.getLocal("pG"),_e,ye.i32_const(s),ye.getLocal("pr"))),e.exportFunction(ge)}m("g1m_timesFr","g1m_timesScalar"),O2(e,"g1m","g1m","frm","g1m_timesFr"),m("g2m_timesFr","g2m_timesScalar"),O2(e,"g2m","g2m","frm","g2m_timesFr"),m("g1m_timesFrAffine","g1m_timesScalarAffine"),m("g2m_timesFrAffine","g2m_timesScalarAffine"),Hu(e,"frm_batchApplyKey","fmr","frm",s,s,s,"frm_mul"),Hu(e,"g1m_batchApplyKey","g1m","frm",s*3,s*3,s,"g1m_timesFr"),Hu(e,"g1m_batchApplyKeyMixed","g1m","frm",s*2,s*3,s,"g1m_timesFrAffine"),Hu(e,"g2m_batchApplyKey","g2m","frm",s*2*3,s*3*2,s,"g2m_timesFr"),Hu(e,"g2m_batchApplyKeyMixed","g2m","frm",s*2*2,s*3*2,s,"g2m_timesFrAffine");function S(ge){return BigInt(ge)*(1n<<BigInt(l*8))%i}const F=[1n,2n,1n],I=e.alloc([...Vt.bigInt2BytesLE(S(F[0]),l),...Vt.bigInt2BytesLE(S(F[1]),l),...Vt.bigInt2BytesLE(S(F[2]),l)]),v=[0n,1n,0n],A=e.alloc([...Vt.bigInt2BytesLE(S(v[0]),l),...Vt.bigInt2BytesLE(S(v[1]),l),...Vt.bigInt2BytesLE(S(v[2]),l)]),D=[[10857046999023057135944570762232829481370756359578518086990519993285655852781n,11559732032986387107991004021392285783925812861821192530917403151452391805634n],[8495653923123431417604973247489272438418190587263600148770280649306958101930n,4082367875863433681332203403145435568316851327593401208105741076214120093531n],[1n,0n]],L=e.alloc([...Vt.bigInt2BytesLE(S(D[0][0]),l),...Vt.bigInt2BytesLE(S(D[0][1]),l),...Vt.bigInt2BytesLE(S(D[1][0]),l),...Vt.bigInt2BytesLE(S(D[1][1]),l),...Vt.bigInt2BytesLE(S(D[2][0]),l),...Vt.bigInt2BytesLE(S(D[2][1]),l)]),j=[[0n,0n],[1n,0n],[0n,0n]],Y=e.alloc([...Vt.bigInt2BytesLE(S(j[0][0]),l),...Vt.bigInt2BytesLE(S(j[0][1]),l),...Vt.bigInt2BytesLE(S(j[1][0]),l),...Vt.bigInt2BytesLE(S(j[1][1]),l),...Vt.bigInt2BytesLE(S(j[2][0]),l),...Vt.bigInt2BytesLE(S(j[2][1]),l)]),O=e.alloc([...Vt.bigInt2BytesLE(S(1),l),...Vt.bigInt2BytesLE(S(0),l),...Vt.bigInt2BytesLE(S(0),l),...Vt.bigInt2BytesLE(S(0),l),...Vt.bigInt2BytesLE(S(0),l),...Vt.bigInt2BytesLE(S(0),l),...Vt.bigInt2BytesLE(S(0),l),...Vt.bigInt2BytesLE(S(0),l),...Vt.bigInt2BytesLE(S(0),l),...Vt.bigInt2BytesLE(S(0),l),...Vt.bigInt2BytesLE(S(0),l),...Vt.bigInt2BytesLE(S(0),l)]),B=e.alloc([...Vt.bigInt2BytesLE(S(9),l),...Vt.bigInt2BytesLE(S(1),l)]),C=e.alloc([...Vt.bigInt2BytesLE(S(GT(2n,i)),l),...Vt.bigInt2BytesLE(0n,l)]),N=B,U=e.alloc([...Vt.bigInt2BytesLE(S(19485874751759354771024239261021720505790618469301721065564631296452457478373n),l),...Vt.bigInt2BytesLE(S(266929791119991161246907387137283842545076965332900288569378510910307636690n),l)]);function G(){const ge=e.addFunction(n+"_mulNR6");ge.addParam("x","i32"),ge.addParam("pr","i32");const q=ge.getCodeBuilder();ge.addCode(q.call(_+"_mul",q.i32_const(B),q.getLocal("x"),q.getLocal("pr")))}G();const $=MT(e,n+"_mulNR6","f6m","f2m");function Z(){const ge=e.addFunction(n+"_mulNR12");ge.addParam("x","i32"),ge.addParam("pr","i32");const q=ge.getCodeBuilder();ge.addCode(q.call(_+"_mul",q.i32_const(B),q.i32_add(q.getLocal("x"),q.i32_const(s*4)),q.getLocal("pr")),q.call(_+"_copy",q.getLocal("x"),q.i32_add(q.getLocal("pr"),q.i32_const(s*2))),q.call(_+"_copy",q.i32_add(q.getLocal("x"),q.i32_const(s*2)),q.i32_add(q.getLocal("pr"),q.i32_const(s*4))))}Z();const W=f6(e,n+"_mulNR12","ftm",$),R=Q(29793968203157093288n),re=e.alloc(R),T=3*c,x=R.length-1,b=R.reduce((ge,q)=>ge+(q!=0?1:0),0)+x+1,J=3*2*s,V=3*s*2+b*T;e.modules[n]={n64:o,pG1gen:I,pG1zero:A,pG1b:y,pG2gen:L,pG2zero:Y,pG2b:E,pq:e.modules.f1m.pq,pr:d,pOneT:O,prePSize:J,preQSize:V,r:a.toString(),q:i.toString()};const g=4965661367192848881n;function M(ge){let q=ge;const H=[];for(;q>0n;){if(h6(q)){const ye=2-Number(q%4n);H.push(ye),q=q-BigInt(ye)}else H.push(0);q=q>>1n}return H}function Q(ge){let q=ge;const H=[];for(;q>0n;)h6(q)?H.push(1):H.push(0),q=q>>1n;return H}function k(){const ge=e.addFunction(n+"_prepareG1");ge.addParam("pP","i32"),ge.addParam("ppreP","i32");const q=ge.getCodeBuilder();ge.addCode(q.call(w+"_normalize",q.getLocal("pP"),q.getLocal("ppreP")))}function K(){const ge=e.addFunction(n+"_prepAddStep");ge.addParam("pQ","i32"),ge.addParam("pR","i32"),ge.addParam("pCoef","i32");const q=ge.getCodeBuilder(),H=q.getLocal("pQ"),ye=q.i32_add(q.getLocal("pQ"),q.i32_const(c)),_e=q.getLocal("pR"),ve=q.i32_add(q.getLocal("pR"),q.i32_const(c)),Ie=q.i32_add(q.getLocal("pR"),q.i32_const(2*c)),Le=q.getLocal("pCoef"),Pe=q.i32_add(q.getLocal("pCoef"),q.i32_const(c)),Re=q.i32_add(q.getLocal("pCoef"),q.i32_const(2*c)),Oe=Pe,Ue=q.i32_const(e.alloc(c)),Ge=q.i32_const(e.alloc(c)),et=q.i32_const(e.alloc(c)),We=q.i32_const(e.alloc(c)),Ve=q.i32_const(e.alloc(c)),Xe=q.i32_const(e.alloc(c)),Je=q.i32_const(e.alloc(c));ge.addCode(q.call(_+"_mul",H,Ie,Oe),q.call(_+"_sub",_e,Oe,Oe),q.call(_+"_mul",ye,Ie,Ue),q.call(_+"_sub",ve,Ue,Ue),q.call(_+"_square",Oe,Ge),q.call(_+"_square",Ue,et),q.call(_+"_mul",Oe,Ge,We),q.call(_+"_mul",_e,Ge,Ve),q.call(_+"_add",Ve,Ve,Je),q.call(_+"_mul",Ie,et,Xe),q.call(_+"_add",We,Xe,Xe),q.call(_+"_sub",Xe,Je,Xe),q.call(_+"_mul",Oe,Xe,_e),q.call(_+"_mul",We,ve,ve),q.call(_+"_sub",Ve,Xe,Je),q.call(_+"_mul",Ue,Je,Je),q.call(_+"_sub",Je,ve,ve),q.call(_+"_mul",Ie,We,Ie),q.call(_+"_mul",Oe,ye,Je),q.call(_+"_mul",Ue,H,Le),q.call(_+"_sub",Le,Je,Le),q.call(_+"_mul",Le,q.i32_const(N),Le),q.call(_+"_neg",Ue,Re))}function ie(){const ge=e.addFunction(n+"_prepDblStep");ge.addParam("pR","i32"),ge.addParam("pCoef","i32");const q=ge.getCodeBuilder(),H=q.getLocal("pR"),ye=q.i32_add(q.getLocal("pR"),q.i32_const(c)),_e=q.i32_add(q.getLocal("pR"),q.i32_const(2*c)),ve=q.getLocal("pCoef"),Ie=q.i32_add(q.getLocal("pCoef"),q.i32_const(c)),Le=q.i32_add(q.getLocal("pCoef"),q.i32_const(2*c)),Pe=q.i32_const(e.alloc(c)),Re=q.i32_const(e.alloc(c)),Oe=q.i32_const(e.alloc(c)),Ue=q.i32_const(e.alloc(c)),Ge=q.i32_const(e.alloc(c)),et=q.i32_const(e.alloc(c)),We=q.i32_const(e.alloc(c)),Ve=q.i32_const(e.alloc(c)),Xe=q.i32_const(e.alloc(c)),Je=q.i32_const(e.alloc(c)),Ze=q.i32_const(e.alloc(c)),tt=q.i32_const(e.alloc(c));ge.addCode(q.call(_+"_mul",ye,q.i32_const(C),Pe),q.call(_+"_mul",H,Pe,Pe),q.call(_+"_square",ye,Re),q.call(_+"_square",_e,Oe),q.call(_+"_add",Oe,Oe,Ue),q.call(_+"_add",Ue,Oe,Ue),q.call(_+"_mul",q.i32_const(U),Ue,Ge),q.call(_+"_add",Ge,Ge,et),q.call(_+"_add",Ge,et,et),q.call(_+"_add",Re,et,We),q.call(_+"_mul",We,q.i32_const(C),We),q.call(_+"_add",Re,Oe,tt),q.call(_+"_add",ye,_e,Ve),q.call(_+"_square",Ve,Ve),q.call(_+"_sub",Ve,tt,Ve),q.call(_+"_sub",Ge,Re,Xe),q.call(_+"_square",H,Je),q.call(_+"_square",Ge,Ze),q.call(_+"_sub",Re,et,tt),q.call(_+"_mul",Pe,tt,H),q.call(_+"_add",Ze,Ze,tt),q.call(_+"_add",Ze,tt,tt),q.call(_+"_square",We,ye),q.call(_+"_sub",ye,tt,ye),q.call(_+"_mul",Re,Ve,_e),q.call(_+"_mul",q.i32_const(N),Xe,ve),q.call(_+"_neg",Ve,Ie),q.call(_+"_add",Je,Je,Le),q.call(_+"_add",Je,Le,Le))}function ne(){const ge=e.addFunction(n+"_mulByQ");ge.addParam("p1","i32"),ge.addParam("pr","i32");const q=ge.getCodeBuilder(),H=q.getLocal("p1"),ye=q.i32_add(q.getLocal("p1"),q.i32_const(c)),_e=q.i32_add(q.getLocal("p1"),q.i32_const(c*2)),ve=q.getLocal("pr"),Ie=q.i32_add(q.getLocal("pr"),q.i32_const(c)),Le=q.i32_add(q.getLocal("pr"),q.i32_const(c*2)),Pe=q.i32_const(e.alloc([...Vt.bigInt2BytesLE(S("21575463638280843010398324269430826099269044274347216827212613867836435027261"),l),...Vt.bigInt2BytesLE(S("10307601595873709700152284273816112264069230130616436755625194854815875713954"),l)])),Re=q.i32_const(e.alloc([...Vt.bigInt2BytesLE(S("2821565182194536844548159561693502659359617185244120367078079554186484126554"),l),...Vt.bigInt2BytesLE(S("3505843767911556378687030309984248845540243509899259641013678093033130930403"),l)]));ge.addCode(q.call(_+"_conjugate",H,ve),q.call(_+"_mul",Pe,ve,ve),q.call(_+"_conjugate",ye,Ie),q.call(_+"_mul",Re,Ie,Ie),q.call(_+"_conjugate",_e,Le))}function le(){ne();const ge=e.addFunction(n+"_prepareG2");ge.addParam("pQ","i32"),ge.addParam("ppreQ","i32"),ge.addLocal("pCoef","i32"),ge.addLocal("i","i32");const q=ge.getCodeBuilder(),H=q.getLocal("pQ"),ye=e.alloc(c*3),_e=q.i32_const(ye),ve=q.i32_const(ye),Ie=q.i32_const(ye+c),Le=q.i32_const(ye+2*c),Pe=q.i32_add(q.getLocal("ppreQ"),q.i32_const(0)),Re=q.i32_add(q.getLocal("ppreQ"),q.i32_const(c)),Oe=e.alloc(c*3),Ue=q.i32_const(Oe),Ge=e.alloc(c*3),et=q.i32_const(Ge),We=q.i32_const(Ge+c);ge.addCode(q.call(p+"_normalize",H,Pe),q.call(_+"_copy",Pe,ve),q.call(_+"_copy",Re,Ie),q.call(_+"_one",Le)),ge.addCode(q.setLocal("pCoef",q.i32_add(q.getLocal("ppreQ"),q.i32_const(c*3))),q.setLocal("i",q.i32_const(R.length-2)),q.block(q.loop(q.call(n+"_prepDblStep",_e,q.getLocal("pCoef")),q.setLocal("pCoef",q.i32_add(q.getLocal("pCoef"),q.i32_const(T))),q.if(q.i32_load8_s(q.getLocal("i"),re),[...q.call(n+"_prepAddStep",Pe,_e,q.getLocal("pCoef")),...q.setLocal("pCoef",q.i32_add(q.getLocal("pCoef"),q.i32_const(T)))]),q.br_if(1,q.i32_eqz(q.getLocal("i"))),q.setLocal("i",q.i32_sub(q.getLocal("i"),q.i32_const(1))),q.br(0)))),ge.addCode(q.call(n+"_mulByQ",Pe,Ue),q.call(n+"_mulByQ",Ue,et)),ge.addCode(q.call(_+"_neg",We,We),q.call(n+"_prepAddStep",Ue,_e,q.getLocal("pCoef")),q.setLocal("pCoef",q.i32_add(q.getLocal("pCoef"),q.i32_const(T))),q.call(n+"_prepAddStep",et,_e,q.getLocal("pCoef")),q.setLocal("pCoef",q.i32_add(q.getLocal("pCoef"),q.i32_const(T))))}function he(){const ge=e.addFunction(n+"__mulBy024Old");ge.addParam("pEll0","i32"),ge.addParam("pEllVW","i32"),ge.addParam("pEllVV","i32"),ge.addParam("pR","i32");const q=ge.getCodeBuilder(),H=q.getLocal("pEll0"),ye=q.getLocal("pEllVV"),_e=q.getLocal("pEllVW"),ve=q.getLocal("pR"),Ie=e.alloc(f),Le=q.i32_const(Ie),Pe=q.i32_const(Ie),Re=q.i32_const(Ie+c),Oe=q.i32_const(Ie+c*2),Ue=q.i32_const(Ie+c*3),Ge=q.i32_const(Ie+c*4),et=q.i32_const(Ie+c*5);ge.addCode(q.call(_+"_copy",H,Pe),q.call(_+"_zero",Re),q.call(_+"_copy",ye,Oe),q.call(_+"_zero",Ue),q.call(_+"_copy",_e,Ge),q.call(_+"_zero",et),q.call(W+"_mul",Le,ve,ve))}function fe(){const ge=e.addFunction(n+"__mulBy024");ge.addParam("pEll0","i32"),ge.addParam("pEllVW","i32"),ge.addParam("pEllVV","i32"),ge.addParam("pR","i32");const q=ge.getCodeBuilder(),H=q.getLocal("pEll0"),ye=q.getLocal("pEllVV"),_e=q.getLocal("pEllVW"),ve=q.getLocal("pR"),Ie=q.i32_add(q.getLocal("pR"),q.i32_const(2*s)),Le=q.i32_add(q.getLocal("pR"),q.i32_const(4*s)),Pe=q.i32_add(q.getLocal("pR"),q.i32_const(6*s)),Re=q.i32_add(q.getLocal("pR"),q.i32_const(8*s)),Oe=q.i32_add(q.getLocal("pR"),q.i32_const(10*s)),Ue=q.i32_const(e.alloc(c)),Ge=q.i32_const(e.alloc(c)),et=q.i32_const(e.alloc(c)),We=q.i32_const(e.alloc(c)),Ve=q.i32_const(e.alloc(c)),Xe=q.i32_const(e.alloc(c)),Je=q.i32_const(e.alloc(c)),Ze=q.i32_const(e.alloc(c)),tt=q.i32_const(e.alloc(c)),nt=q.i32_const(e.alloc(c)),Qe=q.i32_const(e.alloc(c));ge.addCode(q.call(_+"_mul",ve,H,Je),q.call(_+"_mul",Le,ye,Ze),q.call(_+"_mul",Re,_e,tt),q.call(_+"_add",ve,Re,et),q.call(_+"_add",ve,Le,Ge),q.call(_+"_add",Ie,Pe,We),q.call(_+"_add",We,Oe,We),q.call(_+"_mul",Ie,ye,nt),q.call(_+"_add",nt,tt,Ve),q.call(_+"_mul",q.i32_const(B),Ve,Xe),q.call(_+"_add",Xe,Je,ve),q.call(_+"_mul",Oe,_e,Ve),q.call(_+"_add",nt,Ve,nt),q.call(_+"_add",Ve,Ze,Ve),q.call(_+"_mul",q.i32_const(B),Ve,Xe),q.call(_+"_mul",Ie,H,Ve),q.call(_+"_add",nt,Ve,nt),q.call(_+"_add",Xe,Ve,Ie),q.call(_+"_add",H,ye,Ue),q.call(_+"_mul",Ge,Ue,Ve),q.call(_+"_add",Je,Ze,Qe),q.call(_+"_sub",Ve,Qe,Ve),q.call(_+"_mul",Pe,_e,Xe),q.call(_+"_add",nt,Xe,nt),q.call(_+"_add",Le,Re,Ue),q.call(_+"_add",Ve,Xe,Le),q.call(_+"_add",ye,_e,Ge),q.call(_+"_mul",Ge,Ue,Ve),q.call(_+"_add",Ze,tt,Qe),q.call(_+"_sub",Ve,Qe,Ve),q.call(_+"_mul",q.i32_const(B),Ve,Xe),q.call(_+"_mul",Pe,H,Ve),q.call(_+"_add",nt,Ve,nt),q.call(_+"_add",Xe,Ve,Pe),q.call(_+"_mul",Oe,ye,Ve),q.call(_+"_add",nt,Ve,nt),q.call(_+"_mul",q.i32_const(B),Ve,Xe),q.call(_+"_add",H,_e,Ue),q.call(_+"_mul",et,Ue,Ve),q.call(_+"_add",Je,tt,Qe),q.call(_+"_sub",Ve,Qe,Ve),q.call(_+"_add",Xe,Ve,Re),q.call(_+"_add",H,ye,Ue),q.call(_+"_add",Ue,_e,Ue),q.call(_+"_mul",We,Ue,Ve),q.call(_+"_sub",Ve,nt,Oe))}function ce(){const ge=e.addFunction(n+"_millerLoop");ge.addParam("ppreP","i32"),ge.addParam("ppreQ","i32"),ge.addParam("r","i32"),ge.addLocal("pCoef","i32"),ge.addLocal("i","i32");const q=ge.getCodeBuilder(),H=q.getLocal("ppreP"),ye=q.i32_add(q.getLocal("ppreP"),q.i32_const(l)),_e=q.getLocal("pCoef"),ve=q.i32_add(q.getLocal("pCoef"),q.i32_const(c)),Ie=q.i32_add(q.getLocal("pCoef"),q.i32_const(2*c)),Le=e.alloc(c),Pe=q.i32_const(Le),Re=e.alloc(c),Oe=q.i32_const(Re),Ue=q.getLocal("r");ge.addCode(q.call(W+"_one",Ue),q.setLocal("pCoef",q.i32_add(q.getLocal("ppreQ"),q.i32_const(c*3))),q.setLocal("i",q.i32_const(R.length-2)),q.block(q.loop(q.call(W+"_square",Ue,Ue),q.call(_+"_mul1",ve,ye,Pe),q.call(_+"_mul1",Ie,H,Oe),q.call(n+"__mulBy024",_e,Pe,Oe,Ue),q.setLocal("pCoef",q.i32_add(q.getLocal("pCoef"),q.i32_const(T))),q.if(q.i32_load8_s(q.getLocal("i"),re),[...q.call(_+"_mul1",ve,ye,Pe),...q.call(_+"_mul1",Ie,H,Oe),...q.call(n+"__mulBy024",_e,Pe,Oe,Ue),...q.setLocal("pCoef",q.i32_add(q.getLocal("pCoef"),q.i32_const(T)))]),q.br_if(1,q.i32_eqz(q.getLocal("i"))),q.setLocal("i",q.i32_sub(q.getLocal("i"),q.i32_const(1))),q.br(0)))),ge.addCode(q.call(_+"_mul1",ve,ye,Pe),q.call(_+"_mul1",Ie,H,Oe),q.call(n+"__mulBy024",_e,Pe,Oe,Ue),q.setLocal("pCoef",q.i32_add(q.getLocal("pCoef"),q.i32_const(T))),q.call(_+"_mul1",ve,ye,Pe),q.call(_+"_mul1",Ie,H,Oe),q.call(n+"__mulBy024",_e,Pe,Oe,Ue),q.setLocal("pCoef",q.i32_add(q.getLocal("pCoef"),q.i32_const(T))))}function Ae(ge){const q=[[[1n,0n],[1n,0n],[1n,0n],[1n,0n],[1n,0n],[1n,0n],[1n,0n],[1n,0n],[1n,0n],[1n,0n],[1n,0n],[1n,0n]],[[1n,0n],[8376118865763821496583973867626364092589906065868298776909617916018768340080n,16469823323077808223889137241176536799009286646108169935659301613961712198316n],[21888242871839275220042445260109153167277707414472061641714758635765020556617n,0n],[11697423496358154304825782922584725312912383441159505038794027105778954184319n,303847389135065887422783454877609941456349188919719272345083954437860409601n],[21888242871839275220042445260109153167277707414472061641714758635765020556616n,0n],[3321304630594332808241809054958361220322477375291206261884409189760185844239n,5722266937896532885780051958958348231143373700109372999374820235121374419868n],[21888242871839275222246405745257275088696311157297823662689037894645226208582n,0n],[13512124006075453725662431877630910996106405091429524885779419978626457868503n,5418419548761466998357268504080738289687024511189653727029736280683514010267n],[2203960485148121921418603742825762020974279258880205651966n,0n],[10190819375481120917420622822672549775783927716138318623895010788866272024264n,21584395482704209334823622290379665147239961968378104390343953940207365798982n],[2203960485148121921418603742825762020974279258880205651967n,0n],[18566938241244942414004596690298913868373833782006617400804628704885040364344n,16165975933942742336466353786298926857552937457188450663314217659523851788715n]]],H=[[[1n,0n],[1n,0n],[1n,0n],[1n,0n],[1n,0n],[1n,0n]],[[1n,0n],[21575463638280843010398324269430826099269044274347216827212613867836435027261n,10307601595873709700152284273816112264069230130616436755625194854815875713954n],[21888242871839275220042445260109153167277707414472061641714758635765020556616n,0n],[3772000881919853776433695186713858239009073593817195771773381919316419345261n,2236595495967245188281701248203181795121068902605861227855261137820944008926n],[2203960485148121921418603742825762020974279258880205651966n,0n],[18429021223477853657660792034369865839114504446431234726392080002137598044644n,9344045779998320333812420223237981029506012124075525679208581902008406485703n]],[[1n,0n],[2581911344467009335267311115468803099551665605076196740867805258568234346338n,19937756971775647987995932169929341994314640652964949448313374472400716661030n],[2203960485148121921418603742825762020974279258880205651966n,0n],[5324479202449903542726783395506214481928257762400643279780343368557297135718n,16208900380737693084919495127334387981393726419856888799917914180988844123039n],[21888242871839275220042445260109153167277707414472061641714758635765020556616n,0n],[13981852324922362344252311234282257507216387789820983642040889267519694726527n,7629828391165209371577384193250820201684255241773809077146787135900891633097n]]],ye=e.addFunction(n+"__frobeniusMap"+ge);ye.addParam("x","i32"),ye.addParam("r","i32");const _e=ye.getCodeBuilder();for(let Ie=0;Ie<6;Ie++){const Le=Ie==0?_e.getLocal("x"):_e.i32_add(_e.getLocal("x"),_e.i32_const(Ie*c)),Pe=Le,Re=_e.i32_add(_e.getLocal("x"),_e.i32_const(Ie*c+l)),Oe=Ie==0?_e.getLocal("r"):_e.i32_add(_e.getLocal("r"),_e.i32_const(Ie*c)),Ue=Oe,Ge=_e.i32_add(_e.getLocal("r"),_e.i32_const(Ie*c+l)),et=ve(q[Math.floor(Ie/3)][ge%12],H[Ie%3][ge%6]),We=e.alloc([...Vt.bigInt2BytesLE(S(et[0]),32),...Vt.bigInt2BytesLE(S(et[1]),32)]);ge%2==1?ye.addCode(_e.call(h+"_copy",Pe,Ue),_e.call(h+"_neg",Re,Ge),_e.call(_+"_mul",Oe,_e.i32_const(We),Oe)):ye.addCode(_e.call(_+"_mul",Le,_e.i32_const(We),Oe))}function ve(Ie,Le){const Pe=BigInt(Ie[0]),Re=BigInt(Ie[1]),Oe=BigInt(Le[0]),Ue=BigInt(Le[1]),Ge=[(Pe*Oe-Re*Ue)%i,(Pe*Ue+Re*Oe)%i];return zT(Ge[0])&&(Ge[0]=Ge[0]+i),Ge}}function Fe(){const ge=e.addFunction(n+"__finalExponentiationFirstChunk");ge.addParam("x","i32"),ge.addParam("r","i32");const q=ge.getCodeBuilder(),H=q.getLocal("x"),ye=H,_e=q.i32_add(H,q.i32_const(s*6)),ve=q.getLocal("r"),Ie=e.alloc(f),Le=q.i32_const(Ie),Pe=Le,Re=q.i32_const(Ie+s*6),Oe=q.i32_const(e.alloc(f)),Ue=q.i32_const(e.alloc(f)),Ge=q.i32_const(e.alloc(f));ge.addCode(q.call($+"_copy",ye,Pe),q.call($+"_neg",_e,Re),q.call(W+"_inverse",H,Oe),q.call(W+"_mul",Le,Oe,Ue),q.call(n+"__frobeniusMap2",Ue,Ge),q.call(W+"_mul",Ue,Ge,ve))}function Me(){const ge=e.addFunction(n+"__cyclotomicSquare");ge.addParam("x","i32"),ge.addParam("r","i32");const q=ge.getCodeBuilder(),H=q.getLocal("x"),ye=q.i32_add(q.getLocal("x"),q.i32_const(c)),_e=q.i32_add(q.getLocal("x"),q.i32_const(2*c)),ve=q.i32_add(q.getLocal("x"),q.i32_const(3*c)),Ie=q.i32_add(q.getLocal("x"),q.i32_const(4*c)),Le=q.i32_add(q.getLocal("x"),q.i32_const(5*c)),Pe=q.getLocal("r"),Re=q.i32_add(q.getLocal("r"),q.i32_const(c)),Oe=q.i32_add(q.getLocal("r"),q.i32_const(2*c)),Ue=q.i32_add(q.getLocal("r"),q.i32_const(3*c)),Ge=q.i32_add(q.getLocal("r"),q.i32_const(4*c)),et=q.i32_add(q.getLocal("r"),q.i32_const(5*c)),We=q.i32_const(e.alloc(c)),Ve=q.i32_const(e.alloc(c)),Xe=q.i32_const(e.alloc(c)),Je=q.i32_const(e.alloc(c)),Ze=q.i32_const(e.alloc(c)),tt=q.i32_const(e.alloc(c)),nt=q.i32_const(e.alloc(c)),Qe=q.i32_const(e.alloc(c));ge.addCode(q.call(_+"_mul",H,Ie,nt),q.call(_+"_mul",Ie,q.i32_const(B),We),q.call(_+"_add",H,We,We),q.call(_+"_add",H,Ie,Qe),q.call(_+"_mul",Qe,We,We),q.call(_+"_mul",q.i32_const(B),nt,Qe),q.call(_+"_add",nt,Qe,Qe),q.call(_+"_sub",We,Qe,We),q.call(_+"_add",nt,nt,Ve),q.call(_+"_mul",ve,_e,nt),q.call(_+"_mul",_e,q.i32_const(B),Xe),q.call(_+"_add",ve,Xe,Xe),q.call(_+"_add",ve,_e,Qe),q.call(_+"_mul",Qe,Xe,Xe),q.call(_+"_mul",q.i32_const(B),nt,Qe),q.call(_+"_add",nt,Qe,Qe),q.call(_+"_sub",Xe,Qe,Xe),q.call(_+"_add",nt,nt,Je),q.call(_+"_mul",ye,Le,nt),q.call(_+"_mul",Le,q.i32_const(B),Ze),q.call(_+"_add",ye,Ze,Ze),q.call(_+"_add",ye,Le,Qe),q.call(_+"_mul",Qe,Ze,Ze),q.call(_+"_mul",q.i32_const(B),nt,Qe),q.call(_+"_add",nt,Qe,Qe),q.call(_+"_sub",Ze,Qe,Ze),q.call(_+"_add",nt,nt,tt),q.call(_+"_sub",We,H,Pe),q.call(_+"_add",Pe,Pe,Pe),q.call(_+"_add",We,Pe,Pe),q.call(_+"_add",Ve,Ie,Ge),q.call(_+"_add",Ge,Ge,Ge),q.call(_+"_add",Ve,Ge,Ge),q.call(_+"_mul",tt,q.i32_const(N),Qe),q.call(_+"_add",Qe,ve,Ue),q.call(_+"_add",Ue,Ue,Ue),q.call(_+"_add",Qe,Ue,Ue),q.call(_+"_sub",Ze,_e,Oe),q.call(_+"_add",Oe,Oe,Oe),q.call(_+"_add",Ze,Oe,Oe),q.call(_+"_sub",Xe,ye,Re),q.call(_+"_add",Re,Re,Re),q.call(_+"_add",Xe,Re,Re),q.call(_+"_add",Je,Le,et),q.call(_+"_add",et,et,et),q.call(_+"_add",Je,et,et))}function Ke(ge,q){const H=M(ge).map(Re=>Re==-1?255:Re),ye=e.alloc(H),_e=e.addFunction(n+"__cyclotomicExp_"+q);_e.addParam("x","i32"),_e.addParam("r","i32"),_e.addLocal("bit","i32"),_e.addLocal("i","i32");const ve=_e.getCodeBuilder(),Ie=ve.getLocal("x"),Le=ve.getLocal("r"),Pe=ve.i32_const(e.alloc(f));_e.addCode(ve.call(W+"_conjugate",Ie,Pe),ve.call(W+"_one",Le),ve.if(ve.teeLocal("bit",ve.i32_load8_s(ve.i32_const(H.length-1),ye)),ve.if(ve.i32_eq(ve.getLocal("bit"),ve.i32_const(1)),ve.call(W+"_mul",Le,Ie,Le),ve.call(W+"_mul",Le,Pe,Le))),ve.setLocal("i",ve.i32_const(H.length-2)),ve.block(ve.loop(ve.call(n+"__cyclotomicSquare",Le,Le),ve.if(ve.teeLocal("bit",ve.i32_load8_s(ve.getLocal("i"),ye)),ve.if(ve.i32_eq(ve.getLocal("bit"),ve.i32_const(1)),ve.call(W+"_mul",Le,Ie,Le),ve.call(W+"_mul",Le,Pe,Le))),ve.br_if(1,ve.i32_eqz(ve.getLocal("i"))),ve.setLocal("i",ve.i32_sub(ve.getLocal("i"),ve.i32_const(1))),ve.br(0))))}function $e(){Me(),Ke(g,"w0");const ge=e.addFunction(n+"__finalExponentiationLastChunk");ge.addParam("x","i32"),ge.addParam("r","i32");const q=ge.getCodeBuilder(),H=q.getLocal("x"),ye=q.getLocal("r"),_e=q.i32_const(e.alloc(f)),ve=q.i32_const(e.alloc(f)),Ie=q.i32_const(e.alloc(f)),Le=q.i32_const(e.alloc(f)),Pe=q.i32_const(e.alloc(f)),Re=q.i32_const(e.alloc(f)),Oe=q.i32_const(e.alloc(f)),Ue=q.i32_const(e.alloc(f)),Ge=q.i32_const(e.alloc(f)),et=q.i32_const(e.alloc(f)),We=q.i32_const(e.alloc(f)),Ve=q.i32_const(e.alloc(f)),Xe=q.i32_const(e.alloc(f)),Je=q.i32_const(e.alloc(f)),Ze=q.i32_const(e.alloc(f)),tt=q.i32_const(e.alloc(f)),nt=q.i32_const(e.alloc(f)),Qe=q.i32_const(e.alloc(f)),ft=q.i32_const(e.alloc(f)),Et=q.i32_const(e.alloc(f)),dt=q.i32_const(e.alloc(f));ge.addCode(q.call(n+"__cyclotomicExp_w0",H,_e),q.call(W+"_conjugate",_e,_e),q.call(n+"__cyclotomicSquare",_e,ve),q.call(n+"__cyclotomicSquare",ve,Ie),q.call(W+"_mul",Ie,ve,Le),q.call(n+"__cyclotomicExp_w0",Le,Pe),q.call(W+"_conjugate",Pe,Pe),q.call(n+"__cyclotomicSquare",Pe,Re),q.call(n+"__cyclotomicExp_w0",Re,Oe),q.call(W+"_conjugate",Oe,Oe),q.call(W+"_conjugate",Le,Ue),q.call(W+"_conjugate",Oe,Ge),q.call(W+"_mul",Ge,Pe,et),q.call(W+"_mul",et,Ue,We),q.call(W+"_mul",We,ve,Ve),q.call(W+"_mul",We,Pe,Xe),q.call(W+"_mul",Xe,H,Je),q.call(n+"__frobeniusMap1",Ve,Ze),q.call(W+"_mul",Ze,Je,tt),q.call(n+"__frobeniusMap2",We,nt),q.call(W+"_mul",nt,tt,Qe),q.call(W+"_conjugate",H,ft),q.call(W+"_mul",ft,Ve,Et),q.call(n+"__frobeniusMap3",Et,dt),q.call(W+"_mul",dt,Qe,ye))}function oe(){Fe(),$e();const ge=e.addFunction(n+"_finalExponentiation");ge.addParam("x","i32"),ge.addParam("r","i32");const q=ge.getCodeBuilder(),H=q.getLocal("x"),ye=q.getLocal("r"),_e=q.i32_const(e.alloc(f));ge.addCode(q.call(n+"__finalExponentiationFirstChunk",H,_e),q.call(n+"__finalExponentiationLastChunk",_e,ye))}function X(){const ge=e.addFunction(n+"_finalExponentiationOld");ge.addParam("x","i32"),ge.addParam("r","i32");const H=e.alloc(Vt.bigInt2BytesLE(552484233613224096312617126783173147097382103762957654188882734314196910839907541213974502761540629817009608548654680343627701153829446747810907373256841551006201639677726139946029199968412598804882391702273019083653272047566316584365559776493027495458238373902875937659943504873220554161550525926302303331747463515644711876653177129578303191095900909191624817826566688241804408081892785725967931714097716709526092261278071952560171111444072049229123565057483750161460024353346284167282452756217662335528813519139808291170539072125381230815729071544861602750936964829313608137325426383735122175229541155376346436093930287402089517426973178917569713384748081827255472576937471496195752727188261435633271238710131736096299798168852925540549342330775279877006784354801422249722573783561685179618816480037695005515426162362431072245638324744480n,352)),ye=ge.getCodeBuilder();ge.addCode(ye.call(W+"_exp",ye.getLocal("x"),ye.i32_const(H),ye.i32_const(352),ye.getLocal("r")))}const te=e.alloc(J),de=e.alloc(V);function Ce(ge){const q=e.addFunction(n+"_pairingEq"+ge);for(let ve=0;ve<ge;ve++)q.addParam("p_"+ve,"i32"),q.addParam("q_"+ve,"i32");q.addParam("c","i32"),q.setReturnType("i32");const H=q.getCodeBuilder(),ye=H.i32_const(e.alloc(f)),_e=H.i32_const(e.alloc(f));q.addCode(H.call(W+"_one",ye));for(let ve=0;ve<ge;ve++)q.addCode(H.call(n+"_prepareG1",H.getLocal("p_"+ve),H.i32_const(te))),q.addCode(H.call(n+"_prepareG2",H.getLocal("q_"+ve),H.i32_const(de))),q.addCode(H.call(n+"_millerLoop",H.i32_const(te),H.i32_const(de),_e)),q.addCode(H.call(W+"_mul",ye,_e,ye));q.addCode(H.call(n+"_finalExponentiation",ye,ye)),q.addCode(H.call(W+"_eq",ye,H.getLocal("c")))}function Se(){const ge=e.addFunction(n+"_pairing");ge.addParam("p","i32"),ge.addParam("q","i32"),ge.addParam("r","i32");const q=ge.getCodeBuilder(),H=q.i32_const(e.alloc(f));ge.addCode(q.call(n+"_prepareG1",q.getLocal("p"),q.i32_const(te))),ge.addCode(q.call(n+"_prepareG2",q.getLocal("q"),q.i32_const(de))),ge.addCode(q.call(n+"_millerLoop",q.i32_const(te),q.i32_const(de),H)),ge.addCode(q.call(n+"_finalExponentiation",H,q.getLocal("r")))}K(),ie(),k(),le(),fe(),he(),ce();for(let ge=0;ge<10;ge++)Ae(ge),e.exportFunction(n+"__frobeniusMap"+ge);X(),oe();for(let ge=1;ge<=5;ge++)Ce(ge),e.exportFunction(n+"_pairingEq"+ge);Se(),e.exportFunction(n+"_pairing"),e.exportFunction(n+"_prepareG1"),e.exportFunction(n+"_prepareG2"),e.exportFunction(n+"_millerLoop"),e.exportFunction(n+"_finalExponentiation"),e.exportFunction(n+"_finalExponentiationOld"),e.exportFunction(n+"__mulBy024"),e.exportFunction(n+"__mulBy024Old"),e.exportFunction(n+"__cyclotomicSquare"),e.exportFunction(n+"__cyclotomicExp_w0")};const Ut=G0,qT=L8,QT=Uw,x6=Ow,HT=Vw,p6=Gw,V2=zw,jT=Kw,$T=qw,ju=Qw,{bitLength:g6,isOdd:m6,isNegative:WT}=_i;var YT=function(e,r){const n=r||"bls12381";if(e.modules[n])return n;const i=0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaabn,a=0x73eda753299d7d483339d80809a1d80553bda402fffe5bfeffffffff00000001n,o=Math.floor((g6(i-1n)-1)/64)+1,s=o*8,u=s,l=u*2,c=u*12,f=Math.floor((g6(a-1n)-1)/64)+1,d=f*8,h=d,y=e.alloc(Ut.bigInt2BytesLE(a,h)),w=qT(e,i,"f1m","intq");QT(e,a,"fr","frm","intr");const _=e.alloc(Ut.bigInt2BytesLE(I(4n),u)),E=p6(e,"g1m","f1m",_);V2(e,"frm","frm","frm","frm_mul"),jT(e,"pol","frm"),$T(e,"qap","frm");const p=x6(e,"f1m_neg","f2m","f1m"),m=e.alloc([...Ut.bigInt2BytesLE(I(4n),u),...Ut.bigInt2BytesLE(I(4n),u)]),S=p6(e,"g2m","f2m",m);function F(q,H){const ye=e.addFunction(q);ye.addParam("pG","i32"),ye.addParam("pFr","i32"),ye.addParam("pr","i32");const _e=ye.getCodeBuilder(),ve=_e.i32_const(e.alloc(d));ye.addCode(_e.call("frm_fromMontgomery",_e.getLocal("pFr"),ve),_e.call(H,_e.getLocal("pG"),ve,_e.i32_const(d),_e.getLocal("pr"))),e.exportFunction(q)}F("g1m_timesFr","g1m_timesScalar"),V2(e,"g1m","g1m","frm","g1m_timesFr"),F("g2m_timesFr","g2m_timesScalar"),V2(e,"g2m","g2m","frm","g2m_timesFr"),F("g1m_timesFrAffine","g1m_timesScalarAffine"),F("g2m_timesFrAffine","g2m_timesScalarAffine"),ju(e,"frm_batchApplyKey","fmr","frm",d,d,d,"frm_mul"),ju(e,"g1m_batchApplyKey","g1m","frm",s*3,s*3,d,"g1m_timesFr"),ju(e,"g1m_batchApplyKeyMixed","g1m","frm",s*2,s*3,d,"g1m_timesFrAffine"),ju(e,"g2m_batchApplyKey","g2m","frm",s*2*3,s*3*2,d,"g2m_timesFr"),ju(e,"g2m_batchApplyKeyMixed","g2m","frm",s*2*2,s*3*2,d,"g2m_timesFrAffine");function I(q){return BigInt(q)*(1n<<BigInt(u*8))%i}const v=[3685416753713387016781088315183077757961620795782546409894578378688607592378376318836054947676345821548104185464507n,1339506544944476473020471379941921221584933875938349620426543736416511423956333506472724655353366534992391756441569n,1n],A=e.alloc([...Ut.bigInt2BytesLE(I(v[0]),u),...Ut.bigInt2BytesLE(I(v[1]),u),...Ut.bigInt2BytesLE(I(v[2]),u)]),D=[0n,1n,0n],L=e.alloc([...Ut.bigInt2BytesLE(I(D[0]),u),...Ut.bigInt2BytesLE(I(D[1]),u),...Ut.bigInt2BytesLE(I(D[2]),u)]),j=[[352701069587466618187139116011060144890029952792775240219908644239793785735715026873347600343865175952761926303160n,3059144344244213709971259814753781636986470325476647558659373206291635324768958432433509563104347017837885763365758n],[1985150602287291935568054521177171638300868978215655730859378665066344726373823718423869104263333984641494340347905n,927553665492332455747201965776037880757740193453592970025027978793976877002675564980949289727957565575433344219582n],[1n,0n]],Y=e.alloc([...Ut.bigInt2BytesLE(I(j[0][0]),u),...Ut.bigInt2BytesLE(I(j[0][1]),u),...Ut.bigInt2BytesLE(I(j[1][0]),u),...Ut.bigInt2BytesLE(I(j[1][1]),u),...Ut.bigInt2BytesLE(I(j[2][0]),u),...Ut.bigInt2BytesLE(I(j[2][1]),u)]),O=[[0n,0n],[1n,0n],[0n,0n]],B=e.alloc([...Ut.bigInt2BytesLE(I(O[0][0]),u),...Ut.bigInt2BytesLE(I(O[0][1]),u),...Ut.bigInt2BytesLE(I(O[1][0]),u),...Ut.bigInt2BytesLE(I(O[1][1]),u),...Ut.bigInt2BytesLE(I(O[2][0]),u),...Ut.bigInt2BytesLE(I(O[2][1]),u)]),C=e.alloc([...Ut.bigInt2BytesLE(I(1n),u),...Ut.bigInt2BytesLE(I(0n),u),...Ut.bigInt2BytesLE(I(0n),u),...Ut.bigInt2BytesLE(I(0n),u),...Ut.bigInt2BytesLE(I(0n),u),...Ut.bigInt2BytesLE(I(0n),u),...Ut.bigInt2BytesLE(I(0n),u),...Ut.bigInt2BytesLE(I(0n),u),...Ut.bigInt2BytesLE(I(0n),u),...Ut.bigInt2BytesLE(I(0n),u),...Ut.bigInt2BytesLE(I(0n),u),...Ut.bigInt2BytesLE(I(0n),u)]),N=e.alloc([...Ut.bigInt2BytesLE(I(1n),u),...Ut.bigInt2BytesLE(I(1n),u)]);function U(){const q=e.addFunction(p+"_mulNR");q.addParam("x","i32"),q.addParam("pr","i32");const H=q.getCodeBuilder(),ye=H.i32_const(e.alloc(u)),_e=H.getLocal("x"),ve=H.i32_add(H.getLocal("x"),H.i32_const(u)),Ie=H.getLocal("pr"),Le=H.i32_add(H.getLocal("pr"),H.i32_const(u));q.addCode(H.call(w+"_copy",_e,ye),H.call(w+"_sub",_e,ve,Ie),H.call(w+"_add",ye,ve,Le))}U();const G=HT(e,p+"_mulNR","f6m","f2m");function $(){const q=e.addFunction(G+"_mulNR");q.addParam("x","i32"),q.addParam("pr","i32");const H=q.getCodeBuilder(),ye=H.i32_const(e.alloc(u*2));q.addCode(H.call(p+"_copy",H.getLocal("x"),ye),H.call(p+"_mulNR",H.i32_add(H.getLocal("x"),H.i32_const(s*4)),H.getLocal("pr")),H.call(p+"_copy",H.i32_add(H.getLocal("x"),H.i32_const(s*2)),H.i32_add(H.getLocal("pr"),H.i32_const(s*4))),H.call(p+"_copy",ye,H.i32_add(H.getLocal("pr"),H.i32_const(s*2))))}$();const Z=x6(e,G+"_mulNR","ftm",G),P=Q(0xd201000000010000n),R=e.alloc(P),re=3*l,T=P.length-1,z=P.reduce((q,H)=>q+(H!=0?1:0),0)+T+1,b=3*2*s,J=3*s*2+z*re,V=!0,g=15132376222941642752n;e.modules[n]={n64q:o,n64r:f,n8q:s,n8r:d,pG1gen:A,pG1zero:L,pG1b:_,pG2gen:Y,pG2zero:B,pG2b:m,pq:e.modules.f1m.pq,pr:y,pOneT:C,r:a,q:i,prePSize:b,preQSize:J};function M(q){let H=q;const ye=[];for(;H>0n;){if(m6(H)){const _e=2-Number(H%4n);ye.push(_e),H=H-BigInt(_e)}else ye.push(0);H=H>>1n}return ye}function Q(q){let H=q;const ye=[];for(;H>0n;)m6(H)?ye.push(1):ye.push(0),H=H>>1n;return ye}function k(){const q=e.addFunction(n+"_prepareG1");q.addParam("pP","i32"),q.addParam("ppreP","i32");const H=q.getCodeBuilder();q.addCode(H.call(E+"_normalize",H.getLocal("pP"),H.getLocal("ppreP")))}function K(){const q=e.addFunction(n+"_prepDblStep");q.addParam("R","i32"),q.addParam("r","i32");const H=q.getCodeBuilder(),ye=H.getLocal("R"),_e=H.i32_add(H.getLocal("R"),H.i32_const(2*s)),ve=H.i32_add(H.getLocal("R"),H.i32_const(4*s)),Ie=H.getLocal("r"),Le=H.i32_add(H.getLocal("r"),H.i32_const(2*s)),Pe=H.i32_add(H.getLocal("r"),H.i32_const(4*s)),Re=H.i32_const(e.alloc(l)),Oe=H.i32_const(e.alloc(l)),Ue=H.i32_const(e.alloc(l)),Ge=H.i32_const(e.alloc(l)),et=H.i32_const(e.alloc(l));q.addCode(H.call(p+"_square",ye,Ie),H.call(p+"_square",_e,Oe),H.call(p+"_square",Oe,Ue),H.call(p+"_add",Oe,ye,Le),H.call(p+"_square",Le,Le),H.call(p+"_sub",Le,Ie,Le),H.call(p+"_sub",Le,Ue,Le),H.call(p+"_add",Le,Le,Le),H.call(p+"_add",Ie,Ie,Ge),H.call(p+"_add",Ge,Ie,Ge),H.call(p+"_add",ye,Ge,Pe),H.call(p+"_square",Ge,et),H.call(p+"_square",ve,Re),H.call(p+"_sub",et,Le,ye),H.call(p+"_sub",ye,Le,ye),H.call(p+"_add",ve,_e,ve),H.call(p+"_square",ve,ve),H.call(p+"_sub",ve,Oe,ve),H.call(p+"_sub",ve,Re,ve),H.call(p+"_sub",Le,ye,_e),H.call(p+"_mul",_e,Ge,_e),H.call(p+"_add",Ue,Ue,Ue),H.call(p+"_add",Ue,Ue,Ue),H.call(p+"_add",Ue,Ue,Ue),H.call(p+"_sub",_e,Ue,_e),H.call(p+"_mul",Ge,Re,Le),H.call(p+"_add",Le,Le,Le),H.call(p+"_neg",Le,Le),H.call(p+"_square",Pe,Pe),H.call(p+"_sub",Pe,Ie,Pe),H.call(p+"_sub",Pe,et,Pe),H.call(p+"_add",Oe,Oe,Oe),H.call(p+"_add",Oe,Oe,Oe),H.call(p+"_sub",Pe,Oe,Pe),H.call(p+"_mul",ve,Re,Ie),H.call(p+"_add",Ie,Ie,Ie))}function ie(){const q=e.addFunction(n+"_prepAddStep");q.addParam("R","i32"),q.addParam("Q","i32"),q.addParam("r","i32");const H=q.getCodeBuilder(),ye=H.getLocal("R"),_e=H.i32_add(H.getLocal("R"),H.i32_const(2*s)),ve=H.i32_add(H.getLocal("R"),H.i32_const(4*s)),Ie=H.getLocal("Q"),Le=H.i32_add(H.getLocal("Q"),H.i32_const(2*s)),Pe=H.getLocal("r"),Re=H.i32_add(H.getLocal("r"),H.i32_const(2*s)),Oe=H.i32_add(H.getLocal("r"),H.i32_const(4*s)),Ue=H.i32_const(e.alloc(l)),Ge=H.i32_const(e.alloc(l)),et=H.i32_const(e.alloc(l)),We=H.i32_const(e.alloc(l)),Ve=H.i32_const(e.alloc(l)),Xe=H.i32_const(e.alloc(l)),Je=H.i32_const(e.alloc(l)),Ze=H.i32_const(e.alloc(l)),tt=H.i32_const(e.alloc(l)),nt=H.i32_const(e.alloc(l)),Qe=H.i32_const(e.alloc(l));q.addCode(H.call(p+"_square",ve,Ue),H.call(p+"_square",Le,Ge),H.call(p+"_mul",Ue,Ie,We),H.call(p+"_add",Le,ve,Re),H.call(p+"_square",Re,Re),H.call(p+"_sub",Re,Ge,Re),H.call(p+"_sub",Re,Ue,Re),H.call(p+"_mul",Re,Ue,Re),H.call(p+"_sub",We,ye,Ve),H.call(p+"_square",Ve,Xe),H.call(p+"_add",Xe,Xe,Je),H.call(p+"_add",Je,Je,Je),H.call(p+"_mul",Je,Ve,Ze),H.call(p+"_sub",Re,_e,tt),H.call(p+"_sub",tt,_e,tt),H.call(p+"_mul",tt,Ie,Oe),H.call(p+"_mul",Je,ye,nt),H.call(p+"_square",tt,ye),H.call(p+"_sub",ye,Ze,ye),H.call(p+"_sub",ye,nt,ye),H.call(p+"_sub",ye,nt,ye),H.call(p+"_add",ve,Ve,ve),H.call(p+"_square",ve,ve),H.call(p+"_sub",ve,Ue,ve),H.call(p+"_sub",ve,Xe,ve),H.call(p+"_add",Le,ve,Pe),H.call(p+"_sub",nt,ye,Qe),H.call(p+"_mul",Qe,tt,Qe),H.call(p+"_mul",_e,Ze,We),H.call(p+"_add",We,We,We),H.call(p+"_sub",Qe,We,_e),H.call(p+"_square",Pe,Pe),H.call(p+"_sub",Pe,Ge,Pe),H.call(p+"_square",ve,et),H.call(p+"_sub",Pe,et,Pe),H.call(p+"_add",Oe,Oe,Oe),H.call(p+"_sub",Oe,Pe,Oe),H.call(p+"_add",ve,ve,Pe),H.call(p+"_neg",tt,tt),H.call(p+"_add",tt,tt,Re))}function ne(){const q=e.addFunction(n+"_prepareG2");q.addParam("pQ","i32"),q.addParam("ppreQ","i32"),q.addLocal("pCoef","i32"),q.addLocal("i","i32");const H=q.getCodeBuilder(),ye=H.getLocal("pQ"),_e=e.alloc(l*3),ve=H.i32_const(_e),Ie=H.getLocal("ppreQ");q.addCode(H.call(S+"_normalize",ye,Ie),H.if(H.call(S+"_isZero",Ie),H.ret([])),H.call(S+"_copy",Ie,ve),H.setLocal("pCoef",H.i32_add(H.getLocal("ppreQ"),H.i32_const(l*3)))),q.addCode(H.setLocal("i",H.i32_const(P.length-2)),H.block(H.loop(H.call(n+"_prepDblStep",ve,H.getLocal("pCoef")),H.setLocal("pCoef",H.i32_add(H.getLocal("pCoef"),H.i32_const(re))),H.if(H.i32_load8_s(H.getLocal("i"),R),[...H.call(n+"_prepAddStep",ve,Ie,H.getLocal("pCoef")),...H.setLocal("pCoef",H.i32_add(H.getLocal("pCoef"),H.i32_const(re)))]),H.br_if(1,H.i32_eqz(H.getLocal("i"))),H.setLocal("i",H.i32_sub(H.getLocal("i"),H.i32_const(1))),H.br(0))))}function le(){const q=e.addFunction(G+"_mul1");q.addParam("pA","i32"),q.addParam("pC1","i32"),q.addParam("pR","i32");const H=q.getCodeBuilder(),ye=H.getLocal("pA"),_e=H.i32_add(H.getLocal("pA"),H.i32_const(u*2)),ve=H.i32_add(H.getLocal("pA"),H.i32_const(u*4)),Ie=H.getLocal("pC1"),Le=H.getLocal("pR"),Pe=H.i32_add(H.getLocal("pR"),H.i32_const(u*2)),Re=H.i32_add(H.getLocal("pR"),H.i32_const(u*4)),Oe=H.i32_const(e.alloc(u*2)),Ue=H.i32_const(e.alloc(u*2));q.addCode(H.call(p+"_add",ye,_e,Oe),H.call(p+"_add",_e,ve,Ue),H.call(p+"_mul",_e,Ie,Re),H.call(p+"_mul",Ue,Ie,Le),H.call(p+"_sub",Le,Re,Le),H.call(p+"_mulNR",Le,Le),H.call(p+"_mul",Oe,Ie,Pe),H.call(p+"_sub",Pe,Re,Pe))}le();function he(){const q=e.addFunction(G+"_mul01");q.addParam("pA","i32"),q.addParam("pC0","i32"),q.addParam("pC1","i32"),q.addParam("pR","i32");const H=q.getCodeBuilder(),ye=H.getLocal("pA"),_e=H.i32_add(H.getLocal("pA"),H.i32_const(u*2)),ve=H.i32_add(H.getLocal("pA"),H.i32_const(u*4)),Ie=H.getLocal("pC0"),Le=H.getLocal("pC1"),Pe=H.getLocal("pR"),Re=H.i32_add(H.getLocal("pR"),H.i32_const(u*2)),Oe=H.i32_add(H.getLocal("pR"),H.i32_const(u*4)),Ue=H.i32_const(e.alloc(u*2)),Ge=H.i32_const(e.alloc(u*2)),et=H.i32_const(e.alloc(u*2)),We=H.i32_const(e.alloc(u*2));q.addCode(H.call(p+"_mul",ye,Ie,Ue),H.call(p+"_mul",_e,Le,Ge),H.call(p+"_add",ye,_e,et),H.call(p+"_add",ye,ve,We),H.call(p+"_add",_e,ve,Pe),H.call(p+"_mul",Pe,Le,Pe),H.call(p+"_sub",Pe,Ge,Pe),H.call(p+"_mulNR",Pe,Pe),H.call(p+"_add",Pe,Ue,Pe),H.call(p+"_add",Ie,Le,Re),H.call(p+"_mul",Re,et,Re),H.call(p+"_sub",Re,Ue,Re),H.call(p+"_sub",Re,Ge,Re),H.call(p+"_mul",We,Ie,Oe),H.call(p+"_sub",Oe,Ue,Oe),H.call(p+"_add",Oe,Ge,Oe))}he();function fe(){const q=e.addFunction(Z+"_mul014");q.addParam("pA","i32"),q.addParam("pC0","i32"),q.addParam("pC1","i32"),q.addParam("pC4","i32"),q.addParam("pR","i32");const H=q.getCodeBuilder(),ye=H.getLocal("pA"),_e=H.i32_add(H.getLocal("pA"),H.i32_const(u*6)),ve=H.getLocal("pC0"),Ie=H.getLocal("pC1"),Le=H.getLocal("pC4"),Pe=H.i32_const(e.alloc(u*6)),Re=H.i32_const(e.alloc(u*6)),Oe=H.i32_const(e.alloc(u*2)),Ue=H.getLocal("pR"),Ge=H.i32_add(H.getLocal("pR"),H.i32_const(u*6));q.addCode(H.call(G+"_mul01",ye,ve,Ie,Pe),H.call(G+"_mul1",_e,Le,Re),H.call(p+"_add",Ie,Le,Oe),H.call(G+"_add",_e,ye,Ge),H.call(G+"_mul01",Ge,ve,Oe,Ge),H.call(G+"_sub",Ge,Pe,Ge),H.call(G+"_sub",Ge,Re,Ge),H.call(G+"_copy",Re,Ue),H.call(G+"_mulNR",Ue,Ue),H.call(G+"_add",Ue,Pe,Ue))}fe();function ce(){const q=e.addFunction(n+"_ell");q.addParam("pP","i32"),q.addParam("pCoefs","i32"),q.addParam("pF","i32");const H=q.getCodeBuilder(),ye=H.getLocal("pP"),_e=H.i32_add(H.getLocal("pP"),H.i32_const(s)),ve=H.getLocal("pF"),Ie=H.getLocal("pCoefs"),Le=H.i32_add(H.getLocal("pCoefs"),H.i32_const(u)),Pe=H.i32_add(H.getLocal("pCoefs"),H.i32_const(u*2)),Re=H.i32_add(H.getLocal("pCoefs"),H.i32_const(u*3)),Oe=H.i32_add(H.getLocal("pCoefs"),H.i32_const(u*4)),Ue=e.alloc(u*2),Ge=H.i32_const(Ue),et=H.i32_const(Ue),We=H.i32_const(Ue+u),Ve=e.alloc(u*2),Xe=H.i32_const(Ve),Je=H.i32_const(Ve),Ze=H.i32_const(Ve+u);q.addCode(H.call(w+"_mul",Ie,_e,et),H.call(w+"_mul",Le,_e,We),H.call(w+"_mul",Pe,ye,Je),H.call(w+"_mul",Re,ye,Ze),H.call(Z+"_mul014",ve,Oe,Xe,Ge,ve))}ce();function Ae(){const q=e.addFunction(n+"_millerLoop");q.addParam("ppreP","i32"),q.addParam("ppreQ","i32"),q.addParam("r","i32"),q.addLocal("pCoef","i32"),q.addLocal("i","i32");const H=q.getCodeBuilder(),ye=H.getLocal("ppreP"),_e=H.getLocal("pCoef"),ve=H.getLocal("r");q.addCode(H.call(Z+"_one",ve),H.if(H.call(E+"_isZero",ye),H.ret([])),H.if(H.call(E+"_isZero",H.getLocal("ppreQ")),H.ret([])),H.setLocal("pCoef",H.i32_add(H.getLocal("ppreQ"),H.i32_const(l*3))),H.setLocal("i",H.i32_const(P.length-2)),H.block(H.loop(H.call(n+"_ell",ye,_e,ve),H.setLocal("pCoef",H.i32_add(H.getLocal("pCoef"),H.i32_const(re))),H.if(H.i32_load8_s(H.getLocal("i"),R),[...H.call(n+"_ell",ye,_e,ve),...H.setLocal("pCoef",H.i32_add(H.getLocal("pCoef"),H.i32_const(re)))]),H.call(Z+"_square",ve,ve),H.br_if(1,H.i32_eq(H.getLocal("i"),H.i32_const(1))),H.setLocal("i",H.i32_sub(H.getLocal("i"),H.i32_const(1))),H.br(0))),H.call(n+"_ell",ye,_e,ve)),q.addCode(H.call(Z+"_conjugate",ve,ve))}function Fe(q){const H=[[[1n,0n],[1n,0n],[1n,0n],[1n,0n],[1n,0n],[1n,0n],[1n,0n],[1n,0n],[1n,0n],[1n,0n],[1n,0n],[1n,0n]],[[1n,0n],[3850754370037169011952147076051364057158807420970682438676050522613628423219637725072182697113062777891589506424760n,151655185184498381465642749684540099398075398968325446656007613510403227271200139370504932015952886146304766135027n],[793479390729215512621379701633421447060886740281060493010456487427281649075476305620758731620351n,0n],[2973677408986561043442465346520108879172042883009249989176415018091420807192182638567116318576472649347015917690530n,1028732146235106349975324479215795277384839936929757896155643118032610843298655225875571310552543014690878354869257n],[793479390729215512621379701633421447060886740281060493010456487427281649075476305620758731620350n,0n],[3125332594171059424908108096204648978570118281977575435832422631601824034463382777937621250592425535493320683825557n,877076961050607968509681729531255177986764537961432449499635504522207616027455086505066378536590128544573588734230n],[4002409555221667393417789825735904156556882819939007885332058136124031650490837864442687629129015664037894272559786n,0n],[151655185184498381465642749684540099398075398968325446656007613510403227271200139370504932015952886146304766135027n,3850754370037169011952147076051364057158807420970682438676050522613628423219637725072182697113062777891589506424760n],[4002409555221667392624310435006688643935503118305586438271171395842971157480381377015405980053539358417135540939436n,0n],[1028732146235106349975324479215795277384839936929757896155643118032610843298655225875571310552543014690878354869257n,2973677408986561043442465346520108879172042883009249989176415018091420807192182638567116318576472649347015917690530n],[4002409555221667392624310435006688643935503118305586438271171395842971157480381377015405980053539358417135540939437n,0n],[877076961050607968509681729531255177986764537961432449499635504522207616027455086505066378536590128544573588734230n,3125332594171059424908108096204648978570118281977575435832422631601824034463382777937621250592425535493320683825557n]]],ye=[[[1n,0n],[1n,0n],[1n,0n],[1n,0n],[1n,0n],[1n,0n]],[[1n,0n],[0n,4002409555221667392624310435006688643935503118305586438271171395842971157480381377015405980053539358417135540939436n],[793479390729215512621379701633421447060886740281060493010456487427281649075476305620758731620350n,0n],[0n,1n],[4002409555221667392624310435006688643935503118305586438271171395842971157480381377015405980053539358417135540939436n,0n],[0n,793479390729215512621379701633421447060886740281060493010456487427281649075476305620758731620350n]],[[1n,0n],[4002409555221667392624310435006688643935503118305586438271171395842971157480381377015405980053539358417135540939437n,0n],[4002409555221667392624310435006688643935503118305586438271171395842971157480381377015405980053539358417135540939436n,0n],[4002409555221667393417789825735904156556882819939007885332058136124031650490837864442687629129015664037894272559786n,0n],[793479390729215512621379701633421447060886740281060493010456487427281649075476305620758731620350n,0n],[793479390729215512621379701633421447060886740281060493010456487427281649075476305620758731620351n,0n]]],_e=e.addFunction(Z+"_frobeniusMap"+q);_e.addParam("x","i32"),_e.addParam("r","i32");const ve=_e.getCodeBuilder();for(let Le=0;Le<6;Le++){const Pe=Le==0?ve.getLocal("x"):ve.i32_add(ve.getLocal("x"),ve.i32_const(Le*l)),Re=Pe,Oe=ve.i32_add(ve.getLocal("x"),ve.i32_const(Le*l+u)),Ue=Le==0?ve.getLocal("r"):ve.i32_add(ve.getLocal("r"),ve.i32_const(Le*l)),Ge=Ue,et=ve.i32_add(ve.getLocal("r"),ve.i32_const(Le*l+u)),We=Ie(H[Math.floor(Le/3)][q%12],ye[Le%3][q%6]),Ve=e.alloc([...Ut.bigInt2BytesLE(I(We[0]),s),...Ut.bigInt2BytesLE(I(We[1]),s)]);q%2==1?_e.addCode(ve.call(w+"_copy",Re,Ge),ve.call(w+"_neg",Oe,et),ve.call(p+"_mul",Ue,ve.i32_const(Ve),Ue)):_e.addCode(ve.call(p+"_mul",Pe,ve.i32_const(Ve),Ue))}function Ie(Le,Pe){const Re=Le[0],Oe=Le[1],Ue=Pe[0],Ge=Pe[1],et=[(Re*Ue-Oe*Ge)%i,(Re*Ge+Oe*Ue)%i];return WT(et[0])&&(et[0]=et[0]+i),et}}function Me(){const q=e.addFunction(n+"__cyclotomicSquare");q.addParam("x","i32"),q.addParam("r","i32");const H=q.getCodeBuilder(),ye=H.getLocal("x"),_e=H.i32_add(H.getLocal("x"),H.i32_const(l)),ve=H.i32_add(H.getLocal("x"),H.i32_const(2*l)),Ie=H.i32_add(H.getLocal("x"),H.i32_const(3*l)),Le=H.i32_add(H.getLocal("x"),H.i32_const(4*l)),Pe=H.i32_add(H.getLocal("x"),H.i32_const(5*l)),Re=H.getLocal("r"),Oe=H.i32_add(H.getLocal("r"),H.i32_const(l)),Ue=H.i32_add(H.getLocal("r"),H.i32_const(2*l)),Ge=H.i32_add(H.getLocal("r"),H.i32_const(3*l)),et=H.i32_add(H.getLocal("r"),H.i32_const(4*l)),We=H.i32_add(H.getLocal("r"),H.i32_const(5*l)),Ve=H.i32_const(e.alloc(l)),Xe=H.i32_const(e.alloc(l)),Je=H.i32_const(e.alloc(l)),Ze=H.i32_const(e.alloc(l)),tt=H.i32_const(e.alloc(l)),nt=H.i32_const(e.alloc(l)),Qe=H.i32_const(e.alloc(l)),ft=H.i32_const(e.alloc(l));q.addCode(H.call(p+"_mul",ye,Le,Qe),H.call(p+"_mulNR",Le,Ve),H.call(p+"_add",ye,Ve,Ve),H.call(p+"_add",ye,Le,ft),H.call(p+"_mul",ft,Ve,Ve),H.call(p+"_mulNR",Qe,ft),H.call(p+"_add",Qe,ft,ft),H.call(p+"_sub",Ve,ft,Ve),H.call(p+"_add",Qe,Qe,Xe),H.call(p+"_mul",Ie,ve,Qe),H.call(p+"_mulNR",ve,Je),H.call(p+"_add",Ie,Je,Je),H.call(p+"_add",Ie,ve,ft),H.call(p+"_mul",ft,Je,Je),H.call(p+"_mulNR",Qe,ft),H.call(p+"_add",Qe,ft,ft),H.call(p+"_sub",Je,ft,Je),H.call(p+"_add",Qe,Qe,Ze),H.call(p+"_mul",_e,Pe,Qe),H.call(p+"_mulNR",Pe,tt),H.call(p+"_add",_e,tt,tt),H.call(p+"_add",_e,Pe,ft),H.call(p+"_mul",ft,tt,tt),H.call(p+"_mulNR",Qe,ft),H.call(p+"_add",Qe,ft,ft),H.call(p+"_sub",tt,ft,tt),H.call(p+"_add",Qe,Qe,nt),H.call(p+"_sub",Ve,ye,Re),H.call(p+"_add",Re,Re,Re),H.call(p+"_add",Ve,Re,Re),H.call(p+"_add",Xe,Le,et),H.call(p+"_add",et,et,et),H.call(p+"_add",Xe,et,et),H.call(p+"_mul",nt,H.i32_const(N),ft),H.call(p+"_add",ft,Ie,Ge),H.call(p+"_add",Ge,Ge,Ge),H.call(p+"_add",ft,Ge,Ge),H.call(p+"_sub",tt,ve,Ue),H.call(p+"_add",Ue,Ue,Ue),H.call(p+"_add",tt,Ue,Ue),H.call(p+"_sub",Je,_e,Oe),H.call(p+"_add",Oe,Oe,Oe),H.call(p+"_add",Je,Oe,Oe),H.call(p+"_add",Ze,Pe,We),H.call(p+"_add",We,We,We),H.call(p+"_add",Ze,We,We))}function Ke(q,H,ye){const _e=M(q).map(Ue=>Ue==-1?255:Ue),ve=e.alloc(_e),Ie=e.addFunction(n+"__cyclotomicExp_"+ye);Ie.addParam("x","i32"),Ie.addParam("r","i32"),Ie.addLocal("bit","i32"),Ie.addLocal("i","i32");const Le=Ie.getCodeBuilder(),Pe=Le.getLocal("x"),Re=Le.getLocal("r"),Oe=Le.i32_const(e.alloc(c));Ie.addCode(Le.call(Z+"_conjugate",Pe,Oe),Le.call(Z+"_one",Re),Le.if(Le.teeLocal("bit",Le.i32_load8_s(Le.i32_const(_e.length-1),ve)),Le.if(Le.i32_eq(Le.getLocal("bit"),Le.i32_const(1)),Le.call(Z+"_mul",Re,Pe,Re),Le.call(Z+"_mul",Re,Oe,Re))),Le.setLocal("i",Le.i32_const(_e.length-2)),Le.block(Le.loop(Le.call(n+"__cyclotomicSquare",Re,Re),Le.if(Le.teeLocal("bit",Le.i32_load8_s(Le.getLocal("i"),ve)),Le.if(Le.i32_eq(Le.getLocal("bit"),Le.i32_const(1)),Le.call(Z+"_mul",Re,Pe,Re),Le.call(Z+"_mul",Re,Oe,Re))),Le.br_if(1,Le.i32_eqz(Le.getLocal("i"))),Le.setLocal("i",Le.i32_sub(Le.getLocal("i"),Le.i32_const(1))),Le.br(0)))),Ie.addCode(Le.call(Z+"_conjugate",Re,Re))}function $e(){Me(),Ke(g,V,"w0");const q=e.addFunction(n+"_finalExponentiation");q.addParam("x","i32"),q.addParam("r","i32");const H=q.getCodeBuilder(),ye=H.getLocal("x"),_e=H.getLocal("r"),ve=H.i32_const(e.alloc(c)),Ie=H.i32_const(e.alloc(c)),Le=H.i32_const(e.alloc(c)),Pe=H.i32_const(e.alloc(c)),Re=H.i32_const(e.alloc(c)),Oe=H.i32_const(e.alloc(c)),Ue=H.i32_const(e.alloc(c));q.addCode(H.call(Z+"_frobeniusMap6",ye,ve),H.call(Z+"_inverse",ye,Ie),H.call(Z+"_mul",ve,Ie,Le),H.call(Z+"_copy",Le,Ie),H.call(Z+"_frobeniusMap2",Le,Le),H.call(Z+"_mul",Le,Ie,Le),H.call(n+"__cyclotomicSquare",Le,Ie),H.call(Z+"_conjugate",Ie,Ie),H.call(n+"__cyclotomicExp_w0",Le,Pe),H.call(n+"__cyclotomicSquare",Pe,Re),H.call(Z+"_mul",Ie,Pe,Oe),H.call(n+"__cyclotomicExp_w0",Oe,Ie),H.call(n+"__cyclotomicExp_w0",Ie,ve),H.call(n+"__cyclotomicExp_w0",ve,Ue),H.call(Z+"_mul",Ue,Re,Ue),H.call(n+"__cyclotomicExp_w0",Ue,Re),H.call(Z+"_conjugate",Oe,Oe),H.call(Z+"_mul",Re,Oe,Re),H.call(Z+"_mul",Re,Le,Re),H.call(Z+"_conjugate",Le,Oe),H.call(Z+"_mul",Ie,Le,Ie),H.call(Z+"_frobeniusMap3",Ie,Ie),H.call(Z+"_mul",Ue,Oe,Ue),H.call(Z+"_frobeniusMap1",Ue,Ue),H.call(Z+"_mul",Pe,ve,Pe),H.call(Z+"_frobeniusMap2",Pe,Pe),H.call(Z+"_mul",Pe,Ie,Pe),H.call(Z+"_mul",Pe,Ue,Pe),H.call(Z+"_mul",Pe,Re,_e))}function oe(){const q=e.addFunction(n+"_finalExponentiationOld");q.addParam("x","i32"),q.addParam("r","i32");const ye=e.alloc(Ut.bigInt2BytesLE(322277361516934140462891564586510139908379969514828494218366688025288661041104682794998680497580008899973249814104447692778988208376779573819485263026159588510513834876303014016798809919343532899164848730280942609956670917565618115867287399623286813270357901731510188149934363360381614501334086825442271920079363289954510565375378443704372994881406797882676971082200626541916413184642520269678897559532260949334760604962086348898118982248842634379637598665468817769075878555493752214492790122785850202957575200176084204422751485957336465472324810982833638490904279282696134323072515220044451592646885410572234451732790590013479358343841220074174848221722017083597872017638514103174122784843925578370430843522959600095676285723737049438346544753168912974976791528535276317256904336520179281145394686565050419250614107803233314658825463117900250701199181529205942363159325765991819433914303908860460720581408201373164047773794825411011922305820065611121544561808414055302212057471395719432072209245600258134364584636810093520285711072578721435517884103526483832733289802426157301542744476740008494780363354305116978805620671467071400711358839553375340724899735460480144599782014906586543813292157922220645089192130209334926661588737007768565838519456601560804957985667880395221049249803753582637708560n,544)),_e=q.getCodeBuilder();q.addCode(_e.call(Z+"_exp",_e.getLocal("x"),_e.i32_const(ye),_e.i32_const(544),_e.getLocal("r")))}const X=e.alloc(b),te=e.alloc(J);function de(q){const H=e.addFunction(n+"_pairingEq"+q);for(let Ie=0;Ie<q;Ie++)H.addParam("p_"+Ie,"i32"),H.addParam("q_"+Ie,"i32");H.addParam("c","i32"),H.setReturnType("i32");const ye=H.getCodeBuilder(),_e=ye.i32_const(e.alloc(c)),ve=ye.i32_const(e.alloc(c));H.addCode(ye.call(Z+"_one",_e));for(let Ie=0;Ie<q;Ie++)H.addCode(ye.call(n+"_prepareG1",ye.getLocal("p_"+Ie),ye.i32_const(X))),H.addCode(ye.call(n+"_prepareG2",ye.getLocal("q_"+Ie),ye.i32_const(te))),H.addCode(ye.if(ye.i32_eqz(ye.call(E+"_inGroupAffine",ye.i32_const(X))),ye.ret(ye.i32_const(0))),ye.if(ye.i32_eqz(ye.call(S+"_inGroupAffine",ye.i32_const(te))),ye.ret(ye.i32_const(0)))),H.addCode(ye.call(n+"_millerLoop",ye.i32_const(X),ye.i32_const(te),ve)),H.addCode(ye.call(Z+"_mul",_e,ve,_e));H.addCode(ye.call(n+"_finalExponentiation",_e,_e)),H.addCode(ye.call(Z+"_eq",_e,ye.getLocal("c")))}function Ce(){const q=e.addFunction(n+"_pairing");q.addParam("p","i32"),q.addParam("q","i32"),q.addParam("r","i32");const H=q.getCodeBuilder(),ye=H.i32_const(e.alloc(c));q.addCode(H.call(n+"_prepareG1",H.getLocal("p"),H.i32_const(X))),q.addCode(H.call(n+"_prepareG2",H.getLocal("q"),H.i32_const(te))),q.addCode(H.call(n+"_millerLoop",H.i32_const(X),H.i32_const(te),ye)),q.addCode(H.call(n+"_finalExponentiation",ye,H.getLocal("r")))}function Se(){const q=e.addFunction(S+"_inGroupAffine");q.addParam("p","i32"),q.setReturnType("i32");const H=q.getCodeBuilder(),ye=[2001204777610833696708894912867952078278441409969503942666029068062015825245418932221343814564507832018947136279894n,2001204777610833696708894912867952078278441409969503942666029068062015825245418932221343814564507832018947136279893n],_e=4002409555221667392624310435006688643935503118305586438271171395842971157480381377015405980053539358417135540939436n,ve=[2973677408986561043442465346520108879172042883009249989176415018091420807192182638567116318576472649347015917690530n,2973677408986561043442465346520108879172042883009249989176415018091420807192182638567116318576472649347015917690530n],Ie=H.i32_const(e.alloc([...Ut.bigInt2BytesLE(I(ye[0]),s),...Ut.bigInt2BytesLE(I(ye[1]),s)])),Le=H.i32_const(e.alloc(Ut.bigInt2BytesLE(I(_e),s))),Pe=H.i32_const(e.alloc([...Ut.bigInt2BytesLE(I(ve[0]),s),...Ut.bigInt2BytesLE(I(ve[1]),s)])),Re=H.i32_const(e.alloc(Ut.bigInt2BytesLE(g,8))),Oe=H.getLocal("p"),Ue=H.i32_add(H.getLocal("p"),H.i32_const(l)),Ge=H.i32_const(e.alloc(u)),et=H.i32_const(e.alloc(l)),We=H.i32_const(e.alloc(l)),Ve=e.alloc(l*2),Xe=H.i32_const(Ve),Je=H.i32_const(Ve),Ze=H.i32_const(Ve),tt=H.i32_const(Ve+u),nt=H.i32_const(Ve+l),Qe=H.i32_const(Ve+l),ft=H.i32_const(Ve+l+u),Et=e.alloc(l*3),dt=H.i32_const(Et),Lt=H.i32_const(Et),wt=H.i32_const(Et),xt=H.i32_const(Et+u),Ft=H.i32_const(Et+l),bt=H.i32_const(Et+l),Bt=H.i32_const(Et+l+u),Gt=H.i32_const(Et+l*2);q.addCode(H.if(H.call(S+"_isZeroAffine",H.getLocal("p")),H.ret(H.i32_const(1))),H.if(H.i32_eqz(H.call(S+"_inCurveAffine",H.getLocal("p"))),H.ret(H.i32_const(0))),H.call(p+"_mul",Oe,Ie,et),H.call(p+"_mul",Ue,Ie,We),H.call(p+"_mul1",et,Le,Je),H.call(p+"_neg",We,nt),H.call(p+"_neg",et,Lt),H.call(p+"_mul",We,Pe,Ft),H.call(w+"_sub",Ze,tt,Ge),H.call(w+"_add",Ze,tt,tt),H.call(w+"_copy",Ge,Ze),H.call(w+"_sub",Qe,ft,Ge),H.call(w+"_add",Qe,ft,ft),H.call(w+"_copy",Ge,Qe),H.call(w+"_add",wt,xt,Ge),H.call(w+"_sub",wt,xt,xt),H.call(w+"_copy",Ge,wt),H.call(w+"_sub",Bt,bt,Ge),H.call(w+"_add",bt,Bt,Bt),H.call(w+"_copy",Ge,bt),H.call(p+"_one",Gt),H.call(S+"_timesScalar",dt,Re,H.i32_const(8),dt),H.call(S+"_addMixed",dt,Xe,dt),H.ret(H.call(S+"_eqMixed",dt,H.getLocal("p"))));const _r=e.addFunction(S+"_inGroup");_r.addParam("pIn","i32"),_r.setReturnType("i32");const ir=_r.getCodeBuilder(),Dr=ir.i32_const(e.alloc(l*2));_r.addCode(ir.call(S+"_toAffine",ir.getLocal("pIn"),Dr),ir.ret(ir.call(S+"_inGroupAffine",Dr)))}function ge(){const q=e.addFunction(E+"_inGroupAffine");q.addParam("p","i32"),q.setReturnType("i32");const H=q.getCodeBuilder(),ye=4002409555221667392624310435006688643935503118305586438271171395842971157480381377015405980053539358417135540939436n,_e=793479390729215512621379701633421447060886740281060493010456487427281649075476305620758731620350n,ve=(g*g-1n)/3n,Ie=H.i32_const(e.alloc(Ut.bigInt2BytesLE(I(ye),s))),Le=H.i32_const(e.alloc(Ut.bigInt2BytesLE(I(_e),s))),Pe=H.i32_const(e.alloc(Ut.bigInt2BytesLE(ve,16))),Re=H.getLocal("p"),Oe=H.i32_add(H.getLocal("p"),H.i32_const(u)),Ue=e.alloc(u*3),Ge=H.i32_const(Ue),et=H.i32_const(Ue),We=H.i32_const(Ue+u),Ve=e.alloc(u*2),Xe=H.i32_const(Ve),Je=H.i32_const(Ve),Ze=H.i32_const(Ve+u);q.addCode(H.if(H.call(E+"_isZeroAffine",H.getLocal("p")),H.ret(H.i32_const(1))),H.if(H.i32_eqz(H.call(E+"_inCurveAffine",H.getLocal("p"))),H.ret(H.i32_const(0))),H.call(w+"_mul",Re,Ie,et),H.call(w+"_copy",Oe,We),H.call(w+"_mul",Re,Le,Je),H.call(w+"_copy",Oe,Ze),H.call(E+"_doubleAffine",Ge,Ge),H.call(E+"_subMixed",Ge,H.getLocal("p"),Ge),H.call(E+"_subMixed",Ge,Xe,Ge),H.call(E+"_timesScalar",Ge,Pe,H.i32_const(16),Ge),H.ret(H.call(E+"_eqMixed",Ge,Xe)));const tt=e.addFunction(E+"_inGroup");tt.addParam("pIn","i32"),tt.setReturnType("i32");const nt=tt.getCodeBuilder(),Qe=nt.i32_const(e.alloc(u*2));tt.addCode(nt.call(E+"_toAffine",nt.getLocal("pIn"),Qe),nt.ret(nt.call(E+"_inGroupAffine",Qe)))}for(let q=0;q<10;q++)Fe(q),e.exportFunction(Z+"_frobeniusMap"+q);ge(),Se(),ie(),K(),k(),ne(),Ae(),oe(),$e();for(let q=1;q<=5;q++)de(q),e.exportFunction(n+"_pairingEq"+q);Ce(),e.exportFunction(n+"_pairing"),e.exportFunction(n+"_prepareG1"),e.exportFunction(n+"_prepareG2"),e.exportFunction(n+"_millerLoop"),e.exportFunction(n+"_finalExponentiation"),e.exportFunction(n+"_finalExponentiationOld"),e.exportFunction(n+"__cyclotomicSquare"),e.exportFunction(n+"__cyclotomicExp_w0"),e.exportFunction(G+"_mul1"),e.exportFunction(G+"_mul01"),e.exportFunction(Z+"_mul014"),e.exportFunction(E+"_inGroupAffine"),e.exportFunction(E+"_inGroup"),e.exportFunction(S+"_inGroupAffine"),e.exportFunction(S+"_inGroup")},ZT=KT,XT=YT;function Zm(t){if(typeof t=="bigint"||t.eq!==void 0)return t.toString(10);if(t instanceof Uint8Array)return ud(t,0);if(Array.isArray(t))return t.map(Zm);if(typeof t=="object"){const e={};return Object.keys(t).forEach(n=>{e[n]=Zm(t[n])}),e}else return t}function Xm(t){if(typeof t=="string"&&/^[0-9]+$/.test(t))return BigInt(t);if(typeof t=="string"&&/^0x[0-9a-fA-F]+$/.test(t))return BigInt(t);if(Array.isArray(t))return t.map(Xm);if(typeof t=="object"){if(t===null)return null;const e={};return Object.keys(t).forEach(n=>{e[n]=Xm(t[n])}),e}else return t}function JT(t){let e=BigInt(0),r=t.length,n=0;const i=new DataView(t.buffer,t.byteOffset,t.byteLength);for(;r>0;)r>=4?(r-=4,e+=BigInt(i.getUint32(r))<<BigInt(n*8),n+=4):r>=2?(r-=2,e+=BigInt(i.getUint16(r))<<BigInt(n*8),n+=2):(r-=1,e+=BigInt(i.getUint8(r))<<BigInt(n*8),n+=1);return e}function ek(t,e){let r=t;const n=new Uint8Array(e),i=new DataView(n.buffer);let a=e;for(;a>0;)a-4>=0?(a-=4,i.setUint32(a,Number(r&BigInt(4294967295))),r=r>>BigInt(32)):a-2>=0?(a-=2,i.setUint16(a,Number(r&BigInt(65535))),r=r>>BigInt(16)):(a-=1,i.setUint8(a,Number(r&BigInt(255))),r=r>>BigInt(8));if(r)throw new Error("Number does not fit in this length");return n}function tk(t){let e=BigInt(0),r=0;const n=new DataView(t.buffer,t.byteOffset,t.byteLength);for(;r<t.length;)r+4<=t.length?(e+=BigInt(n.getUint32(r,!0))<<BigInt(r*8),r+=4):r+2<=t.length?(e+=BigInt(n.getUint16(r,!0))<<BigInt(r*8),r+=2):(e+=BigInt(n.getUint8(r,!0))<<BigInt(r*8),r+=1);return e}function Hw(t,e){let r=t;typeof e>"u"&&(e=Math.floor((Nd(t)-1)/8)+1,e==0&&(e=1));const n=new Uint8Array(e),i=new DataView(n.buffer);let a=0;for(;a<e;)a+4<=e?(i.setUint32(a,Number(r&BigInt(4294967295)),!0),a+=4,r=r>>BigInt(32)):a+2<=e?(i.setUint16(a,Number(r&BigInt(65535)),!0),a+=2,r=r>>BigInt(16)):(i.setUint8(a,Number(r&BigInt(255)),!0),a+=1,r=r>>BigInt(8));if(r)throw new Error("Number does not fit in this length");return n}function Jm(t,e){if(typeof e=="bigint"||e.eq!==void 0)return e.toString(10);if(e instanceof Uint8Array)return t.toString(t.e(e));if(Array.isArray(e))return e.map(Jm.bind(this,t));if(typeof e=="object"){const r={};return Object.keys(e).forEach(i=>{r[i]=Jm(t,e[i])}),r}else return e}function e3(t,e){if(typeof e=="string"&&/^[0-9]+$/.test(e))return t.e(e);if(typeof e=="string"&&/^0x[0-9a-fA-F]+$/.test(e))return t.e(e);if(Array.isArray(e))return e.map(e3.bind(this,t));if(typeof e=="object"){if(e===null)return null;const r={};return Object.keys(e).forEach(i=>{r[i]=e3(t,e[i])}),r}else return e}const hf=[];for(let t=0;t<256;t++)hf[t]=rk(t,8);function rk(t,e){let r=0,n=t;for(let i=0;i<e;i++)r<<=1,r=r|n&1,n>>=1;return r}function jw(t,e){return(hf[t>>>24]|hf[t>>>16&255]<<8|hf[t>>>8&255]<<16|hf[t&255]<<24)>>>32-e}function Fi(t){return(t&4294901760?(t&=4294901760,16):0)|(t&4278255360?(t&=4278255360,8):0)|(t&4042322160?(t&=4042322160,4):0)|(t&3435973836?(t&=3435973836,2):0)|(t&2863311530)!==0}function $w(t,e){const r=t.byteLength/e,n=Fi(r);if(r!=1<<n)throw new Error("Invalid number of pointers");for(let i=0;i<r;i++){const a=jw(i,n);if(i>a){const o=t.slice(i*e,(i+1)*e);t.set(t.slice(a*e,(a+1)*e),i*e),t.set(o,a*e)}}}function F8(t,e){const r=new Uint8Array(e*t.length);for(let n=0;n<t.length;n++)r.set(t[n],n*e);return r}function ex(t,e){const r=t.byteLength/e,n=new Array(r);for(let i=0;i<r;i++)n[i]=t.slice(i*e,i*e+e);return n}var nk=Object.freeze({__proto__:null,array2buffer:F8,beBuff2int:JT,beInt2Buff:ek,bitReverse:jw,buffReverseBits:$w,buffer2array:ex,leBuff2int:tk,leInt2Buff:Hw,log2:Fi,stringifyBigInts:Zm,stringifyFElements:Jm,unstringifyBigInts:Xm,unstringifyFElements:e3});const Mn=1<<30;class He{constructor(e){this.buffers=[],this.byteLength=e;for(let r=0;r<e;r+=Mn){const n=Math.min(e-r,Mn);this.buffers.push(new Uint8Array(n))}}slice(e,r){r===void 0&&(r=this.byteLength),e===void 0&&(e=0);const n=r-e,i=Math.floor(e/Mn),a=Math.floor((e+n-1)/Mn);if(i==a||n==0)return this.buffers[i].slice(e%Mn,e%Mn+n);let o,s=i,u=e%Mn,l=n;for(;l>0;){const c=u+l>Mn?Mn-u:l,f=new Uint8Array(this.buffers[s].buffer,this.buffers[s].byteOffset+u,c);if(c==n)return f.slice();o||(n<=Mn?o=new Uint8Array(n):o=new He(n)),o.set(f,n-l),l=l-c,s++,u=0}return o}set(e,r){r===void 0&&(r=0);const n=e.byteLength;if(n==0)return;const i=Math.floor(r/Mn),a=Math.floor((r+n-1)/Mn);if(i==a)return e instanceof He&&e.buffers.length==1?this.buffers[i].set(e.buffers[0],r%Mn):this.buffers[i].set(e,r%Mn);let o=i,s=r%Mn,u=n;for(;u>0;){const l=s+u>Mn?Mn-s:u,c=e.slice(n-u,n-u+l);new Uint8Array(this.buffers[o].buffer,this.buffers[o].byteOffset+s,l).set(c),u=u-l,o++,s=0}}}function Xs(t,e,r,n){return async function(a){const o=Math.floor(a.byteLength/r);if(o*r!==a.byteLength)throw new Error("Invalid buffer size");const s=Math.floor(o/t.concurrency),u=[];for(let d=0;d<t.concurrency;d++){let h;if(d<t.concurrency-1?h=s:h=o-d*s,h==0)continue;const w=[{cmd:"ALLOCSET",var:0,buff:a.slice(d*s*r,d*s*r+h*r)},{cmd:"ALLOC",var:1,len:n*h},{cmd:"CALL",fnName:e,params:[{var:0},{val:h},{var:1}]},{cmd:"GET",out:0,var:1,len:n*h}];u.push(t.queueAction(w))}const l=await Promise.all(u);let c;a instanceof He?c=new He(o*n):c=new Uint8Array(o*n);let f=0;for(let d=0;d<l.length;d++)c.set(l[d][0],f),f+=l[d][0].byteLength;return c}}class y6{constructor(e,r,n,i){if(this.tm=e,this.prefix=r,this.p=i,this.n8=n,this.type="F1",this.m=1,this.half=Lc(i,Y0),this.bitLength=Nd(i),this.mask=bs(X1(Y0,this.bitLength),Y0),this.pOp1=e.alloc(n),this.pOp2=e.alloc(n),this.pOp3=e.alloc(n),this.tm.instance.exports[r+"_zero"](this.pOp1),this.zero=this.tm.getBuff(this.pOp1,this.n8),this.tm.instance.exports[r+"_one"](this.pOp1),this.one=this.tm.getBuff(this.pOp1,this.n8),this.negone=this.neg(this.one),this.two=this.add(this.one,this.one),this.n64=Math.floor(n/8),this.n32=Math.floor(n/4),this.n64*8!=this.n8)throw new Error("n8 must be a multiple of 8");this.half=Lc(this.p,Y0),this.nqr=this.two;let a=this.exp(this.nqr,this.half);for(;!this.eq(a,this.negone);)this.nqr=this.add(this.nqr,this.one),a=this.exp(this.nqr,this.half);this.shift=this.mul(this.nqr,this.nqr),this.shiftInv=this.inv(this.shift),this.s=0;let o=bs(this.p,Y0);for(;!v8(o);)this.s=this.s+1,o=Lc(o,Y0);this.w=[],this.w[this.s]=this.exp(this.nqr,o);for(let s=this.s-1;s>=0;s--)this.w[s]=this.square(this.w[s+1]);if(!this.eq(this.w[0],this.one))throw new Error("Error calculating roots of unity");this.batchToMontgomery=Xs(e,r+"_batchToMontgomery",this.n8,this.n8),this.batchFromMontgomery=Xs(e,r+"_batchFromMontgomery",this.n8,this.n8)}op2(e,r,n){return this.tm.setBuff(this.pOp1,r),this.tm.setBuff(this.pOp2,n),this.tm.instance.exports[this.prefix+e](this.pOp1,this.pOp2,this.pOp3),this.tm.getBuff(this.pOp3,this.n8)}op2Bool(e,r,n){return this.tm.setBuff(this.pOp1,r),this.tm.setBuff(this.pOp2,n),!!this.tm.instance.exports[this.prefix+e](this.pOp1,this.pOp2)}op1(e,r){return this.tm.setBuff(this.pOp1,r),this.tm.instance.exports[this.prefix+e](this.pOp1,this.pOp3),this.tm.getBuff(this.pOp3,this.n8)}op1Bool(e,r){return this.tm.setBuff(this.pOp1,r),!!this.tm.instance.exports[this.prefix+e](this.pOp1,this.pOp3)}add(e,r){return this.op2("_add",e,r)}eq(e,r){return this.op2Bool("_eq",e,r)}isZero(e){return this.op1Bool("_isZero",e)}sub(e,r){return this.op2("_sub",e,r)}neg(e){return this.op1("_neg",e)}inv(e){return this.op1("_inverse",e)}toMontgomery(e){return this.op1("_toMontgomery",e)}fromMontgomery(e){return this.op1("_fromMontgomery",e)}mul(e,r){return this.op2("_mul",e,r)}div(e,r){return this.tm.setBuff(this.pOp1,e),this.tm.setBuff(this.pOp2,r),this.tm.instance.exports[this.prefix+"_inverse"](this.pOp2,this.pOp2),this.tm.instance.exports[this.prefix+"_mul"](this.pOp1,this.pOp2,this.pOp3),this.tm.getBuff(this.pOp3,this.n8)}square(e){return this.op1("_square",e)}isSquare(e){return this.op1Bool("_isSquare",e)}sqrt(e){return this.op1("_sqrt",e)}exp(e,r){return r instanceof Uint8Array||(r=qc(xn(r))),this.tm.setBuff(this.pOp1,e),this.tm.setBuff(this.pOp2,r),this.tm.instance.exports[this.prefix+"_exp"](this.pOp1,this.pOp2,r.byteLength,this.pOp3),this.tm.getBuff(this.pOp3,this.n8)}isNegative(e){return this.op1Bool("_isNegative",e)}e(e,r){if(e instanceof Uint8Array)return e;let n=xn(e,r);Cw(n)?(n=Bw(n),Ym(n,this.p)&&(n=Ao(n,this.p)),n=bs(this.p,n)):Ym(n,this.p)&&(n=Ao(n,this.p));const i=Hw(n,this.n8);return this.toMontgomery(i)}toString(e,r){const n=this.fromMontgomery(e),i=ud(n,0);return A8(i,r)}fromRng(e){let r;const n=new Uint8Array(this.n8);do{r=Fw;for(let i=0;i<this.n64;i++)r=E8(r,X1(e.nextU64(),64*i));r=C8(r,this.mask)}while(Sw(r,this.p));return cd(n,0,r,this.n8),n}random(){return this.fromRng(w8())}toObject(e){const r=this.fromMontgomery(e);return ud(r,0)}fromObject(e){const r=new Uint8Array(this.n8);return cd(r,0,e,this.n8),this.toMontgomery(r)}toRprLE(e,r,n){e.set(this.fromMontgomery(n),r)}toRprBE(e,r,n){const i=this.fromMontgomery(n);for(let a=0;a<this.n8/2;a++){const o=i[a];i[a]=i[this.n8-1-a],i[this.n8-1-a]=o}e.set(i,r)}fromRprLE(e,r){r=r||0;const n=e.slice(r,r+this.n8);return this.toMontgomery(n)}async batchInverse(e){let r=!1;const n=this.n8,i=this.n8;Array.isArray(e)?(e=F8(e,n),r=!0):e=e.slice(0,e.byteLength);const a=Math.floor(e.byteLength/n);if(a*n!==e.byteLength)throw new Error("Invalid buffer size");const o=Math.floor(a/this.tm.concurrency),s=[];for(let f=0;f<this.tm.concurrency;f++){let d;if(f<this.tm.concurrency-1?d=o:d=a-f*o,d==0)continue;const y=[{cmd:"ALLOCSET",var:0,buff:e.slice(f*o*n,f*o*n+d*n)},{cmd:"ALLOC",var:1,len:i*d},{cmd:"CALL",fnName:this.prefix+"_batchInverse",params:[{var:0},{val:n},{val:d},{var:1},{val:i}]},{cmd:"GET",out:0,var:1,len:i*d}];s.push(this.tm.queueAction(y))}const u=await Promise.all(s);let l;e instanceof He?l=new He(a*i):l=new Uint8Array(a*i);let c=0;for(let f=0;f<u.length;f++)l.set(u[f][0],c),c+=u[f][0].byteLength;return r?ex(l,i):l}}class v6{constructor(e,r,n){this.tm=e,this.prefix=r,this.F=n,this.type="F2",this.m=n.m*2,this.n8=this.F.n8*2,this.n32=this.F.n32*2,this.n64=this.F.n64*2,this.pOp1=e.alloc(n.n8*2),this.pOp2=e.alloc(n.n8*2),this.pOp3=e.alloc(n.n8*2),this.tm.instance.exports[r+"_zero"](this.pOp1),this.zero=e.getBuff(this.pOp1,this.n8),this.tm.instance.exports[r+"_one"](this.pOp1),this.one=e.getBuff(this.pOp1,this.n8),this.negone=this.neg(this.one),this.two=this.add(this.one,this.one)}op2(e,r,n){return this.tm.setBuff(this.pOp1,r),this.tm.setBuff(this.pOp2,n),this.tm.instance.exports[this.prefix+e](this.pOp1,this.pOp2,this.pOp3),this.tm.getBuff(this.pOp3,this.n8)}op2Bool(e,r,n){return this.tm.setBuff(this.pOp1,r),this.tm.setBuff(this.pOp2,n),!!this.tm.instance.exports[this.prefix+e](this.pOp1,this.pOp2)}op1(e,r){return this.tm.setBuff(this.pOp1,r),this.tm.instance.exports[this.prefix+e](this.pOp1,this.pOp3),this.tm.getBuff(this.pOp3,this.n8)}op1Bool(e,r){return this.tm.setBuff(this.pOp1,r),!!this.tm.instance.exports[this.prefix+e](this.pOp1,this.pOp3)}add(e,r){return this.op2("_add",e,r)}eq(e,r){return this.op2Bool("_eq",e,r)}isZero(e){return this.op1Bool("_isZero",e)}sub(e,r){return this.op2("_sub",e,r)}neg(e){return this.op1("_neg",e)}inv(e){return this.op1("_inverse",e)}isNegative(e){return this.op1Bool("_isNegative",e)}toMontgomery(e){return this.op1("_toMontgomery",e)}fromMontgomery(e){return this.op1("_fromMontgomery",e)}mul(e,r){return this.op2("_mul",e,r)}mul1(e,r){return this.op2("_mul1",e,r)}div(e,r){return this.tm.setBuff(this.pOp1,e),this.tm.setBuff(this.pOp2,r),this.tm.instance.exports[this.prefix+"_inverse"](this.pOp2,this.pOp2),this.tm.instance.exports[this.prefix+"_mul"](this.pOp1,this.pOp2,this.pOp3),this.tm.getBuff(this.pOp3,this.n8)}square(e){return this.op1("_square",e)}isSquare(e){return this.op1Bool("_isSquare",e)}sqrt(e){return this.op1("_sqrt",e)}exp(e,r){return r instanceof Uint8Array||(r=qc(xn(r))),this.tm.setBuff(this.pOp1,e),this.tm.setBuff(this.pOp2,r),this.tm.instance.exports[this.prefix+"_exp"](this.pOp1,this.pOp2,r.byteLength,this.pOp3),this.tm.getBuff(this.pOp3,this.n8)}e(e,r){if(e instanceof Uint8Array)return e;if(Array.isArray(e)&&e.length==2){const n=this.F.e(e[0],r),i=this.F.e(e[1],r),a=new Uint8Array(this.F.n8*2);return a.set(n),a.set(i,this.F.n8*2),a}else throw new Error("invalid F2")}toString(e,r){const n=this.F.toString(e.slice(0,this.F.n8),r),i=this.F.toString(e.slice(this.F.n8),r);return`[${n}, ${i}]`}fromRng(e){const r=this.F.fromRng(e),n=this.F.fromRng(e),i=new Uint8Array(this.F.n8*2);return i.set(r),i.set(n,this.F.n8),i}random(){return this.fromRng(w8())}toObject(e){const r=this.F.toObject(e.slice(0,this.F.n8)),n=this.F.toObject(e.slice(this.F.n8,this.F.n8*2));return[r,n]}fromObject(e){const r=new Uint8Array(this.F.n8*2),n=this.F.fromObject(e[0]),i=this.F.fromObject(e[1]);return r.set(n),r.set(i,this.F.n8),r}c1(e){return e.slice(0,this.F.n8)}c2(e){return e.slice(this.F.n8)}}class ik{constructor(e,r,n){this.tm=e,this.prefix=r,this.F=n,this.type="F3",this.m=n.m*3,this.n8=this.F.n8*3,this.n32=this.F.n32*3,this.n64=this.F.n64*3,this.pOp1=e.alloc(n.n8*3),this.pOp2=e.alloc(n.n8*3),this.pOp3=e.alloc(n.n8*3),this.tm.instance.exports[r+"_zero"](this.pOp1),this.zero=e.getBuff(this.pOp1,this.n8),this.tm.instance.exports[r+"_one"](this.pOp1),this.one=e.getBuff(this.pOp1,this.n8),this.negone=this.neg(this.one),this.two=this.add(this.one,this.one)}op2(e,r,n){return this.tm.setBuff(this.pOp1,r),this.tm.setBuff(this.pOp2,n),this.tm.instance.exports[this.prefix+e](this.pOp1,this.pOp2,this.pOp3),this.tm.getBuff(this.pOp3,this.n8)}op2Bool(e,r,n){return this.tm.setBuff(this.pOp1,r),this.tm.setBuff(this.pOp2,n),!!this.tm.instance.exports[this.prefix+e](this.pOp1,this.pOp2)}op1(e,r){return this.tm.setBuff(this.pOp1,r),this.tm.instance.exports[this.prefix+e](this.pOp1,this.pOp3),this.tm.getBuff(this.pOp3,this.n8)}op1Bool(e,r){return this.tm.setBuff(this.pOp1,r),!!this.tm.instance.exports[this.prefix+e](this.pOp1,this.pOp3)}eq(e,r){return this.op2Bool("_eq",e,r)}isZero(e){return this.op1Bool("_isZero",e)}add(e,r){return this.op2("_add",e,r)}sub(e,r){return this.op2("_sub",e,r)}neg(e){return this.op1("_neg",e)}inv(e){return this.op1("_inverse",e)}isNegative(e){return this.op1Bool("_isNegative",e)}toMontgomery(e){return this.op1("_toMontgomery",e)}fromMontgomery(e){return this.op1("_fromMontgomery",e)}mul(e,r){return this.op2("_mul",e,r)}div(e,r){return this.tm.setBuff(this.pOp1,e),this.tm.setBuff(this.pOp2,r),this.tm.instance.exports[this.prefix+"_inverse"](this.pOp2,this.pOp2),this.tm.instance.exports[this.prefix+"_mul"](this.pOp1,this.pOp2,this.pOp3),this.tm.getBuff(this.pOp3,this.n8)}square(e){return this.op1("_square",e)}isSquare(e){return this.op1Bool("_isSquare",e)}sqrt(e){return this.op1("_sqrt",e)}exp(e,r){return r instanceof Uint8Array||(r=qc(xn(r))),this.tm.setBuff(this.pOp1,e),this.tm.setBuff(this.pOp2,r),this.tm.instance.exports[this.prefix+"_exp"](this.pOp1,this.pOp2,r.byteLength,this.pOp3),this.getBuff(this.pOp3,this.n8)}e(e,r){if(e instanceof Uint8Array)return e;if(Array.isArray(e)&&e.length==3){const n=this.F.e(e[0],r),i=this.F.e(e[1],r),a=this.F.e(e[2],r),o=new Uint8Array(this.F.n8*3);return o.set(n),o.set(i,this.F.n8),o.set(a,this.F.n8*2),o}else throw new Error("invalid F3")}toString(e,r){const n=this.F.toString(e.slice(0,this.F.n8),r),i=this.F.toString(e.slice(this.F.n8,this.F.n8*2),r),a=this.F.toString(e.slice(this.F.n8*2),r);return`[${n}, ${i}, ${a}]`}fromRng(e){const r=this.F.fromRng(e),n=this.F.fromRng(e),i=this.F.fromRng(e),a=new Uint8Array(this.F.n8*3);return a.set(r),a.set(n,this.F.n8),a.set(i,this.F.n8*2),a}random(){return this.fromRng(w8())}toObject(e){const r=this.F.toObject(e.slice(0,this.F.n8)),n=this.F.toObject(e.slice(this.F.n8,this.F.n8*2)),i=this.F.toObject(e.slice(this.F.n8*2,this.F.n8*3));return[r,n,i]}fromObject(e){const r=new Uint8Array(this.F.n8*3),n=this.F.fromObject(e[0]),i=this.F.fromObject(e[1]),a=this.F.fromObject(e[2]);return r.set(n),r.set(i,this.F.n8),r.set(a,this.F.n8*2),r}c1(e){return e.slice(0,this.F.n8)}c2(e){return e.slice(this.F.n8,this.F.n8*2)}c3(e){return e.slice(this.F.n8*2)}}class E6{constructor(e,r,n,i,a,o){this.tm=e,this.prefix=r,this.F=n,this.pOp1=e.alloc(n.n8*3),this.pOp2=e.alloc(n.n8*3),this.pOp3=e.alloc(n.n8*3),this.tm.instance.exports[r+"_zero"](this.pOp1),this.zero=this.tm.getBuff(this.pOp1,n.n8*3),this.tm.instance.exports[r+"_zeroAffine"](this.pOp1),this.zeroAffine=this.tm.getBuff(this.pOp1,n.n8*2),this.one=this.tm.getBuff(i,n.n8*3),this.g=this.one,this.oneAffine=this.tm.getBuff(i,n.n8*2),this.gAffine=this.oneAffine,this.b=this.tm.getBuff(a,n.n8),o&&(this.cofactor=qc(o)),this.negone=this.neg(this.one),this.two=this.add(this.one,this.one),this.batchLEMtoC=Xs(e,r+"_batchLEMtoC",n.n8*2,n.n8),this.batchLEMtoU=Xs(e,r+"_batchLEMtoU",n.n8*2,n.n8*2),this.batchCtoLEM=Xs(e,r+"_batchCtoLEM",n.n8,n.n8*2),this.batchUtoLEM=Xs(e,r+"_batchUtoLEM",n.n8*2,n.n8*2),this.batchToJacobian=Xs(e,r+"_batchToJacobian",n.n8*2,n.n8*3),this.batchToAffine=Xs(e,r+"_batchToAffine",n.n8*3,n.n8*2)}op2(e,r,n){return this.tm.setBuff(this.pOp1,r),this.tm.setBuff(this.pOp2,n),this.tm.instance.exports[this.prefix+e](this.pOp1,this.pOp2,this.pOp3),this.tm.getBuff(this.pOp3,this.F.n8*3)}op2bool(e,r,n){return this.tm.setBuff(this.pOp1,r),this.tm.setBuff(this.pOp2,n),!!this.tm.instance.exports[this.prefix+e](this.pOp1,this.pOp2,this.pOp3)}op1(e,r){return this.tm.setBuff(this.pOp1,r),this.tm.instance.exports[this.prefix+e](this.pOp1,this.pOp3),this.tm.getBuff(this.pOp3,this.F.n8*3)}op1Affine(e,r){return this.tm.setBuff(this.pOp1,r),this.tm.instance.exports[this.prefix+e](this.pOp1,this.pOp3),this.tm.getBuff(this.pOp3,this.F.n8*2)}op1Bool(e,r){return this.tm.setBuff(this.pOp1,r),!!this.tm.instance.exports[this.prefix+e](this.pOp1,this.pOp3)}add(e,r){if(e.byteLength==this.F.n8*3){if(r.byteLength==this.F.n8*3)return this.op2("_add",e,r);if(r.byteLength==this.F.n8*2)return this.op2("_addMixed",e,r);throw new Error("invalid point size")}else if(e.byteLength==this.F.n8*2){if(r.byteLength==this.F.n8*3)return this.op2("_addMixed",r,e);if(r.byteLength==this.F.n8*2)return this.op2("_addAffine",e,r);throw new Error("invalid point size")}else throw new Error("invalid point size")}sub(e,r){if(e.byteLength==this.F.n8*3){if(r.byteLength==this.F.n8*3)return this.op2("_sub",e,r);if(r.byteLength==this.F.n8*2)return this.op2("_subMixed",e,r);throw new Error("invalid point size")}else if(e.byteLength==this.F.n8*2){if(r.byteLength==this.F.n8*3)return this.op2("_subMixed",r,e);if(r.byteLength==this.F.n8*2)return this.op2("_subAffine",e,r);throw new Error("invalid point size")}else throw new Error("invalid point size")}neg(e){if(e.byteLength==this.F.n8*3)return this.op1("_neg",e);if(e.byteLength==this.F.n8*2)return this.op1Affine("_negAffine",e);throw new Error("invalid point size")}double(e){if(e.byteLength==this.F.n8*3)return this.op1("_double",e);if(e.byteLength==this.F.n8*2)return this.op1("_doubleAffine",e);throw new Error("invalid point size")}isZero(e){if(e.byteLength==this.F.n8*3)return this.op1Bool("_isZero",e);if(e.byteLength==this.F.n8*2)return this.op1Bool("_isZeroAffine",e);throw new Error("invalid point size")}timesScalar(e,r){r instanceof Uint8Array||(r=qc(xn(r)));let n;if(e.byteLength==this.F.n8*3)n=this.prefix+"_timesScalar";else if(e.byteLength==this.F.n8*2)n=this.prefix+"_timesScalarAffine";else throw new Error("invalid point size");return this.tm.setBuff(this.pOp1,e),this.tm.setBuff(this.pOp2,r),this.tm.instance.exports[n](this.pOp1,this.pOp2,r.byteLength,this.pOp3),this.tm.getBuff(this.pOp3,this.F.n8*3)}timesFr(e,r){let n;if(e.byteLength==this.F.n8*3)n=this.prefix+"_timesFr";else if(e.byteLength==this.F.n8*2)n=this.prefix+"_timesFrAffine";else throw new Error("invalid point size");return this.tm.setBuff(this.pOp1,e),this.tm.setBuff(this.pOp2,r),this.tm.instance.exports[n](this.pOp1,this.pOp2,this.pOp3),this.tm.getBuff(this.pOp3,this.F.n8*3)}eq(e,r){if(e.byteLength==this.F.n8*3){if(r.byteLength==this.F.n8*3)return this.op2bool("_eq",e,r);if(r.byteLength==this.F.n8*2)return this.op2bool("_eqMixed",e,r);throw new Error("invalid point size")}else if(e.byteLength==this.F.n8*2){if(r.byteLength==this.F.n8*3)return this.op2bool("_eqMixed",r,e);if(r.byteLength==this.F.n8*2)return this.op2bool("_eqAffine",e,r);throw new Error("invalid point size")}else throw new Error("invalid point size")}toAffine(e){if(e.byteLength==this.F.n8*3)return this.op1Affine("_toAffine",e);if(e.byteLength==this.F.n8*2)return e;throw new Error("invalid point size")}toJacobian(e){if(e.byteLength==this.F.n8*3)return e;if(e.byteLength==this.F.n8*2)return this.op1("_toJacobian",e);throw new Error("invalid point size")}toRprUncompressed(e,r,n){if(this.tm.setBuff(this.pOp1,n),n.byteLength==this.F.n8*3)this.tm.instance.exports[this.prefix+"_toAffine"](this.pOp1,this.pOp1);else if(n.byteLength!=this.F.n8*2)throw new Error("invalid point size");this.tm.instance.exports[this.prefix+"_LEMtoU"](this.pOp1,this.pOp1);const i=this.tm.getBuff(this.pOp1,this.F.n8*2);e.set(i,r)}fromRprUncompressed(e,r){const n=e.slice(r,r+this.F.n8*2);return this.tm.setBuff(this.pOp1,n),this.tm.instance.exports[this.prefix+"_UtoLEM"](this.pOp1,this.pOp1),this.tm.getBuff(this.pOp1,this.F.n8*2)}toRprCompressed(e,r,n){if(this.tm.setBuff(this.pOp1,n),n.byteLength==this.F.n8*3)this.tm.instance.exports[this.prefix+"_toAffine"](this.pOp1,this.pOp1);else if(n.byteLength!=this.F.n8*2)throw new Error("invalid point size");this.tm.instance.exports[this.prefix+"_LEMtoC"](this.pOp1,this.pOp1);const i=this.tm.getBuff(this.pOp1,this.F.n8);e.set(i,r)}fromRprCompressed(e,r){const n=e.slice(r,r+this.F.n8);return this.tm.setBuff(this.pOp1,n),this.tm.instance.exports[this.prefix+"_CtoLEM"](this.pOp1,this.pOp2),this.tm.getBuff(this.pOp2,this.F.n8*2)}toUncompressed(e){const r=new Uint8Array(this.F.n8*2);return this.toRprUncompressed(r,0,e),r}toRprLEM(e,r,n){if(n.byteLength==this.F.n8*2){e.set(n,r);return}else if(n.byteLength==this.F.n8*3){this.tm.setBuff(this.pOp1,n),this.tm.instance.exports[this.prefix+"_toAffine"](this.pOp1,this.pOp1);const i=this.tm.getBuff(this.pOp1,this.F.n8*2);e.set(i,r)}else throw new Error("invalid point size")}fromRprLEM(e,r){return r=r||0,e.slice(r,r+this.F.n8*2)}toString(e,r){if(e.byteLength==this.F.n8*3){const n=this.F.toString(e.slice(0,this.F.n8),r),i=this.F.toString(e.slice(this.F.n8,this.F.n8*2),r),a=this.F.toString(e.slice(this.F.n8*2),r);return`[ ${n}, ${i}, ${a} ]`}else if(e.byteLength==this.F.n8*2){const n=this.F.toString(e.slice(0,this.F.n8),r),i=this.F.toString(e.slice(this.F.n8),r);return`[ ${n}, ${i} ]`}else throw new Error("invalid point size")}isValid(e){if(this.isZero(e))return!0;const r=this.F,n=this.toAffine(e),i=n.slice(0,this.F.n8),a=n.slice(this.F.n8,this.F.n8*2),o=r.add(r.mul(r.square(i),i),this.b),s=r.square(a);return r.eq(o,s)}fromRng(e){const r=this.F;let n=[],i,a;do n[0]=r.fromRng(e),i=e.nextBool(),a=r.add(r.mul(r.square(n[0]),n[0]),this.b);while(!r.isSquare(a));n[1]=r.sqrt(a);const o=r.isNegative(n[1]);i^o&&(n[1]=r.neg(n[1]));let s=new Uint8Array(this.F.n8*2);return s.set(n[0]),s.set(n[1],this.F.n8),this.cofactor&&(s=this.timesScalar(s,this.cofactor)),s}toObject(e){if(this.isZero(e))return[this.F.toObject(this.F.zero),this.F.toObject(this.F.one),this.F.toObject(this.F.zero)];const r=this.F.toObject(e.slice(0,this.F.n8)),n=this.F.toObject(e.slice(this.F.n8,this.F.n8*2));let i;return e.byteLength==this.F.n8*3?i=this.F.toObject(e.slice(this.F.n8*2,this.F.n8*3)):i=this.F.toObject(this.F.one),[r,n,i]}fromObject(e){const r=this.F.fromObject(e[0]),n=this.F.fromObject(e[1]);let i;if(e.length==3?i=this.F.fromObject(e[2]):i=this.F.one,this.F.isZero(i,this.F.one))return this.zeroAffine;if(this.F.eq(i,this.F.one)){const a=new Uint8Array(this.F.n8*2);return a.set(r),a.set(n,this.F.n8),a}else{const a=new Uint8Array(this.F.n8*3);return a.set(r),a.set(n,this.F.n8),a.set(i,this.F.n8*2),a}}e(e){return e instanceof Uint8Array?e:this.fromObject(e)}x(e){return this.toAffine(e).slice(0,this.F.n8)}y(e){return this.toAffine(e).slice(this.F.n8)}}function ak(t){let r,n;async function i(c){const f=new Uint8Array(c.code),d=await WebAssembly.compile(f);n=new WebAssembly.Memory({initial:c.init,maximum:32767}),r=await WebAssembly.instantiate(d,{env:{memory:n}})}function a(c){const f=new Uint32Array(n.buffer,0,1);for(;f[0]&3;)f[0]++;const d=f[0];if(f[0]+=c,f[0]+c>n.buffer.byteLength){const h=n.buffer.byteLength/65536;let y=Math.floor((f[0]+c)/65536)+1;y>32767&&(y=32767),n.grow(y-h)}return d}function o(c){const f=a(c.byteLength);return u(f,c),f}function s(c,f){const d=new Uint8Array(n.buffer);return new Uint8Array(d.buffer,d.byteOffset+c,f)}function u(c,f){new Uint8Array(n.buffer).set(new Uint8Array(f),c)}function l(c){if(c[0].cmd=="INIT")return i(c[0]);const f={vars:[],out:[]},h=new Uint32Array(n.buffer,0,1)[0];for(let w=0;w<c.length;w++)switch(c[w].cmd){case"ALLOCSET":f.vars[c[w].var]=o(c[w].buff);break;case"ALLOC":f.vars[c[w].var]=a(c[w].len);break;case"SET":u(f.vars[c[w].var],c[w].buff);break;case"CALL":{const _=[];for(let E=0;E<c[w].params.length;E++){const p=c[w].params[E];typeof p.var<"u"?_.push(f.vars[p.var]+(p.offset||0)):typeof p.val<"u"&&_.push(p.val)}r.exports[c[w].fnName](..._);break}case"GET":f.out[c[w].out]=s(f.vars[c[w].var],c[w].len).slice();break;default:throw new Error("Invalid cmd")}const y=new Uint32Array(n.buffer,0,1);return y[0]=h,f.out}return l}const G2=25;class C6{constructor(){this.promise=new Promise((e,r)=>{this.reject=r,this.resolve=e})}}function ok(t){return new Promise(e=>setTimeout(e,t))}let t3;const A6=`(function thread(self) {
    const MAXMEM = 32767;
    let instance;
    let memory;

    if (self) {
        self.onmessage = function(e) {
            let data;
            if (e.data) {
                data = e.data;
            } else {
                data = e;
            }

            if (data[0].cmd == "INIT") {
                init(data[0]).then(function() {
                    self.postMessage(data.result);
                });
            } else if (data[0].cmd == "TERMINATE") {
                self.close();
            } else {
                const res = runTask(data);
                self.postMessage(res);
            }
        };
    }

    async function init(data) {
        const code = new Uint8Array(data.code);
        const wasmModule = await WebAssembly.compile(code);
        memory = new WebAssembly.Memory({initial:data.init, maximum: MAXMEM});

        instance = await WebAssembly.instantiate(wasmModule, {
            env: {
                "memory": memory
            }
        });
    }



    function alloc(length) {
        const u32 = new Uint32Array(memory.buffer, 0, 1);
        while (u32[0] & 3) u32[0]++;  // Return always aligned pointers
        const res = u32[0];
        u32[0] += length;
        if (u32[0] + length > memory.buffer.byteLength) {
            const currentPages = memory.buffer.byteLength / 0x10000;
            let requiredPages = Math.floor((u32[0] + length) / 0x10000)+1;
            if (requiredPages>MAXMEM) requiredPages=MAXMEM;
            memory.grow(requiredPages-currentPages);
        }
        return res;
    }

    function allocBuffer(buffer) {
        const p = alloc(buffer.byteLength);
        setBuffer(p, buffer);
        return p;
    }

    function getBuffer(pointer, length) {
        const u8 = new Uint8Array(memory.buffer);
        return new Uint8Array(u8.buffer, u8.byteOffset + pointer, length);
    }

    function setBuffer(pointer, buffer) {
        const u8 = new Uint8Array(memory.buffer);
        u8.set(new Uint8Array(buffer), pointer);
    }

    function runTask(task) {
        if (task[0].cmd == "INIT") {
            return init(task[0]);
        }
        const ctx = {
            vars: [],
            out: []
        };
        const u32a = new Uint32Array(memory.buffer, 0, 1);
        const oldAlloc = u32a[0];
        for (let i=0; i<task.length; i++) {
            switch (task[i].cmd) {
            case "ALLOCSET":
                ctx.vars[task[i].var] = allocBuffer(task[i].buff);
                break;
            case "ALLOC":
                ctx.vars[task[i].var] = alloc(task[i].len);
                break;
            case "SET":
                setBuffer(ctx.vars[task[i].var], task[i].buff);
                break;
            case "CALL": {
                const params = [];
                for (let j=0; j<task[i].params.length; j++) {
                    const p = task[i].params[j];
                    if (typeof p.var !== "undefined") {
                        params.push(ctx.vars[p.var] + (p.offset || 0));
                    } else if (typeof p.val != "undefined") {
                        params.push(p.val);
                    }
                }
                instance.exports[task[i].fnName](...params);
                break;
            }
            case "GET":
                ctx.out[task[i].out] = getBuffer(ctx.vars[task[i].var], task[i].len).slice();
                break;
            default:
                throw new Error("Invalid cmd");
            }
        }
        const u32b = new Uint32Array(memory.buffer, 0, 1);
        u32b[0] = oldAlloc;
        return ctx.out;
    }


    return runTask;
})(self)`;if(globalThis!=null&&globalThis.Blob){const t=new TextEncoder().encode(A6),e=new Blob([t],{type:"application/javascript"});t3=URL.createObjectURL(e)}else t3="data:application/javascript;base64,"+globalThis.btoa(A6);async function sk(t,e){const r=new lk;r.memory=new WebAssembly.Memory({initial:G2}),r.u8=new Uint8Array(r.memory.buffer),r.u32=new Uint32Array(r.memory.buffer);const n=await WebAssembly.compile(t.code);if(r.instance=await WebAssembly.instantiate(n,{env:{memory:r.memory}}),globalThis!=null&&globalThis.Worker||(e=!0),r.singleThread=e,r.initalPFree=r.u32[0],r.pq=t.pq,r.pr=t.pr,r.pG1gen=t.pG1gen,r.pG1zero=t.pG1zero,r.pG2gen=t.pG2gen,r.pG2zero=t.pG2zero,r.pOneT=t.pOneT,e)r.code=t.code,r.taskManager=ak(),await r.taskManager([{cmd:"INIT",init:G2,code:r.code.slice()}]),r.concurrency=1;else{r.workers=[],r.pendingDeferreds=[],r.working=[];let a=2;typeof navigator=="object"&&navigator.hardwareConcurrency&&(a=navigator.hardwareConcurrency),a==0&&(a=2),a>64&&(a=64),r.concurrency=a;for(let s=0;s<a;s++)r.workers[s]=new Worker(t3),r.workers[s].addEventListener("message",i(s)),r.working[s]=!1;const o=[];for(let s=0;s<r.workers.length;s++){const u=t.code.slice();o.push(r.postAction(s,[{cmd:"INIT",init:G2,code:u}],[u.buffer]))}await Promise.all(o)}return r;function i(a){return function(o){let s;o&&o.data?s=o.data:s=o,r.working[a]=!1,r.pendingDeferreds[a].resolve(s),r.processWorks()}}}class lk{constructor(){this.actionQueue=[],this.oldPFree=0}startSyncOp(){if(this.oldPFree!=0)throw new Error("Sync operation in progress");this.oldPFree=this.u32[0]}endSyncOp(){if(this.oldPFree==0)throw new Error("No sync operation in progress");this.u32[0]=this.oldPFree,this.oldPFree=0}postAction(e,r,n,i){if(this.working[e])throw new Error("Posting a job t a working worker");return this.working[e]=!0,this.pendingDeferreds[e]=i||new C6,this.workers[e].postMessage(r,n),this.pendingDeferreds[e].promise}processWorks(){for(let e=0;e<this.workers.length&&this.actionQueue.length>0;e++)if(this.working[e]==!1){const r=this.actionQueue.shift();this.postAction(e,r.data,r.transfers,r.deferred)}}queueAction(e,r){const n=new C6;if(this.singleThread){const i=this.taskManager(e);n.resolve(i)}else this.actionQueue.push({data:e,transfers:r,deferred:n}),this.processWorks();return n.promise}resetMemory(){this.u32[0]=this.initalPFree}allocBuff(e){const r=this.alloc(e.byteLength);return this.setBuff(r,e),r}getBuff(e,r){return this.u8.slice(e,e+r)}setBuff(e,r){this.u8.set(new Uint8Array(r),e)}alloc(e){for(;this.u32[0]&3;)this.u32[0]++;const r=this.u32[0];return this.u32[0]+=e,r}async terminate(){for(let e=0;e<this.workers.length;e++)this.workers[e].postMessage([{cmd:"TERMINATE"}]);await ok(200)}}function z2(t,e){const r=t[e],n=t.Fr,i=t.tm;t[e].batchApplyKey=async function(a,o,s,u,l){u=u||"affine",l=l||"affine";let c,f,d,h,y;if(e=="G1")u=="jacobian"?(d=r.F.n8*3,c="g1m_batchApplyKey"):(d=r.F.n8*2,c="g1m_batchApplyKeyMixed"),h=r.F.n8*3,l=="jacobian"?y=r.F.n8*3:(f="g1m_batchToAffine",y=r.F.n8*2);else if(e=="G2")u=="jacobian"?(d=r.F.n8*3,c="g2m_batchApplyKey"):(d=r.F.n8*2,c="g2m_batchApplyKeyMixed"),h=r.F.n8*3,l=="jacobian"?y=r.F.n8*3:(f="g2m_batchToAffine",y=r.F.n8*2);else if(e=="Fr")c="frm_batchApplyKey",d=r.n8,h=r.n8,y=r.n8;else throw new Error("Invalid group: "+e);const w=Math.floor(a.byteLength/d),_=Math.floor(w/i.concurrency),E=[];s=n.e(s);let p=n.e(o);for(let I=0;I<i.concurrency;I++){let v;if(I<i.concurrency-1?v=_:v=w-I*_,v==0)continue;const A=[];A.push({cmd:"ALLOCSET",var:0,buff:a.slice(I*_*d,I*_*d+v*d)}),A.push({cmd:"ALLOCSET",var:1,buff:p}),A.push({cmd:"ALLOCSET",var:2,buff:s}),A.push({cmd:"ALLOC",var:3,len:v*Math.max(h,y)}),A.push({cmd:"CALL",fnName:c,params:[{var:0},{val:v},{var:1},{var:2},{var:3}]}),f&&A.push({cmd:"CALL",fnName:f,params:[{var:3},{val:v},{var:3}]}),A.push({cmd:"GET",out:0,var:3,len:v*y}),E.push(i.queueAction(A)),p=n.mul(p,n.exp(s,v))}const m=await Promise.all(E);let S;a instanceof He?S=new He(w*y):S=new Uint8Array(w*y);let F=0;for(let I=0;I<m.length;I++)S.set(m[I][0],F),F+=m[I][0].byteLength;return S}}function ck(t){const e=t.tm;t.pairing=function(n,i){e.startSyncOp();const a=e.allocBuff(t.G1.toJacobian(n)),o=e.allocBuff(t.G2.toJacobian(i)),s=e.alloc(t.Gt.n8);e.instance.exports[t.name+"_pairing"](a,o,s);const u=e.getBuff(s,t.Gt.n8);return e.endSyncOp(),u},t.pairingEq=async function(){let n,i;arguments.length%2==1?(n=arguments[arguments.length-1],i=(arguments.length-1)/2):(n=t.Gt.one,i=arguments.length/2);const a=[];for(let c=0;c<i;c++){const f=[],d=t.G1.toJacobian(arguments[c*2]);f.push({cmd:"ALLOCSET",var:0,buff:d}),f.push({cmd:"ALLOC",var:1,len:t.prePSize});const h=t.G2.toJacobian(arguments[c*2+1]);f.push({cmd:"ALLOCSET",var:2,buff:h}),f.push({cmd:"ALLOC",var:3,len:t.preQSize}),f.push({cmd:"ALLOC",var:4,len:t.Gt.n8}),f.push({cmd:"CALL",fnName:t.name+"_prepareG1",params:[{var:0},{var:1}]}),f.push({cmd:"CALL",fnName:t.name+"_prepareG2",params:[{var:2},{var:3}]}),f.push({cmd:"CALL",fnName:t.name+"_millerLoop",params:[{var:1},{var:3},{var:4}]}),f.push({cmd:"GET",out:0,var:4,len:t.Gt.n8}),a.push(e.queueAction(f))}const o=await Promise.all(a);e.startSyncOp();const s=e.alloc(t.Gt.n8);e.instance.exports.ftm_one(s);for(let c=0;c<o.length;c++){const f=e.allocBuff(o[c][0]);e.instance.exports.ftm_mul(s,f,s)}e.instance.exports[t.name+"_finalExponentiation"](s,s);const u=e.allocBuff(n),l=!!e.instance.exports.ftm_eq(s,u);return e.endSyncOp(),l},t.prepareG1=function(r){this.tm.startSyncOp();const n=this.tm.allocBuff(r),i=this.tm.alloc(this.prePSize);this.tm.instance.exports[this.name+"_prepareG1"](n,i);const a=this.tm.getBuff(i,this.prePSize);return this.tm.endSyncOp(),a},t.prepareG2=function(r){this.tm.startSyncOp();const n=this.tm.allocBuff(r),i=this.tm.alloc(this.preQSize);this.tm.instance.exports[this.name+"_prepareG2"](n,i);const a=this.tm.getBuff(i,this.preQSize);return this.tm.endSyncOp(),a},t.millerLoop=function(r,n){this.tm.startSyncOp();const i=this.tm.allocBuff(r),a=this.tm.allocBuff(n),o=this.tm.alloc(this.Gt.n8);this.tm.instance.exports[this.name+"_millerLoop"](i,a,o);const s=this.tm.getBuff(o,this.Gt.n8);return this.tm.endSyncOp(),s},t.finalExponentiation=function(r){this.tm.startSyncOp();const n=this.tm.allocBuff(r),i=this.tm.alloc(this.Gt.n8);this.tm.instance.exports[this.name+"_finalExponentiation"](n,i);const a=this.tm.getBuff(i,this.Gt.n8);return this.tm.endSyncOp(),a}}const w6=[1,1,1,1,2,3,4,5,6,7,7,8,9,10,11,12,13,13,14,15,16,16,17,17,17,17,17,17,17,17,17,17];function _6(t,e){const r=t[e],n=r.tm;async function i(o,s,u,l,c){if(!(o instanceof Uint8Array))throw l&&l.error(`${c} _multiExpChunk buffBases is not Uint8Array`),new Error(`${c} _multiExpChunk buffBases is not Uint8Array`);if(!(s instanceof Uint8Array))throw l&&l.error(`${c} _multiExpChunk buffScalars is not Uint8Array`),new Error(`${c} _multiExpChunk buffScalars is not Uint8Array`);u=u||"affine";let f,d;if(e=="G1")u=="affine"?(d="g1m_multiexpAffine_chunk",f=r.F.n8*2):(d="g1m_multiexp_chunk",f=r.F.n8*3);else if(e=="G2")u=="affine"?(d="g2m_multiexpAffine_chunk",f=r.F.n8*2):(d="g2m_multiexp_chunk",f=r.F.n8*3);else throw new Error("Invalid group");const h=Math.floor(o.byteLength/f);if(h==0)return r.zero;const y=Math.floor(s.byteLength/h);if(y*h!=s.byteLength)throw new Error("Scalar size does not match");const w=w6[Fi(h)],_=Math.floor((y*8-1)/w)+1,E=[];for(let S=0;S<_;S++){const F=[{cmd:"ALLOCSET",var:0,buff:o},{cmd:"ALLOCSET",var:1,buff:s},{cmd:"ALLOC",var:2,len:r.F.n8*3},{cmd:"CALL",fnName:d,params:[{var:0},{var:1},{val:y},{val:h},{val:S*w},{val:Math.min(y*8-S*w,w)},{var:2}]},{cmd:"GET",out:0,var:2,len:r.F.n8*3}];E.push(r.tm.queueAction(F))}const p=await Promise.all(E);let m=r.zero;for(let S=p.length-1;S>=0;S--){if(!r.isZero(m))for(let F=0;F<w;F++)m=r.double(m);m=r.add(m,p[S][0])}return m}async function a(o,s,u,l,c){let h;if(e=="G1")u=="affine"?h=r.F.n8*2:h=r.F.n8*3;else if(e=="G2")u=="affine"?h=r.F.n8*2:h=r.F.n8*3;else throw new Error("Invalid group");const y=Math.floor(o.byteLength/h);if(y==0)return r.zero;const w=Math.floor(s.byteLength/y);if(w*y!=s.byteLength)throw new Error("Scalar size does not match");const _=w6[Fi(y)],E=Math.floor((w*8-1)/_)+1;let p;p=Math.floor(y/(n.concurrency/E)),p>4194304&&(p=4194304),p<1024&&(p=1024);const m=[];for(let I=0;I<y;I+=p){l&&l.debug(`Multiexp start: ${c}: ${I}/${y}`);const v=Math.min(y-I,p),A=o.slice(I*h,(I+v)*h),D=s.slice(I*w,(I+v)*w);m.push(i(A,D,u,l,c).then(L=>(l&&l.debug(`Multiexp end: ${c}: ${I}/${y}`),L)))}const S=await Promise.all(m);let F=r.zero;for(let I=S.length-1;I>=0;I--)F=r.add(F,S[I]);return F}r.multiExp=async function(s,u,l,c){return await a(s,u,"jacobian",l,c)},r.multiExpAffine=async function(s,u,l,c){return await a(s,u,"affine",l,c)}}function K2(t,e){const r=t[e],n=t.Fr,i=r.tm;async function a(l,c,f,d,h,y){f=f||"affine",d=d||"affine";const w=14;let _,E,p,m,S,F,I,v;e=="G1"?(f=="affine"?(_=r.F.n8*2,m="g1m_batchToJacobian"):_=r.F.n8*3,E=r.F.n8*3,c&&(v="g1m_fftFinal"),I="g1m_fftJoin",F="g1m_fftMix",d=="affine"?(p=r.F.n8*2,S="g1m_batchToAffine"):p=r.F.n8*3):e=="G2"?(f=="affine"?(_=r.F.n8*2,m="g2m_batchToJacobian"):_=r.F.n8*3,E=r.F.n8*3,c&&(v="g2m_fftFinal"),I="g2m_fftJoin",F="g2m_fftMix",d=="affine"?(p=r.F.n8*2,S="g2m_batchToAffine"):p=r.F.n8*3):e=="Fr"&&(_=r.n8,E=r.n8,p=r.n8,c&&(v="frm_fftFinal"),F="frm_fftMix",I="frm_fftJoin");let A=!1;Array.isArray(l)?(l=F8(l,_),A=!0):l=l.slice(0,l.byteLength);const D=l.byteLength/_,L=Fi(D);if(1<<L!=D)throw new Error("fft must be multiple of 2");if(L==n.s+1){let G;return c?G=await s(l,f,d,h,y):G=await o(l,f,d,h,y),A?ex(G,p):G}let j;c&&(j=n.inv(n.e(D)));let Y;$w(l,_);let O,B=Math.min(1<<w,D),C=D/B;for(;C<i.concurrency&&B>=16;)C*=2,B/=2;const N=Fi(B),U=[];for(let G=0;G<C;G++){h&&h.debug(`${y}: fft ${L} mix start: ${G}/${C}`);const $=[];$.push({cmd:"ALLOC",var:0,len:E*B});const Z=l.slice(B*G*_,B*(G+1)*_);$.push({cmd:"SET",var:0,buff:Z}),m&&$.push({cmd:"CALL",fnName:m,params:[{var:0},{val:B},{var:0}]});for(let W=1;W<=N;W++)$.push({cmd:"CALL",fnName:F,params:[{var:0},{val:B},{val:W}]});N==L?(v&&($.push({cmd:"ALLOCSET",var:1,buff:j}),$.push({cmd:"CALL",fnName:v,params:[{var:0},{val:B},{var:1}]})),S&&$.push({cmd:"CALL",fnName:S,params:[{var:0},{val:B},{var:0}]}),$.push({cmd:"GET",out:0,var:0,len:B*p})):$.push({cmd:"GET",out:0,var:0,len:E*B}),U.push(i.queueAction($).then(W=>(h&&h.debug(`${y}: fft ${L} mix end: ${G}/${C}`),W)))}O=await Promise.all(U);for(let G=0;G<C;G++)O[G]=O[G][0];for(let G=N+1;G<=L;G++){h&&h.debug(`${y}: fft  ${L}  join: ${G}/${L}`);const $=1<<L-G,Z=C/$,W=[];for(let R=0;R<$;R++)for(let re=0;re<Z/2;re++){const T=n.exp(n.w[G],re*B),x=n.w[G],z=R*Z+re,b=R*Z+re+Z/2,J=[];J.push({cmd:"ALLOCSET",var:0,buff:O[z]}),J.push({cmd:"ALLOCSET",var:1,buff:O[b]}),J.push({cmd:"ALLOCSET",var:2,buff:T}),J.push({cmd:"ALLOCSET",var:3,buff:x}),J.push({cmd:"CALL",fnName:I,params:[{var:0},{var:1},{val:B},{var:2},{var:3}]}),G==L?(v&&(J.push({cmd:"ALLOCSET",var:4,buff:j}),J.push({cmd:"CALL",fnName:v,params:[{var:0},{val:B},{var:4}]}),J.push({cmd:"CALL",fnName:v,params:[{var:1},{val:B},{var:4}]})),S&&(J.push({cmd:"CALL",fnName:S,params:[{var:0},{val:B},{var:0}]}),J.push({cmd:"CALL",fnName:S,params:[{var:1},{val:B},{var:1}]})),J.push({cmd:"GET",out:0,var:0,len:B*p}),J.push({cmd:"GET",out:1,var:1,len:B*p})):(J.push({cmd:"GET",out:0,var:0,len:B*E}),J.push({cmd:"GET",out:1,var:1,len:B*E})),W.push(i.queueAction(J).then(V=>(h&&h.debug(`${y}: fft ${L} join  ${G}/${L}  ${R+1}/${$} ${re}/${Z/2}`),V)))}const P=await Promise.all(W);for(let R=0;R<$;R++)for(let re=0;re<Z/2;re++){const T=R*Z+re,x=R*Z+re+Z/2,z=P.shift();O[T]=z[0],O[x]=z[1]}}if(l instanceof He?Y=new He(D*p):Y=new Uint8Array(D*p),c){Y.set(O[0].slice((B-1)*p));let G=p;for(let $=C-1;$>0;$--)Y.set(O[$],G),G+=B*p,delete O[$];Y.set(O[0].slice(0,(B-1)*p),G),delete O[0]}else for(let G=0;G<C;G++)Y.set(O[G],B*p*G),delete O[G];return A?ex(Y,p):Y}async function o(l,c,f,d,h){let y,w;y=l.slice(0,l.byteLength/2),w=l.slice(l.byteLength/2,l.byteLength);const _=[];[y,w]=await u(y,w,"fftJoinExt",n.one,n.shift,c,"jacobian",d,h),_.push(a(y,!1,"jacobian",f,d,h)),_.push(a(w,!1,"jacobian",f,d,h));const E=await Promise.all(_);let p;return E[0].byteLength>1<<28?p=new He(E[0].byteLength*2):p=new Uint8Array(E[0].byteLength*2),p.set(E[0]),p.set(E[1],E[0].byteLength),p}async function s(l,c,f,d,h){let y,w;y=l.slice(0,l.byteLength/2),w=l.slice(l.byteLength/2,l.byteLength);const _=[];_.push(a(y,!0,c,"jacobian",d,h)),_.push(a(w,!0,c,"jacobian",d,h)),[y,w]=await Promise.all(_);const E=await u(y,w,"fftJoinExtInv",n.one,n.shiftInv,"jacobian",f,d,h);let p;return E[0].byteLength>1<<28?p=new He(E[0].byteLength*2):p=new Uint8Array(E[0].byteLength*2),p.set(E[0]),p.set(E[1],E[0].byteLength),p}async function u(l,c,f,d,h,y,w,_,E){let S,F,I,v,A,D;if(e=="G1")y=="affine"?(A=r.F.n8*2,F="g1m_batchToJacobian"):A=r.F.n8*3,D=r.F.n8*3,S="g1m_"+f,w=="affine"?(I="g1m_batchToAffine",v=r.F.n8*2):v=r.F.n8*3;else if(e=="G2")y=="affine"?(A=r.F.n8*2,F="g2m_batchToJacobian"):A=r.F.n8*3,S="g2m_"+f,D=r.F.n8*3,w=="affine"?(I="g2m_batchToAffine",v=r.F.n8*2):v=r.F.n8*3;else if(e=="Fr")A=n.n8,v=n.n8,D=n.n8,S="frm_"+f;else throw new Error("Invalid group");if(l.byteLength!=c.byteLength)throw new Error("Invalid buffer size");const L=Math.floor(l.byteLength/A);if(L!=1<<Fi(L))throw new Error("Invalid number of points");let j=Math.floor(L/i.concurrency);j<16&&(j=16),j>65536&&(j=65536);const Y=[];for(let U=0;U<L;U+=j){_&&_.debug(`${E}: fftJoinExt Start: ${U}/${L}`);const G=Math.min(L-U,j),$=n.mul(d,n.exp(h,U)),Z=[],W=l.slice(U*A,(U+G)*A),P=c.slice(U*A,(U+G)*A);Z.push({cmd:"ALLOC",var:0,len:D*G}),Z.push({cmd:"SET",var:0,buff:W}),Z.push({cmd:"ALLOC",var:1,len:D*G}),Z.push({cmd:"SET",var:1,buff:P}),Z.push({cmd:"ALLOCSET",var:2,buff:$}),Z.push({cmd:"ALLOCSET",var:3,buff:h}),F&&(Z.push({cmd:"CALL",fnName:F,params:[{var:0},{val:G},{var:0}]}),Z.push({cmd:"CALL",fnName:F,params:[{var:1},{val:G},{var:1}]})),Z.push({cmd:"CALL",fnName:S,params:[{var:0},{var:1},{val:G},{var:2},{var:3},{val:n.s}]}),I&&(Z.push({cmd:"CALL",fnName:I,params:[{var:0},{val:G},{var:0}]}),Z.push({cmd:"CALL",fnName:I,params:[{var:1},{val:G},{var:1}]})),Z.push({cmd:"GET",out:0,var:0,len:G*v}),Z.push({cmd:"GET",out:1,var:1,len:G*v}),Y.push(i.queueAction(Z).then(R=>(_&&_.debug(`${E}: fftJoinExt End: ${U}/${L}`),R)))}const O=await Promise.all(Y);let B,C;L*v>1<<28?(B=new He(L*v),C=new He(L*v)):(B=new Uint8Array(L*v),C=new Uint8Array(L*v));let N=0;for(let U=0;U<O.length;U++)B.set(O[U][0],N),C.set(O[U][1],N),N+=O[U][0].byteLength;return[B,C]}r.fft=async function(l,c,f,d,h){return await a(l,!1,c,f,d,h)},r.ifft=async function(l,c,f,d,h){return await a(l,!0,c,f,d,h)},r.lagrangeEvaluations=async function(l,c,f,d,h){c=c||"affine",f=f||"affine";let y;if(e=="G1")c=="affine"?y=r.F.n8*2:y=r.F.n8*3;else if(e=="G2")c=="affine"?y=r.F.n8*2:y=r.F.n8*3;else if(e=="Fr")y=n.n8;else throw new Error("Invalid group");const w=l.byteLength/y,_=Fi(w);if(2**_*y!=l.byteLength)throw d&&d.error("lagrangeEvaluations iinvalid input size"),new Error("lagrangeEvaluations invalid Input size");if(_<=n.s)return await r.ifft(l,c,f,d,h);if(_>n.s+1)throw d&&d.error("lagrangeEvaluations input too big"),new Error("lagrangeEvaluations input too big");let E=l.slice(0,l.byteLength/2),p=l.slice(l.byteLength/2,l.byteLength);const m=n.exp(n.shift,w/2),S=n.inv(n.sub(n.one,m));[E,p]=await u(E,p,"prepareLagrangeEvaluation",S,n.shiftInv,c,"jacobian",d,h+" prep");const F=[];F.push(a(E,!0,"jacobian",f,d,h+" t0")),F.push(a(p,!0,"jacobian",f,d,h+" t1")),[E,p]=await Promise.all(F);let I;return E.byteLength>1<<28?I=new He(E.byteLength*2):I=new Uint8Array(E.byteLength*2),I.set(E),I.set(p,E.byteLength),I},r.fftMix=async function(c){const f=r.F.n8*3;let d,h;if(e=="G1")d="g1m_fftMix",h="g1m_fftJoin";else if(e=="G2")d="g2m_fftMix",h="g2m_fftJoin";else if(e=="Fr")d="frm_fftMix",h="frm_fftJoin";else throw new Error("Invalid group");const y=Math.floor(c.byteLength/f),w=Fi(y);let _=1<<Fi(i.concurrency);y<=_*2&&(_=1);const E=y/_,p=Fi(E),m=[];for(let A=0;A<_;A++){const D=[],L=c.slice(A*E*f,(A+1)*E*f);D.push({cmd:"ALLOCSET",var:0,buff:L});for(let j=1;j<=p;j++)D.push({cmd:"CALL",fnName:d,params:[{var:0},{val:E},{val:j}]});D.push({cmd:"GET",out:0,var:0,len:E*f}),m.push(i.queueAction(D))}const S=await Promise.all(m),F=[];for(let A=0;A<S.length;A++)F[A]=S[A][0];for(let A=p+1;A<=w;A++){const D=1<<w-A,L=_/D,j=[];for(let O=0;O<D;O++)for(let B=0;B<L/2;B++){const C=n.exp(n.w[A],B*E),N=n.w[A],U=O*L+B,G=O*L+B+L/2,$=[];$.push({cmd:"ALLOCSET",var:0,buff:F[U]}),$.push({cmd:"ALLOCSET",var:1,buff:F[G]}),$.push({cmd:"ALLOCSET",var:2,buff:C}),$.push({cmd:"ALLOCSET",var:3,buff:N}),$.push({cmd:"CALL",fnName:h,params:[{var:0},{var:1},{val:E},{var:2},{var:3}]}),$.push({cmd:"GET",out:0,var:0,len:E*f}),$.push({cmd:"GET",out:1,var:1,len:E*f}),j.push(i.queueAction($))}const Y=await Promise.all(j);for(let O=0;O<D;O++)for(let B=0;B<L/2;B++){const C=O*L+B,N=O*L+B+L/2,U=Y.shift();F[C]=U[0],F[N]=U[1]}}let I;c instanceof He?I=new He(y*f):I=new Uint8Array(y*f);let v=0;for(let A=0;A<_;A++)I.set(F[A],v),v+=F[A].byteLength;return I},r.fftJoin=async function(c,f,d,h){const y=r.F.n8*3;let w;if(e=="G1")w="g1m_fftJoin";else if(e=="G2")w="g2m_fftJoin";else if(e=="Fr")w="frm_fftJoin";else throw new Error("Invalid group");if(c.byteLength!=f.byteLength)throw new Error("Invalid buffer size");const _=Math.floor(c.byteLength/y);if(_!=1<<Fi(_))throw new Error("Invalid number of points");let E=1<<Fi(i.concurrency);_<=E*2&&(E=1);const p=_/E,m=[];for(let A=0;A<E;A++){const D=[],L=n.mul(d,n.exp(h,A*p)),j=c.slice(A*p*y,(A+1)*p*y),Y=f.slice(A*p*y,(A+1)*p*y);D.push({cmd:"ALLOCSET",var:0,buff:j}),D.push({cmd:"ALLOCSET",var:1,buff:Y}),D.push({cmd:"ALLOCSET",var:2,buff:L}),D.push({cmd:"ALLOCSET",var:3,buff:h}),D.push({cmd:"CALL",fnName:w,params:[{var:0},{var:1},{val:p},{var:2},{var:3}]}),D.push({cmd:"GET",out:0,var:0,len:p*y}),D.push({cmd:"GET",out:1,var:1,len:p*y}),m.push(i.queueAction(D))}const S=await Promise.all(m);let F,I;c instanceof He?(F=new He(_*y),I=new He(_*y)):(F=new Uint8Array(_*y),I=new Uint8Array(_*y));let v=0;for(let A=0;A<S.length;A++)F.set(S[A][0],v),I.set(S[A][1],v),v+=S[A][0].byteLength;return[F,I]},r.fftFinal=async function(c,f){const d=r.F.n8*3,h=r.F.n8*2;let y,w;if(e=="G1")y="g1m_fftFinal",w="g1m_batchToAffine";else if(e=="G2")y="g2m_fftFinal",w="g2m_batchToAffine";else throw new Error("Invalid group");const _=Math.floor(c.byteLength/d);if(_!=1<<Fi(_))throw new Error("Invalid number of points");const E=Math.floor(_/i.concurrency),p=[];for(let I=0;I<i.concurrency;I++){let v;if(I<i.concurrency-1?v=E:v=_-I*E,v==0)continue;const A=[],D=c.slice(I*E*d,(I*E+v)*d);A.push({cmd:"ALLOCSET",var:0,buff:D}),A.push({cmd:"ALLOCSET",var:1,buff:f}),A.push({cmd:"CALL",fnName:y,params:[{var:0},{val:v},{var:1}]}),A.push({cmd:"CALL",fnName:w,params:[{var:0},{val:v},{var:0}]}),A.push({cmd:"GET",out:0,var:0,len:v*h}),p.push(i.queueAction(A))}const m=await Promise.all(p);let S;c instanceof He?S=new He(_*h):S=new Uint8Array(_*h);let F=0;for(let I=m.length-1;I>=0;I--)S.set(m[I][0],F),F+=m[I][0].byteLength;return S}}async function Ww(t){const e=await sk(t.wasm,t.singleThread),r={};return r.q=xn(t.wasm.q.toString()),r.r=xn(t.wasm.r.toString()),r.name=t.name,r.tm=e,r.prePSize=t.wasm.prePSize,r.preQSize=t.wasm.preQSize,r.Fr=new y6(e,"frm",t.n8r,t.r),r.F1=new y6(e,"f1m",t.n8q,t.q),r.F2=new v6(e,"f2m",r.F1),r.G1=new E6(e,"g1m",r.F1,t.wasm.pG1gen,t.wasm.pG1b,t.cofactorG1),r.G2=new E6(e,"g2m",r.F2,t.wasm.pG2gen,t.wasm.pG2b,t.cofactorG2),r.F6=new ik(e,"f6m",r.F2),r.F12=new v6(e,"ftm",r.F6),r.Gt=r.F12,z2(r,"G1"),z2(r,"G2"),z2(r,"Fr"),_6(r,"G1"),_6(r,"G2"),K2(r,"G1"),K2(r,"G2"),K2(r,"Fr"),ck(r),r.array2buffer=function(n,i){const a=new Uint8Array(i*n.length);for(let o=0;o<n.length;o++)a.set(n[o],o*i);return a},r.buffer2array=function(n,i){const a=n.byteLength/i,o=new Array(a);for(let s=0;s<a;s++)o[s]=n.slice(s*i,s*i+i);return o},r}function du(t){return BigInt(t)}function Yw(t){return t<0n}function uk(t){return t===0n}function fk(t){return Yw(t)?t.toString(2).length-1:t.toString(2).length}function q2(t){const e=[],r=du(t);return e.push(Number(r&0xFFn)),e.push(Number(r>>8n&0xFFn)),e.push(Number(r>>16n&0xFFn)),e.push(Number(r>>24n&0xFFn)),e}function dk(t){for(var e=[],r=0;r<t.length;r++){var n=t.charCodeAt(r);n<128?e.push(n):n<2048?e.push(192|n>>6,128|n&63):n<55296||n>=57344?e.push(224|n>>12,128|n>>6&63,128|n&63):(r++,n=65536+((n&1023)<<10|t.charCodeAt(r)&1023),e.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63))}return e}function $u(t){const e=dk(t);return[...Ot(e.length),...e]}function Zw(t){const e=[];let r=du(t);if(Yw(r))throw new Error("Number cannot be negative");for(;!uk(r);)e.push(Number(r&0x7Fn)),r=r>>7n;e.length==0&&e.push(0);for(let n=0;n<e.length-1;n++)e[n]=e[n]|128;return e}function Xw(t){let e,r;const n=fk(t);t<0?(r=!0,e=(1n<<BigInt(n))+t):(r=!1,e=du(t));const i=7-n%7,a=(1n<<BigInt(i))-1n<<BigInt(n),o=(1<<7-i)-1|128,s=Zw(e+a);return r||(s[s.length-1]=s[s.length-1]&o),s}function r3(t){let e=du(t);if(e>0xFFFFFFFFn)throw new Error("Number too big");if(e>0x7FFFFFFFn&&(e=e-0x100000000n),e<-2147483648n)throw new Error("Number too small");return Xw(e)}function hk(t){let e=du(t);if(e>0xFFFFFFFFFFFFFFFFn)throw new Error("Number too big");if(e>0x7FFFFFFFFFFFFFFFn&&(e=e-0x10000000000000000n),e<-9223372036854775808n)throw new Error("Number too small");return Xw(e)}function Ot(t){let e=du(t);if(e>0xFFFFFFFFn)throw new Error("Number too big");return Zw(e)}function B6(t){return Array.from(t,function(e){return("0"+(e&255).toString(16)).slice(-2)}).join("")}class xk{constructor(e){this.func=e,this.functionName=e.functionName,this.module=e.module}setLocal(e,r){const n=this.func.localIdxByName[e];if(n===void 0)throw new Error(`Local Variable not defined: Function: ${this.functionName} local: ${e} `);return[...r,33,...Ot(n)]}teeLocal(e,r){const n=this.func.localIdxByName[e];if(n===void 0)throw new Error(`Local Variable not defined: Function: ${this.functionName} local: ${e} `);return[...r,34,...Ot(n)]}getLocal(e){const r=this.func.localIdxByName[e];if(r===void 0)throw new Error(`Local Variable not defined: Function: ${this.functionName} local: ${e} `);return[32,...Ot(r)]}i64_load8_s(e,r,n){const i=r||0,a=n===void 0?0:n;return[...e,48,a,...Ot(i)]}i64_load8_u(e,r,n){const i=r||0,a=n===void 0?0:n;return[...e,49,a,...Ot(i)]}i64_load16_s(e,r,n){const i=r||0,a=n===void 0?1:n;return[...e,50,a,...Ot(i)]}i64_load16_u(e,r,n){const i=r||0,a=n===void 0?1:n;return[...e,51,a,...Ot(i)]}i64_load32_s(e,r,n){const i=r||0,a=n===void 0?2:n;return[...e,52,a,...Ot(i)]}i64_load32_u(e,r,n){const i=r||0,a=n===void 0?2:n;return[...e,53,a,...Ot(i)]}i64_load(e,r,n){const i=r||0,a=n===void 0?3:n;return[...e,41,a,...Ot(i)]}i64_store(e,r,n,i){let a,o,s;return Array.isArray(r)?(a=0,o=3,s=r):Array.isArray(n)?(a=r,o=3,s=n):Array.isArray(i)&&(a=r,o=n,s=i),[...e,...s,55,o,...Ot(a)]}i64_store32(e,r,n,i){let a,o,s;return Array.isArray(r)?(a=0,o=2,s=r):Array.isArray(n)?(a=r,o=2,s=n):Array.isArray(i)&&(a=r,o=n,s=i),[...e,...s,62,o,...Ot(a)]}i64_store16(e,r,n,i){let a,o,s;return Array.isArray(r)?(a=0,o=1,s=r):Array.isArray(n)?(a=r,o=1,s=n):Array.isArray(i)&&(a=r,o=n,s=i),[...e,...s,61,o,...Ot(a)]}i64_store8(e,r,n,i){let a,o,s;return Array.isArray(r)?(a=0,o=0,s=r):Array.isArray(n)?(a=r,o=0,s=n):Array.isArray(i)&&(a=r,o=n,s=i),[...e,...s,60,o,...Ot(a)]}i32_load8_s(e,r,n){const i=r||0,a=n===void 0?0:n;return[...e,44,a,...Ot(i)]}i32_load8_u(e,r,n){const i=r||0,a=n===void 0?0:n;return[...e,45,a,...Ot(i)]}i32_load16_s(e,r,n){const i=r||0,a=n===void 0?1:n;return[...e,46,a,...Ot(i)]}i32_load16_u(e,r,n){const i=r||0,a=n===void 0?1:n;return[...e,47,a,...Ot(i)]}i32_load(e,r,n){const i=r||0,a=n===void 0?2:n;return[...e,40,a,...Ot(i)]}i32_store(e,r,n,i){let a,o,s;return Array.isArray(r)?(a=0,o=2,s=r):Array.isArray(n)?(a=r,o=2,s=n):Array.isArray(i)&&(a=r,o=n,s=i),[...e,...s,54,o,...Ot(a)]}i32_store16(e,r,n,i){let a,o,s;return Array.isArray(r)?(a=0,o=1,s=r):Array.isArray(n)?(a=r,o=1,s=n):Array.isArray(i)&&(a=r,o=n,s=i),[...e,...s,59,o,...Ot(a)]}i32_store8(e,r,n,i){let a,o,s;return Array.isArray(r)?(a=0,o=0,s=r):Array.isArray(n)?(a=r,o=0,s=n):Array.isArray(i)&&(a=r,o=n,s=i),[...e,...s,58,o,...Ot(a)]}call(e,...r){const n=this.module.functionIdxByName[e];if(n===void 0)throw new Error(`Function not defined: Function: ${e}`);return[...[].concat(...r),16,...Ot(n)]}call_indirect(e,...r){return[...[].concat(...r),...e,17,0,0]}if(e,r,n){return n?[...e,4,64,...r,5,...n,11]:[...e,4,64,...r,11]}block(e){return[2,64,...e,11]}loop(...e){return[3,64,...[].concat(...e),11]}br_if(e,r){return[...r,13,...Ot(e)]}br(e){return[12,...Ot(e)]}ret(e){return[...e,15]}drop(e){return[...e,26]}i64_const(e){return[66,...hk(e)]}i32_const(e){return[65,...r3(e)]}i64_eqz(e){return[...e,80]}i64_eq(e,r){return[...e,...r,81]}i64_ne(e,r){return[...e,...r,82]}i64_lt_s(e,r){return[...e,...r,83]}i64_lt_u(e,r){return[...e,...r,84]}i64_gt_s(e,r){return[...e,...r,85]}i64_gt_u(e,r){return[...e,...r,86]}i64_le_s(e,r){return[...e,...r,87]}i64_le_u(e,r){return[...e,...r,88]}i64_ge_s(e,r){return[...e,...r,89]}i64_ge_u(e,r){return[...e,...r,90]}i64_add(e,r){return[...e,...r,124]}i64_sub(e,r){return[...e,...r,125]}i64_mul(e,r){return[...e,...r,126]}i64_div_s(e,r){return[...e,...r,127]}i64_div_u(e,r){return[...e,...r,128]}i64_rem_s(e,r){return[...e,...r,129]}i64_rem_u(e,r){return[...e,...r,130]}i64_and(e,r){return[...e,...r,131]}i64_or(e,r){return[...e,...r,132]}i64_xor(e,r){return[...e,...r,133]}i64_shl(e,r){return[...e,...r,134]}i64_shr_s(e,r){return[...e,...r,135]}i64_shr_u(e,r){return[...e,...r,136]}i64_extend_i32_s(e){return[...e,172]}i64_extend_i32_u(e){return[...e,173]}i64_clz(e){return[...e,121]}i64_ctz(e){return[...e,122]}i32_eqz(e){return[...e,69]}i32_eq(e,r){return[...e,...r,70]}i32_ne(e,r){return[...e,...r,71]}i32_lt_s(e,r){return[...e,...r,72]}i32_lt_u(e,r){return[...e,...r,73]}i32_gt_s(e,r){return[...e,...r,74]}i32_gt_u(e,r){return[...e,...r,75]}i32_le_s(e,r){return[...e,...r,76]}i32_le_u(e,r){return[...e,...r,77]}i32_ge_s(e,r){return[...e,...r,78]}i32_ge_u(e,r){return[...e,...r,79]}i32_add(e,r){return[...e,...r,106]}i32_sub(e,r){return[...e,...r,107]}i32_mul(e,r){return[...e,...r,108]}i32_div_s(e,r){return[...e,...r,109]}i32_div_u(e,r){return[...e,...r,110]}i32_rem_s(e,r){return[...e,...r,111]}i32_rem_u(e,r){return[...e,...r,112]}i32_and(e,r){return[...e,...r,113]}i32_or(e,r){return[...e,...r,114]}i32_xor(e,r){return[...e,...r,115]}i32_shl(e,r){return[...e,...r,116]}i32_shr_s(e,r){return[...e,...r,117]}i32_shr_u(e,r){return[...e,...r,118]}i32_rotl(e,r){return[...e,...r,119]}i32_rotr(e,r){return[...e,...r,120]}i32_wrap_i64(e){return[...e,167]}i32_clz(e){return[...e,103]}i32_ctz(e){return[...e,104]}unreachable(){return[0]}current_memory(){return[63,0]}comment(){return[]}}const Q2={i32:127,i64:126,f32:125,f64:124,anyfunc:112,func:96,emptyblock:64};class b6{constructor(e,r,n,i,a){if(n=="import")this.fnType="import",this.moduleName=i,this.fieldName=a;else if(n=="internal")this.fnType="internal";else throw new Error("Invalid function fnType: "+n);this.module=e,this.fnName=r,this.params=[],this.locals=[],this.localIdxByName={},this.code=[],this.returnType=null,this.nextLocal=0}addParam(e,r){if(this.localIdxByName[e])throw new Error(`param already exists. Function: ${this.fnName}, Param: ${e} `);const n=this.nextLocal++;this.localIdxByName[e]=n,this.params.push({type:r})}addLocal(e,r,n){const i=n||1;if(this.localIdxByName[e])throw new Error(`local already exists. Function: ${this.fnName}, Param: ${e} `);const a=this.nextLocal++;this.localIdxByName[e]=a,this.locals.push({type:r,length:i})}setReturnType(e){if(this.returnType)throw new Error(`returnType already defined. Function: ${this.fnName}`);this.returnType=e}getSignature(){const e=[...Ot(this.params.length),...this.params.map(n=>Q2[n.type])],r=this.returnType?[1,Q2[this.returnType]]:[0];return[96,...e,...r]}getBody(){const e=this.locals.map(n=>[...Ot(n.length),Q2[n.type]]),r=[...Ot(this.locals.length),...[].concat(...e),...this.code,11];return[...Ot(r.length),...r]}addCode(...e){this.code.push(...[].concat(...e))}getCodeBuilder(){return new xk(this)}}class Jw{constructor(){this.functions=[],this.functionIdxByName={},this.nImportFunctions=0,this.nInternalFunctions=0,this.memory={pagesSize:1,moduleName:"env",fieldName:"memory"},this.free=8,this.datas=[],this.modules={},this.exports=[],this.functionsTable=[]}build(){return this._setSignatures(),new Uint8Array([...q2(1836278016),...q2(1),...this._buildType(),...this._buildImport(),...this._buildFunctionDeclarations(),...this._buildFunctionsTable(),...this._buildExports(),...this._buildElements(),...this._buildCode(),...this._buildData()])}addFunction(e){if(typeof this.functionIdxByName[e]<"u")throw new Error(`Function already defined: ${e}`);const r=this.functions.length;return this.functionIdxByName[e]=r,this.functions.push(new b6(this,e,"internal")),this.nInternalFunctions++,this.functions[r]}addIimportFunction(e,r,n){if(typeof this.functionIdxByName[e]<"u")throw new Error(`Function already defined: ${e}`);if(this.functions.length>0&&this.functions[this.functions.length-1].type=="internal")throw new Error(`Import functions must be declared before internal: ${e}`);let i=n||e;const a=this.functions.length;return this.functionIdxByName[e]=a,this.functions.push(new b6(this,e,"import",r,i)),this.nImportFunctions++,this.functions[a]}setMemory(e,r,n){this.memory={pagesSize:e,moduleName:r||"env",fieldName:n||"memory"}}exportFunction(e,r){const n=r||e;if(typeof this.functionIdxByName[e]>"u")throw new Error(`Function not defined: ${e}`);const i=this.functionIdxByName[e];n!=e&&(this.functionIdxByName[n]=i),this.exports.push({exportName:n,idx:i})}addFunctionToTable(e){const r=this.functionIdxByName[e];this.functionsTable.push(r)}addData(e,r){this.datas.push({offset:e,bytes:r})}alloc(e,r){let n,i;(Array.isArray(e)||ArrayBuffer.isView(e))&&typeof r>"u"?(n=e.length,i=e):(n=e,i=r),n=(n-1>>3)+1<<3;const a=this.free;return this.free+=n,i&&this.addData(a,i),a}allocString(e){const n=new globalThis.TextEncoder().encode(e);return this.alloc([...n,0])}_setSignatures(){this.signatures=[];const e={};if(this.functionsTable.length>0){const r=this.functions[this.functionsTable[0]].getSignature(),n="s_"+B6(r);e[n]=0,this.signatures.push(r)}for(let r=0;r<this.functions.length;r++){const n=this.functions[r].getSignature(),i="s_"+B6(n);typeof e[i]>"u"&&(e[i]=this.signatures.length,this.signatures.push(n)),this.functions[r].signatureIdx=e[i]}}_buildSection(e,r){return[e,...Ot(r.length),...r]}_buildType(){return this._buildSection(1,[...Ot(this.signatures.length),...[].concat(...this.signatures)])}_buildImport(){const e=[];e.push([...$u(this.memory.moduleName),...$u(this.memory.fieldName),2,0,...Ot(this.memory.pagesSize)]);for(let r=0;r<this.nImportFunctions;r++)e.push([...$u(this.functions[r].moduleName),...$u(this.functions[r].fieldName),0,...Ot(this.functions[r].signatureIdx)]);return this._buildSection(2,Ot(e.length).concat(...e))}_buildFunctionDeclarations(){const e=[];for(let r=this.nImportFunctions;r<this.nImportFunctions+this.nInternalFunctions;r++)e.push(...Ot(this.functions[r].signatureIdx));return this._buildSection(3,[...Ot(e.length),...e])}_buildFunctionsTable(){return this.functionsTable.length==0?[]:this._buildSection(4,[...Ot(1),112,0,...Ot(this.functionsTable.length)])}_buildElements(){if(this.functionsTable.length==0)return[];const e=[];for(let r=0;r<this.functionsTable.length;r++)e.push(...Ot(this.functionsTable[r]));return this._buildSection(9,[...Ot(1),...Ot(0),65,...r3(0),11,...Ot(this.functionsTable.length),...e])}_buildExports(){const e=[];for(let r=0;r<this.exports.length;r++)e.push([...$u(this.exports[r].exportName),0,...Ot(this.exports[r].idx)]);return this._buildSection(7,Ot(e.length).concat(...e))}_buildCode(){const e=[];for(let r=this.nImportFunctions;r<this.nImportFunctions+this.nInternalFunctions;r++)e.push(this.functions[r].getBody());return this._buildSection(10,Ot(e.length).concat(...e))}_buildData(){const e=[];e.push([0,65,0,11,4,...q2(this.free)]);for(let r=0;r<this.datas.length;r++)e.push([0,65,...r3(this.datas[r].offset),11,...Ot(this.datas[r].bytes.length),...this.datas[r].bytes]);return this._buildSection(11,Ot(e.length).concat(...e))}}globalThis.curve_bn128=null;async function dp(t,e){if(!t&&globalThis.curve_bn128)return globalThis.curve_bn128;const r=new Jw;r.setMemory(25),ZT(r);const n={};n.code=r.build(),n.pq=r.modules.f1m.pq,n.pr=r.modules.frm.pq,n.pG1gen=r.modules.bn128.pG1gen,n.pG1zero=r.modules.bn128.pG1zero,n.pG1b=r.modules.bn128.pG1b,n.pG2gen=r.modules.bn128.pG2gen,n.pG2zero=r.modules.bn128.pG2zero,n.pG2b=r.modules.bn128.pG2b,n.pOneT=r.modules.bn128.pOneT,n.prePSize=r.modules.bn128.prePSize,n.preQSize=r.modules.bn128.preQSize,n.n8q=32,n.n8r=32,n.q=r.modules.bn128.q,n.r=r.modules.bn128.r;const i={name:"bn128",wasm:n,q:xn("21888242871839275222246405745257275088696311157297823662689037894645226208583"),r:xn("21888242871839275222246405745257275088548364400416034343698204186575808495617"),n8q:32,n8r:32,cofactorG2:xn("30644e72e131a029b85045b68181585e06ceecda572a2489345f2299c0f9fa8d",16),singleThread:!!t},a=await Ww(i);return a.terminate=async function(){i.singleThread||(globalThis.curve_bn128=null,await this.tm.terminate())},t||(globalThis.curve_bn128=a),a}globalThis.curve_bls12381=null;async function hp(t,e){if(!t&&globalThis.curve_bls12381)return globalThis.curve_bls12381;const r=new Jw;r.setMemory(25),XT(r);const n={};n.code=r.build(),n.pq=r.modules.f1m.pq,n.pr=r.modules.frm.pq,n.pG1gen=r.modules.bls12381.pG1gen,n.pG1zero=r.modules.bls12381.pG1zero,n.pG1b=r.modules.bls12381.pG1b,n.pG2gen=r.modules.bls12381.pG2gen,n.pG2zero=r.modules.bls12381.pG2zero,n.pG2b=r.modules.bls12381.pG2b,n.pOneT=r.modules.bls12381.pOneT,n.prePSize=r.modules.bls12381.prePSize,n.preQSize=r.modules.bls12381.preQSize,n.n8q=48,n.n8r=32,n.q=r.modules.bls12381.q,n.r=r.modules.bls12381.r;const i={name:"bls12381",wasm:n,q:xn("1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaab",16),r:xn("73eda753299d7d483339d80809a1d80553bda402fffe5bfeffffffff00000001",16),n8q:48,n8r:32,cofactorG1:xn("0x396c8c005555e1568c00aaab0000aaab",16),cofactorG2:xn("0x5d543a95414e7f1091d50792876a202cd91de4547085abaa68a205b2e5a7ddfa628f1cb4d9e82ef21537e293a6691ae1616ec6e786f0c70cf1c38e31c7238e5",16),singleThread:!!t},a=await Ww(i);return a.terminate=async function(){i.singleThread||(globalThis.curve_bls12381=null,await this.tm.terminate())},t||(globalThis.curve_bls12381=a),a}const pk=xn("73eda753299d7d483339d80809a1d80553bda402fffe5bfeffffffff00000001",16),gk=xn("21888242871839275222246405745257275088548364400416034343698204186575808495617");xn("1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaab",16);xn("21888242871839275222246405745257275088696311157297823662689037894645226208583");async function mk(t,e,r){let n;if(hs(t,gk))n=await dp(e);else if(hs(t,pk))n=await hp(e);else throw new Error(`Curve not supported: ${A8(t)}`);return n}const It=XD,$n=nk;var e_={};async function t_(t,e,r,n){if(r=r||4096*64,typeof e!="number"&&["w+","wx+","r","ax+","a+"].indexOf(e)<0)throw new Error("Invalid open option");const i=await e_.promises.open(t,e),a=await i.stat();return new yk(i,a,r,n,t)}class yk{constructor(e,r,n,i,a){for(this.fileName=a,this.fd=e,this.pos=0,this.pageSize=i||256;this.pageSize<r.blksize;)this.pageSize*=2;this.totalSize=r.size,this.totalPages=Math.floor((r.size-1)/this.pageSize)+1,this.maxPagesLoaded=Math.floor(n/this.pageSize)+1,this.pages={},this.pendingLoads=[],this.writing=!1,this.reading=!1,this.avBuffs=[],this.history={}}_loadPage(e){const r=this,n=new Promise((i,a)=>{r.pendingLoads.push({page:e,resolve:i,reject:a})});return r.__statusPage("After Load request: ",e),n}__statusPage(e,r){const n=[],i=this;if(!i.logHistory)return;n.push("=="+e+" "+r);let a="";for(let o=0;o<i.pendingLoads.length;o++)i.pendingLoads[o].page==r&&(a=a+" "+o);if(a&&n.push("Pending loads:"+a),typeof i.pages[r]<"u"){const o=i.pages[r];n.push("Loaded"),n.push("pendingOps: "+o.pendingOps),o.loading&&n.push("loading: "+o.loading),o.writing&&n.push("writing"),o.dirty&&n.push("dirty")}n.push("=="),i.history[r]||(i.history[r]=[]),i.history[r].push(n)}__printHistory(e){const r=this;r.history[e]||console.log("Empty History ",e),console.log("History "+e);for(let n=0;n<r.history[e].length;n++)for(let i=0;i<r.history[e][n].length;i++)console.log("-> "+r.history[e][n][i])}_triggerLoad(){const e=this;if(e.reading||e.pendingLoads.length==0)return;const r=Object.keys(e.pages),n=[];for(let s=0;s<r.length;s++){const u=e.pages[parseInt(r[s])];u.dirty==!1&&u.pendingOps==0&&!u.writing&&!u.loading&&n.push(parseInt(r[s]))}let i=e.maxPagesLoaded-r.length;const a=[];for(;e.pendingLoads.length>0&&(typeof e.pages[e.pendingLoads[0].page]<"u"||i>0||n.length>0);){const s=e.pendingLoads.shift();if(typeof e.pages[s.page]<"u"){e.pages[s.page].pendingOps++;const u=n.indexOf(s.page);u>=0&&n.splice(u,1),e.pages[s.page].loading?e.pages[s.page].loading.push(s):s.resolve(),e.__statusPage("After Load (cached): ",s.page)}else{if(i)i--;else{const u=n.shift();e.__statusPage("Before Unload: ",u),e.avBuffs.unshift(e.pages[u]),delete e.pages[u],e.__statusPage("After Unload: ",u)}s.page>=e.totalPages?(e.pages[s.page]=o(),s.resolve(),e.__statusPage("After Load (new): ",s.page)):(e.reading=!0,e.pages[s.page]=o(),e.pages[s.page].loading=[s],a.push(e.fd.read(e.pages[s.page].buff,0,e.pageSize,s.page*e.pageSize).then(u=>{e.pages[s.page].size=u.bytesRead;const l=e.pages[s.page].loading;delete e.pages[s.page].loading;for(let c=0;c<l.length;c++)l[c].resolve();return e.__statusPage("After Load (loaded): ",s.page),u},u=>{s.reject(u)})),e.__statusPage("After Load (loading): ",s.page))}}Promise.all(a).then(()=>{e.reading=!1,e.pendingLoads.length>0&&setImmediate(e._triggerLoad.bind(e)),e._tryClose()});function o(){if(e.avBuffs.length>0){const s=e.avBuffs.shift();return s.dirty=!1,s.pendingOps=1,s.size=0,s}else return{dirty:!1,buff:new Uint8Array(e.pageSize),pendingOps:1,size:0}}}_triggerWrite(){const e=this;if(e.writing)return;const r=Object.keys(e.pages),n=[];for(let i=0;i<r.length;i++){const a=e.pages[parseInt(r[i])];a.dirty&&(a.dirty=!1,a.writing=!0,e.writing=!0,n.push(e.fd.write(a.buff,0,a.size,parseInt(r[i])*e.pageSize).then(()=>{a.writing=!1},o=>{console.log("ERROR Writing: "+o),e.error=o,e._tryClose()})))}e.writing&&Promise.all(n).then(()=>{e.writing=!1,setImmediate(e._triggerWrite.bind(e)),e._tryClose(),e.pendingLoads.length>0&&setImmediate(e._triggerLoad.bind(e))})}_getDirtyPage(){for(let e in this.pages)if(this.pages[e].dirty)return e;return-1}async write(e,r){if(e.byteLength==0)return;const n=this;if(typeof r>"u"&&(r=n.pos),n.pos=r+e.byteLength,n.totalSize<r+e.byteLength&&(n.totalSize=r+e.byteLength),n.pendingClose)throw new Error("Writing a closing file");const i=Math.floor(r/n.pageSize),a=Math.floor((r+e.byteLength-1)/n.pageSize),o=[];for(let c=i;c<=a;c++)o.push(n._loadPage(c));n._triggerLoad();let s=i,u=r%n.pageSize,l=e.byteLength;for(;l>0;){await o[s-i];const c=u+l>n.pageSize?n.pageSize-u:l,f=e.slice(e.byteLength-l,e.byteLength-l+c);new Uint8Array(n.pages[s].buff.buffer,u,c).set(f),n.pages[s].dirty=!0,n.pages[s].pendingOps--,n.pages[s].size=Math.max(u+c,n.pages[s].size),s>=n.totalPages&&(n.totalPages=s+1),l=l-c,s++,u=0,n.writing||setImmediate(n._triggerWrite.bind(n))}}async read(e,r){const n=this;let i=new Uint8Array(e);return await n.readToBuffer(i,0,e,r),i}async readToBuffer(e,r,n,i){if(n==0)return;const a=this;if(n>a.pageSize*a.maxPagesLoaded*.8){const d=Math.floor(n*1.1);this.maxPagesLoaded=Math.floor(d/a.pageSize)+1}if(typeof i>"u"&&(i=a.pos),a.pos=i+n,a.pendingClose)throw new Error("Reading a closing file");const o=Math.floor(i/a.pageSize),s=Math.floor((i+n-1)/a.pageSize),u=[];for(let d=o;d<=s;d++)u.push(a._loadPage(d));a._triggerLoad();let l=o,c=i%a.pageSize,f=i+n>a.totalSize?n-(i+n-a.totalSize):n;for(;f>0;){await u[l-o],a.__statusPage("After Await (read): ",l);const d=c+f>a.pageSize?a.pageSize-c:f,h=new Uint8Array(a.pages[l].buff.buffer,a.pages[l].buff.byteOffset+c,d);e.set(h,r+n-f),a.pages[l].pendingOps--,a.__statusPage("After Op done: ",l),f=f-d,l++,c=0,a.pendingLoads.length>0&&setImmediate(a._triggerLoad.bind(a))}this.pos=i+n}_tryClose(){const e=this;!e.pendingClose||(e.error&&e.pendingCloseReject(e.error),e._getDirtyPage()>=0||e.writing||e.reading||e.pendingLoads.length>0)||e.pendingClose()}close(){const e=this;if(e.pendingClose)throw new Error("Closing the file twice");return new Promise((r,n)=>{e.pendingClose=r,e.pendingCloseReject=n,e._tryClose()}).then(()=>{e.fd.close()},r=>{throw e.fd.close(),r})}async discard(){await this.close(),await e_.promises.unlink(this.fileName)}async writeULE32(e,r){const n=this,i=new Uint8Array(4);new DataView(i.buffer).setUint32(0,e,!0),await n.write(i,r)}async writeUBE32(e,r){const n=this,i=new Uint8Array(4);new DataView(i.buffer).setUint32(0,e,!1),await n.write(i,r)}async writeULE64(e,r){const n=this,i=new Uint8Array(8),a=new DataView(i.buffer);a.setUint32(0,e&4294967295,!0),a.setUint32(4,Math.floor(e/4294967296),!0),await n.write(i,r)}async readULE32(e){const n=await this.read(4,e);return new Uint32Array(n.buffer)[0]}async readUBE32(e){const n=await this.read(4,e);return new DataView(n.buffer).getUint32(0,!1)}async readULE64(e){const n=await this.read(8,e),i=new Uint32Array(n.buffer);return i[1]*4294967296+i[0]}async readString(e){const r=this;if(r.pendingClose)throw new Error("Reading a closing file");let n=typeof e>"u"?r.pos:e,i=Math.floor(n/r.pageSize),a=!1,o="";for(;!a;){let s=r._loadPage(i);r._triggerLoad(),await s,r.__statusPage("After Await (read): ",i);let u=n%r.pageSize;const l=new Uint8Array(r.pages[i].buff.buffer,r.pages[i].buff.byteOffset+u,r.pageSize-u);let c=l.findIndex(f=>f===0);a=c!==-1,a?(o+=new TextDecoder().decode(l.slice(0,c)),r.pos=i*this.pageSize+u+c+1):(o+=new TextDecoder().decode(l),r.pos=i*this.pageSize+u+l.length),r.pages[i].pendingOps--,r.__statusPage("After Op done: ",i),n=r.pos,i++,r.pendingLoads.length>0&&setImmediate(r._triggerLoad.bind(r))}return o}}function vk(t){const e=t.initialSize||1048576,r=new n_;return r.o=t,r.o.data=new Uint8Array(e),r.allocSize=e,r.totalSize=0,r.readOnly=!1,r.pos=0,r}function Ek(t){const e=new n_;return e.o=t,e.allocSize=t.data.byteLength,e.totalSize=t.data.byteLength,e.readOnly=!0,e.pos=0,e}const n3=new Uint8Array(4),S6=new DataView(n3.buffer),r_=new Uint8Array(8),I6=new DataView(r_.buffer);class n_{constructor(){this.pageSize=16384}_resizeIfNeeded(e){if(e>this.allocSize){const r=Math.max(this.allocSize+1048576,Math.floor(this.allocSize*1.1),e),n=new Uint8Array(r);n.set(this.o.data),this.o.data=n,this.allocSize=r}}async write(e,r){if(typeof r>"u"&&(r=this.pos),this.readOnly)throw new Error("Writing a read only file");this._resizeIfNeeded(r+e.byteLength),this.o.data.set(e.slice(),r),r+e.byteLength>this.totalSize&&(this.totalSize=r+e.byteLength),this.pos=r+e.byteLength}async readToBuffer(e,r,n,i){if(typeof i>"u"&&(i=this.pos),this.readOnly&&i+n>this.totalSize)throw new Error("Reading out of bounds");this._resizeIfNeeded(i+n);const o=new Uint8Array(this.o.data.buffer,this.o.data.byteOffset+i,n);e.set(o,r),this.pos=i+n}async read(e,r){const n=this,i=new Uint8Array(e);return await n.readToBuffer(i,0,e,r),i}close(){this.o.data.byteLength!=this.totalSize&&(this.o.data=this.o.data.slice(0,this.totalSize))}async discard(){}async writeULE32(e,r){const n=this;S6.setUint32(0,e,!0),await n.write(n3,r)}async writeUBE32(e,r){const n=this;S6.setUint32(0,e,!1),await n.write(n3,r)}async writeULE64(e,r){const n=this;I6.setUint32(0,e&4294967295,!0),I6.setUint32(4,Math.floor(e/4294967296),!0),await n.write(r_,r)}async readULE32(e){const n=await this.read(4,e);return new Uint32Array(n.buffer)[0]}async readUBE32(e){const n=await this.read(4,e);return new DataView(n.buffer).getUint32(0,!1)}async readULE64(e){const n=await this.read(8,e),i=new Uint32Array(n.buffer);return i[1]*4294967296+i[0]}async readString(e){const r=this;let n=typeof e>"u"?r.pos:e;if(n>this.totalSize){if(this.readOnly)throw new Error("Reading out of bounds");this._resizeIfNeeded(e)}const i=new Uint8Array(r.o.data.buffer,n,this.totalSize-n);let a=i.findIndex(u=>u===0),o=a!==-1,s="";return o?(s=new TextDecoder().decode(i.slice(0,a)),r.pos=n+a+1):r.pos=n,s}}const wn=1<<22;function Ck(t){const e=t.initialSize||0,r=new a_;r.o=t;const n=e?Math.floor((e-1)/wn)+1:0;r.o.data=[];for(let i=0;i<n-1;i++)r.o.data.push(new Uint8Array(wn));return n&&r.o.data.push(new Uint8Array(e-wn*(n-1))),r.totalSize=0,r.readOnly=!1,r.pos=0,r}function Ak(t){const e=new a_;return e.o=t,e.totalSize=(t.data.length-1)*wn+t.data[t.data.length-1].byteLength,e.readOnly=!0,e.pos=0,e}const i3=new Uint8Array(4),L6=new DataView(i3.buffer),i_=new Uint8Array(8),F6=new DataView(i_.buffer);class a_{constructor(){this.pageSize=16384}_resizeIfNeeded(e){if(e<=this.totalSize)return;if(this.readOnly)throw new Error("Reading out of file bounds");const r=Math.floor((e-1)/wn)+1;for(let n=Math.max(this.o.data.length-1,0);n<r;n++){const i=n<r-1?wn:e-(r-1)*wn,a=new Uint8Array(i);n==this.o.data.length-1&&a.set(this.o.data[n]),this.o.data[n]=a}this.totalSize=e}async write(e,r){const n=this;if(typeof r>"u"&&(r=n.pos),this.readOnly)throw new Error("Writing a read only file");this._resizeIfNeeded(r+e.byteLength);let a=Math.floor(r/wn),o=r%wn,s=e.byteLength;for(;s>0;){const u=o+s>wn?wn-o:s,l=e.slice(e.byteLength-s,e.byteLength-s+u);new Uint8Array(n.o.data[a].buffer,o,u).set(l),s=s-u,a++,o=0}this.pos=r+e.byteLength}async readToBuffer(e,r,n,i){const a=this;if(typeof i>"u"&&(i=a.pos),this.readOnly&&i+n>this.totalSize)throw new Error("Reading out of bounds");this._resizeIfNeeded(i+n);let s=Math.floor(i/wn),u=i%wn,l=n;for(;l>0;){const c=u+l>wn?wn-u:l,f=new Uint8Array(a.o.data[s].buffer,u,c);e.set(f,r+n-l),l=l-c,s++,u=0}this.pos=i+n}async read(e,r){const n=this,i=new Uint8Array(e);return await n.readToBuffer(i,0,e,r),i}close(){}async discard(){}async writeULE32(e,r){const n=this;L6.setUint32(0,e,!0),await n.write(i3,r)}async writeUBE32(e,r){const n=this;L6.setUint32(0,e,!1),await n.write(i3,r)}async writeULE64(e,r){const n=this;F6.setUint32(0,e&4294967295,!0),F6.setUint32(4,Math.floor(e/4294967296),!0),await n.write(i_,r)}async readULE32(e){const n=await this.read(4,e);return new Uint32Array(n.buffer)[0]}async readUBE32(e){const n=await this.read(4,e);return new DataView(n.buffer).getUint32(0,!1)}async readULE64(e){const n=await this.read(8,e),i=new Uint32Array(n.buffer);return i[1]*4294967296+i[0]}async readString(e){const r=this,n=2048;let i=typeof e>"u"?r.pos:e;if(i>this.totalSize){if(this.readOnly)throw new Error("Reading out of bounds");this._resizeIfNeeded(e)}let a=!1,o="";for(;!a;){let s=Math.floor(i/wn),u=i%wn;if(r.o.data[s]===void 0)throw new Error("ERROR");let l=Math.min(n,r.o.data[s].length-u);const c=new Uint8Array(r.o.data[s].buffer,u,l);let f=c.findIndex(d=>d===0);a=f!==-1,a?(o+=new TextDecoder().decode(c.slice(0,f)),r.pos=s*wn+u+f+1):(o+=new TextDecoder().decode(c),r.pos=s*wn+u+c.length),i=r.pos}return o}}const wk=1024,_k=512,Bk=2,bk=0,Sk=65536,Ik=8192;async function hu(t,e,r){if(typeof t=="string"&&(t={type:"file",fileName:t,cacheSize:e||Sk,pageSize:r||Ik}),t.type=="file")return await t_(t.fileName,wk|_k|Bk,t.cacheSize,t.pageSize);if(t.type=="mem")return vk(t);if(t.type=="bigMem")return Ck(t);throw new Error("Invalid FastFile type: "+t.type)}async function z0(t,e,r){if(t instanceof Uint8Array&&(t={type:"mem",data:t}),typeof t=="string"&&(t={type:"mem",data:await fetch(t).then(function(i){return i.arrayBuffer()}).then(function(i){return new Uint8Array(i)})}),t.type=="file")return await t_(t.fileName,bk,t.cacheSize,t.pageSize);if(t.type=="mem")return await Ek(t);if(t.type=="bigMem")return await Ak(t);throw new Error("Invalid FastFile type: "+t.type)}async function gr(t,e,r,n,i){const a=await z0(t),o=await a.read(4);let s="";for(let f=0;f<4;f++)s+=String.fromCharCode(o[f]);if(s!=e)throw new Error(t+": Invalid File format");if(await a.readULE32()>r)throw new Error("Version not supported");const l=await a.readULE32();let c=[];for(let f=0;f<l;f++){let d=await a.readULE32(),h=await a.readULE64();typeof c[d]>"u"&&(c[d]=[]),c[d].push({p:a.pos,size:h}),a.pos+=h}return{fd:a,sections:c}}async function Bi(t,e,r,n,i,a){const o=await hu(t,i,a),s=new Uint8Array(4);for(let u=0;u<4;u++)s[u]=e.charCodeAt(u);return await o.write(s,0),await o.writeULE32(r),await o.writeULE32(n),o}async function zt(t,e){if(typeof t.writingSection<"u")throw new Error("Already writing a section");await t.writeULE32(e),t.writingSection={pSectionSize:t.pos},await t.writeULE64(0)}async function Kt(t){if(typeof t.writingSection>"u")throw new Error("Not writing a section");const e=t.pos-t.writingSection.pSectionSize-8,r=t.pos;t.pos=t.writingSection.pSectionSize,await t.writeULE64(e),t.pos=r,delete t.writingSection}async function yr(t,e,r){if(typeof t.readingSection<"u")throw new Error("Already reading a section");if(!e[r])throw new Error(t.fileName+": Missing section "+r);if(e[r].length>1)throw new Error(t.fileName+": Section Duplicated "+r);t.pos=e[r][0].p,t.readingSection=e[r][0]}async function vr(t,e){if(typeof t.readingSection>"u")throw new Error("Not reading a section");if(!e&&t.pos-t.readingSection.p!=t.readingSection.size)throw new Error("Invalid section size reading");delete t.readingSection}async function ao(t,e,r,n){const i=new Uint8Array(r);It.toRprLE(i,0,e,r),await t.write(i,n)}async function Ko(t,e,r){const n=await t.read(e,r);return It.fromRprLE(n,0,e)}async function Jt(t,e,r,n,i){typeof i>"u"&&(i=e[n][0].size);const a=t.pageSize;await yr(t,e,n),await zt(r,n);for(let o=0;o<i;o+=a){const s=Math.min(i-o,a),u=await t.read(s);await r.write(u)}await Kt(r),await vr(t,i!=e[n][0].size)}async function nr(t,e,r,n,i){if(n=typeof n>"u"?0:n,i=typeof i>"u"?e[r][0].size-n:i,n+i>e[r][0].size)throw new Error("Reading out of the range of the section");let a;return i<1<<30?a=new Uint8Array(i):a=new He(i),await t.readToBuffer(a,0,i,e[r][0].p+n),a}async function Wu(t,e,r,n,i){const a=t.pageSize*16;if(await yr(t,e,i),await yr(r,n,i),e[i][0].size!=n[i][0].size)return!1;const o=e[i][0].size;for(let s=0;s<o;s+=a){const u=Math.min(o-s,a),l=await t.read(u),c=await r.read(u);for(let f=0;f<u;f++)if(l[f]!=c[f])return!1}return await vr(t),await vr(r),!0}const Lk=It.e("73eda753299d7d483339d80809a1d80553bda402fffe5bfeffffffff00000001",16),Fk=It.e("21888242871839275222246405745257275088548364400416034343698204186575808495617"),Dk=It.e("1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaab",16),Tk=It.e("21888242871839275222246405745257275088696311157297823662689037894645226208583");async function o_(t,e){let r,n=e&&e.singleThread;if(It.eq(t,Fk))r=await dp(n);else if(It.eq(t,Lk))r=await hp(n);else throw new Error(`Curve not supported: ${It.toString(t)}`);return r}async function bi(t,e){let r,n=e&&e.singleThread;if(It.eq(t,Tk))r=await dp(n);else if(It.eq(t,Dk))r=await hp(n);else throw new Error(`Curve not supported: ${It.toString(t)}`);return r}async function Pl(t,e){let r,n=e&&e.singleThread;const i=a(t);if(["BN128","BN254","ALTBN128"].indexOf(i)>=0)r=await dp(n);else if(["BLS12381"].indexOf(i)>=0)r=await hp(n);else throw new Error(`Curve not supported: ${t}`);return r;function a(o){return o.toUpperCase().match(/[A-Za-z0-9]+/g).join("")}}var kk=Object.freeze({__proto__:null,getCurveFromR:o_,getCurveFromQ:bi,getCurveFromName:Pl}),Nk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Pt={exports:{}},Pk=l_;class s_ extends Error{}s_.prototype.name="AssertionError";function l_(t,e){if(!t){var r=new s_(e);throw Error.captureStackTrace&&Error.captureStackTrace(r,l_),r}}var a3={exports:{}};function c_(t){return t.length}function Rk(t){const e=t.byteLength;let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r}function Mk(t,e,r=0,n=c_(e)){const i=Math.min(n,t.byteLength-r);for(let a=0;a<i;a++)t[r+a]=e.charCodeAt(a);return i}var Uk={byteLength:c_,toString:Rk,write:Mk};const pc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",al=new Uint8Array(256);for(let t=0;t<pc.length;t++)al[pc.charCodeAt(t)]=t;al[45]=62;al[95]=63;function u_(t){let e=t.length;return t.charCodeAt(e-1)===61&&e--,e>1&&t.charCodeAt(e-1)===61&&e--,e*3>>>2}function Ok(t){const e=t.byteLength;let r="";for(let n=0;n<e;n+=3)r+=pc[t[n]>>2]+pc[(t[n]&3)<<4|t[n+1]>>4]+pc[(t[n+1]&15)<<2|t[n+2]>>6]+pc[t[n+2]&63];return e%3===2?r=r.substring(0,r.length-1)+"=":e%3===1&&(r=r.substring(0,r.length-2)+"=="),r}function Vk(t,e,r=0,n=u_(e)){const i=Math.min(n,t.byteLength-r);for(let a=0,o=0;o<i;a+=4){const s=al[e.charCodeAt(a)],u=al[e.charCodeAt(a+1)],l=al[e.charCodeAt(a+2)],c=al[e.charCodeAt(a+3)];t[o++]=s<<2|u>>4,t[o++]=(u&15)<<4|l>>2,t[o++]=(l&3)<<6|c&63}return i}var Gk={byteLength:u_,toString:Ok,write:Vk};function f_(t){return t.length>>>1}function zk(t){const e=t.byteLength;t=new DataView(t.buffer,t.byteOffset,e);let r="",n=0;for(let i=e-e%4;n<i;n+=4)r+=t.getUint32(n).toString(16).padStart(8,"0");for(;n<e;n++)r+=t.getUint8(n).toString(16).padStart(2,"0");return r}function Kk(t,e,r=0,n=f_(e)){const i=Math.min(n,t.byteLength-r);for(let a=0;a<i;a++){const o=D6(e.charCodeAt(a*2)),s=D6(e.charCodeAt(a*2+1));if(o===void 0||s===void 0)return t.subarray(0,a);t[r+a]=o<<4|s}return i}var qk={byteLength:f_,toString:zk,write:Kk};function D6(t){if(t>=48&&t<=57)return t-48;if(t>=65&&t<=70)return t-65+10;if(t>=97&&t<=102)return t-97+10}function o3(t){let e=0;for(let r=0,n=t.length;r<n;r++){const i=t.charCodeAt(r);if(i>=55296&&i<=56319&&r+1<n){const a=t.charCodeAt(r+1);if(a>=56320&&a<=57343){e+=4,r++;continue}}i<=127?e+=1:i<=2047?e+=2:e+=3}return e}let s3;if(typeof TextDecoder<"u"){const t=new TextDecoder;s3=function(r){return t.decode(r)}}else s3=function(e){const r=e.byteLength;let n="",i=0;for(;i<r;){let a=e[i];if(a<=127){n+=String.fromCharCode(a),i++;continue}let o=0,s=0;if(a<=223?(o=1,s=a&31):a<=239?(o=2,s=a&15):a<=244&&(o=3,s=a&7),r-i-o>0){let u=0;for(;u<o;)a=e[i+u+1],s=s<<6|a&63,u+=1}else s=65533,o=r-i;n+=String.fromCodePoint(s),i+=o+1}return n};let l3;if(typeof TextEncoder<"u"){const t=new TextEncoder;l3=function(r,n,i=0,a=o3(n)){const o=Math.min(a,r.byteLength-i);return t.encodeInto(n,r.subarray(i,i+o)),o}}else l3=function(e,r,n=0,i=o3(r)){const a=Math.min(i,e.byteLength-n);e=e.subarray(n,n+a);let o=0,s=0;for(;o<r.length;){const u=r.codePointAt(o);if(u<=127){e[s++]=u,o++;continue}let l=0,c=0;for(u<=2047?(l=6,c=192):u<=65535?(l=12,c=224):u<=2097151&&(l=18,c=240),e[s++]=c|u>>l,l-=6;l>=0;)e[s++]=128|u>>l&63,l-=6;o+=u>=65536?2:1}return a};var Qk={byteLength:o3,toString:s3,write:l3};function d_(t){return t.length*2}function Hk(t){const e=t.byteLength;let r="";for(let n=0;n<e-1;n+=2)r+=String.fromCharCode(t[n]+t[n+1]*256);return r}function jk(t,e,r=0,n=d_(e)){const i=Math.min(n,t.byteLength-r);let a=i;for(let o=0;o<e.length&&!((a-=2)<0);++o){const s=e.charCodeAt(o),u=s>>8,l=s%256;t[r+o*2]=l,t[r+o*2+1]=u}return i}var $k={byteLength:d_,toString:Hk,write:jk};(function(t,e){const r=Uk,n=Gk,i=qk,a=Qk,o=$k,s=new Uint8Array(Uint16Array.of(255).buffer)[0]===255;function u(b){switch(b){case"ascii":return r;case"base64":return n;case"hex":return i;case"utf8":case"utf-8":case void 0:return a;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return o;default:throw new Error(`Unknown encoding: ${b}`)}}function l(b){return b instanceof Uint8Array}function c(b){try{return u(b),!0}catch{return!1}}function f(b,J,V){const g=new Uint8Array(b);return J!==void 0&&e.fill(g,J,0,g.byteLength,V),g}function d(b){return new Uint8Array(b)}function h(b){return new Uint8Array(b)}function y(b,J){return u(J).byteLength(b)}function w(b,J){if(b===J)return 0;const V=Math.min(b.byteLength,J.byteLength);b=new DataView(b.buffer,b.byteOffset,b.byteLength),J=new DataView(J.buffer,J.byteOffset,J.byteLength);let g=0;for(let M=V-V%4;g<M;g+=4){const Q=b.getUint32(g,s),k=J.getUint32(g,s);if(Q!==k)break}for(;g<V;g++){const M=b.getUint8(g),Q=J.getUint8(g);if(M<Q)return-1;if(M>Q)return 1}return b.byteLength>J.byteLength?1:b.byteLength<J.byteLength?-1:0}function _(b,J){J===void 0&&(J=b.reduce((M,Q)=>M+Q.byteLength,0));const V=new Uint8Array(J);let g=0;for(const M of b){if(g+M.byteLength>V.byteLength){const Q=M.subarray(0,V.byteLength-g);return V.set(Q,g),V}V.set(M,g),g+=M.byteLength}return V}function E(b,J,V=0,g=0,M=b.byteLength){if(M>0&&M<g||M===g||b.byteLength===0||J.byteLength===0)return 0;if(V<0)throw new RangeError("targetStart is out of range");if(g<0||g>=b.byteLength)throw new RangeError("sourceStart is out of range");if(M<0)throw new RangeError("sourceEnd is out of range");V>=J.byteLength&&(V=J.byteLength),M>b.byteLength&&(M=b.byteLength),J.byteLength-V<M-g&&(M=J.length-V+g);const Q=M-g;return b===J?J.copyWithin(V,g,M):J.set(b.subarray(g,M),V),Q}function p(b,J){if(b===J)return!0;if(b.byteLength!==J.byteLength)return!1;const V=b.byteLength;b=new DataView(b.buffer,b.byteOffset,b.byteLength),J=new DataView(J.buffer,J.byteOffset,J.byteLength);let g=0;for(let M=V-V%4;g<M;g+=4)if(b.getUint32(g,s)!==J.getUint32(g,s))return!1;for(;g<V;g++)if(b.getUint8(g)!==J.getUint8(g))return!1;return!0}function m(b,J,V,g,M){if(typeof J=="string"?typeof V=="string"?(M=V,V=0,g=b.byteLength):typeof g=="string"&&(M=g,g=b.byteLength):typeof J=="number"?J=J&255:typeof J=="boolean"&&(J=+J),V<0||b.byteLength<V||b.byteLength<g)throw new RangeError("Out of range index");if(V===void 0&&(V=0),g===void 0&&(g=b.byteLength),g<=V)return b;if(J||(J=0),typeof J=="number")for(let Q=V;Q<g;++Q)b[Q]=J;else{J=l(J)?J:S(J,M);const Q=J.byteLength;for(let k=0;k<g-V;++k)b[k+V]=J[k%Q]}return b}function S(b,J,V){return typeof b=="string"?F(b,J):Array.isArray(b)?I(b):ArrayBuffer.isView(b)?v(b):A(b,J,V)}function F(b,J){const V=u(J),g=new Uint8Array(V.byteLength(b));return V.write(g,b,0,g.byteLength),g}function I(b){const J=new Uint8Array(b.length);return J.set(b),J}function v(b){const J=new Uint8Array(b.byteLength);return J.set(b),J}function A(b,J,V){return new Uint8Array(b,J,V)}function D(b,J,V,g){return j(b,J,V,g)!==-1}function L(b,J,V,g,M){if(b.byteLength===0)return-1;if(typeof V=="string"?(g=V,V=0):V===void 0?V=M?0:b.length-1:V<0&&(V+=b.byteLength),V>=b.byteLength){if(M)return-1;V=b.byteLength-1}else if(V<0)if(M)V=0;else return-1;if(typeof J=="string")J=S(J,g);else if(typeof J=="number")return J=J&255,M?b.indexOf(J,V):b.lastIndexOf(J,V);if(J.byteLength===0)return-1;if(M){let Q=-1;for(let k=V;k<b.byteLength;k++)if(b[k]===J[Q===-1?0:k-Q]){if(Q===-1&&(Q=k),k-Q+1===J.byteLength)return Q}else Q!==-1&&(k-=k-Q),Q=-1}else{V+J.byteLength>b.byteLength&&(V=b.byteLength-J.byteLength);for(let Q=V;Q>=0;Q--){let k=!0;for(let K=0;K<J.byteLength;K++)if(b[Q+K]!==J[K]){k=!1;break}if(k)return Q}}return-1}function j(b,J,V,g){return L(b,J,V,g,!0)}function Y(b,J,V,g){return L(b,J,V,g,!1)}function O(b,J,V){const g=b[J];b[J]=b[V],b[V]=g}function B(b){const J=b.byteLength;if(J%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let V=0;V<J;V+=2)O(b,V,V+1);return b}function C(b){const J=b.byteLength;if(J%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let V=0;V<J;V+=4)O(b,V,V+3),O(b,V+1,V+2);return b}function N(b){const J=b.byteLength;if(J%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let V=0;V<J;V+=8)O(b,V,V+7),O(b,V+1,V+6),O(b,V+2,V+5),O(b,V+3,V+4);return b}function U(b){return b}function G(b,J,V=0,g=b.byteLength){const M=b.byteLength;return V>=M||g<=V?"":(V<0&&(V=0),g>M&&(g=M),(V!==0||g<M)&&(b=b.subarray(V,g)),u(J).toString(b))}function $(b,J,V,g,M){return V===void 0?M="utf8":g===void 0&&typeof V=="string"?(M=V,V=void 0):M===void 0&&typeof g=="string"&&(M=g,g=void 0),u(M).write(b,J,V,g)}function Z(b,J,V){return V===void 0&&(V=0),new DataView(b.buffer,b.byteOffset,b.byteLength).setFloat64(V,J,!0),V+8}function W(b,J,V){return V===void 0&&(V=0),new DataView(b.buffer,b.byteOffset,b.byteLength).setFloat32(V,J,!0),V+4}function P(b,J,V){return V===void 0&&(V=0),new DataView(b.buffer,b.byteOffset,b.byteLength).setUint32(V,J,!0),V+4}function R(b,J,V){return V===void 0&&(V=0),new DataView(b.buffer,b.byteOffset,b.byteLength).setInt32(V,J,!0),V+4}function re(b,J){return J===void 0&&(J=0),new DataView(b.buffer,b.byteOffset,b.byteLength).getFloat64(J,!0)}function T(b,J){return J===void 0&&(J=0),new DataView(b.buffer,b.byteOffset,b.byteLength).getFloat32(J,!0)}function x(b,J){return J===void 0&&(J=0),new DataView(b.buffer,b.byteOffset,b.byteLength).getUint32(J,!0)}function z(b,J){return J===void 0&&(J=0),new DataView(b.buffer,b.byteOffset,b.byteLength).getInt32(J,!0)}t.exports=e={isBuffer:l,isEncoding:c,alloc:f,allocUnsafe:d,allocUnsafeSlow:h,byteLength:y,compare:w,concat:_,copy:E,equals:p,fill:m,from:S,includes:D,indexOf:j,lastIndexOf:Y,swap16:B,swap32:C,swap64:N,toBuffer:U,toString:G,write:$,writeDoubleLE:Z,writeFloatLE:W,writeUInt32LE:P,writeInt32LE:R,readDoubleLE:re,readFloatLE:T,readUInt32LE:x,readInt32LE:z}})(a3,a3.exports);var H2,T6;function Wk(){if(T6)return H2;T6=1;var t=(a,o)=>function(){return o||(0,a[Object.keys(a)[0]])((o={exports:{}}).exports,o),o.exports},e=(()=>{for(var a=new Uint8Array(128),o=0;o<64;o++)a[o<26?o+65:o<52?o+71:o<62?o-4:o*4-205]=o;return s=>{for(var u=s.length,l=new Uint8Array((u-(s[u-1]=="=")-(s[u-2]=="="))*3/4|0),c=0,f=0;c<u;){var d=a[s.charCodeAt(c++)],h=a[s.charCodeAt(c++)],y=a[s.charCodeAt(c++)],w=a[s.charCodeAt(c++)];l[f++]=d<<2|h>>4,l[f++]=h<<4|y>>2,l[f++]=y<<6|w}return l}})(),r=t({"wasm-binary:./blake2b.wat"(a,o){o.exports=e("AGFzbQEAAAABEANgAn9/AGADf39/AGABfwADBQQAAQICBQUBAQroBwdNBQZtZW1vcnkCAAxibGFrZTJiX2luaXQAAA5ibGFrZTJiX3VwZGF0ZQABDWJsYWtlMmJfZmluYWwAAhBibGFrZTJiX2NvbXByZXNzAAMKvz8EwAIAIABCADcDACAAQgA3AwggAEIANwMQIABCADcDGCAAQgA3AyAgAEIANwMoIABCADcDMCAAQgA3AzggAEIANwNAIABCADcDSCAAQgA3A1AgAEIANwNYIABCADcDYCAAQgA3A2ggAEIANwNwIABCADcDeCAAQoiS853/zPmE6gBBACkDAIU3A4ABIABCu86qptjQ67O7f0EIKQMAhTcDiAEgAEKr8NP0r+68tzxBECkDAIU3A5ABIABC8e30+KWn/aelf0EYKQMAhTcDmAEgAELRhZrv+s+Uh9EAQSApAwCFNwOgASAAQp/Y+dnCkdqCm39BKCkDAIU3A6gBIABC6/qG2r+19sEfQTApAwCFNwOwASAAQvnC+JuRo7Pw2wBBOCkDAIU3A7gBIABCADcDwAEgAEIANwPIASAAQgA3A9ABC20BA38gAEHAAWohAyAAQcgBaiEEIAQpAwCnIQUCQANAIAEgAkYNASAFQYABRgRAIAMgAykDACAFrXw3AwBBACEFIAAQAwsgACAFaiABLQAAOgAAIAVBAWohBSABQQFqIQEMAAsLIAQgBa03AwALYQEDfyAAQcABaiEBIABByAFqIQIgASABKQMAIAIpAwB8NwMAIABCfzcD0AEgAikDAKchAwJAA0AgA0GAAUYNASAAIANqQQA6AAAgA0EBaiEDDAALCyACIAOtNwMAIAAQAwuqOwIgfgl/IABBgAFqISEgAEGIAWohIiAAQZABaiEjIABBmAFqISQgAEGgAWohJSAAQagBaiEmIABBsAFqIScgAEG4AWohKCAhKQMAIQEgIikDACECICMpAwAhAyAkKQMAIQQgJSkDACEFICYpAwAhBiAnKQMAIQcgKCkDACEIQoiS853/zPmE6gAhCUK7zqqm2NDrs7t/IQpCq/DT9K/uvLc8IQtC8e30+KWn/aelfyEMQtGFmu/6z5SH0QAhDUKf2PnZwpHagpt/IQ5C6/qG2r+19sEfIQ9C+cL4m5Gjs/DbACEQIAApAwAhESAAKQMIIRIgACkDECETIAApAxghFCAAKQMgIRUgACkDKCEWIAApAzAhFyAAKQM4IRggACkDQCEZIAApA0ghGiAAKQNQIRsgACkDWCEcIAApA2AhHSAAKQNoIR4gACkDcCEfIAApA3ghICANIAApA8ABhSENIA8gACkD0AGFIQ8gASAFIBF8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSASfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgE3x8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBR8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAVfHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgFnx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBd8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAYfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgGXx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIBp8fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAbfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgHHx8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIB18fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCAefHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgH3x8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFICB8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAffHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgG3x8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBV8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAZfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgGnx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHICB8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAefHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggF3x8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBJ8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiAdfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgEXx8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBN8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAcfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggGHx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIBZ8fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAUfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgHHx8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIBl8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAdfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgEXx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBZ8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByATfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggIHx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIB58fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAbfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgH3x8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBR8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAXfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggGHx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBJ8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAafHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgFXx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIBh8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSAafHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgFHx8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBJ8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAefHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgHXx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBx8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAffHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgE3x8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIBd8fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAWfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgG3x8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBV8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCARfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgIHx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBl8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAafHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgEXx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBZ8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAYfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgE3x8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIBV8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAbfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggIHx8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIB98fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiASfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgHHx8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIB18fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAXfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggGXx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIBR8fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAefHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgE3x8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIB18fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAXfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgG3x8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBF8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAcfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggGXx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBR8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAVfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgHnx8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBh8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAWfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggIHx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIB98fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSASfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgGnx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIB18fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSAWfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgEnx8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGICB8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAffHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgHnx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBV8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAbfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgEXx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIBh8fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAXfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgFHx8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBp8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCATfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgGXx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBx8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAefHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgHHx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBh8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAffHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgHXx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIBJ8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAUfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggGnx8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBZ8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiARfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgIHx8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBV8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAZfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggF3x8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIBN8fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAbfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgF3x8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFICB8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAffHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgGnx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBx8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAUfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggEXx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBl8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAdfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgE3x8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIB58fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAYfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggEnx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBV8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAbfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgFnx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIBt8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSATfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgGXx8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBV8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAYfHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgF3x8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBJ8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAWfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgIHx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIBx8fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAafHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgH3x8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBR8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCAdfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgHnx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBF8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSARfHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgEnx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBN8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAUfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgFXx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIBZ8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAXfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggGHx8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBl8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiAafHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgG3x8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBx8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAdfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggHnx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIB98fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAgfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgH3x8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIBt8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAVfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgGXx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBp8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAgfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggHnx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBd8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiASfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgHXx8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBF8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByATfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggHHx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBh8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAWfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgFHx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgISAhKQMAIAEgCYWFNwMAICIgIikDACACIAqFhTcDACAjICMpAwAgAyALhYU3AwAgJCAkKQMAIAQgDIWFNwMAICUgJSkDACAFIA2FhTcDACAmICYpAwAgBiAOhYU3AwAgJyAnKQMAIAcgD4WFNwMAICggKCkDACAIIBCFhTcDAAs=")}}),n=r(),i=WebAssembly.compile(n);return H2=async a=>(await WebAssembly.instantiate(await i,a)).exports,H2}var ji=Pk,Yk=a3.exports,Ss=null,k6=typeof WebAssembly<"u"&&Wk()().then(t=>{Ss=t}),ms=64,l1=[];Pt.exports=Ei;var N6=Pt.exports.BYTES_MIN=16,P6=Pt.exports.BYTES_MAX=64;Pt.exports.BYTES=32;var R6=Pt.exports.KEYBYTES_MIN=16,M6=Pt.exports.KEYBYTES_MAX=64;Pt.exports.KEYBYTES=32;var U6=Pt.exports.SALTBYTES=16,O6=Pt.exports.PERSONALBYTES=16;function Ei(t,e,r,n,i){if(!(this instanceof Ei))return new Ei(t,e,r,n,i);if(!Ss)throw new Error("WASM not loaded. Wait for Blake2b.ready(cb)");t||(t=32),i!==!0&&(ji(t>=N6,"digestLength must be at least "+N6+", was given "+t),ji(t<=P6,"digestLength must be at most "+P6+", was given "+t),e!=null&&(ji(e instanceof Uint8Array,"key must be Uint8Array or Buffer"),ji(e.length>=R6,"key must be at least "+R6+", was given "+e.length),ji(e.length<=M6,"key must be at least "+M6+", was given "+e.length)),r!=null&&(ji(r instanceof Uint8Array,"salt must be Uint8Array or Buffer"),ji(r.length===U6,"salt must be exactly "+U6+", was given "+r.length)),n!=null&&(ji(n instanceof Uint8Array,"personal must be Uint8Array or Buffer"),ji(n.length===O6,"personal must be exactly "+O6+", was given "+n.length))),l1.length||(l1.push(ms),ms+=216),this.digestLength=t,this.finalized=!1,this.pointer=l1.pop(),this._memory=new Uint8Array(Ss.memory.buffer),this._memory.fill(0,0,64),this._memory[0]=this.digestLength,this._memory[1]=e?e.length:0,this._memory[2]=1,this._memory[3]=1,r&&this._memory.set(r,32),n&&this._memory.set(n,48),this.pointer+216>this._memory.length&&this._realloc(this.pointer+216),Ss.blake2b_init(this.pointer,this.digestLength),e&&(this.update(e),this._memory.fill(0,ms,ms+e.length),this._memory[this.pointer+200]=128)}Ei.prototype._realloc=function(t){Ss.memory.grow(Math.max(0,Math.ceil(Math.abs(t-this._memory.length)/65536))),this._memory=new Uint8Array(Ss.memory.buffer)};Ei.prototype.update=function(t){return ji(this.finalized===!1,"Hash instance finalized"),ji(t instanceof Uint8Array,"input must be Uint8Array or Buffer"),ms+t.length>this._memory.length&&this._realloc(ms+t.length),this._memory.set(t,ms),Ss.blake2b_update(this.pointer,ms,ms+t.length),this};Ei.prototype.digest=function(t){if(ji(this.finalized===!1,"Hash instance finalized"),this.finalized=!0,l1.push(this.pointer),Ss.blake2b_final(this.pointer),!t||t==="binary")return this._memory.slice(this.pointer+128,this.pointer+128+this.digestLength);if(typeof t=="string")return Yk.toString(this._memory,t,this.pointer+128,this.pointer+128+this.digestLength);ji(t instanceof Uint8Array&&t.length>=this.digestLength,"input must be Uint8Array or Buffer");for(var e=0;e<this.digestLength;e++)t[e]=this._memory[this.pointer+128+e];return t};Ei.prototype.final=Ei.prototype.digest;Ei.WASM=Ss;Ei.SUPPORTED=typeof WebAssembly<"u";Ei.ready=function(t){return t||(t=Zk),k6?k6.then(()=>t(),t):t(new Error("WebAssembly not supported"))};Ei.prototype.ready=Ei.ready;Ei.prototype.getPartialHash=function(){return this._memory.slice(this.pointer,this.pointer+216)};Ei.prototype.setPartialHash=function(t){this._memory.set(t,this.pointer)};function Zk(){}function K0(t){return(t&4294901760?(t&=4294901760,16):0)|(t&4278255360?(t&=4278255360,8):0)|(t&4042322160?(t&=4042322160,4):0)|(t&3435973836?(t&=3435973836,2):0)|(t&2863311530)!==0}function jr(t,e){const r=new DataView(t.buffer,t.byteOffset,t.byteLength);let n="";for(let i=0;i<4;i++){i>0&&(n+=`
`),n+="		";for(let a=0;a<4;a++)a>0&&(n+=" "),n+=r.getUint32(i*16+a*4).toString(16).padStart(8,"0")}return e&&(n=e+`
`+n),n}function L0(t,e){if(t.byteLength!=e.byteLength)return!1;for(var r=new Int8Array(t),n=new Int8Array(e),i=0;i!=t.byteLength;i++)if(r[i]!=n[i])return!1;return!0}function Xk(t){const e=t.getPartialHash(),r=Pt.exports(64);return r.setPartialHash(e),r}async function h_(t,e,r,n,i){return t.G1.isZero(e)||t.G1.isZero(r)||t.G2.isZero(n)||t.G2.isZero(i)?!1:await t.pairingEq(e,i,t.G1.neg(r),n)}function Jk(){return window.prompt("Enter a random text. (Entropy): ","")}function Fc(t){let e=new Uint8Array(t);return globalThis.crypto.getRandomValues(e),e}async function eN(t){{const e=await globalThis.crypto.subtle.digest("SHA-256",t.buffer);return new Uint8Array(e)}}function tx(t,e){return new DataView(t.buffer).getUint32(e,!1)}async function xp(t){for(;!t;)t=await Jk();const e=Pt.exports(64);e.update(Fc(64));const r=new TextEncoder;e.update(r.encode(t));const n=e.digest(),i=[];for(let o=0;o<8;o++)i[o]=tx(n,o*4);return new wl(i)}async function D8(t,e){let r,n;e<32?(r=1<<e>>>0,n=1):(r=4294967296,n=1<<e-32>>>0);let i=t;for(let u=0;u<n;u++)for(let l=0;l<r;l++)i=await eN(i);const a=new DataView(i.buffer,i.byteOffset,i.byteLength),o=[];for(let u=0;u<8;u++)o[u]=a.getUint32(u*4,!1);return new wl(o)}function x_(t){return t instanceof Uint8Array?t:(t.slice(0,2)=="0x"&&(t=t.slice(2)),new Uint8Array(t.match(/[\da-f]{2}/gi).map(function(e){return parseInt(e,16)})))}function p_(t){return Array.prototype.map.call(t,function(e){return("0"+(e&255).toString(16)).slice(-2)}).join("")}function rx(t,e){if(e instanceof Uint8Array)return t.toString(e);if(Array.isArray(e))return e.map(rx.bind(null,t));if(typeof e=="object"){const r={};return Object.keys(e).forEach(i=>{r[i]=rx(t,e[i])}),r}else return typeof e=="bigint"||e.eq!==void 0?e.toString(10):e}const V6=1,tN=1,rN=2,Md=10,nN=3,iN=17,c3=2,nx=3,u3=4,f3=5,d3=6,Lf=7,Ff=8,Df=9,Tf=10,kf=11,Nf=12,Pf=13,Rf=14,h3=15,ix=16,x3=17;async function T8(t,e){await zt(t,1),await t.writeULE32(1),await Kt(t);const r=await bi(e.q);await zt(t,2);const n=r.q,i=(Math.floor((It.bitLength(n)-1)/64)+1)*8,a=r.r,o=(Math.floor((It.bitLength(a)-1)/64)+1)*8;await t.writeULE32(i),await ao(t,n,i),await t.writeULE32(o),await ao(t,a,o),await t.writeULE32(e.nVars),await t.writeULE32(e.nPublic),await t.writeULE32(e.domainSize),await Dc(t,r,e.vk_alpha_1),await Dc(t,r,e.vk_beta_1),await c1(t,r,e.vk_beta_2),await c1(t,r,e.vk_gamma_2),await Dc(t,r,e.vk_delta_1),await c1(t,r,e.vk_delta_2),await Kt(t)}async function Dc(t,e,r){const n=new Uint8Array(e.G1.F.n8*2);e.G1.toRprLEM(n,0,r),await t.write(n)}async function c1(t,e,r){const n=new Uint8Array(e.G2.F.n8*2);e.G2.toRprLEM(n,0,r),await t.write(n)}async function yn(t,e,r){const n=await t.read(e.G1.F.n8*2),i=e.G1.fromRprLEM(n,0);return r?e.G1.toObject(i):i}async function xl(t,e,r){const n=await t.read(e.G2.F.n8*2),i=e.G2.fromRprLEM(n,0);return r?e.G2.toObject(i):i}async function oo(t,e,r,n){await yr(t,e,1);const i=await t.readULE32();if(await vr(t),i===tN)return await aN(t,e,r,n);if(i===rN)return await oN(t,e,r,n);if(i===Md)return await sN(t,e,r,n);throw new Error("Protocol not supported: ")}async function aN(t,e,r,n){const i={};i.protocol="groth16",await yr(t,e,2);const a=await t.readULE32();i.n8q=a,i.q=await Ko(t,a);const o=await t.readULE32();return i.n8r=o,i.r=await Ko(t,o),i.curve=await bi(i.q,n),i.nVars=await t.readULE32(),i.nPublic=await t.readULE32(),i.domainSize=await t.readULE32(),i.power=K0(i.domainSize),i.vk_alpha_1=await yn(t,i.curve,r),i.vk_beta_1=await yn(t,i.curve,r),i.vk_beta_2=await xl(t,i.curve,r),i.vk_gamma_2=await xl(t,i.curve,r),i.vk_delta_1=await yn(t,i.curve,r),i.vk_delta_2=await xl(t,i.curve,r),await vr(t),i}async function oN(t,e,r,n){const i={};i.protocol="plonk",await yr(t,e,2);const a=await t.readULE32();i.n8q=a,i.q=await Ko(t,a);const o=await t.readULE32();return i.n8r=o,i.r=await Ko(t,o),i.curve=await bi(i.q,n),i.nVars=await t.readULE32(),i.nPublic=await t.readULE32(),i.domainSize=await t.readULE32(),i.power=K0(i.domainSize),i.nAdditions=await t.readULE32(),i.nConstraints=await t.readULE32(),i.k1=await t.read(o),i.k2=await t.read(o),i.Qm=await yn(t,i.curve,r),i.Ql=await yn(t,i.curve,r),i.Qr=await yn(t,i.curve,r),i.Qo=await yn(t,i.curve,r),i.Qc=await yn(t,i.curve,r),i.S1=await yn(t,i.curve,r),i.S2=await yn(t,i.curve,r),i.S3=await yn(t,i.curve,r),i.X_2=await xl(t,i.curve,r),await vr(t),i}async function sN(t,e,r,n){const i={};i.protocol="fflonk",i.protocolId=Md,await yr(t,e,c3);const a=await t.readULE32();i.n8q=a,i.q=await Ko(t,a),i.curve=await bi(i.q,n);const o=await t.readULE32();return i.n8r=o,i.r=await Ko(t,o),i.nVars=await t.readULE32(),i.nPublic=await t.readULE32(),i.domainSize=await t.readULE32(),i.power=K0(i.domainSize),i.nAdditions=await t.readULE32(),i.nConstraints=await t.readULE32(),i.k1=await t.read(o),i.k2=await t.read(o),i.w3=await t.read(o),i.w4=await t.read(o),i.w8=await t.read(o),i.wr=await t.read(o),i.X_2=await xl(t,i.curve,r),i.C0=await yn(t,i.curve,r),await vr(t),i}async function lN(t,e){const{fd:r,sections:n}=await gr(t,"zkey",1),i=await oo(r,n,e),a=new _8(i.r),o=It.mod(It.shl(1,i.n8r*8),i.r),s=a.inv(o),u=a.mul(s,s);let l=await bi(i.q);await yr(r,n,3),i.IC=[];for(let d=0;d<=i.nPublic;d++){const h=await yn(r,l,e);i.IC.push(h)}await vr(r),await yr(r,n,4);const c=await r.readULE32();i.ccoefs=[];for(let d=0;d<c;d++){const h=await r.readULE32(),y=await r.readULE32(),w=await r.readULE32(),_=await f();i.ccoefs.push({matrix:h,constraint:y,signal:w,value:_})}await vr(r),await yr(r,n,5),i.A=[];for(let d=0;d<i.nVars;d++){const h=await yn(r,l,e);i.A[d]=h}await vr(r),await yr(r,n,6),i.B1=[];for(let d=0;d<i.nVars;d++){const h=await yn(r,l,e);i.B1[d]=h}await vr(r),await yr(r,n,7),i.B2=[];for(let d=0;d<i.nVars;d++){const h=await xl(r,l,e);i.B2[d]=h}await vr(r),await yr(r,n,8),i.C=[];for(let d=i.nPublic+1;d<i.nVars;d++){const h=await yn(r,l,e);i.C[d]=h}await vr(r),await yr(r,n,9),i.hExps=[];for(let d=0;d<i.domainSize;d++){const h=await yn(r,l,e);i.hExps.push(h)}return await vr(r),await r.close(),i;async function f(){const d=await Ko(r,i.n8r);return a.mul(d,u)}}async function cN(t,e,r){const n={delta:{}};n.deltaAfter=await yn(t,e,r),n.delta.g1_s=await yn(t,e,r),n.delta.g1_sx=await yn(t,e,r),n.delta.g2_spx=await xl(t,e,r),n.transcript=await t.read(64),n.type=await t.readULE32();const i=await t.readULE32(),a=t.pos;let o=0;for(;t.pos-a<i;){const s=await t.read(1);if(s[0]<=o)throw new Error("Parameters in the contribution must be sorted");if(o=s[0],s[0]==1){const u=await t.read(1),l=await t.read(u[0]);n.name=new TextDecoder().decode(l)}else if(s[0]==2){const u=await t.read(1);n.numIterationsExp=u[0]}else if(s[0]==3){const u=await t.read(1);n.beaconHash=await t.read(u[0])}else throw new Error("Parameter not recognized")}if(t.pos!=a+i)throw new Error("Parameters do not match");return n}async function Hc(t,e,r){await yr(t,r,10);const n={contributions:[]};n.csHash=await t.read(64);const i=await t.readULE32();for(let a=0;a<i;a++){const o=await cN(t,e);n.contributions.push(o)}return await vr(t),n}async function uN(t,e,r){await Dc(t,e,r.deltaAfter),await Dc(t,e,r.delta.g1_s),await Dc(t,e,r.delta.g1_sx),await c1(t,e,r.delta.g2_spx),await t.write(r.transcript),await t.writeULE32(r.type||0);const n=[];if(r.name){n.push(1);const i=new TextEncoder("utf-8").encode(r.name.substring(0,64));n.push(i.byteLength);for(let a=0;a<i.byteLength;a++)n.push(i[a])}if(r.type==1){n.push(2),n.push(r.numIterationsExp),n.push(3),n.push(r.beaconHash.byteLength);for(let i=0;i<r.beaconHash.byteLength;i++)n.push(r.beaconHash[i])}if(n.length>0){const i=new Uint8Array(n);await t.writeULE32(i.byteLength),await t.write(i)}else await t.writeULE32(0)}async function k8(t,e,r){await zt(t,10),await t.write(r.csHash),await t.writeULE32(r.contributions.length);for(let n=0;n<r.contributions.length;n++)await uN(t,e,r.contributions[n]);await Kt(t)}function ro(t,e,r){const n=new Uint8Array(e.G1.F.n8*2);e.G1.toRprUncompressed(n,0,r),t.update(n)}function fN(t,e,r){const n=new Uint8Array(e.G2.F.n8*2);e.G2.toRprUncompressed(n,0,r),t.update(n)}function F0(t,e,r){ro(t,e,r.deltaAfter),ro(t,e,r.delta.g1_s),ro(t,e,r.delta.g1_sx),fN(t,e,r.delta.g2_spx),t.update(r.transcript)}async function dN(t,e,r){await zt(t,1);const n=(Math.floor((It.bitLength(r)-1)/64)+1)*8;await t.writeULE32(n),await ao(t,r,n),await t.writeULE32(e.length),await Kt(t),await zt(t,2);for(let i=0;i<e.length;i++)await ao(t,e[i],n);await Kt(t)}async function hN(t,e,r){await zt(t,1);const n=(Math.floor((It.bitLength(r)-1)/64)+1)*8;if(await t.writeULE32(n),await ao(t,r,n),e.byteLength%n!=0)throw new Error("Invalid witness length");await t.writeULE32(e.byteLength/n),await Kt(t),await zt(t,2),await t.write(e),await Kt(t)}async function Ud(t,e){await yr(t,e,1);const r=await t.readULE32(),n=await Ko(t,r),i=await t.readULE32();return await vr(t),{n8:r,q:n,nWitness:i}}async function xN(t){const{fd:e,sections:r}=await gr(t,"wtns",2),{n8:n,nWitness:i}=await Ud(e,r);await yr(e,r,2);const a=[];for(let o=0;o<i;o++){const s=await Ko(e,n);a.push(s)}return await vr(e),await e.close(),a}const{stringifyBigInts:G6}=$n;async function g_(t,e,r,n){const{fd:i,sections:a}=await gr(e,"wtns",2),o=await Ud(i,a),{fd:s,sections:u}=await gr(t,"zkey",2),l=await oo(s,u,void 0,n);if(l.protocol!="groth16")throw new Error("zkey file is not groth16");if(!It.eq(l.r,o.q))throw new Error("Curve of the witness does not match the curve of the proving key");if(o.nWitness!=l.nVars)throw new Error(`Invalid witness length. Circuit: ${l.nVars}, witness: ${o.nWitness}`);const c=l.curve,f=c.Fr,d=c.G1,h=c.G2,y=K0(l.domainSize);r&&r.debug("Reading Wtns");const w=await nr(i,a,2);r&&r.debug("Reading Coeffs");const _=await nr(s,u,4);r&&r.debug("Building ABC");const[E,p,m]=await pN(c,l,w,_,r),S=y==f.s?c.Fr.shift:c.Fr.w[y+1],F=await f.ifft(E,"","",r,"IFFT_A"),I=await f.batchApplyKey(F,f.e(1),S),v=await f.fft(I,"","",r,"FFT_A"),A=await f.ifft(p,"","",r,"IFFT_B"),D=await f.batchApplyKey(A,f.e(1),S),L=await f.fft(D,"","",r,"FFT_B"),j=await f.ifft(m,"","",r,"IFFT_C"),Y=await f.batchApplyKey(j,f.e(1),S),O=await f.fft(Y,"","",r,"FFT_C");r&&r.debug("Join ABC");const B=await gN(c,l,v,L,O,r);let C={};r&&r.debug("Reading A Points");const N=await nr(s,u,5);C.pi_a=await c.G1.multiExpAffine(N,w,r,"multiexp A"),r&&r.debug("Reading B1 Points");const U=await nr(s,u,6);let G=await c.G1.multiExpAffine(U,w,r,"multiexp B1");r&&r.debug("Reading B2 Points");const $=await nr(s,u,7);C.pi_b=await c.G2.multiExpAffine($,w,r,"multiexp B2"),r&&r.debug("Reading C Points");const Z=await nr(s,u,8);C.pi_c=await c.G1.multiExpAffine(Z,w.slice((l.nPublic+1)*c.Fr.n8),r,"multiexp C"),r&&r.debug("Reading H Points");const W=await nr(s,u,9),P=await c.G1.multiExpAffine(W,B,r,"multiexp H"),R=c.Fr.random(),re=c.Fr.random();C.pi_a=d.add(C.pi_a,l.vk_alpha_1),C.pi_a=d.add(C.pi_a,d.timesFr(l.vk_delta_1,R)),C.pi_b=h.add(C.pi_b,l.vk_beta_2),C.pi_b=h.add(C.pi_b,h.timesFr(l.vk_delta_2,re)),G=d.add(G,l.vk_beta_1),G=d.add(G,d.timesFr(l.vk_delta_1,re)),C.pi_c=d.add(C.pi_c,P),C.pi_c=d.add(C.pi_c,d.timesFr(C.pi_a,re)),C.pi_c=d.add(C.pi_c,d.timesFr(G,R)),C.pi_c=d.add(C.pi_c,d.timesFr(l.vk_delta_1,f.neg(f.mul(R,re))));let T=[];for(let x=1;x<=l.nPublic;x++){const z=w.slice(x*f.n8,x*f.n8+f.n8);T.push(It.fromRprLE(z))}return C.pi_a=d.toObject(d.toAffine(C.pi_a)),C.pi_b=h.toObject(h.toAffine(C.pi_b)),C.pi_c=d.toObject(d.toAffine(C.pi_c)),C.protocol="groth16",C.curve=c.name,await s.close(),await i.close(),C=G6(C),T=G6(T),{proof:C,publicSignals:T}}async function pN(t,e,r,n,i){const a=t.Fr.n8,o=4*3+e.n8r,s=(n.byteLength-4)/o,u=new He(e.domainSize*a),l=new He(e.domainSize*a),c=new He(e.domainSize*a),f=[u,l];for(let d=0;d<s;d++){i&&d%1e6==0&&i.debug(`QAP AB: ${d}/${s}`);const h=n.slice(4+d*o,4+d*o+o),y=new DataView(h.buffer),w=y.getUint32(0,!0),_=y.getUint32(4,!0),E=y.getUint32(8,!0),p=h.slice(12,12+a);f[w].set(t.Fr.add(f[w].slice(_*a,_*a+a),t.Fr.mul(p,r.slice(E*a,E*a+a))),_*a)}for(let d=0;d<e.domainSize;d++)i&&d%1e6==0&&i.debug(`QAP C: ${d}/${e.domainSize}`),c.set(t.Fr.mul(u.slice(d*a,d*a+a),l.slice(d*a,d*a+a)),d*a);return[u,l,c]}async function gN(t,e,r,n,i,a){const s=t.Fr.n8,u=Math.floor(r.byteLength/t.Fr.n8),l=[];for(let h=0;h<u;h+=4194304){a&&a.debug(`JoinABC: ${h}/${u}`);const y=Math.min(u-h,4194304),w=[],_=r.slice(h*s,(h+y)*s),E=n.slice(h*s,(h+y)*s),p=i.slice(h*s,(h+y)*s);w.push({cmd:"ALLOCSET",var:0,buff:_}),w.push({cmd:"ALLOCSET",var:1,buff:E}),w.push({cmd:"ALLOCSET",var:2,buff:p}),w.push({cmd:"ALLOC",var:3,len:y*s}),w.push({cmd:"CALL",fnName:"qap_joinABC",params:[{var:0},{var:1},{var:2},{val:y},{var:3}]}),w.push({cmd:"CALL",fnName:"frm_batchFromMontgomery",params:[{var:3},{val:y},{var:3}]}),w.push({cmd:"GET",out:0,var:3,len:y*s}),l.push(t.tm.queueAction(w))}const c=await Promise.all(l);let f;r instanceof He?f=new He(r.byteLength):f=new Uint8Array(r.byteLength);let d=0;for(let h=0;h<c.length;h++)f.set(c[h][0],d),d+=c[h][0].byteLength;return f}function m_(t){let e=[];return r(e,t),e;function r(n,i){if(Array.isArray(i))for(let a=0;a<i.length;a++)r(n,i[a]);else n.push(i)}}function mN(t,e){let r=BigInt(t)%e;return r<0&&(r+=e),r}function y_(t){const e=BigInt(2)**BigInt(64);let r=BigInt("0xCBF29CE484222325");for(let a=0;a<t.length;a++)r^=BigInt(t[a].charCodeAt(0)),r*=BigInt(1099511628211),r%=e;let n=r.toString(16),i=16-n.length;return n="0".repeat(i).concat(n),n}function yN(t,e){const r=[];let n=BigInt(t);const i=BigInt(4294967296);for(;n;)r.unshift(Number(n%i)),n=n/i;if(e){let a=e-r.length;for(;a>0;)r.unshift(0),a--}return r}async function v_(t,e){let r,n,i;e=e||{};let a=1,o=0,s=0,u=!1;if(t instanceof WebAssembly.Instance)r=t,u=!0;else{let d=32767;if(e.memorySize&&(d=parseInt(e.memorySize),d<0))throw new Error("Invalid memory size");let h=!1;for(;!h;)try{i=new WebAssembly.Memory({initial:d}),h=!0}catch(E){if(d<=1)throw E;console.warn("Could not allocate "+d*1024*64+" bytes. This may cause severe instability. Trying with "+d*1024*64/2+" bytes"),d=Math.floor(d/2)}const y=await WebAssembly.compile(t);let w="",_="";r=await WebAssembly.instantiate(y,{env:{memory:i},runtime:{printDebug:function(E){console.log("printDebug:",E)},exceptionHandler:function(E){let p;throw E===1?p="Signal not found. ":E===2?p="Too many signals set. ":E===3?p="Signal already set. ":E===4?p="Assert Failed. ":E===5?p="Not enough memory. ":E===6?p="Input signal array access exceeds the size. ":p="Unknown error. ",console.error("ERROR: ",E,w),new Error(p+w)},printErrorMessage:function(){w+=c()+`
`},writeBufferMessage:function(){const E=c();E===`
`?(console.log(_),_=""):(_!==""&&(_+=" "),_+=E)},showSharedRWMemory:function(){const E=r.exports.getFieldNumLen32(),p=new Uint32Array(E);for(let m=0;m<E;m++)p[E-1-m]=r.exports.readSharedRWMemory(m);if(a>=2&&(o>=1||s>=7)){_!==""&&(_+=" ");const m=It.fromArray(p,4294967296).toString();_+=m}else console.log(It.fromArray(p,4294967296))},error:function(E,p,m,S,F,I){let v;throw E===7?v=f(p)+" "+n.getFr(S).toString()+" != "+n.getFr(F).toString()+" "+f(I):E===9?v=f(p)+" "+n.getFr(S).toString()+" "+f(F):E===5&&e.sym?v=f(p)+" "+e.sym.labelIdx2Name[F]:v=f(p)+" "+m+" "+S+" "+F+" "+I,console.log("ERROR: ",E,v),new Error(v)},log:function(E){console.log(n.getFr(E).toString())},logGetSignal:function(E,p){e.logGetSignal&&e.logGetSignal(E,n.getFr(p))},logSetSignal:function(E,p){e.logSetSignal&&e.logSetSignal(E,n.getFr(p))},logStartComponent:function(E){e.logStartComponent&&e.logStartComponent(E)},logFinishComponent:function(E){e.logFinishComponent&&e.logFinishComponent(E)}}})}typeof r.exports.getVersion=="function"&&(a=r.exports.getVersion()),typeof r.exports.getMinorVersion=="function"&&(o=r.exports.getMinorVersion()),typeof r.exports.getPatchVersion=="function"&&(s=r.exports.getPatchVersion());const l=e&&(e.sanityCheck||e.logGetSignal||e.logSetSignal||e.logStartComponent||e.logFinishComponent);if(a===2)n=new EN(r,l);else if(a===1){if(u)throw new Error("Loading code from WebAssembly instance is not supported for circom version 1");n=new vN(i,r,l)}else throw new Error(`Unsupported circom version: ${a}`);return n;function c(){let d="",h=r.exports.getMessageChar();for(;h!==0;)d+=String.fromCharCode(h),h=r.exports.getMessageChar();return d}function f(d){const h=new Uint8Array(i.buffer),y=[];for(let w=0;h[d+w]>0;w++)y.push(h[d+w]);return String.fromCharCode.apply(null,y)}}class vN{constructor(e,r,n){this.memory=e,this.i32=new Uint32Array(e.buffer),this.instance=r,this.n32=(this.instance.exports.getFrLen()>>2)-2;const i=this.instance.exports.getPRawPrime(),a=new Array(this.n32);for(let o=0;o<this.n32;o++)a[this.n32-1-o]=this.i32[(i>>2)+o];this.prime=It.fromArray(a,4294967296),this.Fr=new _8(this.prime),this.mask32=It.fromString("FFFFFFFF",16),this.NVars=this.instance.exports.getNVars(),this.n64=Math.floor((this.Fr.bitLength-1)/64)+1,this.R=this.Fr.e(It.shiftLeft(1,this.n64*64)),this.RInv=this.Fr.inv(this.R),this.sanityCheck=n}circom_version(){return 1}async _doCalculateWitness(e,r){this.instance.exports.init(this.sanityCheck||r?1:0);const n=this.allocInt(),i=this.allocFr();Object.keys(e).forEach(o=>{const s=y_(o),u=parseInt(s.slice(0,8),16),l=parseInt(s.slice(8,16),16);try{this.instance.exports.getSignalOffset32(n,0,u,l)}catch{throw new Error(`Signal ${o} is not an input of the circuit.`)}const c=this.getInt(n),f=m_(e[o]);for(let d=0;d<f.length;d++)this.setFr(i,f[d]),this.instance.exports.setSignal(0,0,c+d,i)})}async calculateWitness(e,r){const n=this,i=n.i32[0],a=[];await n._doCalculateWitness(e,r);for(let o=0;o<n.NVars;o++){const s=n.instance.exports.getPWitness(o);a.push(n.getFr(s))}return n.i32[0]=i,a}async calculateBinWitness(e,r){const n=this,i=n.i32[0];await n._doCalculateWitness(e,r);const a=n.instance.exports.getWitnessBuffer();n.i32[0]=i;const o=n.memory.buffer.slice(a,a+n.NVars*n.n64*8);return new Uint8Array(o)}allocInt(){const e=this.i32[0];return this.i32[0]=e+8,e}allocFr(){const e=this.i32[0];return this.i32[0]=e+this.n32*4+8,e}getInt(e){return this.i32[e>>2]}setInt(e,r){this.i32[e>>2]=r}getFr(e){const r=this,n=e>>2;if(r.i32[n+1]&2147483648){const a=new Array(r.n32);for(let s=0;s<r.n32;s++)a[r.n32-1-s]=r.i32[n+2+s];const o=r.Fr.e(It.fromArray(a,4294967296));return r.i32[n+1]&1073741824?i(o):o}else return r.i32[n]&2147483648?r.Fr.e(r.i32[n]-4294967296):r.Fr.e(r.i32[n]);function i(a){return r.Fr.mul(r.RInv,a)}}setFr(e,r){const n=this;r=n.Fr.e(r);const i=n.Fr.neg(n.Fr.e("80000000",16)),a=n.Fr.e("7FFFFFFF",16);if(n.Fr.geq(r,i)&&n.Fr.leq(r,a)){let s;n.Fr.geq(r,n.Fr.zero)?s=It.toNumber(r):(s=It.toNumber(n.Fr.sub(r,i)),s=s-2147483648,s=4294967296+s),n.i32[e>>2]=s,n.i32[(e>>2)+1]=0;return}n.i32[e>>2]=0,n.i32[(e>>2)+1]=2147483648;const o=It.toArray(r,4294967296);for(let s=0;s<n.n32;s++){const u=o.length-1-s;u>=0?n.i32[(e>>2)+2+s]=o[u]:n.i32[(e>>2)+2+s]=0}}}class EN{constructor(e,r){this.instance=e,this.version=this.instance.exports.getVersion(),this.n32=this.instance.exports.getFieldNumLen32(),this.instance.exports.getRawPrime();const n=new Uint32Array(this.n32);for(let i=0;i<this.n32;i++)n[this.n32-1-i]=this.instance.exports.readSharedRWMemory(i);this.prime=It.fromArray(n,4294967296),this.witnessSize=this.instance.exports.getWitnessSize(),this.sanityCheck=r}circom_version(){return this.instance.exports.getVersion()}async _doCalculateWitness(e,r){this.instance.exports.init(this.sanityCheck||r?1:0);const n=Object.keys(e);let i=0;if(n.forEach(a=>{const o=y_(a),s=parseInt(o.slice(0,8),16),u=parseInt(o.slice(8,16),16),l=m_(e[a]);if(typeof this.instance.exports.getInputSignalSize=="function"){let c=this.instance.exports.getInputSignalSize(s,u);if(c<0)throw new Error(`Signal ${a} not found
`);if(l.length<c)throw new Error(`Not enough values for input signal ${a}
`);if(l.length>c)throw new Error(`Too many values for input signal ${a}
`)}for(let c=0;c<l.length;c++){const f=yN(mN(l[c],this.prime),this.n32);for(let d=0;d<this.n32;d++)this.instance.exports.writeSharedRWMemory(d,f[this.n32-1-d]);try{this.instance.exports.setInputSignal(s,u,c),i++}catch(d){throw new Error(d)}}}),i<this.instance.exports.getInputSize())throw new Error(`Not all inputs have been set. Only ${i} out of ${this.instance.exports.getInputSize()}`)}async calculateWitness(e,r){const n=[];await this._doCalculateWitness(e,r);for(let i=0;i<this.witnessSize;i++){this.instance.exports.getWitness(i);const a=new Uint32Array(this.n32);for(let o=0;o<this.n32;o++)a[this.n32-1-o]=this.instance.exports.readSharedRWMemory(o);n.push(It.fromArray(a,4294967296))}return n}async calculateWTNSBin(e,r){const n=new Uint32Array(this.witnessSize*this.n32+this.n32+11),i=new Uint8Array(n.buffer);await this._doCalculateWitness(e,r),i[0]=119,i[1]=116,i[2]=110,i[3]=115,n[1]=2,n[2]=2,n[3]=1;const a=this.n32*4,s=(8+a).toString(16);n[4]=parseInt(s.slice(0,8),16),n[5]=parseInt(s.slice(8,16),16),n[6]=a,this.instance.exports.getRawPrime();let u=7;for(let f=0;f<this.n32;f++)n[u+f]=this.instance.exports.readSharedRWMemory(f);u+=this.n32,n[u]=this.witnessSize,u++,n[u]=2,u++;const c=(a*this.witnessSize).toString(16);n[u]=parseInt(c.slice(0,8),16),n[u+1]=parseInt(c.slice(8,16),16),u+=2;for(let f=0;f<this.witnessSize;f++){this.instance.exports.getWitness(f);for(let d=0;d<this.n32;d++)n[u+d]=this.instance.exports.readSharedRWMemory(d);u+=this.n32}return i}}const{unstringifyBigInts:CN}=$n;async function pp(t,e,r,n){const i=CN(t),a=await z0(e),o=await a.read(a.totalSize);await a.close();const s=await v_(o,n);if(s.circom_version()===1){const u=await s.calculateBinWitness(i),l=await Bi(r,"wtns",2,2);await hN(l,u,s.prime),await l.close()}else{const u=await hu(r),l=await s.calculateWTNSBin(i);await u.write(l),await u.close()}}const{unstringifyBigInts:AN}=$n;async function wN(t,e,r,n,i,a){const o=AN(t),s={type:"mem"};return await pp(o,e,s,i),await g_(r,s,n,a)}const{unstringifyBigInts:j2}=$n;async function _N(t,e,r,n){const i=j2(t),a=j2(r),o=j2(e),s=await Pl(i.curve),u=s.G1.fromObject(i.IC[0]),l=new Uint8Array(s.G1.F.n8*2*o.length),c=new Uint8Array(s.Fr.n8*o.length);if(!bN(s,o))return n&&n.error("Public inputs are not valid."),!1;for(let S=0;S<o.length;S++){const F=s.G1.fromObject(i.IC[S+1]);l.set(F,S*s.G1.F.n8*2),It.toRprLE(c,s.Fr.n8*S,o[S],s.Fr.n8)}let f=await s.G1.multiExpAffine(l,c);f=s.G1.add(f,u);const d=s.G1.fromObject(a.pi_a),h=s.G2.fromObject(a.pi_b),y=s.G1.fromObject(a.pi_c);if(!BN(s,{pi_a:d,pi_b:h,pi_c:y}))return n&&n.error("Proof commitments are not valid."),!1;const w=s.G2.fromObject(i.vk_gamma_2),_=s.G2.fromObject(i.vk_delta_2),E=s.G1.fromObject(i.vk_alpha_1),p=s.G2.fromObject(i.vk_beta_2);return await s.pairingEq(s.G1.neg(d),h,f,w,y,_,E,p)?(n&&n.info("OK!"),!0):(n&&n.error("Invalid proof"),!1)}function BN(t,e){const r=t.G1,n=t.G2;return r.isValid(e.pi_a)&&n.isValid(e.pi_b)&&r.isValid(e.pi_c)}function bN(t,e){for(let r=0;r<e.length;r++)if(!It.lt(e[r],t.r))return!1;return!0}const{unstringifyBigInts:z6}=$n;function Jo(t){let e=t.toString(16);for(;e.length<64;)e="0"+e;return e=`"0x${e}"`,e}async function SN(t,e){const r=z6(t),n=z6(e);let i="";for(let o=0;o<n.length;o++)i!=""&&(i=i+","),i=i+Jo(n[o]);let a;return a=`[${Jo(r.pi_a[0])}, ${Jo(r.pi_a[1])}],[[${Jo(r.pi_b[0][1])}, ${Jo(r.pi_b[0][0])}],[${Jo(r.pi_b[1][1])}, ${Jo(r.pi_b[1][0])}]],[${Jo(r.pi_c[0])}, ${Jo(r.pi_c[1])}],[${i}]`,a}var IN=Object.freeze({__proto__:null,fullProve:wN,prove:g_,verify:_N,exportSolidityCallData:SN});function Od(t,e){const r=new DataView(e.buffer,e.byteOffset,e.byteLength),n=[];for(let o=0;o<8;o++)n[o]=r.getUint32(o*4);const i=new wl(n);return t.G2.fromRng(i)}function u1(t,e,r,n,i){const a=Pt.exports(64),o=new Uint8Array([e]);a.update(o),a.update(r);const s=t.G1.toUncompressed(n);a.update(s);const u=t.G1.toUncompressed(i);a.update(u);const l=a.digest();return Od(t,l)}function $2(t,e,r,n,i){return t.g1_s=e.G1.toAffine(e.G1.fromRng(i)),t.g1_sx=e.G1.toAffine(e.G1.timesFr(t.g1_s,t.prvKey)),t.g2_sp=e.G2.toAffine(u1(e,r,n,t.g1_s,t.g1_sx)),t.g2_spx=e.G2.toAffine(e.G2.timesFr(t.g2_sp,t.prvKey)),t}function N8(t,e,r){const n={tau:{},alpha:{},beta:{}};return n.tau.prvKey=t.Fr.fromRng(r),n.alpha.prvKey=t.Fr.fromRng(r),n.beta.prvKey=t.Fr.fromRng(r),$2(n.tau,t,0,e,r),$2(n.alpha,t,1,e,r),$2(n.beta,t,2,e,r),n}async function Rl(t,e,r,n){n||(n=r),await t.writeULE32(1);const i=t.pos;await t.writeULE64(0),await t.writeULE32(e.F1.n64*8);const a=new Uint8Array(e.F1.n8);It.toRprLE(a,0,e.q,e.F1.n8),await t.write(a),await t.writeULE32(r),await t.writeULE32(n);const o=t.pos-i-8,s=t.pos;await t.writeULE64(o,i),t.pos=s}async function ka(t,e){if(!e[1])throw new Error(t.fileName+": File has no  header");if(e[1].length>1)throw new Error(t.fileName+": File has more than one header");t.pos=e[1][0].p;const r=await t.readULE32(),n=await t.read(r),i=It.fromRprLE(n),a=await bi(i);if(a.F1.n64*8!=r)throw new Error(t.fileName+": Invalid size");const o=await t.readULE32(),s=await t.readULE32();if(t.pos-e[1][0].p!=e[1][0].size)throw new Error("Invalid PTau header size");return{curve:a,power:o,ceremonyPower:s}}async function LN(t,e,r){const n=await t.read(e.F1.n8*2*6+e.F2.n8*2*3);return E_(n,0,e,r)}function E_(t,e,r,n){const i={tau:{},alpha:{},beta:{}};return i.tau.g1_s=a(),i.tau.g1_sx=a(),i.alpha.g1_s=a(),i.alpha.g1_sx=a(),i.beta.g1_s=a(),i.beta.g1_sx=a(),i.tau.g2_spx=o(),i.alpha.g2_spx=o(),i.beta.g2_spx=o(),i;function a(){let s;return n?s=r.G1.fromRprLEM(t,e):s=r.G1.fromRprUncompressed(t,e),e+=r.G1.F.n8*2,s}function o(){let s;return n?s=r.G2.fromRprLEM(t,e):s=r.G2.fromRprUncompressed(t,e),e+=r.G2.F.n8*2,s}}function xu(t,e,r,n,i){a(n.tau.g1_s),a(n.tau.g1_sx),a(n.alpha.g1_s),a(n.alpha.g1_sx),a(n.beta.g1_s),a(n.beta.g1_sx),o(n.tau.g2_spx),o(n.alpha.g2_spx),o(n.beta.g2_spx);async function a(s){i?r.G1.toRprLEM(t,e,s):r.G1.toRprUncompressed(t,e,s),e+=r.F1.n8*2}async function o(s){i?r.G2.toRprLEM(t,e,s):r.G2.toRprUncompressed(t,e,s),e+=r.F2.n8*2}return t}async function FN(t,e,r,n){const i=new Uint8Array(e.F1.n8*2*6+e.F2.n8*2*3);xu(i,0,e,r,n),await t.write(i)}async function DN(t,e){const r={};r.tauG1=await u(),r.tauG2=await l(),r.alphaG1=await u(),r.betaG1=await u(),r.betaG2=await l(),r.key=await LN(t,e,!0),r.partialHash=await t.read(216),r.nextChallenge=await t.read(64),r.type=await t.readULE32();const n=new Uint8Array(e.G1.F.n8*2*6+e.G2.F.n8*2*3);xu(n,0,e,r.key,!1);const i=Pt.exports(64);i.setPartialHash(r.partialHash),i.update(n),r.responseHash=i.digest();const a=await t.readULE32(),o=t.pos;let s=0;for(;t.pos-o<a;){const f=await c(1);if(f[0]<=s)throw new Error("Parameters in the contribution must be sorted");if(s=f[0],f[0]==1){const d=await c(1),h=await c(d[0]);r.name=new TextDecoder().decode(h)}else if(f[0]==2){const d=await c(1);r.numIterationsExp=d[0]}else if(f[0]==3){const d=await c(1);r.beaconHash=await c(d[0])}else throw new Error("Parameter not recognized")}if(t.pos!=o+a)throw new Error("Parameters do not match");return r;async function u(){const f=await t.read(e.G1.F.n8*2);return e.G1.fromRprLEM(f)}async function l(){const f=await t.read(e.G2.F.n8*2);return e.G2.fromRprLEM(f)}async function c(f){const d=await t.read(f);return new Uint8Array(d)}}async function pu(t,e,r){if(!r[7])throw new Error(t.fileName+": File has no  contributions");if(r[7][0].length>1)throw new Error(t.fileName+": File has more than one contributions section");t.pos=r[7][0].p;const n=await t.readULE32(),i=[];for(let a=0;a<n;a++){const o=await DN(t,e);o.id=a+1,i.push(o)}if(t.pos-r[7][0].p!=r[7][0].size)throw new Error("Invalid contribution section size");return i}async function TN(t,e,r){const n=new Uint8Array(e.F1.n8*2),i=new Uint8Array(e.F2.n8*2);await o(r.tauG1),await s(r.tauG2),await o(r.alphaG1),await o(r.betaG1),await s(r.betaG2),await FN(t,e,r.key,!0),await t.write(r.partialHash),await t.write(r.nextChallenge),await t.writeULE32(r.type||0);const a=[];if(r.name){a.push(1);const u=new TextEncoder("utf-8").encode(r.name.substring(0,64));a.push(u.byteLength);for(let l=0;l<u.byteLength;l++)a.push(u[l])}if(r.type==1){a.push(2),a.push(r.numIterationsExp),a.push(3),a.push(r.beaconHash.byteLength);for(let u=0;u<r.beaconHash.byteLength;u++)a.push(r.beaconHash[u])}if(a.length>0){const u=new Uint8Array(a);await t.writeULE32(u.byteLength),await t.write(u)}else await t.writeULE32(0);async function o(u){e.G1.toRprLEM(n,0,u),await t.write(n)}async function s(u){e.G2.toRprLEM(i,0,u),await t.write(i)}}async function P8(t,e,r){await t.writeULE32(7);const n=t.pos;await t.writeULE64(0),await t.writeULE32(r.length);for(let o=0;o<r.length;o++)await TN(t,e,r[o]);const i=t.pos-n-8,a=t.pos;await t.writeULE64(i,n),t.pos=a}function gu(t,e,r){r&&r.debug("Calculating First Challenge Hash");const n=new Pt.exports(64),i=new Uint8Array(t.G1.F.n8*2),a=new Uint8Array(t.G2.F.n8*2);t.G1.toRprUncompressed(i,0,t.G1.g),t.G2.toRprUncompressed(a,0,t.G2.g),n.update(Pt.exports(64).digest());let o;return o=2**e*2-1,r&&r.debug("Calculate Initial Hash: tauG1"),s(i,o),o=2**e,r&&r.debug("Calculate Initial Hash: tauG2"),s(a,o),r&&r.debug("Calculate Initial Hash: alphaTauG1"),s(i,o),r&&r.debug("Calculate Initial Hash: betaTauG1"),s(i,o),n.update(a),n.digest();function s(u,l){const f=Math.floor(l/341e3),d=l%341e3,h=new Uint8Array(341e3*u.byteLength);for(let y=0;y<341e3;y++)h.set(u,y*u.byteLength);for(let y=0;y<f;y++)n.update(h),r&&r.debug("Initial hash: "+y*341e3);for(let y=0;y<d;y++)n.update(u)}}async function C_(t,e,r,n){const i=await D8(r,n);return N8(t,e,i)}async function kN(t,e,r,n){await Pt.exports.ready();const i=await Bi(r,"ptau",1,7);await Rl(i,t,e,0);const a=t.G1.oneAffine,o=t.G2.oneAffine;await zt(i,2);const s=2**e*2-1;for(let d=0;d<s;d++)await i.write(a),n&&d%1e5==0&&d&&n.log("tauG1: "+d);await Kt(i),await zt(i,3);const u=2**e;for(let d=0;d<u;d++)await i.write(o),n&&d%1e5==0&&d&&n.log("tauG2: "+d);await Kt(i),await zt(i,4);const l=2**e;for(let d=0;d<l;d++)await i.write(a),n&&d%1e5==0&&d&&n.log("alphaTauG1: "+d);await Kt(i),await zt(i,5);const c=2**e;for(let d=0;d<c;d++)await i.write(a),n&&d%1e5==0&&d&&n.log("betaTauG1: "+d);await Kt(i),await zt(i,6),await i.write(o),await Kt(i),await zt(i,7),await i.writeULE32(0),await Kt(i),await i.close();const f=gu(t,e,n);return n&&n.debug(jr(Pt.exports(64).digest(),"Blank Contribution Hash:")),n&&n.info(jr(f,"First Contribution Hash:")),f}async function NN(t,e,r){await Pt.exports.ready();const{fd:n,sections:i}=await gr(t,"ptau",1),{curve:a,power:o}=await ka(n,i),s=await pu(n,a,i);let u,l;s.length==0?(u=Pt.exports(64).digest(),l=gu(a,o)):(u=s[s.length-1].responseHash,l=s[s.length-1].nextChallenge),r&&r.info(jr(u,"Last Response Hash: ")),r&&r.info(jr(l,"New Challenge Hash: "));const c=await hu(e),f=Pt.exports(64);await c.write(u),f.update(u),await h(2,"G1",2**o*2-1,"tauG1"),await h(3,"G2",2**o,"tauG2"),await h(4,"G1",2**o,"alphaTauG1"),await h(5,"G1",2**o,"betaTauG1"),await h(6,"G2",1,"betaG2"),await n.close(),await c.close();const d=f.digest();if(!L0(l,d))throw r&&r.info(jr(d,"Calc Curret Challenge Hash: ")),r&&r.error("PTau file is corrupted. Calculated new challenge hash does not match with the eclared one"),new Error("PTau file is corrupted. Calculated new challenge hash does not match with the eclared one");return l;async function h(y,w,_,E){const p=a[w],m=p.F.n8*2,S=Math.floor((1<<24)/m);await yr(n,i,y);for(let F=0;F<_;F+=S){r&&r.debug(`Exporting ${E}: ${F}/${_}`);const I=Math.min(_-F,S);let v;v=await n.read(I*m),v=await p.batchLEMtoU(v),await c.write(v),f.update(v)}await vr(n)}}async function PN(t,e,r,n,i,a){await Pt.exports.ready();const o=new Uint8Array(64);for(let B=0;B<64;B++)o[B]=255;const{fd:s,sections:u}=await gr(t,"ptau",1),{curve:l,power:c}=await ka(s,u),f=await pu(s,l,u),d={};n&&(d.name=n);const h=l.F1.n8*2,y=l.F1.n8,w=l.F2.n8*2,_=l.F2.n8,E=await z0(e);if(E.totalSize!=64+(2**c*2-1)*y+2**c*_+2**c*y+2**c*y+_+h*6+w*3)throw new Error("Size of the contribution is invalid");let p;f.length>0?p=f[f.length-1].nextChallenge:p=gu(l,c,a);const m=await Bi(r,"ptau",1,i?7:2);await Rl(m,l,c);const S=await E.read(64);if(L0(o,p)&&(p=S,f[f.length-1].nextChallenge=p),!L0(S,p))throw new Error("Wrong contribution. This contribution is not based on the previous hash");const F=new Pt.exports(64);F.update(S);const I=[];let v;v=await L(E,m,"G1",2,2**c*2-1,[1],"tauG1"),d.tauG1=v[0],v=await L(E,m,"G2",3,2**c,[1],"tauG2"),d.tauG2=v[0],v=await L(E,m,"G1",4,2**c,[0],"alphaG1"),d.alphaG1=v[0],v=await L(E,m,"G1",5,2**c,[0],"betaG1"),d.betaG1=v[0],v=await L(E,m,"G2",6,1,[0],"betaG2"),d.betaG2=v[0],d.partialHash=F.getPartialHash();const A=await E.read(l.F1.n8*2*6+l.F2.n8*2*3);d.key=E_(A,0,l,!1),F.update(new Uint8Array(A));const D=F.digest();if(a&&a.info(jr(D,"Contribution Response Hash imported: ")),i){const B=new Pt.exports(64);B.update(D),await O(B,m,"G1",2,2**c*2-1,"tauG1",a),await O(B,m,"G2",3,2**c,"tauG2",a),await O(B,m,"G1",4,2**c,"alphaTauG1",a),await O(B,m,"G1",5,2**c,"betaTauG1",a),await O(B,m,"G2",6,1,"betaG2",a),d.nextChallenge=B.digest(),a&&a.info(jr(d.nextChallenge,"Next Challenge Hash: "))}else d.nextChallenge=o;return f.push(d),await P8(m,l,f),await E.close(),await m.close(),await s.close(),d.nextChallenge;async function L(B,C,N,U,G,$,Z){return i?await j(B,C,N,U,G,$,Z):await Y(B,C,N,U,G,$,Z)}async function j(B,C,N,U,G,$,Z){const W=l[N],P=W.F.n8,R=W.F.n8*2,re=[];await zt(C,U);const T=Math.floor((1<<24)/R);I[U]=C.pos;for(let x=0;x<G;x+=T){a&&a.debug(`Importing ${Z}: ${x}/${G}`);const z=Math.min(G-x,T),b=await B.read(z*P);F.update(b);const J=await W.batchCtoLEM(b);await C.write(J);for(let V=0;V<$.length;V++){const g=$[V];if(g>=x&&g<x+z){const M=W.fromRprLEM(J,(g-x)*R);re.push(M)}}}return await Kt(C),re}async function Y(B,C,N,U,G,$,Z){const W=l[N],P=W.F.n8,R=[],re=Math.floor((1<<24)/P);for(let T=0;T<G;T+=re){a&&a.debug(`Importing ${Z}: ${T}/${G}`);const x=Math.min(G-T,re),z=await B.read(x*P);F.update(z);for(let b=0;b<$.length;b++){const J=$[b];if(J>=T&&J<T+x){const V=W.fromRprCompressed(z,(J-T)*P);R.push(V)}}}return R}async function O(B,C,N,U,G,$,Z){const W=l[N],P=W.F.n8*2,R=Math.floor((1<<24)/P),re=C.pos;C.pos=I[U];for(let T=0;T<G;T+=R){Z&&Z.debug(`Hashing ${$}: ${T}/${G}`);const x=Math.min(G-T,R),z=await C.read(x*P),b=await W.batchLEMtoU(z);B.update(b)}C.pos=re}}const ga=h_;async function K6(t,e,r,n){let i;if(e.type==1){const a=await C_(t,r.nextChallenge,e.beaconHash,e.numIterationsExp);if(!t.G1.eq(e.key.tau.g1_s,a.tau.g1_s))return n&&n.error(`BEACON key (tauG1_s) is not generated correctly in challenge #${e.id}  ${e.name||""}`),!1;if(!t.G1.eq(e.key.tau.g1_sx,a.tau.g1_sx))return n&&n.error(`BEACON key (tauG1_sx) is not generated correctly in challenge #${e.id}  ${e.name||""}`),!1;if(!t.G2.eq(e.key.tau.g2_spx,a.tau.g2_spx))return n&&n.error(`BEACON key (tauG2_spx) is not generated correctly in challenge #${e.id}  ${e.name||""}`),!1;if(!t.G1.eq(e.key.alpha.g1_s,a.alpha.g1_s))return n&&n.error(`BEACON key (alphaG1_s) is not generated correctly in challenge #${e.id}  ${e.name||""}`),!1;if(!t.G1.eq(e.key.alpha.g1_sx,a.alpha.g1_sx))return n&&n.error(`BEACON key (alphaG1_sx) is not generated correctly in challenge #${e.id}  ${e.name||""}`),!1;if(!t.G2.eq(e.key.alpha.g2_spx,a.alpha.g2_spx))return n&&n.error(`BEACON key (alphaG2_spx) is not generated correctly in challenge #${e.id}  ${e.name||""}`),!1;if(!t.G1.eq(e.key.beta.g1_s,a.beta.g1_s))return n&&n.error(`BEACON key (betaG1_s) is not generated correctly in challenge #${e.id}  ${e.name||""}`),!1;if(!t.G1.eq(e.key.beta.g1_sx,a.beta.g1_sx))return n&&n.error(`BEACON key (betaG1_sx) is not generated correctly in challenge #${e.id}  ${e.name||""}`),!1;if(!t.G2.eq(e.key.beta.g2_spx,a.beta.g2_spx))return n&&n.error(`BEACON key (betaG2_spx) is not generated correctly in challenge #${e.id}  ${e.name||""}`),!1}return e.key.tau.g2_sp=t.G2.toAffine(u1(t,0,r.nextChallenge,e.key.tau.g1_s,e.key.tau.g1_sx)),e.key.alpha.g2_sp=t.G2.toAffine(u1(t,1,r.nextChallenge,e.key.alpha.g1_s,e.key.alpha.g1_sx)),e.key.beta.g2_sp=t.G2.toAffine(u1(t,2,r.nextChallenge,e.key.beta.g1_s,e.key.beta.g1_sx)),i=await ga(t,e.key.tau.g1_s,e.key.tau.g1_sx,e.key.tau.g2_sp,e.key.tau.g2_spx),i!==!0?(n&&n.error("INVALID key (tau) in challenge #"+e.id),!1):(i=await ga(t,e.key.alpha.g1_s,e.key.alpha.g1_sx,e.key.alpha.g2_sp,e.key.alpha.g2_spx),i!==!0?(n&&n.error("INVALID key (alpha) in challenge #"+e.id),!1):(i=await ga(t,e.key.beta.g1_s,e.key.beta.g1_sx,e.key.beta.g2_sp,e.key.beta.g2_spx),i!==!0?(n&&n.error("INVALID key (beta) in challenge #"+e.id),!1):(i=await ga(t,r.tauG1,e.tauG1,e.key.tau.g2_sp,e.key.tau.g2_spx),i!==!0?(n&&n.error("INVALID tau*G1. challenge #"+e.id+" It does not follow the previous contribution"),!1):(i=await ga(t,e.key.tau.g1_s,e.key.tau.g1_sx,r.tauG2,e.tauG2),i!==!0?(n&&n.error("INVALID tau*G2. challenge #"+e.id+" It does not follow the previous contribution"),!1):(i=await ga(t,r.alphaG1,e.alphaG1,e.key.alpha.g2_sp,e.key.alpha.g2_spx),i!==!0?(n&&n.error("INVALID alpha*G1. challenge #"+e.id+" It does not follow the previous contribution"),!1):(i=await ga(t,r.betaG1,e.betaG1,e.key.beta.g2_sp,e.key.beta.g2_spx),i!==!0?(n&&n.error("INVALID beta*G1. challenge #"+e.id+" It does not follow the previous contribution"),!1):(i=await ga(t,e.key.beta.g1_s,e.key.beta.g1_sx,r.betaG2,e.betaG2),i!==!0?(n&&n.error("INVALID beta*G2. challenge #"+e.id+"It does not follow the previous contribution"),!1):(n&&n.info("Powers Of tau file OK!"),!0))))))))}async function RN(t,e){let r;await Pt.exports.ready();const{fd:n,sections:i}=await gr(t,"ptau",1),{curve:a,power:o,ceremonyPower:s}=await ka(n,i),u=await pu(n,a,i);e&&e.debug("power: 2**"+o),e&&e.debug("Computing initial contribution hash");const l={tauG1:a.G1.g,tauG2:a.G2.g,alphaG1:a.G1.g,betaG1:a.G1.g,betaG2:a.G2.g,nextChallenge:gu(a,s,e),responseHash:Pt.exports(64).digest()};if(u.length==0)return e&&e.error("This file has no contribution! It cannot be used in production"),!1;let c;u.length>1?c=u[u.length-2]:c=l;const f=u[u.length-1];if(e&&e.debug("Validating contribution #"+u[u.length-1].id),!await K6(a,f,c,e))return!1;const h=Pt.exports(64);h.update(f.responseHash),e&&e.debug("Verifying powers in tau*G1 section");const y=await I(2,"G1","tauG1",2**o*2-1,[0,1],e);if(r=await ga(a,y.R1,y.R2,a.G2.g,f.tauG2),r!==!0)return e&&e.error("tauG1 section. Powers do not match"),!1;if(!a.G1.eq(a.G1.g,y.singularPoints[0]))return e&&e.error("First element of tau*G1 section must be the generator"),!1;if(!a.G1.eq(f.tauG1,y.singularPoints[1]))return e&&e.error("Second element of tau*G1 section does not match the one in the contribution section"),!1;e&&e.debug("Verifying powers in tau*G2 section");const w=await I(3,"G2","tauG2",2**o,[0,1],e);if(r=await ga(a,a.G1.g,f.tauG1,w.R1,w.R2),r!==!0)return e&&e.error("tauG2 section. Powers do not match"),!1;if(!a.G2.eq(a.G2.g,w.singularPoints[0]))return e&&e.error("First element of tau*G2 section must be the generator"),!1;if(!a.G2.eq(f.tauG2,w.singularPoints[1]))return e&&e.error("Second element of tau*G2 section does not match the one in the contribution section"),!1;e&&e.debug("Verifying powers in alpha*tau*G1 section");const _=await I(4,"G1","alphatauG1",2**o,[0],e);if(r=await ga(a,_.R1,_.R2,a.G2.g,f.tauG2),r!==!0)return e&&e.error("alphaTauG1 section. Powers do not match"),!1;if(!a.G1.eq(f.alphaG1,_.singularPoints[0]))return e&&e.error("First element of alpha*tau*G1 section (alpha*G1) does not match the one in the contribution section"),!1;e&&e.debug("Verifying powers in beta*tau*G1 section");const E=await I(5,"G1","betatauG1",2**o,[0],e);if(r=await ga(a,E.R1,E.R2,a.G2.g,f.tauG2),r!==!0)return e&&e.error("betaTauG1 section. Powers do not match"),!1;if(!a.G1.eq(f.betaG1,E.singularPoints[0]))return e&&e.error("First element of beta*tau*G1 section (beta*G1) does not match the one in the contribution section"),!1;const p=await F(e);if(!a.G2.eq(f.betaG2,p))return e&&e.error("betaG2 element in betaG2 section does not match the one in the contribution section"),!1;const m=h.digest();if(o==s&&!L0(m,f.nextChallenge))return e&&e.error("Hash of the values does not match the next challenge of the last contributor in the contributions section"),!1;e&&e.info(jr(m,"Next challenge hash: ")),S(f,c);for(let A=u.length-2;A>=0;A--){const D=u[A],L=A>0?u[A-1]:l;if(!await K6(a,D,L,e))return!1;S(D,L)}if(e&&e.info("-----------------------------------------------------"),!i[12]||!i[13]||!i[14]||!i[15])e&&e.warn(`this file does not contain phase2 precalculated values. Please run: 
   snarkjs "powersoftau preparephase2" to prepare this file to be used in the phase2 ceremony.`);else{let A;if(A=await v("G1",2,12,"tauG1",e),!A||(A=await v("G2",3,13,"tauG2",e),!A)||(A=await v("G1",4,14,"alphaTauG1",e),!A)||(A=await v("G1",5,15,"betaTauG1",e),!A))return!1}return await n.close(),e&&e.info("Powers of Tau Ok!"),!0;function S(A,D){if(!e)return;e.info("-----------------------------------------------------"),e.info(`Contribution #${A.id}: ${A.name||""}`),e.info(jr(A.nextChallenge,"Next Challenge: "));const L=new Uint8Array(a.G1.F.n8*2*6+a.G2.F.n8*2*3);xu(L,0,a,A.key,!1);const j=Pt.exports(64);j.setPartialHash(A.partialHash),j.update(L);const Y=j.digest();e.info(jr(Y,"Response Hash:")),e.info(jr(D.nextChallenge,"Response Hash:")),A.type==1&&(e.info(`Beacon generator: ${p_(A.beaconHash)}`),e.info(`Beacon iterations Exp: ${A.numIterationsExp}`))}async function F(A){const D=a.G2,L=D.F.n8*2,j=new Uint8Array(L);if(!i[6])throw A.error("File has no BetaG2 section"),new Error("File has no BetaG2 section");if(i[6].length>1)throw A.error("File has no BetaG2 section"),new Error("File has more than one GetaG2 section");n.pos=i[6][0].p;const Y=await n.read(L),O=D.fromRprLEM(Y);return D.toRprUncompressed(j,0,O),h.update(j),O}async function I(A,D,L,j,Y,O){const C=a[D],N=C.F.n8*2;await yr(n,i,A);const U=[];let G=C.zero,$=C.zero,Z=C.zero;for(let W=0;W<j;W+=65536){O&&O.debug(`points relations: ${L}: ${W}/${j} `);const P=Math.min(j-W,65536),R=await n.read(P*N),re=await C.batchLEMtoU(R);h.update(re);const T=Fc(4*(P-1));if(W>0){const b=C.fromRprLEM(R,0),J=tx(Fc(4),0);G=C.add(G,C.timesScalar(Z,J)),$=C.add($,C.timesScalar(b,J))}const x=await C.multiExpAffine(R.slice(0,(P-1)*N),T),z=await C.multiExpAffine(R.slice(N),T);G=C.add(G,x),$=C.add($,z),Z=C.fromRprLEM(R,(P-1)*N);for(let b=0;b<Y.length;b++){const J=Y[b];if(J>=W&&J<W+P){const V=C.fromRprLEM(R,(J-W)*N);U.push(V)}}}return await vr(n),{R1:G,R2:$,singularPoints:U}}async function v(A,D,L,j,Y){Y&&Y.debug(`Verifying phase2 calculated values ${j}...`);const O=a[A],B=O.F.n8*2,C=new Array(8);for(let U=0;U<8;U++)C[U]=tx(Fc(4),0);for(let U=0;U<=o;U++)if(!await N(U))return!1;if(D==2&&!await N(o+1))return!1;return!0;async function N(U){Y&&Y.debug(`Power ${U}...`);const G=a.Fr.n8,$=2**U;let Z=new Uint32Array($),W,P=new wl(C);Y&&Y.debug(`Creating random numbers Powers${U}...`);for(let z=0;z<$;z++)U==o+1&&z==$-1?Z[z]=0:Z[z]=P.nextU32();Z=new Uint8Array(Z.buffer,Z.byteOffset,Z.byteLength),Y&&Y.debug(`reading points Powers${U}...`),await yr(n,i,D),W=new He($*B),U==o+1?(await n.readToBuffer(W,0,($-1)*B),W.set(a.G1.zeroAffine,($-1)*B)):await n.readToBuffer(W,0,$*B),await vr(n,!0);const R=await O.multiExpAffine(W,Z,Y,j+"_"+U);Z=new He($*G),P=new wl(C);const re=new Uint8Array(4),T=new DataView(re.buffer);Y&&Y.debug(`Creating random numbers Powers${U}...`);for(let z=0;z<$;z++)(z!=$-1||U!=o+1)&&(T.setUint32(0,P.nextU32(),!0),Z.set(re,z*G));Y&&Y.debug(`batchToMontgomery ${U}...`),Z=await a.Fr.batchToMontgomery(Z),Y&&Y.debug(`fft ${U}...`),Z=await a.Fr.fft(Z),Y&&Y.debug(`batchFromMontgomery ${U}...`),Z=await a.Fr.batchFromMontgomery(Z),Y&&Y.debug(`reading points Lagrange${U}...`),await yr(n,i,L),n.pos+=B*(2**U-1),await n.readToBuffer(W,0,$*B),await vr(n,!0);const x=await O.multiExpAffine(W,Z,Y,j+"_"+U+"_transformed");return O.eq(R,x)?!0:(Y&&Y.error("Phase2 caclutation does not match with powers of tau"),!1)}}}async function ax(t,e,r,n,i,a,o,s,u,l){const f=i[a],d=f.F.n8*2,h=e[n][0].size/d;await yr(t,e,n),await zt(r,n);let y=o;for(let w=0;w<h;w+=65536){l&&l.debug(`Applying key: ${u}: ${w}/${h}`);const _=Math.min(h-w,65536);let E;E=await t.read(_*d),E=await f.batchApplyKey(E,y,s),await r.write(E),y=i.Fr.mul(y,i.Fr.exp(s,_))}await Kt(r),await vr(t)}async function X0(t,e,r,n,i,a,o,s,u,l,c){const f=n[i],d=f.F.n8*2,h=Math.floor((1<<20)/d);let y=o;for(let w=0;w<a;w+=h){c&&c.debug(`Applying key ${l}: ${w}/${a}`);const _=Math.min(a-w,h),E=await t.read(_*d),p=await f.batchUtoLEM(E),m=await f.batchApplyKey(p,y,s);let S;u=="COMPRESSED"?S=await f.batchLEMtoC(m):S=await f.batchLEMtoU(m),r&&r.update(S),await e.write(S),y=n.Fr.mul(y,n.Fr.exp(s,_))}}async function MN(t,e,r,n,i){await Pt.exports.ready();const a=await z0(e),o=t.F1.n64*8*2,s=t.F2.n64*8*2,u=(a.totalSize+o-64-s)/(4*o+s);let l=u,c=0;for(;l>1;)l=l/2,c+=1;if(2**c!=u)throw new Error("Invalid file size");i&&i.debug("Power to tau size: "+c);const f=await xp(n),d=await hu(r),h=Pt.exports(64);for(let S=0;S<a.totalSize;S+=a.pageSize){i&&i.debug(`Hashing challenge ${S}/${a.totalSize}`);const F=Math.min(a.totalSize-S,a.pageSize),I=await a.read(F);h.update(I)}const y=await a.read(64,0);i&&i.info(jr(y,"Claimed Previous Response Hash: "));const w=h.digest();i&&i.info(jr(w,"Current Challenge Hash: "));const _=N8(t,w,f);i&&["tau","alpha","beta"].forEach(S=>{i.debug(S+".g1_s: "+t.G1.toString(_[S].g1_s,16)),i.debug(S+".g1_sx: "+t.G1.toString(_[S].g1_sx,16)),i.debug(S+".g2_sp: "+t.G2.toString(_[S].g2_sp,16)),i.debug(S+".g2_spx: "+t.G2.toString(_[S].g2_spx,16)),i.debug("")});const E=Pt.exports(64);await d.write(w),E.update(w),await X0(a,d,E,t,"G1",2**c*2-1,t.Fr.one,_.tau.prvKey,"COMPRESSED","tauG1",i),await X0(a,d,E,t,"G2",2**c,t.Fr.one,_.tau.prvKey,"COMPRESSED","tauG2",i),await X0(a,d,E,t,"G1",2**c,_.alpha.prvKey,_.tau.prvKey,"COMPRESSED","alphaTauG1",i),await X0(a,d,E,t,"G1",2**c,_.beta.prvKey,_.tau.prvKey,"COMPRESSED","betaTauG1",i),await X0(a,d,E,t,"G2",1,_.beta.prvKey,_.tau.prvKey,"COMPRESSED","betaTauG2",i);const p=new Uint8Array(t.F1.n8*2*6+t.F2.n8*2*3);xu(p,0,t,_,!1),await d.write(p),E.update(p);const m=E.digest();i&&i.info(jr(m,"Contribution Response Hash: ")),await d.close(),await a.close()}async function UN(t,e,r,n,i,a){const o=x_(n);if(o.byteLength==0||o.byteLength*2!=n.length)return a&&a.error("Invalid Beacon Hash. (It must be a valid hexadecimal sequence)"),!1;if(o.length>=256)return a&&a.error("Maximum length of beacon hash is 255 bytes"),!1;if(i=parseInt(i),i<10||i>63)return a&&a.error("Invalid numIterationsExp. (Must be between 10 and 63)"),!1;await Pt.exports.ready();const{fd:s,sections:u}=await gr(t,"ptau",1),{curve:l,power:c,ceremonyPower:f}=await ka(s,u);if(c!=f)return a&&a.error("This file has been reduced. You cannot contribute into a reduced file."),!1;u[12]&&a&&a.warn("Contributing into a file that has phase2 calculated. You will have to prepare phase2 again.");const d=await pu(s,l,u),h={name:r,type:1,numIterationsExp:i,beaconHash:o};let y;d.length>0?y=d[d.length-1].nextChallenge:y=gu(l,c,a),h.key=await C_(l,y,o,i);const w=new Pt.exports(64);w.update(y);const _=await Bi(e,"ptau",1,7);await Rl(_,l,c);const E=[];let p;p=await I(2,"G1",2**c*2-1,l.Fr.e(1),h.key.tau.prvKey,"tauG1",a),h.tauG1=p[1],p=await I(3,"G2",2**c,l.Fr.e(1),h.key.tau.prvKey,"tauG2",a),h.tauG2=p[1],p=await I(4,"G1",2**c,h.key.alpha.prvKey,h.key.tau.prvKey,"alphaTauG1",a),h.alphaG1=p[0],p=await I(5,"G1",2**c,h.key.beta.prvKey,h.key.tau.prvKey,"betaTauG1",a),h.betaG1=p[0],p=await I(6,"G2",1,h.key.beta.prvKey,h.key.tau.prvKey,"betaTauG2",a),h.betaG2=p[0],h.partialHash=w.getPartialHash();const m=new Uint8Array(l.F1.n8*2*6+l.F2.n8*2*3);xu(m,0,l,h.key,!1),w.update(new Uint8Array(m));const S=w.digest();a&&a.info(jr(S,"Contribution Response Hash imported: "));const F=new Pt.exports(64);return F.update(S),await v(_,"G1",2,2**c*2-1,"tauG1",a),await v(_,"G2",3,2**c,"tauG2",a),await v(_,"G1",4,2**c,"alphaTauG1",a),await v(_,"G1",5,2**c,"betaTauG1",a),await v(_,"G2",6,1,"betaG2",a),h.nextChallenge=F.digest(),a&&a.info(jr(h.nextChallenge,"Next Challenge Hash: ")),d.push(h),await P8(_,l,d),await s.close(),await _.close(),S;async function I(A,D,L,j,Y,O,B){const C=[];s.pos=u[A][0].p,await zt(_,A),E[A]=_.pos;const N=l[D],U=N.F.n8*2,G=Math.floor((1<<20)/U);let $=j;for(let Z=0;Z<L;Z+=G){B&&B.debug(`applying key${O}: ${Z}/${L}`);const W=Math.min(L-Z,G),P=await s.read(W*U),R=await N.batchApplyKey(P,$,Y),re=_.write(R),T=await N.batchLEMtoC(R);if(w.update(T),await re,Z==0)for(let x=0;x<Math.min(2,L);x++)C.push(N.fromRprLEM(R,x*U));$=l.Fr.mul($,l.Fr.exp(Y,W))}return await Kt(_),C}async function v(A,D,L,j,Y,O){const B=l[D],C=B.F.n8*2,N=Math.floor((1<<24)/C),U=A.pos;A.pos=E[L];for(let G=0;G<j;G+=N){O&&O.debug(`Hashing ${Y}: ${G}/${j}`);const $=Math.min(j-G,N),Z=await A.read($*C),W=await B.batchLEMtoU(Z);F.update(W)}A.pos=U}}async function ON(t,e,r,n,i){await Pt.exports.ready();const{fd:a,sections:o}=await gr(t,"ptau",1),{curve:s,power:u,ceremonyPower:l}=await ka(a,o);if(u!=l)throw i&&i.error("This file has been reduced. You cannot contribute into a reduced file."),new Error("This file has been reduced. You cannot contribute into a reduced file.");o[12]&&i&&i.warn("WARNING: Contributing into a file that has phase2 calculated. You will have to prepare phase2 again.");const c=await pu(a,s,o),f={name:r,type:0};let d;const h=await xp(n);c.length>0?d=c[c.length-1].nextChallenge:d=gu(s,u,i),f.key=N8(s,d,h);const y=new Pt.exports(64);y.update(d);const w=await Bi(e,"ptau",1,7);await Rl(w,s,u);const _=[];let E;E=await F(2,"G1",2**u*2-1,s.Fr.e(1),f.key.tau.prvKey,"tauG1"),f.tauG1=E[1],E=await F(3,"G2",2**u,s.Fr.e(1),f.key.tau.prvKey,"tauG2"),f.tauG2=E[1],E=await F(4,"G1",2**u,f.key.alpha.prvKey,f.key.tau.prvKey,"alphaTauG1"),f.alphaG1=E[0],E=await F(5,"G1",2**u,f.key.beta.prvKey,f.key.tau.prvKey,"betaTauG1"),f.betaG1=E[0],E=await F(6,"G2",1,f.key.beta.prvKey,f.key.tau.prvKey,"betaTauG2"),f.betaG2=E[0],f.partialHash=y.getPartialHash();const p=new Uint8Array(s.F1.n8*2*6+s.F2.n8*2*3);xu(p,0,s,f.key,!1),y.update(new Uint8Array(p));const m=y.digest();i&&i.info(jr(m,"Contribution Response Hash imported: "));const S=new Pt.exports(64);return S.update(m),await I(w,"G1",2,2**u*2-1,"tauG1"),await I(w,"G2",3,2**u,"tauG2"),await I(w,"G1",4,2**u,"alphaTauG1"),await I(w,"G1",5,2**u,"betaTauG1"),await I(w,"G2",6,1,"betaG2"),f.nextChallenge=S.digest(),i&&i.info(jr(f.nextChallenge,"Next Challenge Hash: ")),c.push(f),await P8(w,s,c),await a.close(),await w.close(),m;async function F(v,A,D,L,j,Y){const O=[];a.pos=o[v][0].p,await zt(w,v),_[v]=w.pos;const B=s[A],C=B.F.n8*2,N=Math.floor((1<<20)/C);let U=L;for(let G=0;G<D;G+=N){i&&i.debug(`processing: ${Y}: ${G}/${D}`);const $=Math.min(D-G,N),Z=await a.read($*C),W=await B.batchApplyKey(Z,U,j),P=w.write(W),R=await B.batchLEMtoC(W);if(y.update(R),await P,G==0)for(let re=0;re<Math.min(2,D);re++)O.push(B.fromRprLEM(W,re*C));U=s.Fr.mul(U,s.Fr.exp(j,$))}return await Kt(w),O}async function I(v,A,D,L,j){const Y=s[A],O=Y.F.n8*2,B=Math.floor((1<<24)/O),C=v.pos;v.pos=_[D];for(let N=0;N<L;N+=B){i&&N&&i.debug(`Hashing ${j}: `+N);const U=Math.min(L-N,B),G=await v.read(U*O),$=await Y.batchLEMtoU(G);S.update($)}v.pos=C}}async function VN(t,e,r){const{fd:n,sections:i}=await gr(t,"ptau",1),{curve:a,power:o}=await ka(n,i),s=await Bi(e,"ptau",1,11);await Rl(s,a,o),await Jt(n,i,s,2),await Jt(n,i,s,3),await Jt(n,i,s,4),await Jt(n,i,s,5),await Jt(n,i,s,6),await Jt(n,i,s,7),await u(2,12,"G1","tauG1"),await u(3,13,"G2","tauG2"),await u(4,14,"G1","alphaTauG1"),await u(5,15,"G1","betaTauG1"),await n.close(),await s.close();return;async function u(l,c,f,d){r&&r.debug("Starting section: "+d),await zt(s,c);for(let y=0;y<=o;y++)await h(y);l==2&&await h(o+1),await Kt(s);async function h(y){const w=2**y,_=a[f],E=_.F.n8*2;let p;p=new He(w*E),await yr(n,i,l),l==2&&y==o+1?(await n.readToBuffer(p,0,(w-1)*E),p.set(a.G1.zeroAffine,(w-1)*E)):await n.readToBuffer(p,0,w*E),await vr(n,!0),p=await _.lagrangeEvaluations(p,"affine","affine",r,d),await s.write(p)}}}async function GN(t,e,r){const{fd:n,sections:i}=await gr(t,"ptau",1),{curve:a,power:o,ceremonyPower:s}=await ka(n,i),u=a.G1.F.n8*2,l=a.G2.F.n8*2;for(let f=1;f<o;f++)await c(f);return await n.close(),!0;async function c(f){let d=f.toString();for(;d.length<2;)d="0"+d;r&&r.debug("Writing Power: "+d);const h=await Bi(e+d+".ptau","ptau",1,11);await Rl(h,a,f,s),await Jt(n,i,h,2,(2**f*2-1)*u),await Jt(n,i,h,3,2**f*l),await Jt(n,i,h,4,2**f*u),await Jt(n,i,h,5,2**f*u),await Jt(n,i,h,6,l),await Jt(n,i,h,7),await Jt(n,i,h,12,(2**(f+1)*2-1)*u),await Jt(n,i,h,13,(2**f*2-1)*l),await Jt(n,i,h,14,(2**f*2-1)*u),await Jt(n,i,h,15,(2**f*2-1)*u),await h.close()}}async function zN(t,e,r){const{fd:n,sections:i}=await gr(t,"ptau",1),{curve:a,power:o}=await ka(n,i),s=await Bi(e,"ptau",1,11);await Rl(s,a,o),await Jt(n,i,s,2),await Jt(n,i,s,3),await Jt(n,i,s,4),await Jt(n,i,s,5),await Jt(n,i,s,6),await Jt(n,i,s,7),await u(2,12,"G1","tauG1"),await Jt(n,i,s,13),await Jt(n,i,s,14),await Jt(n,i,s,15),await n.close(),await s.close();return;async function u(l,c,f,d){r&&r.debug("Starting section: "+d),await zt(s,c);const h=i[c][0].size,y=n.pageSize;await yr(n,i,c);for(let _=0;_<h;_+=y){const E=Math.min(h-_,y),p=await n.read(E);await s.write(p)}await vr(n),await w(o+1),await Kt(s);async function w(_){const E=2**_,p=a[f],m=p.F.n8*2;let S;S=new He(E*m),await yr(n,i,l),_==o+1?(await n.readToBuffer(S,0,(E-1)*m),S.set(a.G1.zeroAffine,(E-1)*m)):await n.readToBuffer(S,0,E*m),await vr(n,!0),S=await p.lagrangeEvaluations(S,"affine","affine",r,d),await s.write(S)}}}async function KN(t,e){const{fd:r,sections:n}=await gr(t,"ptau",1),{curve:i,power:a}=await ka(r,n),o={};return o.q=i.q,o.power=a,o.contributions=await pu(r,i,n),o.tauG1=await s(2,"G1",2**a*2-1,"tauG1"),o.tauG2=await s(3,"G2",2**a,"tauG2"),o.alphaTauG1=await s(4,"G1",2**a,"alphaTauG1"),o.betaTauG1=await s(5,"G1",2**a,"betaTauG1"),o.betaG2=await s(6,"G2",1,"betaG2"),o.lTauG1=await u(12,"G1","lTauG1"),o.lTauG2=await u(13,"G2","lTauG2"),o.lAlphaTauG1=await u(14,"G1","lAlphaTauG2"),o.lBetaTauG1=await u(15,"G1","lBetaTauG2"),await r.close(),rx(i.Fr,o);async function s(l,c,f,d){const h=i[c],y=h.F.n8*2,w=[];await yr(r,n,l);for(let _=0;_<f;_++){e&&_&&_%1e4==0&&console.log(`${d}: `+_);const E=await r.read(y);w.push(h.fromRprLEM(E,0))}return await vr(r),w}async function u(l,c,f){const d=i[c],h=d.F.n8*2,y=[];await yr(r,n,l);for(let w=0;w<=a;w++){e&&console.log(`${f}: Power: ${w}`),y[w]=[];const _=2**w;for(let E=0;E<_;E++){e&&E&&E%1e4==0&&console.log(`${f}: ${E}/${_}`);const p=await r.read(h);y[w].push(d.fromRprLEM(p,0))}}return await vr(r,!0),y}}var qN=Object.freeze({__proto__:null,newAccumulator:kN,exportChallenge:NN,importResponse:PN,verify:RN,challengeContribute:MN,beacon:UN,contribute:ON,preparePhase2:VN,truncate:GN,convert:zN,exportJson:KN});function QN(t,e,r){for(let i=0;i<t.constraints.length;i++)n(t.constraints[i]);function n(i){const a=s=>{let u="";return Object.keys(s).forEach(c=>{let f=e.varIdx2Name[c];f=="one"&&(f="1");let d=t.curve.Fr.toString(s[c]);d=="1"&&(d=""),d=="-1"&&(d="-"),u!=""&&d[0]!="-"&&(d="+"+d),u!=""&&(d=" "+d),u=u+d+f}),u},o=`[ ${a(i[0])} ] * [ ${a(i[1])} ] - [ ${a(i[2])} ] = 0`;r&&r.info(o)}}const po=262144,HN={get:function(t,e){return isNaN(e)?t[e]:t.getElement(e)},set:function(t,e,r){return isNaN(e)?(t[e]=r,!0):t.setElement(e,r)}};class jN{constructor(e){this.length=e||0,this.arr=new Array(po);for(let r=0;r<e;r+=po)this.arr[r/po]=new Array(Math.min(po,e-r));return this}push(){for(let e=0;e<arguments.length;e++)this.setElement(this.length,arguments[e])}slice(e,r){const n=new Array(r-e);for(let i=e;i<r;i++)n[i-e]=this.getElement(i);return n}getElement(e){e=parseInt(e);const r=Math.floor(e/po),n=e%po;return this.arr[r]?this.arr[r][n]:void 0}setElement(e,r){e=parseInt(e);const n=Math.floor(e/po);this.arr[n]||(this.arr[n]=new Array(po));const i=e%po;return this.arr[n][i]=r,e>=this.length&&(this.length=e+1),!0}getKeys(){const e=new A_;for(let r=0;r<this.arr.length;r++)if(this.arr[r])for(let n=0;n<this.arr[r].length;n++)typeof this.arr[r][n]<"u"&&e.push(r*po+n);return e}}class A_{constructor(e){const r=new jN(e);return new Proxy(r,HN)}}var R8=A_;const p3=4,g3=5;async function w_(t,e,r){let n;typeof r=="object"?n=r:typeof r>"u"?n={singleThread:!1}:n={singleThread:r};const i={};if(await yr(t,e,1),i.n8=await t.readULE32(),i.prime=await Ko(t,i.n8),n.F){if(n.F.p!=i.prime)throw new Error("Different Prime");i.F=n.F}else if(n.getFieldFromPrime)i.F=await n.getFieldFromPrime(i.prime,n.singleThread);else if(n.getCurveFromPrime)i.curve=await n.getCurveFromPrime(i.prime,n.singleThread),i.F=i.curve.Fr;else try{i.curve=await mk(i.prime,n.singleThread),i.F=i.curve.Fr}catch{i.F=new _8(i.prime)}return i.nVars=await t.readULE32(),i.nOutputs=await t.readULE32(),i.nPubInputs=await t.readULE32(),i.nPrvInputs=await t.readULE32(),i.nLabels=await t.readULE64(),i.nConstraints=await t.readULE32(),i.useCustomGates=typeof e[p3]<"u"&&e[p3]!==null&&typeof e[g3]<"u"&&e[g3]!==null,await vr(t),i}async function $N(t,e,r,n,i){let a;typeof n=="object"?a=n:typeof n>"u"?a={}:a={logger:n,loggerCtx:i};const o=await nr(t,e,2);let s=0,u;r.nConstraints>1<<20?u=new R8:u=[];for(let f=0;f<r.nConstraints;f++){a.logger&&f%1e5==0&&a.logger.info(`${a.loggerCtx}: Loading constraints: ${f}/${r.nConstraints}`);const d=l();u.push(d)}return u;function l(){const f=[];return f[0]=c(),f[1]=c(),f[2]=c(),f}function c(){const f={},d=o.slice(s,s+4);s+=4;const y=new DataView(d.buffer).getUint32(0,!0),w=o.slice(s,s+(4+r.n8)*y);s+=(4+r.n8)*y;const _=new DataView(w.buffer);for(let E=0;E<y;E++){const p=_.getUint32(E*(4+r.n8),!0),m=r.F.fromRprLE(w,E*(4+r.n8)+4);f[p]=m}return f}}async function WN(t,e,r,n,i){let a;typeof n=="object"?a=n:typeof n>"u"?a={}:a={logger:n,loggerCtx:i};const o=await nr(t,e,3);let s=0,u;r.nVars>1<<20?u=new R8:u=[];for(let c=0;c<r.nVars;c++){a.logger&&c%1e4==0&&a.logger.info(`${a.loggerCtx}: Loading map: ${c}/${r.nVars}`);const f=l();u.push(f)}return u;function l(){const c=o.slice(s,s+8);s+=8;const f=new DataView(c.buffer),d=f.getUint32(0,!0);return f.getUint32(4,!0)*4294967296+d}}async function gp(t,e,r){if(typeof r!="object")throw new Error("readR1csFd: options must be an object");r.loadConstraints="loadConstraints"in r?r.loadConstraints:!0,r.loadMap="loadMap"in r?r.loadMap:!1,r.loadCustomGates="loadCustomGates"in r?r.loadCustomGates:!0;const n=await w_(t,e,r);return r.loadConstraints&&(n.constraints=await $N(t,e,n,r)),r.loadMap&&(n.map=await WN(t,e,n,r)),r.loadCustomGates&&(n.useCustomGates?(n.customGates=await YN(t,e,n),n.customGatesUses=await ZN(t,e,r)):(n.customGates=[],n.customGatesUses=[])),n}async function __(t,e,r,n,i,a){let o;typeof e=="object"?o=e:typeof e>"u"?o={loadConstraints:!0,loadMap:!1,loadCustomGates:!0}:o={loadConstraints:e,loadMap:r,singleThread:n,logger:i,loggerCtx:a};const{fd:s,sections:u}=await gr(t,"r1cs",1),l=await gp(s,u,o);return await s.close(),l}async function YN(t,e,r){await yr(t,e,p3);let n=await t.readULE32(),i=[];for(let a=0;a<n;a++){let o={};o.templateName=await t.readString();let s=await t.readULE32();o.parameters=Array(s);let u=await t.read(r.n8*s);for(let l=0;l<s;l++)o.parameters[l]=r.F.fromRprLE(u,l*r.n8,r.n8);i.push(o)}return await vr(t),i}async function ZN(t,e,r){const n=await nr(t,e,g3),i=new Uint32Array(n.buffer,n.byteOffset,n.byteLength/4),a=i[0];let o=1,s;a>1<<20?s=new R8:s=[];for(let u=0;u<a;u++){r.logger&&u%1e5==0&&r.logger.info(`${r.loggerCtx}: Loading custom gate uses: ${u}/${a}`);let l={};l.id=i[o++];let c=i[o++];l.signals=[];for(let f=0;f<c;f++){const d=i[o++],h=i[o++];l.signals.push(h*4294967296+d)}s.push(l)}return s}const XN=It.e("73eda753299d7d483339d80809a1d80553bda402fffe5bfeffffffff00000001",16),JN=It.e("21888242871839275222246405745257275088548364400416034343698204186575808495617");async function eP(t,e){const r=await __(t);return It.eq(r.prime,JN)?e&&e.info("Curve: bn-128"):It.eq(r.prime,XN)?e&&e.info("Curve: bls12-381"):e&&e.info(`Unknown Curve. Prime: ${It.toString(r.prime)}`),e&&e.info(`# of Wires: ${r.nVars}`),e&&e.info(`# of Constraints: ${r.nConstraints}`),e&&e.info(`# of Private Inputs: ${r.nPrvInputs}`),e&&e.info(`# of Public Inputs: ${r.nPubInputs}`),e&&e.info(`# of Labels: ${r.nLabels}`),e&&e.info(`# of Outputs: ${r.nOutputs}`),r}async function tP(t,e){const r=await __(t,!0,!0,!0,e),n=r.curve.Fr;return delete r.curve,delete r.F,rx(n,r)}var rP=Object.freeze({__proto__:null,print:QN,info:eP,exportJson:tP});async function _h(t){const e={labelIdx2Name:["one"],varIdx2Name:["one"],componentIdx2Name:[]},r=await z0(t),n=await r.read(r.totalSize),a=new TextDecoder("utf-8").decode(n).split(`
`);for(let s=0;s<a.length;s++){const u=a[s].split(",");u.length==4&&(e.varIdx2Name[u[1]]?e.varIdx2Name[u[1]]+="|"+u[3]:e.varIdx2Name[u[1]]=u[3],e.labelIdx2Name[u[0]]=u[3],e.componentIdx2Name[u[2]]||(e.componentIdx2Name[u[2]]=o(u[3])))}return await r.close(),e;function o(s){const u=s.split(".");return u.pop(),u.join(".")}}const{unstringifyBigInts:nP}=$n;async function iP(t,e,r,n,i,a){const o=nP(t),s=await z0(e),u=await s.read(s.totalSize);await s.close();const l={...i,sanityCheck:!0};let c=await _h(n);i.set&&(c||(c=await _h(n)),l.logSetSignal=function(y,w){a&&a.info("SET "+c.labelIdx2Name[y]+" <-- "+w.toString())}),i.get&&(c||(c=await _h(n)),l.logGetSignal=function(y,w){a&&a.info("GET "+c.labelIdx2Name[y]+" --> "+w.toString())}),i.trigger&&(c||(c=await _h(n)),l.logStartComponent=function(y){a&&a.info("START: "+c.componentIdx2Name[y])},l.logFinishComponent=function(y){a&&a.info("FINISH: "+c.componentIdx2Name[y])}),l.sym=c;const f=await v_(u,l),d=await f.calculateWitness(o,!0),h=await Bi(r,"wtns",2,2);await dN(h,d,f.prime),await h.close()}async function aP(t){return await xN(t)}async function oP(t,e,r){r&&r.info("WITNESS CHECKING STARTED"),r&&r.info("> Reading r1cs file");const{fd:n,sections:i}=await gr(t,"r1cs",1),a=await gp(n,i,{loadConstraints:!1,loadCustomGates:!1});r&&r.info("> Reading witness file");const{fd:o,sections:s}=await gr(e,"wtns",2),u=await Ud(o,s);if(!It.eq(a.prime,u.q))throw new Error("Curve of the witness does not match the curve of the proving key");const l=await nr(o,s,2);await o.close();const f=(await o_(a.prime)).Fr,d=f.n8,h=await nr(n,i,2);r&&(r.info("----------------------------"),r.info("  WITNESS CHECK"),r.info(`  Curve:          ${a.curve.name}`),r.info(`  Vars (wires):   ${a.nVars}`),r.info(`  Outputs:        ${a.nOutputs}`),r.info(`  Public Inputs:  ${a.nPubInputs}`),r.info(`  Private Inputs: ${a.nPrvInputs}`),r.info(`  Labels:         ${a.nLabels}`),r.info(`  Constraints:    ${a.nConstraints}`),r.info(`  Custom Gates:   ${a.useCustomGates}`),r.info("----------------------------")),r&&r.info("> Checking witness correctness");let y=0,w=!0;for(let m=0;m<a.nConstraints;m++){r&&m!==0&&m%5e5===0&&r.info(`··· processing r1cs constraints ${m}/${a.nConstraints}`);const S=E(),F=E(),I=E(),v=_(S),A=_(F),D=_(I);if(!f.eq(f.sub(f.mul(v,A),D),f.zero)){r.warn("··· aborting checking process at constraint "+m),w=!1;break}}return n.close(),r&&(w?(r.info("WITNESS IS CORRECT"),r.info("WITNESS CHECKING FINISHED SUCCESSFULLY")):(r.warn("WITNESS IS NOT CORRECT"),r.warn("WITNESS CHECKING FINISHED UNSUCCESSFULLY"))),w;function _(m){let S=f.zero;return Object.keys(m).forEach(I=>{const v=p(I),A=m[I];S=f.add(S,f.mul(v,A))}),S}function E(){const m={},S=h.slice(y,y+4);y+=4;const I=new DataView(S.buffer).getUint32(0,!0),v=h.slice(y,y+(4+a.n8)*I);y+=(4+a.n8)*I;const A=new DataView(v.buffer);for(let D=0;D<I;D++){const L=A.getUint32(D*(4+a.n8),!0),j=a.F.fromRprLE(v,D*(4+a.n8)+4);m[L]=j}return m}function p(m){return f.fromRprLE(l.slice(m*d,m*d+d))}}var sP=Object.freeze({__proto__:null,calculate:pp,debug:iP,exportJson:aP,check:oP});const go=262144,lP={get:function(t,e){return isNaN(e)?t[e]:t.getElement(e)},set:function(t,e,r){return isNaN(e)?(t[e]=r,!0):t.setElement(e,r)}};class cP{constructor(e){this.length=e||0,this.arr=new Array(go);for(let r=0;r<e;r+=go)this.arr[r/go]=new Array(Math.min(go,e-r));return this}push(){for(let e=0;e<arguments.length;e++)this.setElement(this.length,arguments[e])}slice(e,r){const n=new Array(r-e);for(let i=e;i<r;i++)n[i-e]=this.getElement(i);return n}getElement(e){e=parseInt(e);const r=Math.floor(e/go),n=e%go;return this.arr[r]?this.arr[r][n]:void 0}setElement(e,r){e=parseInt(e);const n=Math.floor(e/go);this.arr[n]||(this.arr[n]=new Array(go));const i=e%go;return this.arr[n][i]=r,e>=this.length&&(this.length=e+1),!0}getKeys(){const e=new B_;for(let r=0;r<this.arr.length;r++)if(this.arr[r])for(let n=0;n<this.arr[r].length;n++)typeof this.arr[r][n]<"u"&&e.push(r*go+n);return e}}class B_{constructor(e){const r=new cP(e);return new Proxy(r,lP)}}var Xi=B_;async function b_(t,e,r,n){await Pt.exports.ready();const u=Pt.exports(64),{fd:l,sections:c}=await gr(e,"ptau",1),{curve:f,power:d}=await ka(l,c),{fd:h,sections:y}=await gr(t,"r1cs",1),w=await w_(h,y,!1),_=await Bi(r,"zkey",1,10,1<<22,1<<24),E=f.G1.F.n8*2,p=f.G2.F.n8*2;if(w.prime!=f.r)return n&&n.error("r1cs curve does not match powers of tau ceremony curve"),-1;const m=K0(w.nConstraints+w.nPubInputs+w.nOutputs+1-1)+1;if(m>d)return n&&n.error(`circuit too big for this power of tau ceremony. ${w.nConstraints}*2 > 2**${d}`),-1;if(!c[12])return n&&n.error("Powers of tau is not prepared."),-1;const S=w.nOutputs+w.nPubInputs,F=2**m;await zt(_,1),await _.writeULE32(1),await Kt(_),await zt(_,2);const I=f.q,v=(Math.floor((It.bitLength(I)-1)/64)+1)*8,A=f.r,D=(Math.floor((It.bitLength(A)-1)/64)+1)*8,L=It.mod(It.shl(1,D*8),A),j=f.Fr.e(It.mod(It.mul(L,L),A));await _.writeULE32(v),await ao(_,I,v),await _.writeULE32(D),await ao(_,A,D),await _.writeULE32(w.nVars),await _.writeULE32(S),await _.writeULE32(F);let Y;Y=await l.read(E,c[4][0].p),await _.write(Y),Y=await f.G1.batchLEMtoU(Y),u.update(Y);let O;O=await l.read(E,c[5][0].p),await _.write(O),O=await f.G1.batchLEMtoU(O),u.update(O);let B;B=await l.read(p,c[6][0].p),await _.write(B),B=await f.G2.batchLEMtoU(B),u.update(B);const C=new Uint8Array(E);f.G1.toRprLEM(C,0,f.G1.g);const N=new Uint8Array(p);f.G2.toRprLEM(N,0,f.G2.g);const U=new Uint8Array(E);f.G1.toRprUncompressed(U,0,f.G1.g);const G=new Uint8Array(p);f.G2.toRprUncompressed(G,0,f.G2.g),await _.write(N),await _.write(C),await _.write(N),u.update(G),u.update(U),u.update(G),await Kt(_),n&&n.info("Reading r1cs");let $=await nr(h,y,2);const Z=new Xi(w.nVars),W=new Xi(w.nVars),P=new Xi(w.nVars),R=new Xi(w.nVars-S-1),re=new Array(S+1);n&&n.info("Reading tauG1");let T=await nr(l,c,12,(F-1)*E,F*E);n&&n.info("Reading tauG2");let x=await nr(l,c,13,(F-1)*p,F*p);n&&n.info("Reading alphatauG1");let z=await nr(l,c,14,(F-1)*E,F*E);n&&n.info("Reading betatauG1");let b=await nr(l,c,15,(F-1)*E,F*E);await g(),await M(3,"G1",re,"IC"),await V(),await k(),await M(8,"G1",R,"C"),await M(5,"G1",Z,"A"),await M(6,"G1",W,"B1"),await M(7,"G2",P,"B2");const J=u.digest();return await zt(_,10),await _.write(J),await _.writeULE32(0),await Kt(_),n&&n.info(jr(J,"Circuit hash: ")),await _.close(),await h.close(),await l.close(),J;async function V(){await zt(_,9);const le=new He(F*E);if(m<f.Fr.s){let he=await nr(l,c,12,(F*2-1)*E,F*2*E);for(let fe=0;fe<F;fe++){n&&fe%1e4==0&&n.debug(`splitting buffer: ${fe}/${F}`);const ce=he.slice((fe*2+1)*E,(fe*2+1)*E+E);le.set(ce,fe*E)}}else if(m==f.Fr.s){const he=c[12][0].p+(2**(m+1)-1)*E;await l.readToBuffer(le,0,F*E,he+F*E)}else throw n&&n.error("Circuit too big"),new Error("Circuit too big for this curve");await _.write(le),await Kt(_)}async function g(){const le=new Uint8Array(12+f.Fr.n8),he=new DataView(le.buffer),fe=new Uint8Array(f.Fr.n8);f.Fr.toRprLE(fe,0,f.Fr.e(1));let ce=0;function Ae(){const te=$.slice(ce,ce+4);return ce+=4,new DataView(te.buffer).getUint32(0,!0)}const Fe=new Xi;for(let te=0;te<w.nConstraints;te++){n&&te%1e4==0&&n.debug(`processing constraints: ${te}/${w.nConstraints}`);const de=Ae();for(let ge=0;ge<de;ge++){const q=Ae(),H=ce;ce+=f.Fr.n8;const ye=0,_e=E*te,ve=3,Ie=E*te;typeof Z[q]>"u"&&(Z[q]=[]),Z[q].push([ye,_e,H]),q<=S?(typeof re[q]>"u"&&(re[q]=[]),re[q].push([ve,Ie,H])):(typeof R[q-S-1]>"u"&&(R[q-S-1]=[]),R[q-S-1].push([ve,Ie,H])),Fe.push([0,te,q,H])}const Ce=Ae();for(let ge=0;ge<Ce;ge++){const q=Ae(),H=ce;ce+=f.Fr.n8;const ye=0,_e=E*te,ve=1,Ie=p*te,Le=2,Pe=E*te;typeof W[q]>"u"&&(W[q]=[]),W[q].push([ye,_e,H]),typeof P[q]>"u"&&(P[q]=[]),P[q].push([ve,Ie,H]),q<=S?(typeof re[q]>"u"&&(re[q]=[]),re[q].push([Le,Pe,H])):(typeof R[q-S-1]>"u"&&(R[q-S-1]=[]),R[q-S-1].push([Le,Pe,H])),Fe.push([1,te,q,H])}const Se=Ae();for(let ge=0;ge<Se;ge++){const q=Ae(),H=ce;ce+=f.Fr.n8;const ye=0,_e=E*te;q<=S?(typeof re[q]>"u"&&(re[q]=[]),re[q].push([ye,_e,H])):(typeof R[q-S-1]>"u"&&(R[q-S-1]=[]),R[q-S-1].push([ye,_e,H]))}}for(let te=0;te<=S;te++){const Ce=E*(w.nConstraints+te),Se=3,ge=E*(w.nConstraints+te);typeof Z[te]>"u"&&(Z[te]=[]),Z[te].push([0,Ce,-1]),typeof re[te]>"u"&&(re[te]=[]),re[te].push([Se,ge,-1]),Fe.push([0,w.nConstraints+te,te,-1])}await zt(_,4);const Me=new He(Fe.length*(12+f.Fr.n8)+4),Ke=new Uint8Array(4);new DataView(Ke.buffer).setUint32(0,Fe.length,!0),Me.set(Ke);let oe=4;for(let te=0;te<Fe.length;te++)n&&te%1e5==0&&n.debug(`writing coeffs: ${te}/${Fe.length}`),X(Fe[te]);await _.write(Me),await Kt(_);function X(te){he.setUint32(0,te[0],!0),he.setUint32(4,te[1],!0),he.setUint32(8,te[2],!0);let de;te[3]>=0?de=f.Fr.fromRprLE($.slice(te[3],te[3]+f.Fr.n8),0):de=f.Fr.fromRprLE(fe,0);const Ce=f.Fr.mul(de,j);f.Fr.toRprLE(le,12,Ce),Me.set(le,oe),oe+=le.length}}async function M(le,he,fe,ce){const Fe=f[he];ne(fe.length),await zt(_,le);let Me=[],Ke=0;for(;Ke<fe.length;){let $e=0;for(;Ke<fe.length&&$e<f.tm.concurrency;){n&&n.debug(`Writing points start ${ce}: ${Ke}/${fe.length}`);let X=1,te=fe[Ke]?fe[Ke].length:0;for(;Ke+X<fe.length&&te+(fe[Ke+X]?fe[Ke+X].length:0)<32768&&X<32768;)te+=fe[Ke+X]?fe[Ke+X].length:0,X++;const de=fe.slice(Ke,Ke+X),Ce=Ke;Me.push(Q(he,de,n,ce).then(Se=>(n&&n.debug(`Writing points end ${ce}: ${Ce}/${fe.length}`),Se))),Ke+=X,$e++}const oe=await Promise.all(Me);for(let X=0;X<oe.length;X++){await _.write(oe[X][0]);const te=await Fe.batchLEMtoU(oe[X][0]);u.update(te)}Me=[]}await Kt(_)}async function Q(le,he,fe,ce){const Ae=f[le],Fe=Ae.F.n8*2,Me=Ae.F.n8*3,Ke=Ae.F.n8*2;let $e,oe,X,te;if(le=="G1")$e="g1m_timesScalarAffine",oe="g1m_multiexpAffine",X="g1m_batchToAffine",te="g1m_zero";else if(le=="G2")$e="g2m_timesScalarAffine",oe="g2m_multiexpAffine",X="g2m_batchToAffine",te="g2m_zero";else throw new Error("Invalid group");let de=0;for(let ve=0;ve<he.length;ve++)de+=he[ve]?he[ve].length:0;let Ce,Se;de>32768?(Ce=new He(de*Fe),Se=new He(de*f.Fr.n8)):(Ce=new Uint8Array(de*Fe),Se=new Uint8Array(de*f.Fr.n8));let ge=0,q=0;const H=[T,x,z,b],ye=new Uint8Array(f.Fr.n8);f.Fr.toRprLE(ye,0,f.Fr.e(1));let _e=0;for(let ve=0;ve<he.length;ve++)if(he[ve])for(let Ie=0;Ie<he[ve].length;Ie++)fe&&Ie&&Ie%1e4==0&&fe.debug(`Configuring big array ${ce}: ${Ie}/${he[ve].length}`),Ce.set(H[he[ve][Ie][0]].slice(he[ve][Ie][1],he[ve][Ie][1]+Fe),_e*Fe),he[ve][Ie][2]>=0?Se.set($.slice(he[ve][Ie][2],he[ve][Ie][2]+f.Fr.n8),_e*f.Fr.n8):Se.set(ye,_e*f.Fr.n8),_e++;if(he.length>1){const ve=[];ve.push({cmd:"ALLOCSET",var:0,buff:Ce}),ve.push({cmd:"ALLOCSET",var:1,buff:Se}),ve.push({cmd:"ALLOC",var:2,len:he.length*Me}),ge=0,q=0;let Ie=0;for(let Pe=0;Pe<he.length;Pe++){if(!he[Pe]){ve.push({cmd:"CALL",fnName:te,params:[{var:2,offset:Ie}]}),Ie+=Me;continue}he[Pe].length==1?ve.push({cmd:"CALL",fnName:$e,params:[{var:0,offset:ge},{var:1,offset:q},{val:f.Fr.n8},{var:2,offset:Ie}]}):ve.push({cmd:"CALL",fnName:oe,params:[{var:0,offset:ge},{var:1,offset:q},{val:f.Fr.n8},{val:he[Pe].length},{var:2,offset:Ie}]}),ge+=Fe*he[Pe].length,q+=f.Fr.n8*he[Pe].length,Ie+=Me}return ve.push({cmd:"CALL",fnName:X,params:[{var:2},{val:he.length},{var:2}]}),ve.push({cmd:"GET",out:0,var:2,len:he.length*Ke}),await f.tm.queueAction(ve)}else{let ve=await Ae.multiExpAffine(Ce,Se,fe,ce);return ve=[Ae.toAffine(ve)],ve}}async function k(){ne(F-1);for(let he=0;he<F-1;he+=16384){n&&n.debug(`HashingHPoints: ${he}/${F}`);const fe=Math.min(F-1,16384);await K(he,fe)}}async function K(le,he){const fe=await l.read(he*E,c[2][0].p+(le+F)*E),ce=await l.read(he*E,c[2][0].p+le*E),Ae=f.tm.concurrency,Fe=Math.floor(he/Ae),Me=[];for(let $e=0;$e<Ae;$e++){let oe;if($e<Ae-1?oe=Fe:oe=he-$e*Fe,oe==0)continue;const X=fe.slice($e*Fe*E,($e*Fe+oe)*E),te=ce.slice($e*Fe*E,($e*Fe+oe)*E);Me.push(ie(X,te))}const Ke=await Promise.all(Me);for(let $e=0;$e<Ke.length;$e++)u.update(Ke[$e][0])}async function ie(le,he){const fe=le.byteLength/E,ce=f.G1.F.n8*3,Ae=[];Ae.push({cmd:"ALLOCSET",var:0,buff:le}),Ae.push({cmd:"ALLOCSET",var:1,buff:he}),Ae.push({cmd:"ALLOC",var:2,len:fe*ce});for(let Me=0;Me<fe;Me++)Ae.push({cmd:"CALL",fnName:"g1m_subAffine",params:[{var:0,offset:Me*E},{var:1,offset:Me*E},{var:2,offset:Me*ce}]});return Ae.push({cmd:"CALL",fnName:"g1m_batchToAffine",params:[{var:2},{val:fe},{var:2}]}),Ae.push({cmd:"CALL",fnName:"g1m_batchLEMtoU",params:[{var:2},{val:fe},{var:2}]}),Ae.push({cmd:"GET",out:0,var:2,len:fe*E}),await f.tm.queueAction(Ae)}function ne(le){const he=new Uint8Array(4);new DataView(he.buffer,he.byteOffset,he.byteLength).setUint32(0,le,!1),u.update(he)}}async function uP(t,e,r){const{fd:n,sections:i}=await gr(t,"zkey",2),a=await oo(n,i);if(a.protocol!="groth16")throw new Error("zkey file is not groth16");const o=await bi(a.q),s=o.G1.F.n8*2,u=o.G2.F.n8*2,l=await Hc(n,o,i),c=await hu(e);await p(a.vk_alpha_1),await p(a.vk_beta_1),await m(a.vk_beta_2),await m(a.vk_gamma_2),await p(a.vk_delta_1),await m(a.vk_delta_2);let f;f=await nr(n,i,3),f=await o.G1.batchLEMtoU(f),await S("G1",f);const d=await nr(n,i,9);let h;h=await o.G1.fft(d,"affine","jacobian",r),h=await o.G1.batchApplyKey(h,o.Fr.neg(o.Fr.e(2)),o.Fr.w[a.power+1],"jacobian","affine",r),h=h.slice(0,h.byteLength-s),h=await o.G1.batchLEMtoU(h),await S("G1",h);let y;y=await nr(n,i,8),y=await o.G1.batchLEMtoU(y),await S("G1",y);let w;w=await nr(n,i,5),w=await o.G1.batchLEMtoU(w),await S("G1",w);let _;_=await nr(n,i,6),_=await o.G1.batchLEMtoU(_),await S("G1",_);let E;E=await nr(n,i,7),E=await o.G2.batchLEMtoU(E),await S("G2",E),await c.write(l.csHash),await F(l.contributions.length);for(let I=0;I<l.contributions.length;I++){const v=l.contributions[I];await p(v.deltaAfter),await p(v.delta.g1_s),await p(v.delta.g1_sx),await m(v.delta.g2_spx),await c.write(v.transcript)}await n.close(),await c.close();async function p(I){const v=new Uint8Array(s);o.G1.toRprUncompressed(v,0,I),await c.write(v)}async function m(I){const v=new Uint8Array(u);o.G2.toRprUncompressed(v,0,I),await c.write(v)}async function S(I,v){let A;I=="G1"?A=s:A=u;const D=new Uint8Array(4);new DataView(D.buffer,D.byteOffset,D.byteLength).setUint32(0,v.byteLength/A,!1),await c.write(D),await c.write(v)}async function F(I){const v=new Uint8Array(4);new DataView(v.buffer,v.byteOffset,v.byteLength).setUint32(0,I,!1),await c.write(v)}}async function fP(t,e,r,n,i){const{fd:a,sections:o}=await gr(t,"zkey",2),s=await oo(a,o,!1);if(s.protocol!="groth16")throw new Error("zkey file is not groth16");const u=await bi(s.q),l=u.G1.F.n8*2,c=u.G2.F.n8*2,f=await Hc(a,u,o),d={},h=await z0(e);h.pos=l*3+c*3+8+l*s.nVars+4+l*(s.domainSize-1)+4+l*s.nVars+4+l*s.nVars+4+c*s.nVars,d.csHash=await h.read(64);const y=await h.readUBE32();d.contributions=[];for(let C=0;C<y;C++){const N={delta:{}};N.deltaAfter=await Y(h),N.delta.g1_s=await Y(h),N.delta.g1_sx=await Y(h),N.delta.g2_spx=await O(h),N.transcript=await h.read(64),C<f.contributions.length&&(N.type=f.contributions[C].type,N.type==1&&(N.beaconHash=f.contributions[C].beaconHash,N.numIterationsExp=f.contributions[C].numIterationsExp),f.contributions[C].name&&(N.name=f.contributions[C].name)),d.contributions.push(N)}if(!L0(d.csHash,f.csHash))return i&&i.error("Hash of the original circuit does not match with the MPC one"),!1;if(f.contributions.length>d.contributions.length)return i&&i.error("The impoerted file does not include new contributions"),!1;for(let C=0;C<f.contributions.length;C++)if(!B(f.contributions[C],d.contributions[C]))return i&&i.error(`Previous contribution ${C} does not match`),!1;if(n)for(let C=f.contributions.length;C<d.contributions.length;C++)d.contributions[C].name=n;const w=await Bi(r,"zkey",1,10);if(h.pos=0,h.pos+=l,h.pos+=l,h.pos+=c,h.pos+=c,s.vk_delta_1=await Y(h),s.vk_delta_2=await O(h),await T8(w,s),await h.readUBE32()!=s.nPublic+1)return i&&i.error("Invalid number of points in IC"),await w.discard(),!1;if(h.pos+=l*(s.nPublic+1),await Jt(a,o,w,3),await Jt(a,o,w,4),await h.readUBE32()!=s.domainSize-1)return i&&i.error("Invalid number of points in H"),await w.discard(),!1;let p;const m=await h.read(l*(s.domainSize-1)),S=await u.G1.batchUtoLEM(m);p=new Uint8Array(s.domainSize*l),p.set(S),u.G1.toRprLEM(p,l*(s.domainSize-1),u.G1.zeroAffine);const F=u.Fr.neg(u.Fr.inv(u.Fr.e(2))),I=u.Fr.inv(u.Fr.w[s.power+1]);if(p=await u.G1.batchApplyKey(p,F,I,"affine","jacobian",i),p=await u.G1.ifft(p,"jacobian","affine",i),await zt(w,9),await w.write(p),await Kt(w),await h.readUBE32()!=s.nVars-s.nPublic-1)return i&&i.error("Invalid number of points in L"),await w.discard(),!1;let A;if(A=await h.read(l*(s.nVars-s.nPublic-1)),A=await u.G1.batchUtoLEM(A),await zt(w,8),await w.write(A),await Kt(w),await h.readUBE32()!=s.nVars)return i&&i.error("Invalid number of points in A"),await w.discard(),!1;if(h.pos+=l*s.nVars,await Jt(a,o,w,5),await h.readUBE32()!=s.nVars)return i&&i.error("Invalid number of points in B1"),await w.discard(),!1;if(h.pos+=l*s.nVars,await Jt(a,o,w,6),await h.readUBE32()!=s.nVars)return i&&i.error("Invalid number of points in B2"),await w.discard(),!1;return h.pos+=c*s.nVars,await Jt(a,o,w,7),await k8(w,u,d),await h.close(),await w.close(),await a.close(),!0;async function Y(C){const N=await C.read(u.G1.F.n8*2);return u.G1.fromRprUncompressed(N,0)}async function O(C){const N=await C.read(u.G2.F.n8*2);return u.G2.fromRprUncompressed(N,0)}function B(C,N){return!(!u.G1.eq(C.deltaAfter,N.deltaAfter)||!u.G1.eq(C.delta.g1_s,N.delta.g1_s)||!u.G1.eq(C.delta.g1_sx,N.delta.g1_sx)||!u.G2.eq(C.delta.g2_spx,N.delta.g2_spx)||!L0(C.transcript,N.transcript))}}const Yu=h_;async function S_(t,e,r,n){let i;await Pt.exports.ready();const{fd:a,sections:o}=await gr(r,"zkey",2),s=await oo(a,o,!1);if(s.protocol!="groth16")throw new Error("zkey file is not groth16");const u=await bi(s.q),l=u.G1.F.n8*2,c=await Hc(a,u,o),f=Pt.exports(64);f.update(c.csHash);let d=u.G1.g;for(let I=0;I<c.contributions.length;I++){const v=c.contributions[I],A=Xk(f);if(ro(A,u,v.delta.g1_s),ro(A,u,v.delta.g1_sx),!L0(A.digest(),v.transcript))return console.log(`INVALID(${I}): Inconsistent transcript `),!1;const D=Od(u,v.transcript);if(i=await Yu(u,v.delta.g1_s,v.delta.g1_sx,D,v.delta.g2_spx),i!==!0)return console.log(`INVALID(${I}): public key G1 and G2 do not have the same ration `),!1;if(i=await Yu(u,d,v.deltaAfter,D,v.delta.g2_spx),i!==!0)return console.log(`INVALID(${I}): deltaAfter does not fillow the public key `),!1;if(v.type==1){const j=await D8(v.beaconHash,v.numIterationsExp),Y=u.Fr.fromRng(j),O=u.G1.toAffine(u.G1.fromRng(j)),B=u.G1.toAffine(u.G1.timesFr(O,Y));if(u.G1.eq(O,v.delta.g1_s)!==!0)return console.log(`INVALID(${I}): Key of the beacon does not match. g1_s `),!1;if(u.G1.eq(B,v.delta.g1_sx)!==!0)return console.log(`INVALID(${I}): Key of the beacon does not match. g1_sx `),!1}F0(f,u,v);const L=Pt.exports(64);F0(L,u,v),v.contributionHash=L.digest(),d=v.deltaAfter}const{fd:h,sections:y}=await gr(t,"zkey",2),w=await oo(h,y,!1);if(w.protocol!="groth16")throw new Error("zkeyinit file is not groth16");if(!It.eq(w.q,s.q)||!It.eq(w.r,s.r)||w.n8q!=s.n8q||w.n8r!=s.n8r)return n&&n.error("INVALID:  Different curves"),!1;if(w.nVars!=s.nVars||w.nPublic!=s.nPublic||w.domainSize!=s.domainSize)return n&&n.error("INVALID:  Different circuit parameters"),!1;if(!u.G1.eq(s.vk_alpha_1,w.vk_alpha_1))return n&&n.error("INVALID:  Invalid alpha1"),!1;if(!u.G1.eq(s.vk_beta_1,w.vk_beta_1))return n&&n.error("INVALID:  Invalid beta1"),!1;if(!u.G2.eq(s.vk_beta_2,w.vk_beta_2))return n&&n.error("INVALID:  Invalid beta2"),!1;if(!u.G2.eq(s.vk_gamma_2,w.vk_gamma_2))return n&&n.error("INVALID:  Invalid gamma2"),!1;if(!u.G1.eq(s.vk_delta_1,d))return n&&n.error("INVALID:  Invalid delta1"),!1;if(i=await Yu(u,u.G1.g,d,u.G2.g,s.vk_delta_2),i!==!0)return n&&n.error("INVALID:  Invalid delta2"),!1;const _=await Hc(h,u,y);if(!L0(c.csHash,_.csHash))return n&&n.error("INVALID:  Circuit does not match"),!1;if(o[8][0].size!=l*(s.nVars-s.nPublic-1))return n&&n.error("INVALID:  Invalid L section size"),!1;if(o[9][0].size!=l*s.domainSize)return n&&n.error("INVALID:  Invalid H section size"),!1;let E;if(E=await Wu(a,o,h,y,3),!E)return n&&n.error("INVALID:  IC section is not identical"),!1;if(E=await Wu(a,o,h,y,4),!E)return n&&n.error("Coeffs section is not identical"),!1;if(E=await Wu(a,o,h,y,5),!E)return n&&n.error("A section is not identical"),!1;if(E=await Wu(a,o,h,y,6),!E)return n&&n.error("B1 section is not identical"),!1;if(E=await Wu(a,o,h,y,7),!E)return n&&n.error("B2 section is not identical"),!1;if(i=await p("G1",h,y,a,o,8,s.vk_delta_2,w.vk_delta_2,"L section"),i!==!0)return n&&n.error("L section does not match"),!1;if(i=await m(),i!==!0)return n&&n.error("H section does not match"),!1;n&&n.info(jr(c.csHash,"Circuit Hash: ")),await a.close(),await h.close();for(let I=c.contributions.length-1;I>=0;I--){const v=c.contributions[I];n&&n.info("-------------------------"),n&&n.info(jr(v.contributionHash,`contribution #${I+1} ${v.name?v.name:""}:`)),v.type==1&&(n&&n.info(`Beacon generator: ${p_(v.beaconHash)}`),n&&n.info(`Beacon iterations Exp: ${v.numIterationsExp}`))}return n&&n.info("-------------------------"),n&&n.info("ZKey Ok!"),!0;async function p(I,v,A,D,L,j,Y,O,B){const N=u[I],U=N.F.n8*2;await yr(v,A,j),await yr(D,L,j);let G=N.zero,$=N.zero;const Z=A[j][0].size/U;for(let W=0;W<Z;W+=1048576){n&&n.debug(`Same ratio check ${B}:  ${W}/${Z}`);const P=Math.min(Z-W,1048576),R=await v.read(P*U),re=await D.read(P*U),T=Fc(4*P),x=await N.multiExpAffine(R,T),z=await N.multiExpAffine(re,T);G=N.add(G,x),$=N.add($,z)}return await vr(v),await vr(D),Z==0?!0:(i=await Yu(u,G,$,Y,O),i===!0)}async function m(){const v=u.G1,A=u.Fr,D=v.F.n8*2,{fd:L,sections:j}=await gr(e,"ptau",1);let Y=new He(s.domainSize*s.n8r);const O=new Array(8);for(let $=0;$<8;$++)O[$]=tx(Fc(4),0);const B=new wl(O);for(let $=0;$<s.domainSize-1;$++){const Z=A.fromRng(B);A.toRprLE(Y,$*s.n8r,Z)}A.toRprLE(Y,(s.domainSize-1)*s.n8r,A.zero);let C=v.zero;for(let $=0;$<s.domainSize;$+=1048576){n&&n.debug(`H Verification(tau):  ${$}/${s.domainSize}`);const Z=Math.min(s.domainSize-$,1048576),W=await L.read(D*Z,j[2][0].p+s.domainSize*D+$*D),P=await L.read(D*Z,j[2][0].p+$*D),R=await S(W,P),re=Y.slice($*s.n8r,($+Z)*s.n8r),T=await v.multiExpAffine(R,re);C=v.add(C,T)}Y=await A.batchToMontgomery(Y);let N;if(s.power<A.s)N=A.neg(A.e(2));else{const $=2**A.s,Z=A.exp(A.shift,$);N=A.sub(Z,A.one)}const U=s.power<A.s?A.w[s.power+1]:A.shift;Y=await A.batchApplyKey(Y,N,U),Y=await A.fft(Y),Y=await A.batchFromMontgomery(Y),await yr(a,o,9);let G=v.zero;for(let $=0;$<s.domainSize;$+=1048576){n&&n.debug(`H Verification(lagrange):  ${$}/${s.domainSize}`);const Z=Math.min(s.domainSize-$,1048576),W=await a.read(D*Z),P=Y.slice($*s.n8r,($+Z)*s.n8r),R=await v.multiExpAffine(W,P);G=v.add(G,R)}return await vr(a),i=await Yu(u,C,G,s.vk_delta_2,w.vk_delta_2),i===!0}async function S(I,v){const A=u.G1.F.n8*2,D=I.byteLength/A,L=u.tm.concurrency,j=Math.floor(D/L),Y=[];for(let N=0;N<L;N++){let U;if(N<L-1?U=j:U=D-N*j,U==0)continue;const G=I.slice(N*j*l,(N*j+U)*l),$=v.slice(N*j*l,(N*j+U)*l);Y.push(F(G,$))}const O=await Promise.all(Y),B=new Uint8Array(D*A);let C=0;for(let N=0;N<O.length;N++)B.set(O[N][0],C),C+=O[N][0].byteLength;return B}async function F(I,v){const A=u.G1.F.n8*2,D=u.G1.F.n8*3,L=I.byteLength/A,j=[];j.push({cmd:"ALLOCSET",var:0,buff:I}),j.push({cmd:"ALLOCSET",var:1,buff:v}),j.push({cmd:"ALLOC",var:2,len:L*D});for(let O=0;O<L;O++)j.push({cmd:"CALL",fnName:"g1m_subAffine",params:[{var:0,offset:O*A},{var:1,offset:O*A},{var:2,offset:O*D}]});return j.push({cmd:"CALL",fnName:"g1m_batchToAffine",params:[{var:2},{val:L},{var:2}]}),j.push({cmd:"GET",out:0,var:2,len:L*A}),await u.tm.queueAction(j)}}async function dP(t,e,r,n){const i={type:"bigMem"};return await b_(t,e,i,n),await S_(i,e,r,n)}async function hP(t,e,r,n,i){await Pt.exports.ready();const{fd:a,sections:o}=await gr(t,"zkey",2),s=await oo(a,o);if(s.protocol!="groth16")throw new Error("zkey file is not groth16");const u=await bi(s.q),l=await Hc(a,u,o),c=await Bi(e,"zkey",1,10),f=await xp(n),d=Pt.exports(64);d.update(l.csHash);for(let E=0;E<l.contributions.length;E++)F0(d,u,l.contributions[E]);const h={};h.delta={},h.delta.prvKey=u.Fr.fromRng(f),h.delta.g1_s=u.G1.toAffine(u.G1.fromRng(f)),h.delta.g1_sx=u.G1.toAffine(u.G1.timesFr(h.delta.g1_s,h.delta.prvKey)),ro(d,u,h.delta.g1_s),ro(d,u,h.delta.g1_sx),h.transcript=d.digest(),h.delta.g2_sp=Od(u,h.transcript),h.delta.g2_spx=u.G2.toAffine(u.G2.timesFr(h.delta.g2_sp,h.delta.prvKey)),s.vk_delta_1=u.G1.timesFr(s.vk_delta_1,h.delta.prvKey),s.vk_delta_2=u.G2.timesFr(s.vk_delta_2,h.delta.prvKey),h.deltaAfter=s.vk_delta_1,h.type=0,r&&(h.name=r),l.contributions.push(h),await T8(c,s),await Jt(a,o,c,3),await Jt(a,o,c,4),await Jt(a,o,c,5),await Jt(a,o,c,6),await Jt(a,o,c,7);const y=u.Fr.inv(h.delta.prvKey);await ax(a,o,c,8,u,"G1",y,u.Fr.e(1),"L Section",i),await ax(a,o,c,9,u,"G1",y,u.Fr.e(1),"H Section",i),await k8(c,u,l),await a.close(),await c.close();const w=Pt.exports(64);F0(w,u,h);const _=w.digest();return i&&i.info(jr(l.csHash,"Circuit Hash: ")),i&&i.info(jr(_,"Contribution Hash: ")),_}async function xP(t,e,r,n,i,a){await Pt.exports.ready();const o=x_(n);if(o.byteLength==0||o.byteLength*2!=n.length)return a&&a.error("Invalid Beacon Hash. (It must be a valid hexadecimal sequence)"),!1;if(o.length>=256)return a&&a.error("Maximum length of beacon hash is 255 bytes"),!1;if(i=parseInt(i),i<10||i>63)return a&&a.error("Invalid numIterationsExp. (Must be between 10 and 63)"),!1;const{fd:s,sections:u}=await gr(t,"zkey",2),l=await oo(s,u);if(l.protocol!="groth16")throw new Error("zkey file is not groth16");const c=await bi(l.q),f=await Hc(s,c,u),d=await Bi(e,"zkey",1,10),h=await D8(o,i),y=Pt.exports(64);y.update(f.csHash);for(let m=0;m<f.contributions.length;m++)F0(y,c,f.contributions[m]);const w={};w.delta={},w.delta.prvKey=c.Fr.fromRng(h),w.delta.g1_s=c.G1.toAffine(c.G1.fromRng(h)),w.delta.g1_sx=c.G1.toAffine(c.G1.timesFr(w.delta.g1_s,w.delta.prvKey)),ro(y,c,w.delta.g1_s),ro(y,c,w.delta.g1_sx),w.transcript=y.digest(),w.delta.g2_sp=Od(c,w.transcript),w.delta.g2_spx=c.G2.toAffine(c.G2.timesFr(w.delta.g2_sp,w.delta.prvKey)),l.vk_delta_1=c.G1.timesFr(l.vk_delta_1,w.delta.prvKey),l.vk_delta_2=c.G2.timesFr(l.vk_delta_2,w.delta.prvKey),w.deltaAfter=l.vk_delta_1,w.type=1,w.numIterationsExp=i,w.beaconHash=o,r&&(w.name=r),f.contributions.push(w),await T8(d,l),await Jt(s,u,d,3),await Jt(s,u,d,4),await Jt(s,u,d,5),await Jt(s,u,d,6),await Jt(s,u,d,7);const _=c.Fr.inv(w.delta.prvKey);await ax(s,u,d,8,c,"G1",_,c.Fr.e(1),"L Section",a),await ax(s,u,d,9,c,"G1",_,c.Fr.e(1),"H Section",a),await k8(d,c,f),await s.close(),await d.close();const E=Pt.exports(64);F0(E,c,w);const p=E.digest();return a&&a.info(jr(p,"Contribution Hash: ")),p}async function pP(t){const e=await lN(t,!0);return delete e.curve,delete e.F,$n.stringifyBigInts(e)}async function gP(t,e,r,n,i){await Pt.exports.ready();const a=await xp(n),o=t.Fr.fromRng(a),s=t.Fr.inv(o),u=t.G1.F.n8*2,l=t.G2.F.n8*2,c=await z0(e),f=await hu(r);await Y(u),await Y(u),await Y(l),await Y(l);const d=await O(),h=t.G1.timesFr(d,o);await C(h);const y=await B(),w=t.G2.timesFr(y,o);await N(w);const _=await c.readUBE32();await f.writeUBE32(_),await Y(_*u);const E=await c.readUBE32();await f.writeUBE32(E),await X0(c,f,null,t,"G1",E,s,t.Fr.e(1),"UNCOMPRESSED","H",i);const p=await c.readUBE32();await f.writeUBE32(p),await X0(c,f,null,t,"G1",p,s,t.Fr.e(1),"UNCOMPRESSED","L",i);const m=await c.readUBE32();await f.writeUBE32(m),await Y(m*u);const S=await c.readUBE32();await f.writeUBE32(S),await Y(S*u);const F=await c.readUBE32();await f.writeUBE32(F),await Y(F*l);const I=Pt.exports(64),v={};v.csHash=await c.read(64),I.update(v.csHash);const A=await c.readUBE32();v.contributions=[];for(let U=0;U<A;U++){const G={delta:{}};G.deltaAfter=await O(),G.delta.g1_s=await O(),G.delta.g1_sx=await O(),G.delta.g2_spx=await B(),G.transcript=await c.read(64),v.contributions.push(G),F0(I,t,G)}const D={};D.delta={},D.delta.prvKey=o,D.delta.g1_s=t.G1.toAffine(t.G1.fromRng(a)),D.delta.g1_sx=t.G1.toAffine(t.G1.timesFr(D.delta.g1_s,o)),ro(I,t,D.delta.g1_s),ro(I,t,D.delta.g1_sx),D.transcript=I.digest(),D.delta.g2_sp=Od(t,D.transcript),D.delta.g2_spx=t.G2.toAffine(t.G2.timesFr(D.delta.g2_sp,o)),D.deltaAfter=h,D.type=0,v.contributions.push(D),await f.write(v.csHash),await f.writeUBE32(v.contributions.length);for(let U=0;U<v.contributions.length;U++){const G=v.contributions[U];await C(G.deltaAfter),await C(G.delta.g1_s),await C(G.delta.g1_sx),await N(G.delta.g2_spx),await f.write(G.transcript)}const L=Pt.exports(64);F0(L,t,D);const j=L.digest();return i&&i.info(jr(j,"Contribution Hash: ")),await f.close(),await c.close(),j;async function Y(U){const G=c.pageSize*2;for(let $=0;$<U;$+=G){const Z=Math.min(U-$,G),W=await c.read(Z);await f.write(W)}}async function O(){const U=await c.read(t.G1.F.n8*2);return t.G1.fromRprUncompressed(U,0)}async function B(){const U=await c.read(t.G2.F.n8*2);return t.G2.fromRprUncompressed(U,0)}async function C(U){const G=new Uint8Array(u);t.G1.toRprUncompressed(G,0,U),await f.write(G)}async function N(U){const G=new Uint8Array(l);t.G2.toRprUncompressed(G,0,U),await f.write(G)}}const{stringifyBigInts:M8}=$n;async function I_(t,e){e&&e.info("EXPORT VERIFICATION KEY STARTED");const{fd:r,sections:n}=await gr(t,"zkey",2),i=await oo(r,n);e&&e.info("> Detected protocol: "+i.protocol);let a;if(i.protocol==="groth16")a=await mP(i,r,n);else if(i.protocol==="plonk")a=await yP(i);else if(i.protocolId&&i.protocolId===Md)a=await vP(i);else throw new Error("zkey file protocol unrecognized");return await r.close(),e&&e.info("EXPORT VERIFICATION KEY FINISHED"),a}async function mP(t,e,r){const n=await bi(t.q),i=n.G1.F.n8*2,a=await n.pairing(t.vk_alpha_1,t.vk_beta_2);let o={protocol:t.protocol,curve:n.name,nPublic:t.nPublic,vk_alpha_1:n.G1.toObject(t.vk_alpha_1),vk_beta_2:n.G2.toObject(t.vk_beta_2),vk_gamma_2:n.G2.toObject(t.vk_gamma_2),vk_delta_2:n.G2.toObject(t.vk_delta_2),vk_alphabeta_12:n.Gt.toObject(a)};await yr(e,r,3),o.IC=[];for(let s=0;s<=t.nPublic;s++){const u=await e.read(i),l=n.G1.toObject(u);o.IC.push(l)}return await vr(e),o=M8(o),o}async function yP(t){const e=await bi(t.q);let r={protocol:t.protocol,curve:e.name,nPublic:t.nPublic,power:t.power,k1:e.Fr.toObject(t.k1),k2:e.Fr.toObject(t.k2),Qm:e.G1.toObject(t.Qm),Ql:e.G1.toObject(t.Ql),Qr:e.G1.toObject(t.Qr),Qo:e.G1.toObject(t.Qo),Qc:e.G1.toObject(t.Qc),S1:e.G1.toObject(t.S1),S2:e.G1.toObject(t.S2),S3:e.G1.toObject(t.S3),X_2:e.G2.toObject(t.X_2),w:e.Fr.toObject(e.Fr.w[t.power])};return r=M8(r),r}async function vP(t,e){const r=await bi(t.q);let n={protocol:t.protocol,curve:r.name,nPublic:t.nPublic,power:t.power,k1:r.Fr.toObject(t.k1),k2:r.Fr.toObject(t.k2),w:r.Fr.toObject(r.Fr.w[t.power]),w3:r.Fr.toObject(t.w3),w4:r.Fr.toObject(t.w4),w8:r.Fr.toObject(t.w8),wr:r.Fr.toObject(t.wr),X_2:r.G2.toObject(t.X_2),C0:r.G1.toObject(t.C0)};return M8(n)}var L_={};const{unstringifyBigInts:EP,stringifyBigInts:CP}=$n;async function F_(t,e,r){r&&r.info("FFLONK EXPORT SOLIDITY VERIFIER STARTED");const n=await Pl(t.curve);let i=l(t.w3);t.w3_2=c(n.Fr.square(i));let a=l(t.w4);t.w4_2=c(n.Fr.square(a)),t.w4_3=c(n.Fr.mul(n.Fr.square(a),a));let o=l(t.w8),s=n.Fr.one;for(let f=1;f<8;f++)s=n.Fr.mul(s,o),t["w8_"+f]=c(s);let u=e[t.protocol];return r&&r.info("FFLONK EXPORT SOLIDITY VERIFIER FINISHED"),L_.render(u,t);function l(f){const d=EP(f);return n.Fr.fromObject(d)}function c(f){const d=n.Fr.toObject(f);return CP(d)}}async function AP(t,e,r){const n=await I_(t,r);if(n.protocol==="fflonk")return F_(n,e,r);let i=e[n.protocol];return L_.render(i,n)}var wP=Object.freeze({__proto__:null,newZKey:b_,exportBellman:uP,importBellman:fP,verifyFromR1cs:dP,verifyFromInit:S_,contribute:hP,beacon:xP,exportJson:pP,bellmanContribute:gP,exportVerificationKey:I_,exportSolidityVerifier:AP});async function _P(t,e,r,n){globalThis.gc&&globalThis.gc(),await Pt.exports.ready();const{fd:i,sections:a}=await gr(e,"ptau",1),{curve:o,power:s}=await ka(i,a),{fd:u,sections:l}=await gr(t,"r1cs",1),c=await gp(u,l,{loadConstraints:!0,loadCustomGates:!0}),f=o.G1.F.n8*2,d=o.G1,h=o.G2.F.n8*2,y=o.Fr,w=o.Fr.n8;n&&n.info("Reading r1cs"),await nr(u,l,2);const _=new Xi,E=new Xi;let p=c.nVars;const m=c.nOutputs+c.nPubInputs;await O(o.Fr,c,n),globalThis.gc&&globalThis.gc();const S=await Bi(r,"zkey",1,14,1<<22,1<<24);if(c.prime!=o.r)return n&&n.error("r1cs curve does not match powers of tau ceremony curve"),-1;let F=K0(_.length-1)+1;F<3&&(F=3);const I=2**F;if(n&&n.info("Plonk constraints: "+_.length),F>s)return n&&n.error(`circuit too big for this power of tau ceremony. ${_.length} > 2**${s}`),-1;if(!a[12])return n&&n.error("Powers of tau is not prepared."),-1;const v=new He(I*f),A=a[12][0].p+(2**F-1)*f;await i.readToBuffer(v,0,I*f,A);const[D,L]=W(),j={};await U(3,"Additions"),globalThis.gc&&globalThis.gc(),await B(4,0,"Amap"),globalThis.gc&&globalThis.gc(),await B(5,1,"Bmap"),globalThis.gc&&globalThis.gc(),await B(6,2,"Cmap"),globalThis.gc&&globalThis.gc(),await C(7,3,"Qm"),globalThis.gc&&globalThis.gc(),await C(8,4,"Ql"),globalThis.gc&&globalThis.gc(),await C(9,5,"Qr"),globalThis.gc&&globalThis.gc(),await C(10,6,"Qo"),globalThis.gc&&globalThis.gc(),await C(11,7,"Qc"),globalThis.gc&&globalThis.gc(),await G(12,"sigma"),globalThis.gc&&globalThis.gc(),await $(13,"lagrange polynomials"),globalThis.gc&&globalThis.gc(),await zt(S,14);const Y=new He((I+6)*f);await i.readToBuffer(Y,0,(I+6)*f,a[2][0].p),await S.write(Y),await Kt(S),globalThis.gc&&globalThis.gc(),await Z(),await S.close(),await u.close(),await i.close(),n&&n.info("Setup Finished");return;async function O(P,R,re){function T(M){const Q=Object.keys(M);for(let k=0;k<Q.length;k++)M[Q[k]]==0n&&delete M[Q[k]]}function x(M,Q,k){const K={};for(let ie in M)typeof K[ie]>"u"?K[ie]=P.mul(Q,M[ie]):K[ie]=P.add(K[ie],P.mul(Q,M[ie]));for(let ie in k)typeof K[ie]>"u"?K[ie]=k[ie]:K[ie]=P.add(K[ie],k[ie]);return T(K),K}function z(M,Q){const k={k:P.zero,s:[],coefs:[]},K=[];for(let ie in M)ie==0?k.k=P.add(k.k,M[ie]):M[ie]!=0n&&K.push([Number(ie),M[ie]]);for(;K.length>Q;){const ie=K.shift(),ne=K.shift(),le=ie[0],he=ne[0],fe=p++,ce=P.zero,Ae=P.neg(ie[1]),Fe=P.neg(ne[1]),Me=P.one,Ke=P.zero;_.push([le,he,fe,ce,Ae,Fe,Me,Ke]),E.push([le,he,ie[1],ne[1]]),K.push([fe,P.one])}for(let ie=0;ie<K.length;ie++)k.s[ie]=K[ie][0],k.coefs[ie]=K[ie][1];for(;k.coefs.length<Q;)k.s.push(0),k.coefs.push(P.zero);return k}function b(M){const Q=z(M,3),k=Q.s[0],K=Q.s[1],ie=Q.s[2],ne=P.zero,le=Q.coefs[0],he=Q.coefs[1],fe=Q.coefs[2],ce=Q.k;_.push([k,K,ie,ne,le,he,fe,ce])}function J(M,Q,k){const K=z(M,1),ie=z(Q,1),ne=z(k,1),le=K.s[0],he=ie.s[0],fe=ne.s[0],ce=P.mul(K.coefs[0],ie.coefs[0]),Ae=P.mul(K.coefs[0],ie.k),Fe=P.mul(K.k,ie.coefs[0]),Me=P.neg(ne.coefs[0]),Ke=P.sub(P.mul(K.k,ie.k),ne.k);_.push([le,he,fe,ce,Ae,Fe,Me,Ke])}function V(M){let Q=P.zero,k=0;const K=Object.keys(M);for(let ie=0;ie<K.length;ie++)M[K[ie]]==0n?delete M[K[ie]]:K[ie]==0?Q=P.add(Q,M[K[ie]]):k++;return k>0?k.toString():Q!=P.zero?"k":"0"}function g(M,Q,k){const K=V(M),ie=V(Q);if(K==="0"||ie==="0")T(k),b(k);else if(K==="k"){const ne=x(Q,M[0],k);b(ne)}else if(ie==="k"){const ne=x(M,Q[0],k);b(ne)}else J(M,Q,k)}for(let M=1;M<=m;M++){const Q=M,k=0,K=0,ie=P.zero,ne=P.one,le=P.zero,he=P.zero,fe=P.zero;_.push([Q,k,K,ie,ne,le,he,fe])}for(let M=0;M<R.constraints.length;M++)re&&M%1e4===0&&re.debug(`processing constraints: ${M}/${R.nConstraints}`),g(...R.constraints[M])}async function B(P,R,re){await zt(S,P);for(let T=0;T<_.length;T++)await S.writeULE32(_[T][R]),n&&T%1e6==0&&n.debug(`writing ${re}: ${T}/${_.length}`);await Kt(S)}async function C(P,R,re){let T=new He(I*w);for(let x=0;x<_.length;x++)T.set(_[x][R],x*w),n&&x%1e6==0&&n.debug(`writing ${re}: ${x}/${_.length}`);await zt(S,P),await N(T),await Kt(S),T=await y.batchFromMontgomery(T),j[re]=await o.G1.multiExpAffine(v,T,n,"multiexp "+re)}async function N(P){const R=await y.ifft(P),re=new He(I*w*4);re.set(R,0);const T=await y.fft(re);await S.write(R),await S.write(T)}async function U(P,R){await zt(S,P);const re=new Uint8Array(2*4+2*w),T=new DataView(re.buffer);for(let x=0;x<E.length;x++){const z=E[x];let b=0;T.setUint32(b,z[0],!0),b+=4,T.setUint32(b,z[1],!0),b+=4,re.set(z[2],b),b+=w,re.set(z[3],b),b+=w,await S.write(re),n&&x%1e6==0&&n.debug(`writing ${R}: ${x}/${E.length}`)}await Kt(S)}async function G(P,R){const re=new He(w*I*3),T=new Xi(p),x=new Xi(p);let z=y.one;for(let M=0;M<I;M++)M<_.length?(g(_[M][0],M),g(_[M][1],I+M),g(_[M][2],I*2+M)):(g(0,M),g(0,I+M),g(0,I*2+M)),z=y.mul(z,y.w[F]),n&&M%1e6==0&&n.debug(`writing ${R} phase1: ${M}/${_.length}`);for(let M=0;M<p;M++)typeof x[M]<"u"?re.set(T[M],x[M]*w):console.log("Variable not used"),n&&M%1e6==0&&n.debug(`writing ${R} phase2: ${M}/${p}`);globalThis.gc&&globalThis.gc(),await zt(S,P);let b=re.slice(0,I*w);await N(b),globalThis.gc&&globalThis.gc();let J=re.slice(I*w,I*w*2);await N(J),globalThis.gc&&globalThis.gc();let V=re.slice(I*w*2,I*w*3);await N(V),globalThis.gc&&globalThis.gc(),await Kt(S),b=await y.batchFromMontgomery(b),J=await y.batchFromMontgomery(J),V=await y.batchFromMontgomery(V),j.S1=await o.G1.multiExpAffine(v,b,n,"multiexp S1"),globalThis.gc&&globalThis.gc(),j.S2=await o.G1.multiExpAffine(v,J,n,"multiexp S2"),globalThis.gc&&globalThis.gc(),j.S3=await o.G1.multiExpAffine(v,V,n,"multiexp S3"),globalThis.gc&&globalThis.gc();function g(M,Q){typeof T[M]>"u"?x[M]=Q:re.set(T[M],Q*w);let k;Q<I?k=z:Q<2*I?k=y.mul(z,D):k=y.mul(z,L),T[M]=k}}async function $(P,R){await zt(S,P);const re=Math.max(m,1);for(let T=0;T<re;T++){let x=new He(I*w);x.set(y.one,T*w),await N(x),n&&n.debug(`writing ${R} ${T}/${re}`)}await Kt(S)}async function Z(){await zt(S,1),await S.writeULE32(2),await Kt(S),await zt(S,2);const P=o.q,R=(Math.floor((It.bitLength(P)-1)/64)+1)*8,re=o.r,T=(Math.floor((It.bitLength(re)-1)/64)+1)*8;await S.writeULE32(R),await ao(S,P,R),await S.writeULE32(T),await ao(S,re,T),await S.writeULE32(p),await S.writeULE32(m),await S.writeULE32(I),await S.writeULE32(E.length),await S.writeULE32(_.length),await S.write(D),await S.write(L),await S.write(d.toAffine(j.Qm)),await S.write(d.toAffine(j.Ql)),await S.write(d.toAffine(j.Qr)),await S.write(d.toAffine(j.Qo)),await S.write(d.toAffine(j.Qc)),await S.write(d.toAffine(j.S1)),await S.write(d.toAffine(j.S2)),await S.write(d.toAffine(j.S3));let x;x=await i.read(h,a[3][0].p+h),await S.write(x),await Kt(S)}function W(){let P=y.two;for(;re(P,[],F);)y.add(P,y.one);let R=y.add(P,y.one);for(;re(R,[P],F);)y.add(R,y.one);return[P,R];function re(T,x,z){const b=2**z;let J=y.one;for(let V=0;V<b;V++){if(y.eq(T,J))return!0;for(let g=0;g<x.length;g++)if(y.eq(T,y.mul(x[g],J)))return!0;J=y.mul(J,y.w[z])}return!1}}}class U8{constructor(e,r){this.curve=e,this.logger=r,this.resetProof()}resetProof(){this.polynomials={},this.evaluations={}}addPolynomial(e,r){e in this.polynomials&&this.logger.warn(`proof: polynomial.${e} already exist in proof`),this.polynomials[e]=r}getPolynomial(e){return e in this.polynomials||this.logger.warn(`proof: polynomial ${e} does not exist in proof`),this.polynomials[e]}addEvaluation(e,r){e in this.evaluations&&this.logger.warn(`proof: evaluations.${e} already exist in proof`),this.evaluations[e]=r}getEvaluation(e){return e in this.evaluations||this.logger.warn(`proof: evaluation ${e} does not exist in proof`),this.evaluations[e]}toObjectProof(e=!0){let r=e?{polynomials:{},evaluations:{}}:{};return Object.keys(this.polynomials).forEach(n=>{const i=this.curve.G1.toObject(this.polynomials[n]);e?r.polynomials[n]=i:r[n]=i}),Object.keys(this.evaluations).forEach(n=>{const i=this.curve.Fr.toObject(this.evaluations[n]);e?r.evaluations[n]=i:r[n]=i}),r}fromObjectProof(e){this.resetProof(),Object.keys(e.polynomials).forEach(r=>{this.polynomials[r]=this.curve.G1.fromObject(e.polynomials[r])}),Object.keys(e.evaluations).forEach(r=>{this.evaluations[r]=this.curve.Fr.fromObject(e.evaluations[r])})}}var D_={exports:{}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */(function(t){(function(){var e="input is invalid type",r="finalize already called",n=typeof window=="object",i=n?window:{};i.JS_SHA3_NO_WINDOW&&(n=!1);var a=!n&&typeof self=="object",o=!i.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;o?i=Nk:a&&(i=self);var s=!i.JS_SHA3_NO_COMMON_JS&&!0&&t.exports,u=!i.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",l="0123456789abcdef".split(""),c=[31,7936,2031616,520093696],f=[4,1024,262144,67108864],d=[1,256,65536,16777216],h=[6,1536,393216,100663296],y=[0,8,16,24],w=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],_=[224,256,384,512],E=[128,256],p=["hex","buffer","arrayBuffer","array","digest"],m={128:168,256:136};(i.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(T){return Object.prototype.toString.call(T)==="[object Array]"}),u&&(i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(T){return typeof T=="object"&&T.buffer&&T.buffer.constructor===ArrayBuffer});for(var S=function(T,x,z){return function(b){return new P(T,x,T).update(b)[z]()}},F=function(T,x,z){return function(b,J){return new P(T,x,J).update(b)[z]()}},I=function(T,x,z){return function(b,J,V,g){return B["cshake"+T].update(b,J,V,g)[z]()}},v=function(T,x,z){return function(b,J,V,g){return B["kmac"+T].update(b,J,V,g)[z]()}},A=function(T,x,z,b){for(var J=0;J<p.length;++J){var V=p[J];T[V]=x(z,b,V)}return T},D=function(T,x){var z=S(T,x,"hex");return z.create=function(){return new P(T,x,T)},z.update=function(b){return z.create().update(b)},A(z,S,T,x)},L=function(T,x){var z=F(T,x,"hex");return z.create=function(b){return new P(T,x,b)},z.update=function(b,J){return z.create(J).update(b)},A(z,F,T,x)},j=function(T,x){var z=m[T],b=I(T,x,"hex");return b.create=function(J,V,g){return!V&&!g?B["shake"+T].create(J):new P(T,x,J).bytepad([V,g],z)},b.update=function(J,V,g,M){return b.create(V,g,M).update(J)},A(b,I,T,x)},Y=function(T,x){var z=m[T],b=v(T,x,"hex");return b.create=function(J,V,g){return new R(T,x,V).bytepad(["KMAC",g],z).bytepad([J],z)},b.update=function(J,V,g,M){return b.create(J,g,M).update(V)},A(b,v,T,x)},O=[{name:"keccak",padding:d,bits:_,createMethod:D},{name:"sha3",padding:h,bits:_,createMethod:D},{name:"shake",padding:c,bits:E,createMethod:L},{name:"cshake",padding:f,bits:E,createMethod:j},{name:"kmac",padding:f,bits:E,createMethod:Y}],B={},C=[],N=0;N<O.length;++N)for(var U=O[N],G=U.bits,$=0;$<G.length;++$){var Z=U.name+"_"+G[$];if(C.push(Z),B[Z]=U.createMethod(G[$],U.padding),U.name!=="sha3"){var W=U.name+G[$];C.push(W),B[W]=B[Z]}}function P(T,x,z){this.blocks=[],this.s=[],this.padding=x,this.outputBits=z,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(T<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=z>>5,this.extraBytes=(z&31)>>3;for(var b=0;b<50;++b)this.s[b]=0}P.prototype.update=function(T){if(this.finalized)throw new Error(r);var x,z=typeof T;if(z!=="string"){if(z==="object"){if(T===null)throw new Error(e);if(u&&T.constructor===ArrayBuffer)T=new Uint8Array(T);else if(!Array.isArray(T)&&(!u||!ArrayBuffer.isView(T)))throw new Error(e)}else throw new Error(e);x=!0}for(var b=this.blocks,J=this.byteCount,V=T.length,g=this.blockCount,M=0,Q=this.s,k,K;M<V;){if(this.reset)for(this.reset=!1,b[0]=this.block,k=1;k<g+1;++k)b[k]=0;if(x)for(k=this.start;M<V&&k<J;++M)b[k>>2]|=T[M]<<y[k++&3];else for(k=this.start;M<V&&k<J;++M)K=T.charCodeAt(M),K<128?b[k>>2]|=K<<y[k++&3]:K<2048?(b[k>>2]|=(192|K>>6)<<y[k++&3],b[k>>2]|=(128|K&63)<<y[k++&3]):K<55296||K>=57344?(b[k>>2]|=(224|K>>12)<<y[k++&3],b[k>>2]|=(128|K>>6&63)<<y[k++&3],b[k>>2]|=(128|K&63)<<y[k++&3]):(K=65536+((K&1023)<<10|T.charCodeAt(++M)&1023),b[k>>2]|=(240|K>>18)<<y[k++&3],b[k>>2]|=(128|K>>12&63)<<y[k++&3],b[k>>2]|=(128|K>>6&63)<<y[k++&3],b[k>>2]|=(128|K&63)<<y[k++&3]);if(this.lastByteIndex=k,k>=J){for(this.start=k-J,this.block=b[g],k=0;k<g;++k)Q[k]^=b[k];re(Q),this.reset=!0}else this.start=k}return this},P.prototype.encode=function(T,x){var z=T&255,b=1,J=[z];for(T=T>>8,z=T&255;z>0;)J.unshift(z),T=T>>8,z=T&255,++b;return x?J.push(b):J.unshift(b),this.update(J),J.length},P.prototype.encodeString=function(T){var x,z=typeof T;if(z!=="string"){if(z==="object"){if(T===null)throw new Error(e);if(u&&T.constructor===ArrayBuffer)T=new Uint8Array(T);else if(!Array.isArray(T)&&(!u||!ArrayBuffer.isView(T)))throw new Error(e)}else throw new Error(e);x=!0}var b=0,J=T.length;if(x)b=J;else for(var V=0;V<T.length;++V){var g=T.charCodeAt(V);g<128?b+=1:g<2048?b+=2:g<55296||g>=57344?b+=3:(g=65536+((g&1023)<<10|T.charCodeAt(++V)&1023),b+=4)}return b+=this.encode(b*8),this.update(T),b},P.prototype.bytepad=function(T,x){for(var z=this.encode(x),b=0;b<T.length;++b)z+=this.encodeString(T[b]);var J=x-z%x,V=[];return V.length=J,this.update(V),this},P.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var T=this.blocks,x=this.lastByteIndex,z=this.blockCount,b=this.s;if(T[x>>2]|=this.padding[x&3],this.lastByteIndex===this.byteCount)for(T[0]=T[z],x=1;x<z+1;++x)T[x]=0;for(T[z-1]|=2147483648,x=0;x<z;++x)b[x]^=T[x];re(b)}},P.prototype.toString=P.prototype.hex=function(){this.finalize();for(var T=this.blockCount,x=this.s,z=this.outputBlocks,b=this.extraBytes,J=0,V=0,g="",M;V<z;){for(J=0;J<T&&V<z;++J,++V)M=x[J],g+=l[M>>4&15]+l[M&15]+l[M>>12&15]+l[M>>8&15]+l[M>>20&15]+l[M>>16&15]+l[M>>28&15]+l[M>>24&15];V%T===0&&(re(x),J=0)}return b&&(M=x[J],g+=l[M>>4&15]+l[M&15],b>1&&(g+=l[M>>12&15]+l[M>>8&15]),b>2&&(g+=l[M>>20&15]+l[M>>16&15])),g},P.prototype.arrayBuffer=function(){this.finalize();var T=this.blockCount,x=this.s,z=this.outputBlocks,b=this.extraBytes,J=0,V=0,g=this.outputBits>>3,M;b?M=new ArrayBuffer(z+1<<2):M=new ArrayBuffer(g);for(var Q=new Uint32Array(M);V<z;){for(J=0;J<T&&V<z;++J,++V)Q[V]=x[J];V%T===0&&re(x)}return b&&(Q[J]=x[J],M=M.slice(0,g)),M},P.prototype.buffer=P.prototype.arrayBuffer,P.prototype.digest=P.prototype.array=function(){this.finalize();for(var T=this.blockCount,x=this.s,z=this.outputBlocks,b=this.extraBytes,J=0,V=0,g=[],M,Q;V<z;){for(J=0;J<T&&V<z;++J,++V)M=V<<2,Q=x[J],g[M]=Q&255,g[M+1]=Q>>8&255,g[M+2]=Q>>16&255,g[M+3]=Q>>24&255;V%T===0&&re(x)}return b&&(M=V<<2,Q=x[J],g[M]=Q&255,b>1&&(g[M+1]=Q>>8&255),b>2&&(g[M+2]=Q>>16&255)),g};function R(T,x,z){P.call(this,T,x,z)}R.prototype=new P,R.prototype.finalize=function(){return this.encode(this.outputBits,!0),P.prototype.finalize.call(this)};var re=function(T){var x,z,b,J,V,g,M,Q,k,K,ie,ne,le,he,fe,ce,Ae,Fe,Me,Ke,$e,oe,X,te,de,Ce,Se,ge,q,H,ye,_e,ve,Ie,Le,Pe,Re,Oe,Ue,Ge,et,We,Ve,Xe,Je,Ze,tt,nt,Qe,ft,Et,dt,Lt,wt,xt,Ft,bt,Bt,Gt,_r,ir,Dr,Pr;for(b=0;b<48;b+=2)J=T[0]^T[10]^T[20]^T[30]^T[40],V=T[1]^T[11]^T[21]^T[31]^T[41],g=T[2]^T[12]^T[22]^T[32]^T[42],M=T[3]^T[13]^T[23]^T[33]^T[43],Q=T[4]^T[14]^T[24]^T[34]^T[44],k=T[5]^T[15]^T[25]^T[35]^T[45],K=T[6]^T[16]^T[26]^T[36]^T[46],ie=T[7]^T[17]^T[27]^T[37]^T[47],ne=T[8]^T[18]^T[28]^T[38]^T[48],le=T[9]^T[19]^T[29]^T[39]^T[49],x=ne^(g<<1|M>>>31),z=le^(M<<1|g>>>31),T[0]^=x,T[1]^=z,T[10]^=x,T[11]^=z,T[20]^=x,T[21]^=z,T[30]^=x,T[31]^=z,T[40]^=x,T[41]^=z,x=J^(Q<<1|k>>>31),z=V^(k<<1|Q>>>31),T[2]^=x,T[3]^=z,T[12]^=x,T[13]^=z,T[22]^=x,T[23]^=z,T[32]^=x,T[33]^=z,T[42]^=x,T[43]^=z,x=g^(K<<1|ie>>>31),z=M^(ie<<1|K>>>31),T[4]^=x,T[5]^=z,T[14]^=x,T[15]^=z,T[24]^=x,T[25]^=z,T[34]^=x,T[35]^=z,T[44]^=x,T[45]^=z,x=Q^(ne<<1|le>>>31),z=k^(le<<1|ne>>>31),T[6]^=x,T[7]^=z,T[16]^=x,T[17]^=z,T[26]^=x,T[27]^=z,T[36]^=x,T[37]^=z,T[46]^=x,T[47]^=z,x=K^(J<<1|V>>>31),z=ie^(V<<1|J>>>31),T[8]^=x,T[9]^=z,T[18]^=x,T[19]^=z,T[28]^=x,T[29]^=z,T[38]^=x,T[39]^=z,T[48]^=x,T[49]^=z,he=T[0],fe=T[1],Ze=T[11]<<4|T[10]>>>28,tt=T[10]<<4|T[11]>>>28,ge=T[20]<<3|T[21]>>>29,q=T[21]<<3|T[20]>>>29,_r=T[31]<<9|T[30]>>>23,ir=T[30]<<9|T[31]>>>23,We=T[40]<<18|T[41]>>>14,Ve=T[41]<<18|T[40]>>>14,Ie=T[2]<<1|T[3]>>>31,Le=T[3]<<1|T[2]>>>31,ce=T[13]<<12|T[12]>>>20,Ae=T[12]<<12|T[13]>>>20,nt=T[22]<<10|T[23]>>>22,Qe=T[23]<<10|T[22]>>>22,H=T[33]<<13|T[32]>>>19,ye=T[32]<<13|T[33]>>>19,Dr=T[42]<<2|T[43]>>>30,Pr=T[43]<<2|T[42]>>>30,wt=T[5]<<30|T[4]>>>2,xt=T[4]<<30|T[5]>>>2,Pe=T[14]<<6|T[15]>>>26,Re=T[15]<<6|T[14]>>>26,Fe=T[25]<<11|T[24]>>>21,Me=T[24]<<11|T[25]>>>21,ft=T[34]<<15|T[35]>>>17,Et=T[35]<<15|T[34]>>>17,_e=T[45]<<29|T[44]>>>3,ve=T[44]<<29|T[45]>>>3,te=T[6]<<28|T[7]>>>4,de=T[7]<<28|T[6]>>>4,Ft=T[17]<<23|T[16]>>>9,bt=T[16]<<23|T[17]>>>9,Oe=T[26]<<25|T[27]>>>7,Ue=T[27]<<25|T[26]>>>7,Ke=T[36]<<21|T[37]>>>11,$e=T[37]<<21|T[36]>>>11,dt=T[47]<<24|T[46]>>>8,Lt=T[46]<<24|T[47]>>>8,Xe=T[8]<<27|T[9]>>>5,Je=T[9]<<27|T[8]>>>5,Ce=T[18]<<20|T[19]>>>12,Se=T[19]<<20|T[18]>>>12,Bt=T[29]<<7|T[28]>>>25,Gt=T[28]<<7|T[29]>>>25,Ge=T[38]<<8|T[39]>>>24,et=T[39]<<8|T[38]>>>24,oe=T[48]<<14|T[49]>>>18,X=T[49]<<14|T[48]>>>18,T[0]=he^~ce&Fe,T[1]=fe^~Ae&Me,T[10]=te^~Ce&ge,T[11]=de^~Se&q,T[20]=Ie^~Pe&Oe,T[21]=Le^~Re&Ue,T[30]=Xe^~Ze&nt,T[31]=Je^~tt&Qe,T[40]=wt^~Ft&Bt,T[41]=xt^~bt&Gt,T[2]=ce^~Fe&Ke,T[3]=Ae^~Me&$e,T[12]=Ce^~ge&H,T[13]=Se^~q&ye,T[22]=Pe^~Oe&Ge,T[23]=Re^~Ue&et,T[32]=Ze^~nt&ft,T[33]=tt^~Qe&Et,T[42]=Ft^~Bt&_r,T[43]=bt^~Gt&ir,T[4]=Fe^~Ke&oe,T[5]=Me^~$e&X,T[14]=ge^~H&_e,T[15]=q^~ye&ve,T[24]=Oe^~Ge&We,T[25]=Ue^~et&Ve,T[34]=nt^~ft&dt,T[35]=Qe^~Et&Lt,T[44]=Bt^~_r&Dr,T[45]=Gt^~ir&Pr,T[6]=Ke^~oe&he,T[7]=$e^~X&fe,T[16]=H^~_e&te,T[17]=ye^~ve&de,T[26]=Ge^~We&Ie,T[27]=et^~Ve&Le,T[36]=ft^~dt&Xe,T[37]=Et^~Lt&Je,T[46]=_r^~Dr&wt,T[47]=ir^~Pr&xt,T[8]=oe^~he&ce,T[9]=X^~fe&Ae,T[18]=_e^~te&Ce,T[19]=ve^~de&Se,T[28]=We^~Ie&Pe,T[29]=Ve^~Le&Re,T[38]=dt^~Xe&Ze,T[39]=Lt^~Je&tt,T[48]=Dr^~wt&Ft,T[49]=Pr^~xt&bt,T[0]^=w[b],T[1]^=w[b+1]};if(s)t.exports=B;else for(N=0;N<C.length;++N)i[C[N]]=B[C[N]]})()})(D_);var BP=D_.exports;const{keccak256:bP}=BP,W2=0,SP=1;class ol{constructor(e){this.G1=e.G1,this.Fr=e.Fr,this.reset()}reset(){this.data=[]}addPolCommitment(e){this.data.push({type:W2,data:e})}addScalar(e){this.data.push({type:SP,data:e})}getChallenge(){if(this.data.length===0)throw new Error("Keccak256Transcript: No data to generate a transcript");let e=0,r=0;this.data.forEach(o=>W2===o.type?e++:r++);let n=new Uint8Array(r*this.Fr.n8+e*this.G1.F.n8*2),i=0;for(let o=0;o<this.data.length;o++)W2===this.data[o].type?(this.G1.toRprUncompressed(n,i,this.data[o].data),i+=this.G1.F.n8*2):(this.Fr.toRprBE(n,i,this.data[o].data),i+=this.Fr.n8);const a=It.fromRprBE(new Uint8Array(bP.arrayBuffer(n)));return this.Fr.e(a)}}class Y2{static getZ1(e){return[e.zero,e.add(e.e(-1),e.w[2]),e.e(-2),e.sub(e.e(-1),e.w[2])]}static getZ2(e){return[e.zero,e.add(e.zero,e.mul(e.e(-2),e.w[2])),e.e(4),e.sub(e.zero,e.mul(e.e(-2),e.w[2]))]}static getZ3(e){return[e.zero,e.add(e.e(2),e.mul(e.e(2),e.w[2])),e.e(-8),e.sub(e.e(2),e.mul(e.e(2),e.w[2]))]}static mul2(e,r,n,i,a,o){const s=this.getZ1(o);let u,l;const c=o.mul(e,r),f=o.mul(e,i),d=o.mul(n,r),h=o.mul(n,i);u=c;let y=o.add(f,d),w=h;return l=y,a&&(l=o.add(l,o.mul(s[a],w))),[u,l]}static mul3(e,r,n,i,a,o,s,u){const l=this.getZ1(u),c=this.getZ2(u);let f,d;const h=u.mul(e,r),y=u.mul(e,a),w=u.mul(i,r),_=u.mul(i,a);f=u.mul(h,n);let E=u.mul(w,n);E=u.add(E,u.mul(y,n)),E=u.add(E,u.mul(h,o));let p=u.mul(_,n);if(p=u.add(p,u.mul(y,o)),p=u.add(p,u.mul(w,o)),d=E,s){const m=u.mul(_,o);d=u.add(d,u.mul(l[s],p)),d=u.add(d,u.mul(c[s],m))}return[f,d]}static mul4(e,r,n,i,a,o,s,u,l,c){const f=this.getZ1(c),d=this.getZ2(c),h=this.getZ3(c);let y,w;const _=c.mul(e,r),E=c.mul(e,o),p=c.mul(a,r),m=c.mul(a,o),S=c.mul(n,i),F=c.mul(n,u),I=c.mul(s,i),v=c.mul(s,u);y=c.mul(_,S);let A=c.mul(p,S);A=c.add(A,c.mul(E,S)),A=c.add(A,c.mul(_,I)),A=c.add(A,c.mul(_,F));let D=c.mul(m,S);D=c.add(D,c.mul(p,I)),D=c.add(D,c.mul(p,F)),D=c.add(D,c.mul(E,I)),D=c.add(D,c.mul(E,F)),D=c.add(D,c.mul(_,v));let L=c.mul(E,v);L=c.add(L,c.mul(p,v)),L=c.add(L,c.mul(m,F)),L=c.add(L,c.mul(m,I));let j=c.mul(m,v);return w=A,l&&(w=c.add(w,c.mul(f[l],D)),w=c.add(w,c.mul(d[l],L)),w=c.add(w,c.mul(h[l],j))),[y,w]}}const q6=3,IP=4,LP=5,FP=6,Z2=7,X2=8,J2=9,eg=10,tg=11,H0=12,DP=13,Q6=14;class vt{constructor(e,r,n){this.coef=e,this.curve=r,this.Fr=r.Fr,this.G1=r.G1,this.logger=n}static async fromEvaluations(e,r,n){let i=await r.Fr.ifft(e);return new vt(i,r,n)}static fromCoefficientsArray(e,r,n){const i=r.Fr;let a=e.length>32768?new He(e.length*i.n8):new Uint8Array(e.length*i.n8);for(let o=0;o<e.length;o++)a.set(e[o],o*i.n8);return new vt(a,r,n)}static fromPolynomial(e,r,n){let i=e.length(),a=r.Fr,o=i>32768?new He(i*a.n8):new Uint8Array(i*a.n8);return o.set(e.coef.slice(),0),new vt(o,r,n)}isEqual(e){const r=this.degree();if(r!==e.degree())return!1;for(let n=0;n<r+1;n++)if(!this.Fr.eq(this.getCoef(n),e.getCoef(n)))return!1;return!0}blindCoefficients(e){e=e||[];const r=this.length()+e.length>32768?new He((this.length()+e.length)*this.Fr.n8):new Uint8Array((this.length()+e.length)*this.Fr.n8);r.set(this.coef,0);for(let n=0;n<e.length;n++)r.set(this.Fr.add(r.slice((this.length()+n)*this.Fr.n8,(this.length()+n+1)*this.Fr.n8),e[n]),(this.length()+n)*this.Fr.n8),r.set(this.Fr.sub(r.slice(n*this.Fr.n8,(n+1)*this.Fr.n8),e[n]),n*this.Fr.n8);this.coef=r}getCoef(e){const r=e*this.Fr.n8;return r+this.Fr.n8>this.coef.byteLength?this.Fr.zero:this.coef.slice(r,r+this.Fr.n8)}setCoef(e,r){if(e>this.length()-1)throw new Error("Coef index is not available");this.coef.set(r,e*this.Fr.n8)}static async to4T(e,r,n,i){n=n||[];let a=await i.ifft(e);const o=r*4>32768?new He(r*4*i.n8):new Uint8Array(r*4*i.n8);o.set(a,0);const s=await i.fft(o);if(n.length===0)return[a,s];const u=r+n.length>32768?new He((r+n.length)*i.n8):new Uint8Array((r+n.length)*i.n8);u.set(a,0);for(let l=0;l<n.length;l++)u.set(i.add(u.slice((r+l)*i.n8,(r+l+1)*i.n8),n[l]),(r+l)*i.n8),u.set(i.sub(u.slice(l*i.n8,(l+1)*i.n8),n[l]),l*i.n8);return[u,s]}length(){let e=this.coef.byteLength/this.Fr.n8;if(e!==Math.floor(this.coef.byteLength/this.Fr.n8))throw new Error("Polynomial coefficients buffer has incorrect size");return e===0&&this.logger&&this.logger.warn("Polynomial has length zero"),e}degree(){for(let e=this.length()-1;e>0;e--){const r=e*this.Fr.n8;if(!this.Fr.eq(this.Fr.zero,this.coef.slice(r,r+this.Fr.n8)))return e}return 0}evaluate(e){let r=this.Fr.zero;for(let n=this.degree()+1;n>0;n--){let i=n*this.Fr.n8;const a=this.coef.slice(i-this.Fr.n8,i);r=this.Fr.add(a,this.Fr.mul(r,e))}return r}fastEvaluate(e){const r=this.Fr;let n=3,i=this.degree()+1,a=parseInt(i/n),o=i-a*n,s=[],u=[];u[0]=r.one;for(let l=0;l<n;l++){s[l]=r.zero;let c=l===n-1?a+o:a;for(let f=c;f>0;f--)s[l]=r.add(this.getCoef(l*a+f-1),r.mul(s[l],e)),l===0&&(u[0]=r.mul(u[0],e))}for(let l=1;l<n;l++)s[0]=r.add(s[0],r.mul(u[l-1],s[l])),u[l]=r.mul(u[l-1],u[0]);return s[0]}add(e,r){let n=!1;e.length()>this.length()&&(n=!0);const i=this.length(),a=e.length();for(let o=0;o<Math.max(i,a);o++){const s=o*this.Fr.n8,u=o<i?this.coef.slice(s,s+this.Fr.n8):this.Fr.zero;let l=o<a?e.coef.slice(s,s+this.Fr.n8):this.Fr.zero;r!==void 0&&(l=this.Fr.mul(l,r)),n?e.coef.set(this.Fr.add(u,l),s):this.coef.set(this.Fr.add(u,l),s)}n&&(delete this.coef,this.coef=e.coef)}sub(e,r){let n=!1;e.length()>this.length()&&(n=!0);const i=this.length(),a=e.length();for(let o=0;o<Math.max(i,a);o++){const s=o*this.Fr.n8,u=o<i?this.coef.slice(s,s+this.Fr.n8):this.Fr.zero;let l=o<a?e.coef.slice(s,s+this.Fr.n8):this.Fr.zero;r!==void 0&&(l=this.Fr.mul(l,r)),n?e.coef.set(this.Fr.sub(u,l),s):this.coef.set(this.Fr.sub(u,l),s)}n&&(delete this.coef,this.coef=e.coef)}mulScalar(e){for(let r=0;r<this.length();r++){const n=r*this.Fr.n8;this.coef.set(this.Fr.mul(this.coef.slice(n,n+this.Fr.n8),e),n)}}addScalar(e){const r=this.length()===0?this.Fr.zero:this.coef.slice(0,this.Fr.n8);this.coef.set(this.Fr.add(r,e),0)}subScalar(e){const r=this.length()===0?this.Fr.zero:this.coef.slice(0,this.Fr.n8);this.coef.set(this.Fr.sub(r,e),0)}byXSubValue(e){const r=this.Fr,i=!r.eq(r.zero,this.getCoef(this.length()-1))?this.length()+1:this.length(),a=i>32768?new He(i*r.n8):new Uint8Array(i*r.n8);let o=new vt(a,this.curve,this.logger);o.coef.set(this.coef.slice(0,(i-1)*r.n8),32),this.mulScalar(r.neg(e)),o.add(this),this.coef=o.coef}byXNSubValue(e,r){const n=this.Fr,a=!(this.length()-e-1>=this.degree())?this.length()+e:this.length(),o=a>32768?new He(a*n.n8):new Uint8Array(a*n.n8);let s=new vt(o,this.curve,this.logger);s.coef.set(this.coef.slice(0,(this.degree()+1)*32),e*32),this.mulScalar(r),s.add(this),this.coef=s.coef}divBy(e){const r=this.Fr,n=this.degree(),i=e.degree();let a=new vt(this.coef,this.curve,this.logger);this.coef=this.length()>32768?new He(this.length()*r.n8):new Uint8Array(this.length()*r.n8);for(let o=n-i;o>=0;o--){this.setCoef(o,r.div(a.getCoef(o+i),e.getCoef(i)));for(let s=0;s<=i;s++)a.setCoef(o+s,r.sub(a.getCoef(o+s),r.mul(this.getCoef(o),e.getCoef(s))))}return a}divByMonic(e,r){const n=this.Fr;let i=this.degree(),a=this.length()>32768?new He(this.length()*n.n8):new Uint8Array(this.length()*n.n8),o=new vt(a,this.curve,this.logger),s=[];for(let l=0;l<e;l++)o.setCoef(i-l-e,this.getCoef(i-l)),s[l]=this.getCoef(i-l);let u=e;for(let l=0;l<u;l++)for(let c=i-2*e-l;c>=0&&!(c<0);c=c-u){let f=l;s[f]=n.add(this.getCoef(c+e),n.mul(s[f],r)),o.setCoef(c,s[f])}this.coef=o.coef}divByVanishing(e,r){if(this.degree()<e)throw new Error("divByVanishing polynomial divisor must be of degree lower than the dividend polynomial");const n=this.Fr;let i=new vt(this.coef,this.curve,this.logger);this.coef=this.length()>32768?new He(this.length()*n.n8):new Uint8Array(this.length()*n.n8);for(let a=this.length()-1;a>=e;a--){let o=i.getCoef(a);n.eq(n.zero,o)||(i.setCoef(a,n.zero),i.setCoef(a-e,n.add(i.getCoef(a-e),n.mul(r,o))),this.setCoef(a-e,n.add(this.getCoef(a-e),o)))}return i}divByVanishing2(e,r){if(this.degree()<e)throw new Error("divByVanishing polynomial divisor must be of degree lower than the dividend polynomial");const n=this.Fr;let i=new vt(this.coef,this.curve,this.logger);this.coef=this.length()>32768?new He(this.length()*n.n8):new Uint8Array(this.length()*n.n8);let a=3,o=this.length()-e,s=Math.floor(o/a),u=o-(a-1)*s;console.log(o),console.log(s+"  "+u);for(let l=0;l<a;l++){console.log("> Thread "+l);for(let c=l===0?u:s;c>0;c--){let f=c-1;l!==0&&(f+=(l-1)*s+u);let d=f+e,h=i.getCoef(d);n.eq(n.zero,h)||(i.setCoef(d,n.zero),i.setCoef(f,n.add(i.getCoef(f),n.mul(r,h))),this.setCoef(f,n.add(this.getCoef(f),h)),console.log(f+" <-- "+d))}}return this.print(),i}fastDivByVanishing(e){const r=this.Fr;for(let n=0;n<e.length;n++){let i=e[n][0],a=e[n][1];if(this.degree()<i)throw new Error("divByVanishing polynomial divisor must be of degree lower than the dividend polynomial");let o=5,s=this.length()-i,u=Math.floor(s/o/i),l=u*i,c=s-o*l,f=new vt(this.length()>32768?new He(this.length()*r.n8):new Uint8Array(this.length()*r.n8),this.curve,this.logger),d=this.coef;this.coef=f.coef,f.coef=d;for(let p=0;p<o;p++){let m=(p+1)*l+c;for(let S=0;S<i;S++)this.setCoef(m+S-i,f.getCoef(m+S));for(let S=0;S<l-i;S++){let F=m-S-1,I=r.add(f.getCoef(F),r.mul(a,this.getCoef(F)));this.setCoef(F-i,I)}}let h=c,y=c;for(let p=0;p<i&&y;p++)this.setCoef(h-p-1,f.getCoef(h+i-p-1)),y--;for(let p=0;p<y;p++){let m=h-p-1,S=r.add(f.getCoef(m),r.mul(a,this.getCoef(m)));this.setCoef(m-i,S)}let w=[],_=r.one;for(let p=0;p<u;p++)_=r.mul(_,a);let E=r.one;for(let p=o;p>0;p--){let m=p-1,S=m*l+c;w[m]=[];for(let F=0;F<i;F++)w[m][F]=this.getCoef(S+F),p!==o&&(w[m][F]=r.add(w[m][F],r.mul(_,w[m+1][F])));E=r.mul(E,_)}for(let p=0;p<o;p++){let m=p*l+c,S=a,F=i-1,I=p===0?c:l;for(let v=0;v<I;v++){let A=m-v-1,D=r.add(this.getCoef(A),r.mul(S,w[p][F]));this.setCoef(A,D),F===0?(F=i-1,S=r.mul(S,a)):F--}}}}divByXSubValue(e){const r=this.length()>32768?new He(this.length()*this.Fr.n8):new Uint8Array(this.length()*this.Fr.n8);r.set(this.Fr.zero,(this.length()-1)*this.Fr.n8),r.set(this.coef.slice((this.length()-1)*this.Fr.n8,this.length()*this.Fr.n8),(this.length()-2)*this.Fr.n8);for(let n=this.length()-3;n>=0;n--){let i=n*this.Fr.n8;r.set(this.Fr.add(this.coef.slice(i+this.Fr.n8,i+2*this.Fr.n8),this.Fr.mul(e,r.slice(i+this.Fr.n8,i+2*this.Fr.n8))),n*this.Fr.n8)}if(!this.Fr.eq(this.coef.slice(0,this.Fr.n8),this.Fr.mul(this.Fr.neg(e),r.slice(0,this.Fr.n8))))throw new Error("Polynomial does not divide");this.coef=r}divZh(e,r=4){for(let i=0;i<e;i++){const a=i*this.Fr.n8;this.coef.set(this.Fr.neg(this.coef.slice(a,a+this.Fr.n8)),a)}const n=this.coef.byteLength/this.Fr.n8;for(let i=e;i<n;i++){const a=i*this.Fr.n8,o=this.Fr.sub(this.coef.slice((i-e)*this.Fr.n8,(i-e)*this.Fr.n8+this.Fr.n8),this.coef.slice(a,a+this.Fr.n8));if(this.coef.set(o,a),i>e*(r-1)-r&&!this.Fr.isZero(o))throw new Error("Polynomial is not divisible")}return this}divByZerofier(e,r){let n=this.Fr;const i=n.inv(r),a=n.neg(i);let o=n.eq(n.one,a),s=n.eq(n.negone,a);if(!o)for(let u=0;u<e;u++){const l=u*this.Fr.n8;let c;s?c=n.neg(this.coef.slice(l,l+this.Fr.n8)):c=n.mul(a,this.coef.slice(l,l+this.Fr.n8)),this.coef.set(c,l)}o=n.eq(n.one,i),s=n.eq(n.negone,i);for(let u=e;u<this.length();u++){const l=u*this.Fr.n8,c=(u-e)*this.Fr.n8;let f=this.Fr.sub(this.coef.slice(c,c+this.Fr.n8),this.coef.slice(l,l+this.Fr.n8));if(o||(s?f=n.neg(f):f=n.mul(i,f)),this.coef.set(f,l),u>this.length()-e-1&&!this.Fr.isZero(f))throw new Error("Polynomial is not divisible")}return this}byX(){const e=this.length()+1>32768?new He(this.coef.byteLength+this.Fr.n8):new Uint8Array(this.coef.byteLength+this.Fr.n8);e.set(this.Fr.zero,0),e.set(this.coef,this.Fr.n8),this.coef=e}static async expX(e,r,n=!1){const i=e.Fr;if(r<1)throw new Error("Compute a new polynomial to a zero or negative number is not allowed");if(r===1)return await vt.fromEvaluations(e.coef,curve,e.logger);const a=n?e.degree():e.length()-1,o=a*r+1>32768?new He((a*r+1)*i.n8):new Uint8Array((a*r+1)*i.n8);o.set(e.getCoef(0),0);for(let s=1;s<=a;s++){const u=s*i.n8,l=e.getCoef(s);o.set(l,u*r)}return new vt(o,e.curve,e.logger)}split(e,r,n){if(e<1)throw new Error(`Polynomials can't be split in ${e} parts`);if(e===1)return[this];if(n.length!==0&&n.length<e-1)throw new Error(`Blinding factors length must be ${e-1}`);const i=(r+1)*this.Fr.n8;let a=[];const o=Math.ceil((this.degree()+1)*this.Fr.n8/i);if(o<e)for(let s=o;s<e;s++)a[s]=new vt(new Uint8Array(this.Fr.n8),this.curve,this.logger);e=Math.min(e,o);for(let s=0;s<e;s++){const u=e-1===s,l=u?this.coef.byteLength-(e-1)*i:i+this.Fr.n8;let c=l/this.Fr.n8>32768?new He(l):new Uint8Array(l);a[s]=new vt(c,this.curve,this.logger);const f=s*i,d=u?this.coef.byteLength:(s+1)*i;if(a[s].coef.set(this.coef.slice(f,d),0),u||a[s].coef.set(n[s],i),s!==0){const h=this.Fr.sub(a[s].coef.slice(0,this.Fr.n8),n[s-1]);a[s].coef.set(h,0)}u&&a[s].truncate()}return a}truncate(){const e=this.degree();if(e+1<this.coef.byteLength/this.Fr.n8){const r=e+1>32768?new He((e+1)*this.Fr.n8):new Uint8Array((e+1)*this.Fr.n8);r.set(this.coef.slice(0,(e+1)*this.Fr.n8),0),this.coef=r}}static lagrangePolynomialInterpolation(e,r,n){const i=n.Fr;let a=o(0);for(let s=1;s<e.length;s++)a.add(o(s));return a;function o(s){let u;for(let f=0;f<e.length;f++)if(f!==s)if(u===void 0){let d=e.length>32768?new He(e.length*i.n8):new Uint8Array(e.length*i.n8);u=new vt(d,n),u.setCoef(0,i.neg(e[f])),u.setCoef(1,i.one)}else u.byXSubValue(e[f]);let l=u.evaluate(e[s]);l=i.inv(l);const c=i.mul(r[s],l);return u.mulScalar(c),u}}static zerofierPolynomial(e,r){const n=r.Fr;let i=e.length+1>32768?new He((e.length+1)*n.n8):new Uint8Array((e.length+1)*n.n8),a=new vt(i,r);a.setCoef(0,n.neg(e[0])),a.setCoef(1,n.one);for(let o=1;o<e.length;o++)a.byXSubValue(e[o]);return a}print(){const e=this.Fr;let r="";for(let n=this.degree();n>=0;n--){const i=this.getCoef(n);e.eq(e.zero,i)||(e.isNegative(i)?r+=" - ":n!==this.degree()&&(r+=" + "),r+=e.toString(i),n>0&&(r+=n>1?"x^"+n:"x"))}console.log(r)}async multiExponentiation(e,r){const n=this.coef.byteLength/this.Fr.n8,i=e.slice(0,n*this.G1.F.n8*2),a=await this.Fr.batchFromMontgomery(this.coef);let o=await this.G1.multiExpAffine(i,a,this.logger,r);return o=this.G1.toAffine(o),o}}class Lr{constructor(e,r,n){this.eval=e,this.curve=r,this.Fr=r.Fr,this.logger=n}static async fromPolynomial(e,r,n,i){const a=new He(e.length()*r*n.Fr.n8);a.set(e.coef,0);const o=await n.Fr.fft(a);return new Lr(o,n,i)}getEvaluation(e){const r=e*this.Fr.n8;if(r+this.Fr.n8>this.eval.byteLength)throw new Error("Evaluations.getEvaluation() out of bounds");return this.eval.slice(r,r+this.Fr.n8)}length(){let e=this.eval.byteLength/this.Fr.n8;if(e!==Math.floor(this.eval.byteLength/this.Fr.n8))throw new Error("Polynomial evaluations buffer has incorrect size");return e===0&&this.logger.warn("Polynomial has length zero"),e}}const{stringifyBigInts:H6}=$n;async function T_(t,e,r,n){const{fd:i,sections:a}=await gr(e,"wtns",2);r&&r.debug("> Reading witness file");const o=await Ud(i,a);r&&r.debug("> Reading zkey file");const{fd:s,sections:u}=await gr(t,"zkey",2),l=await oo(s,u,void 0,n);if(l.protocol!="plonk")throw new Error("zkey file is not plonk");if(!It.eq(l.r,o.q))throw new Error("Curve of the witness does not match the curve of the proving key");if(o.nWitness!=l.nVars-l.nAdditions)throw new Error(`Invalid witness length. Circuit: ${l.nVars}, witness: ${o.nWitness}, ${l.nAdditions}`);const c=l.curve,f=c.Fr,d=c.Fr.n8,h=l.domainSize*d;r&&(r.debug("----------------------------"),r.debug("  PLONK PROVE SETTINGS"),r.debug(`  Curve:         ${c.name}`),r.debug(`  Circuit power: ${l.power}`),r.debug(`  Domain size:   ${l.domainSize}`),r.debug(`  Vars:          ${l.nVars}`),r.debug(`  Public vars:   ${l.nPublic}`),r.debug(`  Constraints:   ${l.nConstraints}`),r.debug(`  Additions:     ${l.nAdditions}`),r.debug("----------------------------")),r&&r.debug("> Reading witness file data");const y=await nr(i,a,2);y.set(f.zero,0);const w=new He(d*l.nAdditions);let _={},E={},p={},m={},S=new U8(c,r);const F=new ol(c);r&&r.debug(`> Reading Section ${q6}. Additions`),await D(),r&&r.debug(`> Reading Section ${H0}. Sigma1, Sigma2 & Sigma 3`),r&&r.debug("··· Reading Sigma polynomials "),E.Sigma1=new vt(new He(h),c,r),E.Sigma2=new vt(new He(h),c,r),E.Sigma3=new vt(new He(h),c,r),await s.readToBuffer(E.Sigma1.coef,0,h,u[H0][0].p),await s.readToBuffer(E.Sigma2.coef,0,h,u[H0][0].p+5*h),await s.readToBuffer(E.Sigma3.coef,0,h,u[H0][0].p+10*h),r&&r.debug("··· Reading Sigma evaluations"),p.Sigma1=new Lr(new He(h*4),c,r),p.Sigma2=new Lr(new He(h*4),c,r),p.Sigma3=new Lr(new He(h*4),c,r),await s.readToBuffer(p.Sigma1.eval,0,h*4,u[H0][0].p+h),await s.readToBuffer(p.Sigma2.eval,0,h*4,u[H0][0].p+6*h),await s.readToBuffer(p.Sigma3.eval,0,h*4,u[H0][0].p+11*h),r&&r.debug(`> Reading Section ${Q6}. Powers of Tau`);const I=await nr(s,u,Q6);let v=[];for(let R=1;R<=l.nPublic;R++){const re=y.slice(R*f.n8,R*f.n8+f.n8);v.push(It.fromRprLE(re))}r&&r.debug(""),r&&r.debug("> ROUND 1"),await Y(),r&&r.debug("> ROUND 2"),await B(),r&&r.debug("> ROUND 3"),await N(),r&&r.debug("> ROUND 4"),await G(),r&&r.debug("> ROUND 5"),await $(),await s.close(),await i.close();let A=S.toObjectProof(!1);return A.protocol="plonk",A.curve=c.name,r&&r.debug("PLONK PROVER FINISHED"),{proof:H6(A),publicSignals:H6(v)};async function D(){r&&r.debug("··· Computing additions");const R=await nr(s,u,q6),re=8+d*2;for(let T=0;T<l.nAdditions;T++){r&&T!==0&&T%1e5===0&&r.debug(`    addition ${T}/${l.nAdditions}`);let x=T*re;const z=L(R,x);x+=4;const b=L(R,x);x+=4;const J=R.slice(x,x+d);x+=d;const V=R.slice(x,x+d),g=j(z),M=j(b),Q=f.add(f.mul(J,g),f.mul(V,M));w.set(Q,d*T)}}function L(R,re){const T=R.slice(re,re+4);return new DataView(T.buffer,T.byteOffset,T.byteLength).getUint32(0,!0)}function j(R){return R<l.nVars-l.nAdditions?y.slice(R*d,R*d+d):R<l.nVars?w.slice((R-(l.nVars-l.nAdditions))*d,(R-(l.nVars-l.nAdditions))*d+d):c.Fr.zero}async function Y(){m.b=[];for(let x=1;x<=11;x++)m.b[x]=c.Fr.random();r&&r.debug("> Computing A, B, C wire polynomials"),await O(),r&&r.debug("> Computing A, B, C MSM");let R=await E.A.multiExponentiation(I,"A"),re=await E.B.multiExponentiation(I,"B"),T=await E.C.multiExponentiation(I,"C");return S.addPolynomial("A",R),S.addPolynomial("B",re),S.addPolynomial("C",T),0}async function O(){r&&r.debug("··· Reading data from zkey file"),_.A=new He(h),_.B=new He(h),_.C=new He(h);const R=await nr(s,u,IP),re=await nr(s,u,LP),T=await nr(s,u,FP);for(let x=0;x<l.nConstraints;x++){const z=x*d,b=x*4,J=L(R,b);_.A.set(j(J),z);const V=L(re,b);_.B.set(j(V),z);const g=L(T,b);_.C.set(j(g),z)}if(_.A=await f.batchToMontgomery(_.A),_.B=await f.batchToMontgomery(_.B),_.C=await f.batchToMontgomery(_.C),r&&r.debug("··· Computing A ifft"),E.A=await vt.fromEvaluations(_.A,c,r),r&&r.debug("··· Computing B ifft"),E.B=await vt.fromEvaluations(_.B,c,r),r&&r.debug("··· Computing C ifft"),E.C=await vt.fromEvaluations(_.C,c,r),r&&r.debug("··· Computing A fft"),p.A=await Lr.fromPolynomial(E.A,4,c,r),r&&r.debug("··· Computing B fft"),p.B=await Lr.fromPolynomial(E.B,4,c,r),r&&r.debug("··· Computing C fft"),p.C=await Lr.fromPolynomial(E.C,4,c,r),E.A.blindCoefficients([m.b[2],m.b[1]]),E.B.blindCoefficients([m.b[4],m.b[3]]),E.C.blindCoefficients([m.b[6],m.b[5]]),E.A.degree()>=l.domainSize+2)throw new Error("A Polynomial is not well calculated");if(E.B.degree()>=l.domainSize+2)throw new Error("B Polynomial is not well calculated");if(E.C.degree()>=l.domainSize+2)throw new Error("C Polynomial is not well calculated")}async function B(){r&&r.debug("> Computing challenges beta and gamma"),F.reset(),F.addPolCommitment(l.Qm),F.addPolCommitment(l.Ql),F.addPolCommitment(l.Qr),F.addPolCommitment(l.Qo),F.addPolCommitment(l.Qc),F.addPolCommitment(l.S1),F.addPolCommitment(l.S2),F.addPolCommitment(l.S3);for(let re=0;re<l.nPublic;re++)F.addScalar(_.A.slice(re*d,re*d+d));F.addPolCommitment(S.getPolynomial("A")),F.addPolCommitment(S.getPolynomial("B")),F.addPolCommitment(S.getPolynomial("C")),m.beta=F.getChallenge(),r&&r.debug("··· challenges.beta: "+f.toString(m.beta,16)),F.reset(),F.addScalar(m.beta),m.gamma=F.getChallenge(),r&&r.debug("··· challenges.gamma: "+f.toString(m.gamma,16)),r&&r.debug("> Computing Z polynomial"),await C(),r&&r.debug("> Computing Z MSM");let R=await E.Z.multiExponentiation(I,"Z");S.addPolynomial("Z",R)}async function C(){r&&r.debug("··· Computing Z evaluations");let R=new He(h),re=new He(h);R.set(f.one,0),re.set(f.one,0);let T=f.one;for(let x=0;x<l.domainSize;x++){const z=x*d,b=_.A.slice(z,z+d),J=_.B.slice(z,z+d),V=_.C.slice(z,z+d),g=f.mul(m.beta,T);let M=f.add(b,g);M=f.add(M,m.gamma);let Q=f.add(J,f.mul(l.k1,g));Q=f.add(Q,m.gamma);let k=f.add(V,f.mul(l.k2,g));k=f.add(k,m.gamma);let K=f.mul(M,f.mul(Q,k)),ie=f.add(b,f.mul(p.Sigma1.getEvaluation(x*4),m.beta));ie=f.add(ie,m.gamma);let ne=f.add(J,f.mul(p.Sigma2.getEvaluation(x*4),m.beta));ne=f.add(ne,m.gamma);let le=f.add(V,f.mul(p.Sigma3.getEvaluation(x*4),m.beta));le=f.add(le,m.gamma);let he=f.mul(ie,f.mul(ne,le));K=f.mul(R.slice(z,z+d),K),R.set(K,(x+1)%l.domainSize*d),he=f.mul(re.slice(z,z+d),he),re.set(he,(x+1)%l.domainSize*d),T=f.mul(T,f.w[l.power])}re=await f.batchInverse(re);for(let x=0;x<l.domainSize;x++){const z=x*d,b=f.mul(R.slice(z,z+d),re.slice(z,z+d));R.set(b,z)}if(_.Z=R,!f.eq(R.slice(0,d),f.one))throw new Error("Copy constraints does not match");if(r&&r.debug("··· Computing Z ifft"),E.Z=await vt.fromEvaluations(_.Z,c,r),r&&r.debug("··· Computing Z fft"),p.Z=await Lr.fromPolynomial(E.Z,4,c,r),E.Z.blindCoefficients([m.b[9],m.b[8],m.b[7]]),E.Z.degree()>=l.domainSize+3)throw new Error("Z Polynomial is not well calculated");delete _.Z}async function N(){r&&r.debug("> Computing challenge alpha"),F.reset(),F.addScalar(m.beta),F.addScalar(m.gamma),F.addPolCommitment(S.getPolynomial("Z")),m.alpha=F.getChallenge(),m.alpha2=f.square(m.alpha),r&&r.debug("··· challenges.alpha: "+f.toString(m.alpha,16)),r&&r.debug("> Computing T polynomial"),await U(),r&&r.debug("> Computing T MSM");let R=await E.T1.multiExponentiation(I,"T1"),re=await E.T2.multiExponentiation(I,"T2"),T=await E.T3.multiExponentiation(I,"T3");S.addPolynomial("T1",R),S.addPolynomial("T2",re),S.addPolynomial("T3",T)}async function U(){r&&r.debug(`··· Reading sections ${X2}, ${J2}, ${Z2}, ${eg}, ${tg}. Q selectors`),p.QL=new Lr(new He(h*4),c,r),p.QR=new Lr(new He(h*4),c,r),p.QM=new Lr(new He(h*4),c,r),p.QO=new Lr(new He(h*4),c,r),p.QC=new Lr(new He(h*4),c,r),await s.readToBuffer(p.QL.eval,0,h*4,u[X2][0].p+h),await s.readToBuffer(p.QR.eval,0,h*4,u[J2][0].p+h),await s.readToBuffer(p.QM.eval,0,h*4,u[Z2][0].p+h),await s.readToBuffer(p.QO.eval,0,h*4,u[eg][0].p+h),await s.readToBuffer(p.QC.eval,0,h*4,u[tg][0].p+h),p.Lagrange=new Lr(new He(h*4*l.nPublic),c,r);for(let x=0;x<l.nPublic;x++)await s.readToBuffer(p.Lagrange.eval,x*h*4,h*4,u[DP][0].p+x*5*h+h);_.T=new He(h*4),_.Tz=new He(h*4),r&&r.debug("··· Computing T evaluations");let R=f.one;for(let x=0;x<l.domainSize*4;x++){r&&x!==0&&x%1e5===0&&r.debug(`      T evaluation ${x}/${l.domainSize*4}`);const z=p.A.getEvaluation(x),b=p.B.getEvaluation(x),J=p.C.getEvaluation(x),V=p.Z.getEvaluation(x),g=p.Z.getEvaluation((l.domainSize*4+4+x)%(l.domainSize*4)),M=p.QM.getEvaluation(x),Q=p.QL.getEvaluation(x),k=p.QR.getEvaluation(x),K=p.QO.getEvaluation(x),ie=p.QC.getEvaluation(x),ne=p.Sigma1.getEvaluation(x),le=p.Sigma2.getEvaluation(x),he=p.Sigma3.getEvaluation(x),fe=f.add(m.b[2],f.mul(m.b[1],R)),ce=f.add(m.b[4],f.mul(m.b[3],R)),Ae=f.add(m.b[6],f.mul(m.b[5],R)),Fe=f.square(R),Me=f.add(f.add(f.mul(m.b[7],Fe),f.mul(m.b[8],R)),m.b[9]),Ke=f.mul(R,f.w[l.power]),$e=f.square(Ke),oe=f.add(f.add(f.mul(m.b[7],$e),f.mul(m.b[8],Ke)),m.b[9]);let X=f.zero;for(let Ve=0;Ve<l.nPublic;Ve++){const Xe=Ve*4*l.domainSize+x,Je=p.Lagrange.getEvaluation(Xe),Ze=_.A.slice(Ve*d,(Ve+1)*d);X=f.sub(X,f.mul(Je,Ze))}let[te,de]=Y2.mul2(z,b,fe,ce,x%4,f);te=f.mul(te,M),de=f.mul(de,M),te=f.add(te,f.mul(z,Q)),de=f.add(de,f.mul(fe,Q)),te=f.add(te,f.mul(b,k)),de=f.add(de,f.mul(ce,k)),te=f.add(te,f.mul(J,K)),de=f.add(de,f.mul(Ae,K)),te=f.add(te,X),te=f.add(te,ie);const Ce=f.mul(m.beta,R);let Se=z;Se=f.add(Se,Ce),Se=f.add(Se,m.gamma);let ge=b;ge=f.add(ge,f.mul(Ce,l.k1)),ge=f.add(ge,m.gamma);let q=J;q=f.add(q,f.mul(Ce,l.k2)),q=f.add(q,m.gamma);let H=V,[ye,_e]=Y2.mul4(Se,ge,q,H,fe,ce,Ae,Me,x%4,f);ye=f.mul(ye,m.alpha),_e=f.mul(_e,m.alpha);let ve=z;ve=f.add(ve,f.mul(m.beta,ne)),ve=f.add(ve,m.gamma);let Ie=b;Ie=f.add(Ie,f.mul(m.beta,le)),Ie=f.add(Ie,m.gamma);let Le=J;Le=f.add(Le,f.mul(m.beta,he)),Le=f.add(Le,m.gamma);let Pe=g,[Re,Oe]=Y2.mul4(ve,Ie,Le,Pe,fe,ce,Ae,oe,x%4,f);Re=f.mul(Re,m.alpha),Oe=f.mul(Oe,m.alpha);let Ue=f.sub(V,f.one);Ue=f.mul(Ue,p.Lagrange.getEvaluation(x)),Ue=f.mul(Ue,m.alpha2);let Ge=f.mul(Me,p.Lagrange.getEvaluation(x));Ge=f.mul(Ge,m.alpha2);let et=f.add(f.sub(f.add(te,ye),Re),Ue),We=f.add(f.sub(f.add(de,_e),Oe),Ge);_.T.set(et,x*d),_.Tz.set(We,x*d),R=f.mul(R,f.w[l.power+2])}if(r&&r.debug("··· Computing T ifft"),E.T=await vt.fromEvaluations(_.T,c,r),r&&r.debug("··· Computing T / ZH"),E.T.divZh(l.domainSize,4),r&&r.debug("··· Computing Tz ifft"),E.Tz=await vt.fromEvaluations(_.Tz,c,r),E.T.add(E.Tz),E.T.degree()>=l.domainSize*3+6)throw new Error("T Polynomial is not well calculated");r&&r.debug("··· Computing T1, T2, T3 polynomials"),E.T1=new vt(new He((l.domainSize+1)*d),c,r),E.T2=new vt(new He((l.domainSize+1)*d),c,r),E.T3=new vt(new He((l.domainSize+6)*d),c,r),E.T1.coef.set(E.T.coef.slice(0,h),0),E.T2.coef.set(E.T.coef.slice(h,h*2),0),E.T3.coef.set(E.T.coef.slice(h*2,h*3+6*d),0),E.T1.setCoef(l.domainSize,m.b[10]);const re=f.sub(E.T2.getCoef(0),m.b[10]);E.T2.setCoef(0,re),E.T2.setCoef(l.domainSize,m.b[11]);const T=f.sub(E.T3.getCoef(0),m.b[11]);E.T3.setCoef(0,T)}async function G(){r&&r.debug("> Computing challenge xi"),F.reset(),F.addScalar(m.alpha),F.addPolCommitment(S.getPolynomial("T1")),F.addPolCommitment(S.getPolynomial("T2")),F.addPolCommitment(S.getPolynomial("T3")),m.xi=F.getChallenge(),m.xiw=f.mul(m.xi,f.w[l.power]),r&&r.debug("··· challenges.xi: "+f.toString(m.xi,16)),S.addEvaluation("eval_a",E.A.evaluate(m.xi)),S.addEvaluation("eval_b",E.B.evaluate(m.xi)),S.addEvaluation("eval_c",E.C.evaluate(m.xi)),S.addEvaluation("eval_s1",E.Sigma1.evaluate(m.xi)),S.addEvaluation("eval_s2",E.Sigma2.evaluate(m.xi)),S.addEvaluation("eval_zw",E.Z.evaluate(m.xiw))}async function $(){r&&r.debug("> Computing challenge v"),F.reset(),F.addScalar(m.xi),F.addScalar(S.getEvaluation("eval_a")),F.addScalar(S.getEvaluation("eval_b")),F.addScalar(S.getEvaluation("eval_c")),F.addScalar(S.getEvaluation("eval_s1")),F.addScalar(S.getEvaluation("eval_s2")),F.addScalar(S.getEvaluation("eval_zw")),m.v=[],m.v[1]=F.getChallenge(),r&&r.debug("··· challenges.v: "+f.toString(m.v[1],16));for(let T=2;T<6;T++)m.v[T]=f.mul(m.v[T-1],m.v[1]);r&&r.debug("> Computing linearisation polynomial R(X)"),await Z(),r&&r.debug("> Computing opening proof polynomial Wxi(X) polynomial"),W(),r&&r.debug("> Computing opening proof polynomial Wxiw(X) polynomial"),P(),r&&r.debug("> Computing Wxi, Wxiw MSM");let R=await E.Wxi.multiExponentiation(I,"Wxi"),re=await E.Wxiw.multiExponentiation(I,"Wxiw");S.addPolynomial("Wxi",R),S.addPolynomial("Wxiw",re)}async function Z(){const R=c.Fr;E.QL=new vt(new He(h),c,r),E.QR=new vt(new He(h),c,r),E.QM=new vt(new He(h),c,r),E.QO=new vt(new He(h),c,r),E.QC=new vt(new He(h),c,r),await s.readToBuffer(E.QL.coef,0,h,u[X2][0].p),await s.readToBuffer(E.QR.coef,0,h,u[J2][0].p),await s.readToBuffer(E.QM.coef,0,h,u[Z2][0].p),await s.readToBuffer(E.QO.coef,0,h,u[eg][0].p),await s.readToBuffer(E.QC.coef,0,h,u[tg][0].p),m.xin=m.xi;for(let ce=0;ce<l.power;ce++)m.xin=R.square(m.xin);m.zh=R.sub(m.xin,R.one);const re=[],T=R.e(l.domainSize);let x=R.one;for(let ce=1;ce<=Math.max(1,l.nPublic);ce++)re[ce]=R.div(R.mul(x,m.zh),R.mul(T,R.sub(m.xi,x))),x=R.mul(x,R.w[l.power]);const z=R.div(R.sub(m.xin,R.one),R.mul(T,R.sub(m.xi,R.one)));if(r){r.debug("Lagrange Evaluations: ");for(let ce=1;ce<re.length;ce++)r.debug(`L${ce}(xi)=`+R.toString(re[ce],16))}let b=R.zero;for(let ce=0;ce<v.length;ce++){const Ae=R.e(v[ce]);b=R.sub(b,R.mul(Ae,re[ce+1]))}r&&r.debug("PI: "+R.toString(b,16));const J=R.mul(S.evaluations.eval_a,S.evaluations.eval_b);let V=S.evaluations.eval_a;const g=R.mul(m.beta,m.xi);V=R.add(V,g),V=R.add(V,m.gamma);let M=S.evaluations.eval_b;M=R.add(M,R.mul(g,l.k1)),M=R.add(M,m.gamma);let Q=S.evaluations.eval_c;Q=R.add(Q,R.mul(g,l.k2)),Q=R.add(Q,m.gamma);const k=R.mul(R.mul(R.mul(V,M),Q),m.alpha);let K=S.evaluations.eval_a;K=R.add(K,R.mul(m.beta,S.evaluations.eval_s1)),K=R.add(K,m.gamma);let ie=S.evaluations.eval_b;ie=R.add(ie,R.mul(m.beta,S.evaluations.eval_s2)),ie=R.add(ie,m.gamma);let ne=R.mul(K,ie);ne=R.mul(ne,S.evaluations.eval_zw),ne=R.mul(ne,m.alpha);const le=R.mul(z,m.alpha2);E.R=new vt(new He((l.domainSize+6)*d),c,r),E.R.add(E.QM,J),E.R.add(E.QL,S.evaluations.eval_a),E.R.add(E.QR,S.evaluations.eval_b),E.R.add(E.QO,S.evaluations.eval_c),E.R.add(E.QC),E.R.add(E.Z,k),E.R.sub(E.Sigma3,R.mul(ne,m.beta)),E.R.add(E.Z,le);let he=vt.fromPolynomial(E.T3,c,r);he.mulScalar(R.square(m.xin)),he.add(E.T2,m.xin),he.add(E.T1),he.mulScalar(m.zh),E.R.sub(he);let fe=R.sub(b,R.mul(ne,R.add(S.evaluations.eval_c,m.gamma)));fe=R.sub(fe,le),r&&r.debug("r0: "+R.toString(fe,16)),E.R.addScalar(fe)}function W(){E.Wxi=new vt(new He(h+6*d),c,r),E.Wxi.add(E.R),E.Wxi.add(E.A,m.v[1]),E.Wxi.add(E.B,m.v[2]),E.Wxi.add(E.C,m.v[3]),E.Wxi.add(E.Sigma1,m.v[4]),E.Wxi.add(E.Sigma2,m.v[5]),E.Wxi.subScalar(f.mul(m.v[1],S.evaluations.eval_a)),E.Wxi.subScalar(f.mul(m.v[2],S.evaluations.eval_b)),E.Wxi.subScalar(f.mul(m.v[3],S.evaluations.eval_c)),E.Wxi.subScalar(f.mul(m.v[4],S.evaluations.eval_s1)),E.Wxi.subScalar(f.mul(m.v[5],S.evaluations.eval_s2)),E.Wxi.divByZerofier(1,m.xi)}async function P(){E.Wxiw=vt.fromPolynomial(E.Z,c,r),E.Wxiw.subScalar(S.evaluations.eval_zw),E.Wxiw.divByZerofier(1,m.xiw)}}const{unstringifyBigInts:TP}=$n;async function kP(t,e,r,n,i,a){const o=TP(t),s={type:"mem"};return await pp(o,e,s,i),await T_(r,s,n,a)}const{unstringifyBigInts:rg}=$n;async function NP(t,e,r,n){let i=rg(t);r=rg(r);let a=rg(e);const o=await Pl(i.curve),s=o.Fr,u=o.G1;n&&n.info("PLONK VERIFIER STARTED");let l=PP(o,r);if(i=RP(o,i),!MP(o,l))return n.error("Proof is not well constructed"),!1;if(a.length!=i.nPublic)return n.error("Invalid number of public inputs"),!1;const c=UP(o,l,a,i);if(n){n.debug("beta: "+s.toString(c.beta,16)),n.debug("gamma: "+s.toString(c.gamma,16)),n.debug("alpha: "+s.toString(c.alpha,16)),n.debug("xi: "+s.toString(c.xi,16));for(let p=1;p<6;p++)n&&n.debug("v: "+s.toString(c.v[p],16));n.debug("u: "+s.toString(c.u,16))}const f=OP(o,c,i);if(n)for(let p=1;p<f.length;p++)n.debug(`L${p}(xi)=`+s.toString(f[p],16));if(a.length!=i.nPublic)return n.error("Number of public signals does not match with vk"),!1;const d=VP(o,a,f);n&&n.debug("PI(xi): "+s.toString(d,16));const h=GP(o,l,c,d,f[1]);n&&n.debug("r0: "+s.toString(h,16));const y=zP(o,l,c,i,f[1]);n&&n.debug("D: "+u.toString(u.toAffine(y),16));const w=KP(o,l,c,i,y);n&&n.debug("F: "+u.toString(u.toAffine(w),16));const _=qP(o,l,c,h);n&&n.debug("E: "+u.toString(u.toAffine(_),16));const E=await QP(o,l,c,i,_,w);return n&&(E?n.info("OK!"):n.warn("Invalid Proof")),E}function PP(t,e){const r=t.G1,n=t.Fr,i={};return i.A=r.fromObject(e.A),i.B=r.fromObject(e.B),i.C=r.fromObject(e.C),i.Z=r.fromObject(e.Z),i.T1=r.fromObject(e.T1),i.T2=r.fromObject(e.T2),i.T3=r.fromObject(e.T3),i.eval_a=n.fromObject(e.eval_a),i.eval_b=n.fromObject(e.eval_b),i.eval_c=n.fromObject(e.eval_c),i.eval_zw=n.fromObject(e.eval_zw),i.eval_s1=n.fromObject(e.eval_s1),i.eval_s2=n.fromObject(e.eval_s2),i.Wxi=r.fromObject(e.Wxi),i.Wxiw=r.fromObject(e.Wxiw),i}function RP(t,e){const r=t.G1,n=t.G2,i=t.Fr,a=e;return a.Qm=r.fromObject(e.Qm),a.Ql=r.fromObject(e.Ql),a.Qr=r.fromObject(e.Qr),a.Qo=r.fromObject(e.Qo),a.Qc=r.fromObject(e.Qc),a.S1=r.fromObject(e.S1),a.S2=r.fromObject(e.S2),a.S3=r.fromObject(e.S3),a.k1=i.fromObject(e.k1),a.k2=i.fromObject(e.k2),a.X_2=n.fromObject(e.X_2),a}function MP(t,e){const r=t.G1;return!(!r.isValid(e.A)||!r.isValid(e.B)||!r.isValid(e.C)||!r.isValid(e.Z)||!r.isValid(e.T1)||!r.isValid(e.T2)||!r.isValid(e.T3)||!r.isValid(e.Wxi)||!r.isValid(e.Wxiw))}function UP(t,e,r,n){const i=t.Fr,a={},o=new ol(t);o.addPolCommitment(n.Qm),o.addPolCommitment(n.Ql),o.addPolCommitment(n.Qr),o.addPolCommitment(n.Qo),o.addPolCommitment(n.Qc),o.addPolCommitment(n.S1),o.addPolCommitment(n.S2),o.addPolCommitment(n.S3);for(let s=0;s<r.length;s++)o.addScalar(i.e(r[s]));o.addPolCommitment(e.A),o.addPolCommitment(e.B),o.addPolCommitment(e.C),a.beta=o.getChallenge(),o.reset(),o.addScalar(a.beta),a.gamma=o.getChallenge(),o.reset(),o.addScalar(a.beta),o.addScalar(a.gamma),o.addPolCommitment(e.Z),a.alpha=o.getChallenge(),o.reset(),o.addScalar(a.alpha),o.addPolCommitment(e.T1),o.addPolCommitment(e.T2),o.addPolCommitment(e.T3),a.xi=o.getChallenge(),o.reset(),o.addScalar(a.xi),o.addScalar(e.eval_a),o.addScalar(e.eval_b),o.addScalar(e.eval_c),o.addScalar(e.eval_s1),o.addScalar(e.eval_s2),o.addScalar(e.eval_zw),a.v=[],a.v[1]=o.getChallenge();for(let s=2;s<6;s++)a.v[s]=i.mul(a.v[s-1],a.v[1]);return o.reset(),o.addPolCommitment(e.Wxi),o.addPolCommitment(e.Wxiw),a.u=o.getChallenge(),a}function OP(t,e,r){const n=t.Fr;let i=e.xi,a=1;for(let l=0;l<r.power;l++)i=n.square(i),a*=2;e.xin=i,e.zh=n.sub(i,n.one);const o=[],s=n.e(a);let u=n.one;for(let l=1;l<=Math.max(1,r.nPublic);l++)o[l]=n.div(n.mul(u,e.zh),n.mul(s,n.sub(e.xi,u))),u=n.mul(u,n.w[r.power]);return o}function VP(t,e,r){const n=t.Fr;let i=n.zero;for(let a=0;a<e.length;a++){const o=n.e(e[a]);i=n.sub(i,n.mul(o,r[a+1]))}return i}function GP(t,e,r,n,i){const a=t.Fr,o=n,s=a.mul(i,a.square(r.alpha));let u=a.add(e.eval_a,a.mul(r.beta,e.eval_s1));u=a.add(u,r.gamma);let l=a.add(e.eval_b,a.mul(r.beta,e.eval_s2));l=a.add(l,r.gamma);let c=a.add(e.eval_c,r.gamma),f=a.mul(a.mul(u,l),c);return f=a.mul(f,e.eval_zw),f=a.mul(f,r.alpha),a.sub(a.sub(o,s),f)}function zP(t,e,r,n,i){const a=t.G1,o=t.Fr;let s=a.timesFr(n.Qm,o.mul(e.eval_a,e.eval_b));s=a.add(s,a.timesFr(n.Ql,e.eval_a)),s=a.add(s,a.timesFr(n.Qr,e.eval_b)),s=a.add(s,a.timesFr(n.Qo,e.eval_c)),s=a.add(s,n.Qc);const u=o.mul(r.beta,r.xi),l=o.add(o.add(e.eval_a,u),r.gamma),c=o.add(o.add(e.eval_b,o.mul(u,n.k1)),r.gamma),f=o.add(o.add(e.eval_c,o.mul(u,n.k2)),r.gamma),d=o.mul(o.mul(o.mul(l,c),f),r.alpha),h=o.mul(i,o.square(r.alpha)),y=a.timesFr(e.Z,o.add(o.add(d,h),r.u)),w=o.add(o.add(e.eval_a,o.mul(r.beta,e.eval_s1)),r.gamma),_=o.add(o.add(e.eval_b,o.mul(r.beta,e.eval_s2)),r.gamma),E=o.mul(o.mul(r.alpha,r.beta),e.eval_zw),p=a.timesFr(n.S3,o.mul(o.mul(w,_),E)),m=e.T1,S=a.timesFr(e.T2,r.xin),F=a.timesFr(e.T3,o.square(r.xin));let I=a.add(m,a.add(S,F));return I=a.timesFr(I,r.zh),a.sub(a.sub(a.add(s,y),p),I)}function KP(t,e,r,n,i){const a=t.G1;let o=a.add(i,a.timesFr(e.A,r.v[1]));return o=a.add(o,a.timesFr(e.B,r.v[2])),o=a.add(o,a.timesFr(e.C,r.v[3])),o=a.add(o,a.timesFr(n.S1,r.v[4])),o=a.add(o,a.timesFr(n.S2,r.v[5])),o}function qP(t,e,r,n){const i=t.G1,a=t.Fr;let o=a.add(a.neg(n),a.mul(r.v[1],e.eval_a));return o=a.add(o,a.mul(r.v[2],e.eval_b)),o=a.add(o,a.mul(r.v[3],e.eval_c)),o=a.add(o,a.mul(r.v[4],e.eval_s1)),o=a.add(o,a.mul(r.v[5],e.eval_s2)),o=a.add(o,a.mul(r.u,e.eval_zw)),i.timesFr(i.one,o)}async function QP(t,e,r,n,i,a){const o=t.G1,s=t.Fr;let u=e.Wxi;u=o.add(u,o.timesFr(e.Wxiw,r.u));let l=o.timesFr(e.Wxi,r.xi);const c=s.mul(s.mul(r.u,r.xi),s.w[n.power]);return l=o.add(l,o.timesFr(e.Wxiw,c)),l=o.add(l,a),l=o.sub(l,i),await t.pairingEq(o.neg(u),n.X_2,l,t.G2.one)}const{unstringifyBigInts:j6}=$n;function Vr(t){let e=t.toString(16);for(;e.length<64;)e="0"+e;return e=`"0x${e}"`,e}async function HP(t,e){const r=j6(t),n=j6(e);await Pl(r.curve);let i="";for(let a=0;a<n.length;a++)i!=""&&(i=i+","),i=i+Vr(n[a]);return`[${Vr(r.A[0])}, ${Vr(r.A[1])},${Vr(r.B[0])},${Vr(r.B[1])},${Vr(r.C[0])},${Vr(r.C[1])},${Vr(r.Z[0])},${Vr(r.Z[1])},${Vr(r.T1[0])},${Vr(r.T1[1])},${Vr(r.T2[0])},${Vr(r.T2[1])},${Vr(r.T3[0])},${Vr(r.T3[1])},${Vr(r.Wxi[0])},${Vr(r.Wxi[1])},${Vr(r.Wxiw[0])},${Vr(r.Wxiw[1])},${Vr(r.eval_a)},${Vr(r.eval_b)},${Vr(r.eval_c)},${Vr(r.eval_s1)},${Vr(r.eval_s2)},${Vr(r.eval_zw)}][${i}]`}var jP=Object.freeze({__proto__:null,setup:_P,fullProve:kP,prove:T_,verify:NP,exportSolidityCallData:HP});function $6(t,e){return[t,0,0,e.one,e.zero,e.zero,e.zero,e.zero]}function $P(t,e,r,n,i,a,o,s){return[t,e,r,n,i,a,o,s]}function WP(t,e,r,n,i,a,o,s,u){return[t,e,r,n,i,a,o,s]}const ng=0,ig=1,YP=2;class ZP{constructor(e,r,n,i,a){this.Fr=e,this.logger=a,this.fnGetAdditionConstraint=n,this.fnGetMultiplicationConstraint=i}processR1csConstraint(e,r,n,i){this.normalizeLinearCombination(r),this.normalizeLinearCombination(n),this.normalizeLinearCombination(i);const a=this.getLinearCombinationType(r),o=this.getLinearCombinationType(n);if(a===ng||o===ng)return this.processR1csAdditionConstraint(e,i);if(a===ig){const s=this.joinLinearCombinations(n,i,r[0]);return this.processR1csAdditionConstraint(e,s)}else if(o===ig){const s=this.joinLinearCombinations(r,i,n[0]);return this.processR1csAdditionConstraint(e,s)}else return this.processR1csMultiplicationConstraint(e,r,n,i)}getLinearCombinationType(e){let r=this.Fr.zero,n=0;const i=Object.keys(e);for(let a=0;a<i.length;a++)e[i[a]]==0n?delete e[i[a]]:i[a]==0?r=this.Fr.add(r,e[i[a]]):n++;return n>0?YP:this.Fr.isZero(r)?ng:ig}normalizeLinearCombination(e){const r=Object.keys(e);for(let n=0;n<r.length;n++)this.Fr.isZero(e[r[n]])&&delete e[r[n]];return e}joinLinearCombinations(e,r,n){const i={};for(let a in e)typeof i[a]>"u"?i[a]=this.Fr.mul(n,e[a]):i[a]=this.Fr.add(i[a],this.Fr.mul(n,e[a]));for(let a in r)typeof i[a]>"u"?i[a]=r[a]:i[a]=this.Fr.add(i[a],r[a]);return this.normalizeLinearCombination(i)}reduceCoefs(e,r,n,i,a){const o={k:this.Fr.zero,signals:[],coefs:[]},s=[];for(let u in i)u==0?o.k=this.Fr.add(o.k,i[u]):i[u]!=0n&&s.push([Number(u),i[u]]);for(;s.length>a;){const u=s.shift(),l=s.shift(),c=e.nVars++,f=this.fnGetAdditionConstraint(u[0],l[0],c,this.Fr.neg(u[1]),this.Fr.neg(l[1]),this.Fr.zero,this.Fr.one,this.Fr.zero);r.push(f),n.push([u[0],l[0],u[1],l[1]]),s.push([c,this.Fr.one])}for(let u=0;u<s.length;u++)o.signals[u]=s[u][0],o.coefs[u]=s[u][1];for(;o.coefs.length<a;)o.signals.push(0),o.coefs.push(this.Fr.zero);return o}processR1csAdditionConstraint(e,r){const n=[],i=[],a=this.reduceCoefs(e,n,i,r,3),o=this.fnGetAdditionConstraint(a.signals[0],a.signals[1],a.signals[2],a.coefs[0],a.coefs[1],this.Fr.zero,a.coefs[2],a.k);return n.push(o),[n,i]}processR1csMultiplicationConstraint(e,r,n,i){const a=[],o=[],s=this.reduceCoefs(e,a,o,r,1),u=this.reduceCoefs(e,a,o,n,1),l=this.reduceCoefs(e,a,o,i,1),c=this.fnGetMultiplicationConstraint(s.signals[0],u.signals[0],l.signals[0],this.Fr.mul(s.coefs[0],u.k),this.Fr.mul(s.k,u.coefs[0]),this.Fr.mul(s.coefs[0],u.coefs[0]),this.Fr.neg(l.coefs[0]),this.Fr.sub(this.Fr.mul(s.k,u.k),l.k));return a.push(c),[a,o]}}class m3{constructor(e,r,n){this.n=e,this.polynomials=Array(e).fill(void 0),this.curve=r,this.Fr=r.Fr,this.G1=r.G1,this.logger=n}addPolynomial(e,r){if(e>this.n-1)throw new Error("CPolynomial:addPolynomial, cannot add a polynomial to a position greater than n-1");this.polynomials[e]=r}degree(){let e=this.polynomials.map((r,n)=>r===void 0?0:r.degree()*this.n+n);return Math.max(...e)}getPolynomial(){let e=this.polynomials.map(o=>o===void 0?0:o.degree());const r=this.degree(),n=2**(K0(r-1)+1),i=this.Fr.n8;let a=new vt(new He(n*i),this.curve,this.logger);for(let o=0;o<r;o++){const s=o*i,u=s*this.n;for(let l=0;l<this.n;l++)this.polynomials[l]!==void 0&&o<=e[l]&&a.coef.set(this.polynomials[l].coef.slice(s,s+i),u+l*i)}return a}async multiExponentiation(e,r){let n=this.getPolynomial();const i=n.coef.byteLength/this.Fr.n8,a=e.slice(0,i*this.G1.F.n8*2),o=await this.Fr.batchFromMontgomery(n.coef);let s=await this.G1.multiExpAffine(a,o,this.logger,r);return s=this.G1.toAffine(s),s}}async function XP(t,e,r,n){n&&n.info("FFLONK SETUP STARTED"),globalThis.gc&&globalThis.gc(),n&&n.info("> Reading PTau file");const{fd:i,sections:a}=await gr(e,"ptau",1);if(!a[12])throw new Error("Powers of Tau is not well prepared. Section 12 missing.");n&&n.info("> Getting curve from PTau settings");const{curve:o}=await ka(i,a);n&&n.info("> Reading r1cs file");const{fd:s,sections:u}=await gr(t,"r1cs",1),l=await gp(s,u,{loadConstraints:!1,loadCustomGates:!0});if(l.prime!==o.r)throw new Error("r1cs curve does not match powers of tau ceremony curve");const c=o.Fr,f=o.Fr.n8,d=o.G1.F.n8*2,h=o.G2.F.n8*2;let y={},w={},_,E={nVars:l.nVars,nPublic:l.nOutputs+l.nPubInputs};const p=new Xi;let m=new Xi;if(n&&n.info("> Processing FFlonk constraints"),await L(o.Fr,l,n),globalThis.gc&&globalThis.gc(),E.cirPower=Math.max(nN,K0(p.length+2-1)+1),E.domainSize=2**E.cirPower,a[2][0].size<(E.domainSize*9+18)*d)throw new Error("Powers of Tau is not big enough for this circuit size. Section 2 too small.");if(a[3][0].size<h)throw new Error("Powers of Tau is not well prepared. Section 3 too small.");n&&(n.info("----------------------------"),n.info("  FFLONK SETUP SETTINGS"),n.info(`  Curve:         ${o.name}`),n.info(`  Circuit power: ${E.cirPower}`),n.info(`  Domain size:   ${E.domainSize}`),n.info(`  Vars:          ${E.nVars}`),n.info(`  Public vars:   ${E.nPublic}`),n.info(`  Constraints:   ${p.length}`),n.info(`  Additions:     ${m.length}`),n.info("----------------------------")),n&&n.info("> computing k1 and k2");const[S,F]=P();n&&n.info("> computing w3");const I=R();n&&n.info("> computing w4");const v=re();n&&n.info("> computing w8");const A=T();n&&n.info("> computing wr");const D=x(E.cirPower,o.Fr);return await j(),await s.close(),await i.close(),n&&n.info("FFLONK SETUP FINISHED"),0;async function L(z,b,J){for(let K=0;K<E.nPublic;K++)p.push($6(K+1,z));const V=new ZP(z,$6,$P,WP,J),g=await nr(s,u,2);let M=0;for(let K=0;K<b.nConstraints;K++){J&&K!==0&&K%5e5===0&&J.info(`    processing r1cs constraints ${K}/${b.nConstraints}`);const[ie,ne]=V.processR1csConstraint(E,...Q());p.push(...ie),m.push(...ne)}function Q(){const K=[];return K[0]=k(),K[1]=k(),K[2]=k(),K}function k(){const K={},ie=g.slice(M,M+4);M+=4;const le=new DataView(ie.buffer).getUint32(0,!0),he=g.slice(M,M+(4+b.n8)*le);M+=(4+b.n8)*le;const fe=new DataView(he.buffer);for(let ce=0;ce<le;ce++){const Ae=fe.getUint32(ce*(4+b.n8),!0),Fe=b.F.fromRprLE(he,ce*(4+b.n8)+4);K[Ae]=Fe}return K}return 0}async function j(){n&&n.info("> Writing the zkey file");const z=await Bi(r,"zkey",1,iN,1<<22,1<<24);n&&n.info(`··· Writing Section ${V6}. Zkey Header`),await Y(z),n&&n.info(`··· Writing Section ${nx}. Additions`),await O(z),globalThis.gc&&globalThis.gc(),n&&n.info(`··· Writing Section ${u3}. A Map`),await B(z,u3,0,"A map"),globalThis.gc&&globalThis.gc(),n&&n.info(`··· Writing Section ${f3}. B Map`),await B(z,f3,1,"B map"),globalThis.gc&&globalThis.gc(),n&&n.info(`··· Writing Section ${d3}. C Map`),await B(z,d3,2,"C map"),globalThis.gc&&globalThis.gc(),n&&n.info(`··· Writing Section ${Lf}. QL`),await C(z,Lf,3,"QL"),globalThis.gc&&globalThis.gc(),n&&n.info(`··· Writing Section ${Ff}. QR`),await C(z,Ff,4,"QR"),globalThis.gc&&globalThis.gc(),n&&n.info(`··· Writing Section ${Df}. QM`),await C(z,Df,5,"QM"),globalThis.gc&&globalThis.gc(),n&&n.info(`··· Writing Section ${Tf}. QO`),await C(z,Tf,6,"QO"),globalThis.gc&&globalThis.gc(),n&&n.info(`··· Writing Section ${kf}. QC`),await C(z,kf,7,"QC"),globalThis.gc&&globalThis.gc(),n&&n.info(`··· Writing Sections ${Nf},${Pf},${Rf}. Sigma1, Sigma2 & Sigma 3`),await N(z),globalThis.gc&&globalThis.gc(),n&&n.info(`··· Writing Section ${h3}. Lagrange Polynomials`),await U(z),globalThis.gc&&globalThis.gc(),n&&n.info(`··· Writing Section ${ix}. Powers of Tau`),await G(z),globalThis.gc&&globalThis.gc(),n&&n.info(`··· Writing Section ${x3}. C0`),await $(z),globalThis.gc&&globalThis.gc(),n&&n.info(`··· Writing Section ${c3}. FFlonk Header`),await Z(z),globalThis.gc&&globalThis.gc(),n&&n.info("> Writing the zkey file finished"),await z.close()}async function Y(z){await zt(z,V6),await z.writeULE32(Md),await Kt(z)}async function O(z){await zt(z,nx);const b=new Uint8Array(8+2*f),J=new DataView(b.buffer);for(let V=0;V<m.length;V++){n&&V!==0&&V%5e5===0&&n.info(`      writing Additions: ${V}/${m.length}`);const g=m[V];J.setUint32(0,g[0],!0),J.setUint32(4,g[1],!0),b.set(g[2],8),b.set(g[3],8+f),await z.write(b)}await Kt(z)}async function B(z,b,J,V){await zt(z,b);for(let g=0;g<p.length;g++)n&&g!==0&&g%5e5===0&&n.info(`      writing witness ${V}: ${g}/${p.length}`),await z.writeULE32(p[g][J]);await Kt(z)}async function C(z,b,J,V){let g=new He(E.domainSize*f);for(let M=0;M<p.length;M++)g.set(p[M][J],M*f),n&&M!==0&&M%5e5===0&&n.info(`      writing ${V}: ${M}/${p.length}`);y[V]=await vt.fromEvaluations(g,o,n),w[V]=await Lr.fromPolynomial(y[V],4,o,n),await zt(z,b),await z.write(y[V].coef),await z.write(w[V].eval),await Kt(z)}async function N(z){const b=new He(f*E.domainSize*3),J=new Xi(E.nVars),V=new Xi(E.nVars);let g=c.one;for(let Q=0;Q<E.domainSize;Q++)Q<p.length?(M(p[Q][0],Q),M(p[Q][1],E.domainSize+Q),M(p[Q][2],E.domainSize*2+Q)):Q<E.domainSize-2?(M(0,Q),M(0,E.domainSize+Q),M(0,E.domainSize*2+Q)):(b.set(g,Q*f),b.set(c.mul(g,S),(E.domainSize+Q)*f),b.set(c.mul(g,F),(E.domainSize*2+Q)*f)),g=c.mul(g,c.w[E.cirPower]),n&&Q!==0&&Q%5e5===0&&n.info(`      writing sigma phase1: ${Q}/${p.length}`);for(let Q=0;Q<E.nVars;Q++)typeof V[Q]<"u"?b.set(J[Q],V[Q]*f):console.log("Variable not used"),n&&Q!==0&&Q%5e5===0&&n.info(`      writing sigma phase2: ${Q}/${E.nVars}`);globalThis.gc&&globalThis.gc();for(let Q=0;Q<3;Q++){const k=Q===0?Nf:Q===1?Pf:Rf;let K="S"+(Q+1);y[K]=await vt.fromEvaluations(b.slice(E.domainSize*f*Q,E.domainSize*f*(Q+1)),o,n),w[K]=await Lr.fromPolynomial(y[K],4,o,n),await zt(z,k),await z.write(y[K].coef),await z.write(w[K].eval),await Kt(z),globalThis.gc&&globalThis.gc()}return 0;function M(Q,k){typeof J[Q]>"u"?V[Q]=k:b.set(J[Q],k*f);let K;k<E.domainSize?K=g:k<2*E.domainSize?K=c.mul(g,S):K=c.mul(g,F),J[Q]=K}}async function U(z){await zt(z,h3);const b=Math.max(E.nPublic,1);for(let J=0;J<b;J++){let V=new He(E.domainSize*f);V.set(c.one,J*f),await W(z,V)}await Kt(z)}async function G(z){await zt(z,ix),_=new He((E.domainSize*9+18)*d),await i.readToBuffer(_,0,(E.domainSize*9+18)*d,a[2][0].p),await z.write(_),await Kt(z)}async function $(z){let b=new m3(8,o,n);if(b.addPolynomial(0,y.QL),b.addPolynomial(1,y.QR),b.addPolynomial(2,y.QO),b.addPolynomial(3,y.QM),b.addPolynomial(4,y.QC),b.addPolynomial(5,y.S1),b.addPolynomial(6,y.S2),b.addPolynomial(7,y.S3),y.C0=b.getPolynomial(),y.C0.degree()>=8*E.domainSize)throw new Error("C0 Polynomial is not well calculated");await zt(z,x3),await z.write(y.C0.coef),await Kt(z)}async function Z(z){await zt(z,c3);const b=o.q,J=(Math.floor((It.bitLength(b)-1)/64)+1)*8;await z.writeULE32(J),await ao(z,b,J);const V=o.r,g=(Math.floor((It.bitLength(V)-1)/64)+1)*8;await z.writeULE32(g),await ao(z,V,g),await z.writeULE32(E.nVars),await z.writeULE32(E.nPublic),await z.writeULE32(E.domainSize),await z.writeULE32(m.length),await z.writeULE32(p.length),await z.write(S),await z.write(F),await z.write(I),await z.write(v),await z.write(A),await z.write(D);let M;M=await i.read(h,a[3][0].p+h),await z.write(M);let Q=await y.C0.multiExponentiation(_,"C0");await z.write(Q),await Kt(z)}async function W(z,b){const[J,V]=await vt.to4T(b,E.domainSize,[],c);return await z.write(J),await z.write(V),[J,V]}function P(){let z=c.two;for(;J(z,[],E.cirPower);)c.add(z,c.one);let b=c.add(z,c.one);for(;J(b,[z],E.cirPower);)c.add(b,c.one);return[z,b];function J(V,g,M){const Q=2**M;let k=c.one;for(let K=0;K<Q;K++){if(c.eq(V,k))return!0;for(let ie=0;ie<g.length;ie++)if(c.eq(V,c.mul(g[ie],k)))return!0;k=c.mul(k,c.w[M])}return!1}}function R(){let z=c.e(31624),J=It.div(3648040478639879203707734290876212514758060733402672390616367364429301415936n,It.e(3));return c.exp(z,J)}function re(){return c.w[2]}function T(){return c.w[3]}function x(z,b){const J=b.e(467799165886069610036046866799264026481344299079011762026774533774345988080n);return b.exp(J,2**(28-z))}}const{stringifyBigInts:W6}=$n;async function k_(t,e,r,n){r&&r.info("FFLONK PROVER STARTED"),r&&r.info("> Reading witness file");const{fd:i,sections:a}=await gr(e,"wtns",2),o=await Ud(i,a);r&&r.info("> Reading zkey file");const{fd:s,sections:u}=await gr(t,"zkey",2),l=await oo(s,u,void 0,n);if(l.protocolId!==Md)throw new Error("zkey file is not fflonk");if(!It.eq(l.r,o.q))throw new Error("Curve of the witness does not match the curve of the proving key");if(o.nWitness!==l.nVars-l.nAdditions)throw new Error(`Invalid witness length. Circuit: ${l.nVars}, witness: ${o.nWitness}, ${l.nAdditions}`);const c=l.curve,f=c.Fr,d=c.Fr.n8,h=c.G1.F.n8*2,y=l.domainSize*d;r&&(r.info("----------------------------"),r.info("  FFLONK PROVE SETTINGS"),r.info(`  Curve:         ${c.name}`),r.info(`  Circuit power: ${l.power}`),r.info(`  Domain size:   ${l.domainSize}`),r.info(`  Vars:          ${l.nVars}`),r.info(`  Public vars:   ${l.nPublic}`),r.info(`  Constraints:   ${l.nConstraints}`),r.info(`  Additions:     ${l.nAdditions}`),r.info("----------------------------")),r&&r.info("> Reading witness file data");const w=await nr(i,a,2);await i.close(),w.set(f.zero,0);const _=new He(l.nAdditions*d);let E={},p={},m={},S={},F={},I={},v=new U8(c,r);r&&r.info(`> Reading Section ${nx}. Additions`),await j(),r&&r.info(`> Reading Sections ${Nf},${Pf},${Rf}. Sigma1, Sigma2 & Sigma 3`),r&&r.info("··· Reading Sigma polynomials "),p.Sigma1=new vt(new He(y),c,r),p.Sigma2=new vt(new He(y),c,r),p.Sigma3=new vt(new He(y),c,r),await s.readToBuffer(p.Sigma1.coef,0,y,u[Nf][0].p),await s.readToBuffer(p.Sigma2.coef,0,y,u[Pf][0].p),await s.readToBuffer(p.Sigma3.coef,0,y,u[Rf][0].p),r&&r.info("··· Reading Sigma evaluations"),m.Sigma1=new Lr(new He(y*4),c,r),m.Sigma2=new Lr(new He(y*4),c,r),m.Sigma3=new Lr(new He(y*4),c,r),await s.readToBuffer(m.Sigma1.eval,0,y*4,u[Nf][0].p+y),await s.readToBuffer(m.Sigma2.eval,0,y*4,u[Pf][0].p+y),await s.readToBuffer(m.Sigma3.eval,0,y*4,u[Rf][0].p+y),r&&r.info(`> Reading Section ${ix}. Powers of Tau`);const A=new He(l.domainSize*16*h);await s.readToBuffer(A,0,(l.domainSize*9+18)*h,u[ix][0].p),globalThis.gc&&globalThis.gc(),r&&r.info(""),r&&r.info("> ROUND 1"),await B(),delete p.T0,delete m.QL,delete m.QR,delete m.QM,delete m.QO,delete m.QC,globalThis.gc&&globalThis.gc(),r&&r.info("> ROUND 2"),await C(),delete E.A,delete E.B,delete E.C,delete m.A,delete m.B,delete m.C,delete m.Sigma1,delete m.Sigma2,delete m.Sigma3,delete m.lagrange1,delete m.Z,globalThis.gc&&globalThis.gc(),r&&r.info("> ROUND 3"),await N(),delete p.A,delete p.B,delete p.C,delete p.Z,delete p.T1,delete p.T2,delete p.Sigma1,delete p.Sigma2,delete p.Sigma3,delete p.QL,delete p.QR,delete p.QM,delete p.QC,delete p.QO,globalThis.gc&&globalThis.gc(),r&&r.info("> ROUND 4"),await U(),globalThis.gc&&globalThis.gc(),r&&r.info("> ROUND 5"),await G(),delete p.C0,delete p.C1,delete p.C2,delete p.R1,delete p.R2,delete p.F,delete p.L,delete p.ZT,delete p.ZTS2,await s.close(),globalThis.gc&&globalThis.gc(),v.addEvaluation("inv",$());let D=v.toObjectProof();D.protocol="fflonk",D.curve=c.name;let L=[];for(let Z=1;Z<=l.nPublic;Z++){const W=Z*d,P=w.slice(W,W+d);L.push(It.fromRprLE(P))}return r&&r.info("FFLONK PROVER FINISHED"),{proof:W6(D),publicSignals:W6(L)};async function j(){r&&r.info("··· Computing additions");const Z=await nr(s,u,nx),W=8+d*2;for(let P=0;P<l.nAdditions;P++){r&&P!==0&&P%1e5===0&&r.info(`    addition ${P}/${l.nAdditions}`);let R=P*W;const re=Y(Z,R);R+=4;const T=Y(Z,R);R+=4;const x=Z.slice(R,R+d);R+=d;const z=Z.slice(R,R+d),b=O(re),J=O(T),V=f.add(f.mul(x,b),f.mul(z,J));_.set(V,d*P)}}function Y(Z,W){const P=Z.slice(W,W+4);return new DataView(P.buffer,P.byteOffset,P.byteLength).getUint32(0,!0)}function O(Z){let W=l.nVars-l.nAdditions;if(Z<W)return w.slice(Z*d,Z*d+d);if(Z<l.nVars){const P=(Z-W)*d;return _.slice(P,P+d)}return f.zero}async function B(){F.b=[];for(let re=1;re<=9;re++)F.b[re]=f.random();r&&r.info("> Computing A, B, C wire polynomials"),await W(),r&&r.info("> Computing T0 polynomial"),await P(),r&&r.info("> Computing C1 polynomial"),await R(),r&&r.info("> Computing C1 multi exponentiation");let Z=await p.C1.multiExponentiation(A,"C1");return v.addPolynomial("C1",Z),0;async function W(){r&&r.info("··· Reading data from zkey file"),E.A=new He(y),E.B=new He(y),E.C=new He(y);const re=await nr(s,u,u3),T=await nr(s,u,f3),x=await nr(s,u,d3);for(let z=0;z<l.nConstraints;z++){const b=z*d,J=z*4,V=Y(re,J);E.A.set(O(V),b);const g=Y(T,J);E.B.set(O(g),b);const M=Y(x,J);E.C.set(O(M),b)}if(E.A.set(F.b[1],y-64),E.A.set(F.b[2],y-32),E.B.set(F.b[3],y-64),E.B.set(F.b[4],y-32),E.C.set(F.b[5],y-64),E.C.set(F.b[6],y-32),E.A=await f.batchToMontgomery(E.A),E.B=await f.batchToMontgomery(E.B),E.C=await f.batchToMontgomery(E.C),r&&r.info("··· Computing A ifft"),p.A=await vt.fromEvaluations(E.A,c,r),r&&r.info("··· Computing B ifft"),p.B=await vt.fromEvaluations(E.B,c,r),r&&r.info("··· Computing C ifft"),p.C=await vt.fromEvaluations(E.C,c,r),r&&r.info("··· Computing A fft"),m.A=await Lr.fromPolynomial(p.A,4,c,r),r&&r.info("··· Computing B fft"),m.B=await Lr.fromPolynomial(p.B,4,c,r),r&&r.info("··· Computing C fft"),m.C=await Lr.fromPolynomial(p.C,4,c,r),p.A.degree()>=l.domainSize)throw new Error("A Polynomial is not well calculated");if(p.B.degree()>=l.domainSize)throw new Error("B Polynomial is not well calculated");if(p.C.degree()>=l.domainSize)throw new Error("C Polynomial is not well calculated")}async function P(){r&&r.info(`··· Reading sections ${Lf}, ${Ff}, ${Df}, ${Tf}, ${kf}. Q selectors`),m.QL=new Lr(new He(y*4),c,r),m.QR=new Lr(new He(y*4),c,r),m.QM=new Lr(new He(y*4),c,r),m.QO=new Lr(new He(y*4),c,r),m.QC=new Lr(new He(y*4),c,r),await s.readToBuffer(m.QL.eval,0,y*4,u[Lf][0].p+y),await s.readToBuffer(m.QR.eval,0,y*4,u[Ff][0].p+y),await s.readToBuffer(m.QM.eval,0,y*4,u[Df][0].p+y),await s.readToBuffer(m.QO.eval,0,y*4,u[Tf][0].p+y),await s.readToBuffer(m.QC.eval,0,y*4,u[kf][0].p+y);const re=await nr(s,u,h3);m.lagrange1=new Lr(re,c,r),E.T0=new He(y*4),r&&r.info("··· Computing T0 evaluations");for(let T=0;T<l.domainSize*4;T++){r&&T!==0&&T%1e5===0&&r.info(`      T0 evaluation ${T}/${l.domainSize*4}`);const x=m.A.getEvaluation(T),z=m.B.getEvaluation(T),b=m.C.getEvaluation(T),J=m.QL.getEvaluation(T),V=m.QR.getEvaluation(T),g=m.QM.getEvaluation(T),M=m.QO.getEvaluation(T),Q=m.QC.getEvaluation(T);let k=f.zero;for(let fe=0;fe<l.nPublic;fe++){const ce=fe*5*l.domainSize+l.domainSize+T,Ae=m.lagrange1.getEvaluation(ce),Fe=E.A.slice(fe*d,(fe+1)*d);k=f.sub(k,f.mul(Ae,Fe))}const K=f.mul(x,J),ie=f.mul(z,V),ne=f.mul(f.mul(x,z),g),le=f.mul(b,M),he=f.add(K,f.add(ie,f.add(ne,f.add(le,f.add(Q,k)))));E.T0.set(he,T*d)}if(r&&r.info("buffer T0: "+E.T0.byteLength/d),r&&r.info("··· Computing T0 ifft"),p.T0=await vt.fromEvaluations(E.T0,c,r),r&&r.info("T0 length: "+p.T0.length()),r&&r.info("T0 degree: "+p.T0.degree()),r&&r.info("··· Computing T0 / ZH"),p.T0.divByZerofier(l.domainSize,f.one),p.T0.degree()>=2*l.domainSize-2)throw new Error(`T0 Polynomial is not well calculated (degree is ${p.T0.degree()} and must be less than ${2*l.domainSize+2}`);delete E.T0}async function R(){let re=new m3(4,c,r);if(re.addPolynomial(0,p.A),re.addPolynomial(1,p.B),re.addPolynomial(2,p.C),re.addPolynomial(3,p.T0),p.C1=re.getPolynomial(),p.C1.degree()>=8*l.domainSize-8)throw new Error("C1 Polynomial is not well calculated")}}async function C(){r&&r.info("> Computing challenges beta and gamma");const Z=new ol(c);Z.addPolCommitment(l.C0);for(let x=0;x<l.nPublic;x++)Z.addScalar(E.A.slice(x*d,x*d+d));Z.addPolCommitment(v.getPolynomial("C1")),F.beta=Z.getChallenge(),r&&r.info("··· challenges.beta: "+f.toString(F.beta)),Z.reset(),Z.addScalar(F.beta),F.gamma=Z.getChallenge(),r&&r.info("··· challenges.gamma: "+f.toString(F.gamma)),r&&r.info("> Computing Z polynomial"),await P(),r&&r.info("> Computing T1 polynomial"),await R(),r&&r.info("> Computing T2 polynomial"),await re(),r&&r.info("> Computing C2 polynomial"),await T(),r&&r.info("> Computing C2 multi exponentiation");let W=await p.C2.multiExponentiation(A,"C2");return v.addPolynomial("C2",W),0;async function P(){r&&r.info("··· Computing Z evaluations");let x=new He(y),z=new He(y);x.set(f.one,0),z.set(f.one,0);let b=f.one;for(let J=0;J<l.domainSize;J++){r&&J!==0&&J%1e5===0&&r.info(`    Z evaluation ${J}/${l.domainSize}`);const V=J*d,g=f.mul(F.beta,b);let M=E.A.slice(V,V+d);M=f.add(M,g),M=f.add(M,F.gamma);let Q=E.B.slice(V,V+d);Q=f.add(Q,f.mul(l.k1,g)),Q=f.add(Q,F.gamma);let k=E.C.slice(V,V+d);k=f.add(k,f.mul(l.k2,g)),k=f.add(k,F.gamma);let K=f.mul(M,f.mul(Q,k)),ie=E.A.slice(V,V+d);ie=f.add(ie,f.mul(F.beta,m.Sigma1.getEvaluation(J*4))),ie=f.add(ie,F.gamma);let ne=E.B.slice(V,V+d);ne=f.add(ne,f.mul(F.beta,m.Sigma2.getEvaluation(J*4))),ne=f.add(ne,F.gamma);let le=E.C.slice(V,V+d);le=f.add(le,f.mul(F.beta,m.Sigma3.getEvaluation(J*4))),le=f.add(le,F.gamma);let he=f.mul(ie,f.mul(ne,le));K=f.mul(x.slice(V,V+d),K),x.set(K,(J+1)%l.domainSize*d),he=f.mul(z.slice(V,V+d),he),z.set(he,(J+1)%l.domainSize*d),b=f.mul(b,f.w[l.power])}z=await f.batchInverse(z);for(let J=0;J<l.domainSize;J++){const V=J*d,g=f.mul(x.slice(V,V+d),z.slice(V,V+d));x.set(g,V)}if(E.Z=x,!f.eq(x.slice(0,d),f.one))throw new Error("Copy constraints does not match");if(r&&r.info("··· Computing Z ifft"),p.Z=await vt.fromEvaluations(E.Z,c,r),r&&r.info("··· Computing Z fft"),m.Z=await Lr.fromPolynomial(p.Z,4,c,r),p.Z.blindCoefficients([F.b[9],F.b[8],F.b[7]]),p.Z.degree()>=l.domainSize+3)throw new Error("Z Polynomial is not well calculated");delete E.Z}async function R(){r&&r.info("··· Computing T1 evaluations"),E.T1=new He(y*2),E.T1z=new He(y*2);let x=f.one;for(let z=0;z<l.domainSize*2;z++){r&&z!==0&&z%1e5===0&&r.info(`    T1 evaluation ${z}/${l.domainSize*4}`);const b=f.square(x),J=m.Z.getEvaluation(z*2),V=f.add(f.add(f.mul(F.b[7],b),f.mul(F.b[8],x)),F.b[9]),g=m.lagrange1.getEvaluation(l.domainSize+z*2);let M=f.mul(f.sub(J,f.one),g),Q=f.mul(V,g);E.T1.set(M,z*d),E.T1z.set(Q,z*d),x=f.mul(x,f.w[l.power+1])}if(r&&r.info("··· Computing T1 ifft"),p.T1=await vt.fromEvaluations(E.T1,c,r),p.T1.divByZerofier(l.domainSize,f.one),r&&r.info("··· Computing T1z ifft"),p.T1z=await vt.fromEvaluations(E.T1z,c,r),p.T1.add(p.T1z),p.T1.degree()>=l.domainSize+2)throw new Error("T1 Polynomial is not well calculated");delete E.T1,delete E.T1z,delete p.T1z}async function re(){r&&r.info("··· Computing T2 evaluations"),E.T2=new He(y*4),E.T2z=new He(y*4);let x=f.one;for(let z=0;z<l.domainSize*4;z++){r&&z!==0&&z%1e5===0&&r.info(`    T2 evaluation ${z}/${l.domainSize*4}`);const b=f.square(x),J=f.mul(x,f.w[l.power]),V=f.square(J),g=m.A.getEvaluation(z),M=m.B.getEvaluation(z),Q=m.C.getEvaluation(z),k=m.Z.getEvaluation(z),K=m.Z.getEvaluation((l.domainSize*4+4+z)%(l.domainSize*4)),ie=f.add(f.add(f.mul(F.b[7],b),f.mul(F.b[8],x)),F.b[9]),ne=f.add(f.add(f.mul(F.b[7],V),f.mul(F.b[8],J)),F.b[9]),le=m.Sigma1.getEvaluation(z),he=m.Sigma2.getEvaluation(z),fe=m.Sigma3.getEvaluation(z),ce=f.mul(F.beta,x);let Ae=f.add(g,ce);Ae=f.add(Ae,F.gamma);let Fe=f.add(M,f.mul(ce,l.k1));Fe=f.add(Fe,F.gamma);let Me=f.add(Q,f.mul(ce,l.k2));Me=f.add(Me,F.gamma);let Ke=f.mul(f.mul(f.mul(Ae,Fe),Me),k),$e=f.mul(f.mul(f.mul(Ae,Fe),Me),ie),oe=f.add(g,f.mul(F.beta,le));oe=f.add(oe,F.gamma);let X=f.add(M,f.mul(F.beta,he));X=f.add(X,F.gamma);let te=f.add(Q,f.mul(F.beta,fe));te=f.add(te,F.gamma);let de=f.mul(f.mul(f.mul(oe,X),te),K),Ce=f.mul(f.mul(f.mul(oe,X),te),ne),Se=f.sub(Ke,de),ge=f.sub($e,Ce);E.T2.set(Se,z*d),E.T2z.set(ge,z*d),x=f.mul(x,f.w[l.power+2])}if(r&&r.info("··· Computing T2 ifft"),p.T2=await vt.fromEvaluations(E.T2,c,r),r&&r.info("··· Computing T2 / ZH"),p.T2.divByZerofier(l.domainSize,f.one),r&&r.info("··· Computing T2z ifft"),p.T2z=await vt.fromEvaluations(E.T2z,c,r),p.T2.add(p.T2z),p.T2.degree()>=3*l.domainSize)throw new Error("T2 Polynomial is not well calculated");delete E.T2,delete E.T2z,delete p.T2z}async function T(){let x=new m3(3,c,r);if(x.addPolynomial(0,p.Z),x.addPolynomial(1,p.T1),x.addPolynomial(2,p.T2),p.C2=x.getPolynomial(),p.C2.degree()>=9*l.domainSize)throw new Error("C2 Polynomial is not well calculated")}}async function N(){r&&r.info("> Computing challenge xi");const Z=new ol(c);Z.addScalar(F.gamma),Z.addPolCommitment(v.getPolynomial("C2")),F.xiSeed=Z.getChallenge();const W=f.square(F.xiSeed);I.w8=[],I.w8[0]=f.one;for(let P=1;P<8;P++)I.w8[P]=f.mul(I.w8[P-1],l.w8);I.w4=[],I.w4[0]=f.one;for(let P=1;P<4;P++)I.w4[P]=f.mul(I.w4[P-1],l.w4);I.w3=[],I.w3[0]=f.one,I.w3[1]=l.w3,I.w3[2]=f.square(l.w3),I.S0={},I.S0.h0w8=[],I.S0.h0w8[0]=f.mul(W,F.xiSeed);for(let P=1;P<8;P++)I.S0.h0w8[P]=f.mul(I.S0.h0w8[0],I.w8[P]);I.S1={},I.S1.h1w4=[],I.S1.h1w4[0]=f.square(I.S0.h0w8[0]);for(let P=1;P<4;P++)I.S1.h1w4[P]=f.mul(I.S1.h1w4[0],I.w4[P]);I.S2={},I.S2.h2w3=[],I.S2.h2w3[0]=f.mul(I.S1.h1w4[0],W),I.S2.h2w3[1]=f.mul(I.S2.h2w3[0],I.w3[1]),I.S2.h2w3[2]=f.mul(I.S2.h2w3[0],I.w3[2]),I.S2.h3w3=[],I.S2.h3w3[0]=f.mul(I.S2.h2w3[0],l.wr),I.S2.h3w3[1]=f.mul(I.S2.h3w3[0],I.w3[1]),I.S2.h3w3[2]=f.mul(I.S2.h3w3[0],I.w3[2]),F.xi=f.mul(f.square(I.S2.h2w3[0]),I.S2.h2w3[0]),r&&r.info("··· challenges.xi: "+f.toString(F.xi)),p.QL=new vt(new He(y),c,r),p.QR=new vt(new He(y),c,r),p.QM=new vt(new He(y),c,r),p.QO=new vt(new He(y),c,r),p.QC=new vt(new He(y),c,r),await s.readToBuffer(p.QL.coef,0,y,u[Lf][0].p),await s.readToBuffer(p.QR.coef,0,y,u[Ff][0].p),await s.readToBuffer(p.QM.coef,0,y,u[Df][0].p),await s.readToBuffer(p.QO.coef,0,y,u[Tf][0].p),await s.readToBuffer(p.QC.coef,0,y,u[kf][0].p),r&&r.info("··· Computing evaluations"),v.addEvaluation("ql",p.QL.evaluate(F.xi)),v.addEvaluation("qr",p.QR.evaluate(F.xi)),v.addEvaluation("qm",p.QM.evaluate(F.xi)),v.addEvaluation("qo",p.QO.evaluate(F.xi)),v.addEvaluation("qc",p.QC.evaluate(F.xi)),v.addEvaluation("s1",p.Sigma1.evaluate(F.xi)),v.addEvaluation("s2",p.Sigma2.evaluate(F.xi)),v.addEvaluation("s3",p.Sigma3.evaluate(F.xi)),v.addEvaluation("a",p.A.evaluate(F.xi)),v.addEvaluation("b",p.B.evaluate(F.xi)),v.addEvaluation("c",p.C.evaluate(F.xi)),v.addEvaluation("z",p.Z.evaluate(F.xi)),F.xiw=f.mul(F.xi,f.w[l.power]),v.addEvaluation("zw",p.Z.evaluate(F.xiw)),v.addEvaluation("t1w",p.T1.evaluate(F.xiw)),v.addEvaluation("t2w",p.T2.evaluate(F.xiw))}async function U(){r&&r.info("> Computing challenge alpha");const Z=new ol(c);Z.addScalar(F.xiSeed),Z.addScalar(v.getEvaluation("ql")),Z.addScalar(v.getEvaluation("qr")),Z.addScalar(v.getEvaluation("qm")),Z.addScalar(v.getEvaluation("qo")),Z.addScalar(v.getEvaluation("qc")),Z.addScalar(v.getEvaluation("s1")),Z.addScalar(v.getEvaluation("s2")),Z.addScalar(v.getEvaluation("s3")),Z.addScalar(v.getEvaluation("a")),Z.addScalar(v.getEvaluation("b")),Z.addScalar(v.getEvaluation("c")),Z.addScalar(v.getEvaluation("z")),Z.addScalar(v.getEvaluation("zw")),Z.addScalar(v.getEvaluation("t1w")),Z.addScalar(v.getEvaluation("t2w")),F.alpha=Z.getChallenge(),r&&r.info("··· challenges.alpha: "+f.toString(F.alpha)),r&&r.info("> Reading C0 polynomial"),p.C0=new vt(new He(y*8),c,r),await s.readToBuffer(p.C0.coef,0,y*8,u[x3][0].p),r&&r.info("> Computing R0 polynomial"),P(),r&&r.info("> Computing R1 polynomial"),R(),r&&r.info("> Computing R2 polynomial"),re(),r&&r.info("> Computing F polynomial"),await T(),r&&r.info("> Computing W1 multi exponentiation");let W=await p.F.multiExponentiation(A,"W1");return v.addPolynomial("W1",W),0;function P(){if(p.R0=vt.lagrangePolynomialInterpolation([I.S0.h0w8[0],I.S0.h0w8[1],I.S0.h0w8[2],I.S0.h0w8[3],I.S0.h0w8[4],I.S0.h0w8[5],I.S0.h0w8[6],I.S0.h0w8[7]],[p.C0.evaluate(I.S0.h0w8[0]),p.C0.evaluate(I.S0.h0w8[1]),p.C0.evaluate(I.S0.h0w8[2]),p.C0.evaluate(I.S0.h0w8[3]),p.C0.evaluate(I.S0.h0w8[4]),p.C0.evaluate(I.S0.h0w8[5]),p.C0.evaluate(I.S0.h0w8[6]),p.C0.evaluate(I.S0.h0w8[7])],c),p.R0.degree()>7)throw new Error("R0 Polynomial is not well calculated")}function R(){if(p.R1=vt.lagrangePolynomialInterpolation([I.S1.h1w4[0],I.S1.h1w4[1],I.S1.h1w4[2],I.S1.h1w4[3]],[p.C1.evaluate(I.S1.h1w4[0]),p.C1.evaluate(I.S1.h1w4[1]),p.C1.evaluate(I.S1.h1w4[2]),p.C1.evaluate(I.S1.h1w4[3])],c),p.R1.degree()>3)throw new Error("R1 Polynomial is not well calculated")}function re(){if(p.R2=vt.lagrangePolynomialInterpolation([I.S2.h2w3[0],I.S2.h2w3[1],I.S2.h2w3[2],I.S2.h3w3[0],I.S2.h3w3[1],I.S2.h3w3[2]],[p.C2.evaluate(I.S2.h2w3[0]),p.C2.evaluate(I.S2.h2w3[1]),p.C2.evaluate(I.S2.h2w3[2]),p.C2.evaluate(I.S2.h3w3[0]),p.C2.evaluate(I.S2.h3w3[1]),p.C2.evaluate(I.S2.h3w3[2])],c),p.R2.degree()>5)throw new Error("R2 Polynomial is not well calculated")}async function T(){r&&r.info("··· Computing F polynomial"),p.F=vt.fromPolynomial(p.C0,c,r),p.F.sub(p.R0),p.F.divByZerofier(8,F.xi);let x=vt.fromPolynomial(p.C1,c,r);x.sub(p.R1),x.mulScalar(F.alpha),x.divByZerofier(4,F.xi);let z=vt.fromPolynomial(p.C2,c,r);if(z.sub(p.R2),z.mulScalar(f.square(F.alpha)),z.divByZerofier(3,F.xi),z.divByZerofier(3,F.xiw),p.F.add(x),p.F.add(z),p.F.degree()>=9*l.domainSize-6)throw new Error("F Polynomial is not well calculated")}}async function G(){r&&r.info("> Computing challenge y");const Z=new ol(c);Z.addScalar(F.alpha),Z.addPolCommitment(v.getPolynomial("W1")),F.y=Z.getChallenge(),r&&r.info("··· challenges.y: "+f.toString(F.y)),r&&r.info("> Computing L polynomial"),await T(),r&&r.info("> Computing ZTS2 polynomial"),await z();let W=p.ZTS2.evaluate(F.y);W=f.inv(W),p.L.mulScalar(W);const P=vt.fromCoefficientsArray([f.neg(F.y),f.one],c);r&&r.info("> Computing W' = L / ZTS2 polynomial");const R=p.L.divBy(P);if(R.degree()>0)throw new Error(`Degree of L(X)/(ZTS2(y)(X-y)) remainder is ${R.degree()} and should be 0`);if(p.L.degree()>=9*l.domainSize-1)throw new Error("Degree of L(X)/(ZTS2(y)(X-y)) is not correct");r&&r.info("> Computing W' multi exponentiation");let re=await p.L.multiExponentiation(A,"W2");return v.addPolynomial("W2",re),0;async function T(){r&&r.info("··· Computing L polynomial");const b=p.R0.evaluate(F.y),J=p.R1.evaluate(F.y),V=p.R2.evaluate(F.y);let g=f.sub(F.y,I.S0.h0w8[0]);for(let fe=1;fe<8;fe++)g=f.mul(g,f.sub(F.y,I.S0.h0w8[fe]));let M=f.sub(F.y,I.S1.h1w4[0]);for(let fe=1;fe<4;fe++)M=f.mul(M,f.sub(F.y,I.S1.h1w4[fe]));let Q=f.sub(F.y,I.S2.h2w3[0]);for(let fe=1;fe<3;fe++)Q=f.mul(Q,f.sub(F.y,I.S2.h2w3[fe]));for(let fe=0;fe<3;fe++)Q=f.mul(Q,f.sub(F.y,I.S2.h3w3[fe]));let k=f.mul(M,Q),K=f.mul(F.alpha,f.mul(g,Q)),ie=f.mul(f.square(F.alpha),f.mul(g,M));S.denH1=M,S.denH2=Q,p.L=vt.fromPolynomial(p.C0,c,r),p.L.subScalar(b),p.L.mulScalar(k);let ne=vt.fromPolynomial(p.C1,c,r);ne.subScalar(J),ne.mulScalar(K);let le=vt.fromPolynomial(p.C2,c,r);le.subScalar(V),le.mulScalar(ie),p.L.add(ne),p.L.add(le),r&&r.info("> Computing ZT polynomial"),await x();const he=p.ZT.evaluate(F.y);if(p.F.mulScalar(he),p.L.sub(p.F),p.L.degree()>=9*l.domainSize)throw new Error("L Polynomial is not well calculated");delete E.L}async function x(){p.ZT=vt.zerofierPolynomial([I.S0.h0w8[0],I.S0.h0w8[1],I.S0.h0w8[2],I.S0.h0w8[3],I.S0.h0w8[4],I.S0.h0w8[5],I.S0.h0w8[6],I.S0.h0w8[7],I.S1.h1w4[0],I.S1.h1w4[1],I.S1.h1w4[2],I.S1.h1w4[3],I.S2.h2w3[0],I.S2.h2w3[1],I.S2.h2w3[2],I.S2.h3w3[0],I.S2.h3w3[1],I.S2.h3w3[2]],c)}async function z(){p.ZTS2=vt.zerofierPolynomial([I.S1.h1w4[0],I.S1.h1w4[1],I.S1.h1w4[2],I.S1.h1w4[3],I.S2.h2w3[0],I.S2.h2w3[1],I.S2.h2w3[2],I.S2.h3w3[0],I.S2.h3w3[1],I.S2.h3w3[2]],c)}}function $(){let Z=F.xi;for(let z=0;z<l.power;z++)Z=f.square(Z);S.zh=f.sub(Z,f.one),re(S,I.S0.h0w8,F.y,c),T(S,I.S1.h1w4,F.y,c),x(S,I.S2.h2w3,I.S2.h3w3,F.y,F.xi,F.xiw,c);const W=Math.max(1,l.nPublic);let P=f.one;for(let z=0;z<W;z++)S["Li_"+(z+1)]=f.mul(f.e(l.domainSize),f.sub(F.xi,P)),P=f.mul(P,f.w[l.power]);let R=f.one;for(const z of Object.values(S))if(Array.isArray(z))for(const b of z)R=f.mul(R,b);else R=f.mul(R,z);return f.inv(R);function re(z,b,J,V){const g=V.Fr,M=b.length,Q=g.mul(g.e(M),g.exp(b[0],M-2)),k=[];for(let K=0;K<M;K++){const ie=b[(M-1)*K%M],ne=g.sub(J,b[K]);z[["LiS0_"+(K+1)]]=g.mul(g.mul(Q,ie),ne)}return k}function T(z,b,J,V){const g=V.Fr,M=b.length,Q=g.mul(g.e(M),g.exp(b[0],M-2)),k=[];for(let K=0;K<M;K++){const ie=b[(M-1)*K%M],ne=g.sub(J,b[K]);z[["LiS1_"+(K+1)]]=g.mul(g.mul(Q,ie),ne)}return k}function x(z,b,J,V,g,M,Q){const k=Q.Fr,K=[],ie=k.mul(k.e(3),b[0]),ne=k.sub(g,M);let le=k.mul(ie,ne);for(let ce=0;ce<3;ce++){const Ae=b[2*ce%3],Fe=k.sub(V,b[ce]);z[["LiS2_"+(ce+1)]]=k.mul(le,k.mul(Ae,Fe))}const he=k.mul(k.e(3),J[0]),fe=k.sub(M,g);le=k.mul(he,fe);for(let ce=0;ce<3;ce++){const Ae=J[2*ce%3],Fe=k.sub(V,J[ce]);z[["LiS2_"+(ce+1+3)]]=k.mul(le,k.mul(Ae,Fe))}return K}}}const{unstringifyBigInts:JP}=$n;async function eR(t,e,r,n,i,a){const o=JP(t),s={type:"mem"};return await pp(o,e,s,i),await k_(r,s,n,a)}const{unstringifyBigInts:ag}=$n;async function tR(t,e,r,n){n&&n.info("FFLONK VERIFIER STARTED"),t=ag(t),r=ag(r);const i=await Pl(t.curve),a=rR(i,t),o=new U8(i,n);o.fromObjectProof(r);const s=ag(e);if(s.length!==a.nPublic)return n.error("Number of public signals does not match with vk"),!1;const u=i.Fr;if(n&&(n.info("----------------------------"),n.info("  FFLONK VERIFY SETTINGS"),n.info(`  Curve:         ${i.name}`),n.info(`  Circuit power: ${a.power}`),n.info(`  Domain size:   ${2**a.power}`),n.info(`  Public vars:   ${a.nPublic}`),n.info("----------------------------")),n&&n.info("> Checking commitments belong to G1"),!nR(i,o,a))return n&&n.error("Proof commitments are not valid"),!1;if(n&&n.info("> Checking evaluations belong to F"),!iR(i,o))return n&&n.error("Proof evaluations are not valid."),!1;if(n&&n.info("> Checking public inputs belong to F"),!aR(i,s))return n&&n.error("Public inputs are not valid."),!1;n&&n.info("> Computing challenges");const{challenges:l,roots:c}=oR(i,o,a,s,n);n&&n.info("> Computing Zero polynomial evaluation Z_H(xi)"),l.zh=u.sub(l.xiN,u.one),l.invzh=u.inv(l.zh),n&&n.info("> Computing Lagrange evaluations");const f=await sR(i,l,a);n&&n.info("> Computing polynomial identities PI(X)");const d=lR(i,s,f);n&&n.info("> Computing r0(y)");const h=cR(o,l,c,i,n);n&&n.info("> Computing r1(y)");const y=uR(o,l,c,d,i,n);n&&n.info("> Computing r2(y)");const w=fR(o,l,c,f[1],a,i,n);n&&n.info("> Computing F");const _=dR(i,o,a,l,c);n&&n.info("> Computing E");const E=hR(i,o,l,a,h,y,w);n&&n.info("> Computing J");const p=xR(i,o,l);n&&n.info("> Validate all evaluations with a pairing");const m=await pR(i,o,l,a,_,E,p);return n&&(m?n.info("PROOF VERIFIED SUCCESSFULLY"):n.warn("Invalid Proof")),n&&n.info("FFLONK VERIFIER FINISHED"),m}function rR(t,e){const r=e;return r.k1=t.Fr.fromObject(e.k1),r.k2=t.Fr.fromObject(e.k2),r.w=t.Fr.fromObject(e.w),r.w3=t.Fr.fromObject(e.w3),r.w4=t.Fr.fromObject(e.w4),r.w8=t.Fr.fromObject(e.w8),r.wr=t.Fr.fromObject(e.wr),r.X_2=t.G2.fromObject(e.X_2),r.C0=t.G1.fromObject(e.C0),r}function nR(t,e,r){const n=t.G1;return n.isValid(e.polynomials.C1)&&n.isValid(e.polynomials.C2)&&n.isValid(e.polynomials.W1)&&n.isValid(e.polynomials.W2)&&n.isValid(r.C0)}function N_(t,e){return It.lt(e,t.r)}function fi(t,e){return N_(t,It.fromRprLE(e))}function iR(t,e){return fi(t,e.evaluations.ql)&&fi(t,e.evaluations.qr)&&fi(t,e.evaluations.qm)&&fi(t,e.evaluations.qo)&&fi(t,e.evaluations.qc)&&fi(t,e.evaluations.s1)&&fi(t,e.evaluations.s2)&&fi(t,e.evaluations.s3)&&fi(t,e.evaluations.a)&&fi(t,e.evaluations.b)&&fi(t,e.evaluations.c)&&fi(t,e.evaluations.z)&&fi(t,e.evaluations.zw)&&fi(t,e.evaluations.t1w)&&fi(t,e.evaluations.t2w)}function aR(t,e){for(let r=0;r<e.length;r++)if(!N_(t,e[r]))return!1;return!0}function oR(t,e,r,n,i){const a=t.Fr,o={},s={},u=new ol(t);u.addPolCommitment(r.C0);for(let y=0;y<n.length;y++)u.addScalar(a.e(n[y]));u.addPolCommitment(e.polynomials.C1),o.beta=u.getChallenge(),u.reset(),u.addScalar(o.beta),o.gamma=u.getChallenge(),u.reset(),u.addScalar(o.gamma),u.addPolCommitment(e.polynomials.C2);const l=u.getChallenge(),c=a.square(l);let f=[];f[1]=r.w8,f[2]=a.square(r.w8),f[3]=a.mul(f[2],r.w8),f[4]=a.mul(f[3],r.w8),f[5]=a.mul(f[4],r.w8),f[6]=a.mul(f[5],r.w8),f[7]=a.mul(f[6],r.w8);let d=[];d[1]=r.w4,d[2]=a.square(r.w4),d[3]=a.mul(d[2],r.w4);let h=[];h[1]=r.w3,h[2]=a.square(r.w3),s.S0={},s.S0.h0w8=[],s.S0.h0w8[0]=a.mul(c,l);for(let y=1;y<8;y++)s.S0.h0w8[y]=a.mul(s.S0.h0w8[0],f[y]);s.S1={},s.S1.h1w4=[],s.S1.h1w4[0]=a.square(s.S0.h0w8[0]);for(let y=1;y<4;y++)s.S1.h1w4[y]=a.mul(s.S1.h1w4[0],d[y]);s.S2={},s.S2.h2w3=[],s.S2.h2w3[0]=a.mul(s.S1.h1w4[0],c),s.S2.h2w3[1]=a.mul(s.S2.h2w3[0],h[1]),s.S2.h2w3[2]=a.mul(s.S2.h2w3[0],h[2]),s.S2.h3w3=[],s.S2.h3w3[0]=a.mul(s.S2.h2w3[0],r.wr),s.S2.h3w3[1]=a.mul(s.S2.h3w3[0],h[1]),s.S2.h3w3[2]=a.mul(s.S2.h3w3[0],h[2]),o.xi=a.mul(a.square(s.S2.h2w3[0]),s.S2.h2w3[0]),o.xiw=a.mul(o.xi,a.w[r.power]),o.xiN=o.xi,r.domainSize=1;for(let y=0;y<r.power;y++)o.xiN=a.square(o.xiN),r.domainSize*=2;return u.reset(),u.addScalar(l),u.addScalar(e.evaluations.ql),u.addScalar(e.evaluations.qr),u.addScalar(e.evaluations.qm),u.addScalar(e.evaluations.qo),u.addScalar(e.evaluations.qc),u.addScalar(e.evaluations.s1),u.addScalar(e.evaluations.s2),u.addScalar(e.evaluations.s3),u.addScalar(e.evaluations.a),u.addScalar(e.evaluations.b),u.addScalar(e.evaluations.c),u.addScalar(e.evaluations.z),u.addScalar(e.evaluations.zw),u.addScalar(e.evaluations.t1w),u.addScalar(e.evaluations.t2w),o.alpha=u.getChallenge(),u.reset(),u.addScalar(o.alpha),u.addPolCommitment(e.polynomials.W1),o.y=u.getChallenge(),i&&(i.info("··· challenges.beta:  "+a.toString(o.beta)),i.info("··· challenges.gamma: "+a.toString(o.gamma)),i.info("··· challenges.xi:    "+a.toString(o.xi)),i.info("··· challenges.alpha: "+a.toString(o.alpha)),i.info("··· challenges.y:     "+a.toString(o.y))),{challenges:o,roots:s}}async function sR(t,e,r){const n=t.Fr,i=Math.max(1,r.nPublic),a=new He(i*n.n8);let o=new He(i*n.n8),s=n.one;for(let l=0;l<i;l++){const c=l*n.n8;a.set(n.mul(s,e.zh),c),o.set(n.mul(n.e(r.domainSize),n.sub(e.xi,s)),c),s=n.mul(s,r.w)}o=await n.batchInverse(o);let u=[];for(let l=0;l<i;l++){const c=l*n.n8;u[l+1]=n.mul(a.slice(c,c+n.n8),o.slice(c,c+n.n8))}return u}function lR(t,e,r){const n=t.Fr;let i=n.zero;for(let a=0;a<e.length;a++){const o=n.e(e[a]);i=n.sub(i,n.mul(o,r[a+1]))}return i}function cR(t,e,r,n,i){const a=n.Fr,o=P_(r.S0.h0w8,e.y,e.xi,n);i&&i.info("··· Computing r0(y)");let s=a.zero;for(let u=0;u<8;u++){let l=[];l[1]=r.S0.h0w8[u];for(let f=2;f<8;f++)l[f]=a.mul(l[f-1],r.S0.h0w8[u]);let c=a.add(t.evaluations.ql,a.mul(t.evaluations.qr,l[1]));c=a.add(c,a.mul(t.evaluations.qo,l[2])),c=a.add(c,a.mul(t.evaluations.qm,l[3])),c=a.add(c,a.mul(t.evaluations.qc,l[4])),c=a.add(c,a.mul(t.evaluations.s1,l[5])),c=a.add(c,a.mul(t.evaluations.s2,l[6])),c=a.add(c,a.mul(t.evaluations.s3,l[7])),s=a.add(s,a.mul(c,o[u]))}return s}function uR(t,e,r,n,i,a){const o=i.Fr,s=P_(r.S1.h1w4,e.y,e.xi,i);a&&a.info("··· Computing T0(xi)");let u=o.mul(t.evaluations.ql,t.evaluations.a);u=o.add(u,o.mul(t.evaluations.qr,t.evaluations.b)),u=o.add(u,o.mul(t.evaluations.qm,o.mul(t.evaluations.a,t.evaluations.b))),u=o.add(u,o.mul(t.evaluations.qo,t.evaluations.c)),u=o.add(u,t.evaluations.qc),u=o.add(u,n),u=o.mul(u,e.invzh),a&&a.info("··· Computing C1(h_1ω_4^i) values");let l=o.zero;for(let c=0;c<4;c++){let f=t.evaluations.a;f=o.add(f,o.mul(r.S1.h1w4[c],t.evaluations.b));const d=o.square(r.S1.h1w4[c]);f=o.add(f,o.mul(d,t.evaluations.c)),f=o.add(f,o.mul(o.mul(d,r.S1.h1w4[c]),u)),l=o.add(l,o.mul(f,s[c]))}return l}function fR(t,e,r,n,i,a,o){const s=a.Fr,u=gR([r.S2.h2w3,r.S2.h3w3],e.y,e.xi,e.xiw,a);o&&o.info("··· Computing T1(xi)");let l=s.sub(t.evaluations.z,s.one);l=s.mul(l,n),l=s.mul(l,e.invzh),o&&o.info("··· Computing T2(xi)");const c=s.mul(e.beta,e.xi),f=s.add(t.evaluations.a,s.add(c,e.gamma)),d=s.add(t.evaluations.b,s.add(s.mul(c,i.k1),e.gamma)),h=s.add(t.evaluations.c,s.add(s.mul(c,i.k2),e.gamma)),y=s.mul(f,s.mul(d,s.mul(h,t.evaluations.z))),w=s.add(t.evaluations.a,s.add(s.mul(e.beta,t.evaluations.s1),e.gamma)),_=s.add(t.evaluations.b,s.add(s.mul(e.beta,t.evaluations.s2),e.gamma)),E=s.add(t.evaluations.c,s.add(s.mul(e.beta,t.evaluations.s3),e.gamma)),p=s.mul(w,s.mul(_,s.mul(E,t.evaluations.zw)));let m=s.sub(y,p);m=s.mul(m,e.invzh),o&&o.info("··· Computing C2(h_2ω_3^i) values");let S=s.zero;for(let F=0;F<3;F++){let I=s.add(t.evaluations.z,s.mul(r.S2.h2w3[F],l));I=s.add(I,s.mul(s.square(r.S2.h2w3[F]),m)),S=s.add(S,s.mul(I,u[F]))}o&&o.info("··· Computing C2(h_3ω_3^i) values");for(let F=0;F<3;F++){let I=s.add(t.evaluations.zw,s.mul(r.S2.h3w3[F],t.evaluations.t1w));I=s.add(I,s.mul(s.square(r.S2.h3w3[F]),t.evaluations.t2w)),S=s.add(S,s.mul(I,u[F+3]))}return S}function dR(t,e,r,n,i){const a=t.G1,o=t.Fr;let s=o.sub(n.y,i.S0.h0w8[0]);for(let d=1;d<8;d++)s=o.mul(s,o.sub(n.y,i.S0.h0w8[d]));n.temp=s;let u=o.sub(n.y,i.S1.h1w4[0]);for(let d=1;d<4;d++)u=o.mul(u,o.sub(n.y,i.S1.h1w4[d]));let l=o.sub(n.y,i.S2.h2w3[0]);for(let d=1;d<3;d++)l=o.mul(l,o.sub(n.y,i.S2.h2w3[d]));for(let d=0;d<3;d++)l=o.mul(l,o.sub(n.y,i.S2.h3w3[d]));n.quotient1=o.mul(n.alpha,o.div(s,u)),n.quotient2=o.mul(o.square(n.alpha),o.div(s,l));let c=a.timesFr(e.polynomials.C1,n.quotient1),f=a.timesFr(e.polynomials.C2,n.quotient2);return a.add(r.C0,a.add(c,f))}function hR(t,e,r,n,i,a,o){const s=t.G1,u=t.Fr;let l=u.mul(a,r.quotient1),c=u.mul(o,r.quotient2);return s.timesFr(s.one,u.add(i,u.add(l,c)))}function xR(t,e,r){return t.G1.timesFr(e.polynomials.W1,r.temp)}async function pR(t,e,r,n,i,a,o){const s=t.G1;let u=s.timesFr(e.polynomials.W2,r.y);u=s.add(s.sub(s.sub(i,a),o),u);const l=t.G2.one,c=e.polynomials.W2,f=n.X_2;return await t.pairingEq(s.neg(u),l,c,f)}function P_(t,e,r,n){const i=n.Fr,a=t.length,o=i.sub(i.exp(e,a),r),s=i.mul(i.e(a),i.exp(t[0],a-2)),u=[];for(let l=0;l<a;l++){const c=t[(a-1)*l%a],f=i.sub(e,t[l]);u[l]=i.div(o,i.mul(i.mul(s,c),f))}return u}function gR(t,e,r,n,i){const a=i.Fr,o=[],s=t[0].length,u=s*t.length,l=a.exp(e,u),c=a.mul(a.add(r,n),a.exp(e,s)),f=a.mul(r,n),d=a.add(a.sub(l,c),f);let h=a.mul(a.mul(a.e(s),t[0][0]),a.sub(r,n));for(let y=0;y<s;y++){const w=t[0][(s-1)*y%s],_=a.sub(e,t[0][y]),E=a.mul(h,a.mul(w,_));o[y]=a.div(d,E)}h=a.mul(a.mul(a.e(s),t[1][0]),a.sub(n,r));for(let y=0;y<s;y++){const w=t[1][(s-1)*y%s],_=a.sub(e,t[1][y]),E=a.mul(h,a.mul(w,_));o[y+s]=a.div(d,E)}return o}const{unstringifyBigInts:Y6}=$n;function Gr(t){let e=t.toString(16);for(;e.length<64;)e="0"+e;return e=`0x${e}`,e}async function mR(t,e){const r=Y6(e),n=Y6(t);await Pl(r.curve);let i="";for(let a=0;a<n.length;a++)i!==""&&(i=i+","),i=i+Gr(n[a]);return`[${Gr(r.polynomials.C1[0])}, ${Gr(r.polynomials.C1[1])},${Gr(r.polynomials.C2[0])},${Gr(r.polynomials.C2[1])},${Gr(r.polynomials.W1[0])},${Gr(r.polynomials.W1[1])},${Gr(r.polynomials.W2[0])},${Gr(r.polynomials.W2[1])},${Gr(r.evaluations.ql)},${Gr(r.evaluations.qr)},${Gr(r.evaluations.qm)},${Gr(r.evaluations.qo)},${Gr(r.evaluations.qc)},${Gr(r.evaluations.s1)},${Gr(r.evaluations.s2)},${Gr(r.evaluations.s3)},${Gr(r.evaluations.a)},${Gr(r.evaluations.b)},${Gr(r.evaluations.c)},${Gr(r.evaluations.z)},${Gr(r.evaluations.zw)},${Gr(r.evaluations.t1w)},${Gr(r.evaluations.t2w)},${Gr(r.evaluations.inv)}],[${i}]`}var yR=Object.freeze({__proto__:null,setup:XP,prove:k_,fullProve:eR,verify:tR,exportSolidityVerifier:F_,exportSolidityCallData:mR});const vR=Object.freeze(Object.defineProperty({__proto__:null,curves:kk,fflonk:yR,groth16:IN,plonk:jP,powersOfTau:qN,r1cs:rP,wtns:sP,zKey:wP},Symbol.toStringTag,{value:"Module"})),R_=_y(vR);var mp={exports:{}},M_={exports:{}},U_={exports:{}};(function(t){(function(e){var r,n=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,i=Math.ceil,a=Math.floor,o="[BigNumber Error] ",s=o+"Number primitive has more than 15 significant digits: ",u=1e14,l=14,c=9007199254740991,f=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],d=1e7,h=1e9;function y(I){var v,A,D,L=re.prototype={constructor:re,toString:null,valueOf:null},j=new re(1),Y=20,O=4,B=-7,C=21,N=-1e7,U=1e7,G=!1,$=1,Z=0,W={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},P="0123456789abcdefghijklmnopqrstuvwxyz",R=!0;function re(V,g){var M,Q,k,K,ie,ne,le,he,fe=this;if(!(fe instanceof re))return new re(V,g);if(g==null){if(V&&V._isBigNumber===!0){fe.s=V.s,!V.c||V.e>U?fe.c=fe.e=null:V.e<N?fe.c=[fe.e=0]:(fe.e=V.e,fe.c=V.c.slice());return}if((ne=typeof V=="number")&&V*0==0){if(fe.s=1/V<0?(V=-V,-1):1,V===~~V){for(K=0,ie=V;ie>=10;ie/=10,K++);K>U?fe.c=fe.e=null:(fe.e=K,fe.c=[V]);return}he=String(V)}else{if(!n.test(he=String(V)))return D(fe,he,ne);fe.s=he.charCodeAt(0)==45?(he=he.slice(1),-1):1}(K=he.indexOf("."))>-1&&(he=he.replace(".","")),(ie=he.search(/e/i))>0?(K<0&&(K=ie),K+=+he.slice(ie+1),he=he.substring(0,ie)):K<0&&(K=he.length)}else{if(p(g,2,P.length,"Base"),g==10&&R)return fe=new re(V),b(fe,Y+fe.e+1,O);if(he=String(V),ne=typeof V=="number"){if(V*0!=0)return D(fe,he,ne,g);if(fe.s=1/V<0?(he=he.slice(1),-1):1,re.DEBUG&&he.replace(/^0\.0*|\./,"").length>15)throw Error(s+V)}else fe.s=he.charCodeAt(0)===45?(he=he.slice(1),-1):1;for(M=P.slice(0,g),K=ie=0,le=he.length;ie<le;ie++)if(M.indexOf(Q=he.charAt(ie))<0){if(Q=="."){if(ie>K){K=le;continue}}else if(!k&&(he==he.toUpperCase()&&(he=he.toLowerCase())||he==he.toLowerCase()&&(he=he.toUpperCase()))){k=!0,ie=-1,K=0;continue}return D(fe,String(V),ne,g)}ne=!1,he=A(he,g,10,fe.s),(K=he.indexOf("."))>-1?he=he.replace(".",""):K=he.length}for(ie=0;he.charCodeAt(ie)===48;ie++);for(le=he.length;he.charCodeAt(--le)===48;);if(he=he.slice(ie,++le)){if(le-=ie,ne&&re.DEBUG&&le>15&&(V>c||V!==a(V)))throw Error(s+fe.s*V);if((K=K-ie-1)>U)fe.c=fe.e=null;else if(K<N)fe.c=[fe.e=0];else{if(fe.e=K,fe.c=[],ie=(K+1)%l,K<0&&(ie+=l),ie<le){for(ie&&fe.c.push(+he.slice(0,ie)),le-=l;ie<le;)fe.c.push(+he.slice(ie,ie+=l));ie=l-(he=he.slice(ie)).length}else ie-=le;for(;ie--;he+="0");fe.c.push(+he)}}else fe.c=[fe.e=0]}re.clone=y,re.ROUND_UP=0,re.ROUND_DOWN=1,re.ROUND_CEIL=2,re.ROUND_FLOOR=3,re.ROUND_HALF_UP=4,re.ROUND_HALF_DOWN=5,re.ROUND_HALF_EVEN=6,re.ROUND_HALF_CEIL=7,re.ROUND_HALF_FLOOR=8,re.EUCLID=9,re.config=re.set=function(V){var g,M;if(V!=null)if(typeof V=="object"){if(V.hasOwnProperty(g="DECIMAL_PLACES")&&(M=V[g],p(M,0,h,g),Y=M),V.hasOwnProperty(g="ROUNDING_MODE")&&(M=V[g],p(M,0,8,g),O=M),V.hasOwnProperty(g="EXPONENTIAL_AT")&&(M=V[g],M&&M.pop?(p(M[0],-h,0,g),p(M[1],0,h,g),B=M[0],C=M[1]):(p(M,-h,h,g),B=-(C=M<0?-M:M))),V.hasOwnProperty(g="RANGE"))if(M=V[g],M&&M.pop)p(M[0],-h,-1,g),p(M[1],1,h,g),N=M[0],U=M[1];else if(p(M,-h,h,g),M)N=-(U=M<0?-M:M);else throw Error(o+g+" cannot be zero: "+M);if(V.hasOwnProperty(g="CRYPTO"))if(M=V[g],M===!!M)if(M)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))G=M;else throw G=!M,Error(o+"crypto unavailable");else G=M;else throw Error(o+g+" not true or false: "+M);if(V.hasOwnProperty(g="MODULO_MODE")&&(M=V[g],p(M,0,9,g),$=M),V.hasOwnProperty(g="POW_PRECISION")&&(M=V[g],p(M,0,h,g),Z=M),V.hasOwnProperty(g="FORMAT"))if(M=V[g],typeof M=="object")W=M;else throw Error(o+g+" not an object: "+M);if(V.hasOwnProperty(g="ALPHABET"))if(M=V[g],typeof M=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(M))R=M.slice(0,10)=="0123456789",P=M;else throw Error(o+g+" invalid: "+M)}else throw Error(o+"Object expected: "+V);return{DECIMAL_PLACES:Y,ROUNDING_MODE:O,EXPONENTIAL_AT:[B,C],RANGE:[N,U],CRYPTO:G,MODULO_MODE:$,POW_PRECISION:Z,FORMAT:W,ALPHABET:P}},re.isBigNumber=function(V){if(!V||V._isBigNumber!==!0)return!1;if(!re.DEBUG)return!0;var g,M,Q=V.c,k=V.e,K=V.s;e:if({}.toString.call(Q)=="[object Array]"){if((K===1||K===-1)&&k>=-h&&k<=h&&k===a(k)){if(Q[0]===0){if(k===0&&Q.length===1)return!0;break e}if(g=(k+1)%l,g<1&&(g+=l),String(Q[0]).length==g){for(g=0;g<Q.length;g++)if(M=Q[g],M<0||M>=u||M!==a(M))break e;if(M!==0)return!0}}}else if(Q===null&&k===null&&(K===null||K===1||K===-1))return!0;throw Error(o+"Invalid BigNumber: "+V)},re.maximum=re.max=function(){return x(arguments,-1)},re.minimum=re.min=function(){return x(arguments,1)},re.random=function(){var V=9007199254740992,g=Math.random()*V&2097151?function(){return a(Math.random()*V)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(M){var Q,k,K,ie,ne,le=0,he=[],fe=new re(j);if(M==null?M=Y:p(M,0,h),ie=i(M/l),G)if(crypto.getRandomValues){for(Q=crypto.getRandomValues(new Uint32Array(ie*=2));le<ie;)ne=Q[le]*131072+(Q[le+1]>>>11),ne>=9e15?(k=crypto.getRandomValues(new Uint32Array(2)),Q[le]=k[0],Q[le+1]=k[1]):(he.push(ne%1e14),le+=2);le=ie/2}else if(crypto.randomBytes){for(Q=crypto.randomBytes(ie*=7);le<ie;)ne=(Q[le]&31)*281474976710656+Q[le+1]*1099511627776+Q[le+2]*4294967296+Q[le+3]*16777216+(Q[le+4]<<16)+(Q[le+5]<<8)+Q[le+6],ne>=9e15?crypto.randomBytes(7).copy(Q,le):(he.push(ne%1e14),le+=7);le=ie/7}else throw G=!1,Error(o+"crypto unavailable");if(!G)for(;le<ie;)ne=g(),ne<9e15&&(he[le++]=ne%1e14);for(ie=he[--le],M%=l,ie&&M&&(ne=f[l-M],he[le]=a(ie/ne)*ne);he[le]===0;he.pop(),le--);if(le<0)he=[K=0];else{for(K=-1;he[0]===0;he.splice(0,1),K-=l);for(le=1,ne=he[0];ne>=10;ne/=10,le++);le<l&&(K-=l-le)}return fe.e=K,fe.c=he,fe}}(),re.sum=function(){for(var V=1,g=arguments,M=new re(g[0]);V<g.length;)M=M.plus(g[V++]);return M},A=function(){var V="0123456789";function g(M,Q,k,K){for(var ie,ne=[0],le,he=0,fe=M.length;he<fe;){for(le=ne.length;le--;ne[le]*=Q);for(ne[0]+=K.indexOf(M.charAt(he++)),ie=0;ie<ne.length;ie++)ne[ie]>k-1&&(ne[ie+1]==null&&(ne[ie+1]=0),ne[ie+1]+=ne[ie]/k|0,ne[ie]%=k)}return ne.reverse()}return function(M,Q,k,K,ie){var ne,le,he,fe,ce,Ae,Fe,Me,Ke=M.indexOf("."),$e=Y,oe=O;for(Ke>=0&&(fe=Z,Z=0,M=M.replace(".",""),Me=new re(Q),Ae=Me.pow(M.length-Ke),Z=fe,Me.c=g(F(_(Ae.c),Ae.e,"0"),10,k,V),Me.e=Me.c.length),Fe=g(M,Q,k,ie?(ne=P,V):(ne=V,P)),he=fe=Fe.length;Fe[--fe]==0;Fe.pop());if(!Fe[0])return ne.charAt(0);if(Ke<0?--he:(Ae.c=Fe,Ae.e=he,Ae.s=K,Ae=v(Ae,Me,$e,oe,k),Fe=Ae.c,ce=Ae.r,he=Ae.e),le=he+$e+1,Ke=Fe[le],fe=k/2,ce=ce||le<0||Fe[le+1]!=null,ce=oe<4?(Ke!=null||ce)&&(oe==0||oe==(Ae.s<0?3:2)):Ke>fe||Ke==fe&&(oe==4||ce||oe==6&&Fe[le-1]&1||oe==(Ae.s<0?8:7)),le<1||!Fe[0])M=ce?F(ne.charAt(1),-$e,ne.charAt(0)):ne.charAt(0);else{if(Fe.length=le,ce)for(--k;++Fe[--le]>k;)Fe[le]=0,le||(++he,Fe=[1].concat(Fe));for(fe=Fe.length;!Fe[--fe];);for(Ke=0,M="";Ke<=fe;M+=ne.charAt(Fe[Ke++]));M=F(M,he,ne.charAt(0))}return M}}(),v=function(){function V(Q,k,K){var ie,ne,le,he,fe=0,ce=Q.length,Ae=k%d,Fe=k/d|0;for(Q=Q.slice();ce--;)le=Q[ce]%d,he=Q[ce]/d|0,ie=Fe*le+he*Ae,ne=Ae*le+ie%d*d+fe,fe=(ne/K|0)+(ie/d|0)+Fe*he,Q[ce]=ne%K;return fe&&(Q=[fe].concat(Q)),Q}function g(Q,k,K,ie){var ne,le;if(K!=ie)le=K>ie?1:-1;else for(ne=le=0;ne<K;ne++)if(Q[ne]!=k[ne]){le=Q[ne]>k[ne]?1:-1;break}return le}function M(Q,k,K,ie){for(var ne=0;K--;)Q[K]-=ne,ne=Q[K]<k[K]?1:0,Q[K]=ne*ie+Q[K]-k[K];for(;!Q[0]&&Q.length>1;Q.splice(0,1));}return function(Q,k,K,ie,ne){var le,he,fe,ce,Ae,Fe,Me,Ke,$e,oe,X,te,de,Ce,Se,ge,q,H=Q.s==k.s?1:-1,ye=Q.c,_e=k.c;if(!ye||!ye[0]||!_e||!_e[0])return new re(!Q.s||!k.s||(ye?_e&&ye[0]==_e[0]:!_e)?NaN:ye&&ye[0]==0||!_e?H*0:H/0);for(Ke=new re(H),$e=Ke.c=[],he=Q.e-k.e,H=K+he+1,ne||(ne=u,he=w(Q.e/l)-w(k.e/l),H=H/l|0),fe=0;_e[fe]==(ye[fe]||0);fe++);if(_e[fe]>(ye[fe]||0)&&he--,H<0)$e.push(1),ce=!0;else{for(Ce=ye.length,ge=_e.length,fe=0,H+=2,Ae=a(ne/(_e[0]+1)),Ae>1&&(_e=V(_e,Ae,ne),ye=V(ye,Ae,ne),ge=_e.length,Ce=ye.length),de=ge,oe=ye.slice(0,ge),X=oe.length;X<ge;oe[X++]=0);q=_e.slice(),q=[0].concat(q),Se=_e[0],_e[1]>=ne/2&&Se++;do{if(Ae=0,le=g(_e,oe,ge,X),le<0){if(te=oe[0],ge!=X&&(te=te*ne+(oe[1]||0)),Ae=a(te/Se),Ae>1)for(Ae>=ne&&(Ae=ne-1),Fe=V(_e,Ae,ne),Me=Fe.length,X=oe.length;g(Fe,oe,Me,X)==1;)Ae--,M(Fe,ge<Me?q:_e,Me,ne),Me=Fe.length,le=1;else Ae==0&&(le=Ae=1),Fe=_e.slice(),Me=Fe.length;if(Me<X&&(Fe=[0].concat(Fe)),M(oe,Fe,X,ne),X=oe.length,le==-1)for(;g(_e,oe,ge,X)<1;)Ae++,M(oe,ge<X?q:_e,X,ne),X=oe.length}else le===0&&(Ae++,oe=[0]);$e[fe++]=Ae,oe[0]?oe[X++]=ye[de]||0:(oe=[ye[de]],X=1)}while((de++<Ce||oe[0]!=null)&&H--);ce=oe[0]!=null,$e[0]||$e.splice(0,1)}if(ne==u){for(fe=1,H=$e[0];H>=10;H/=10,fe++);b(Ke,K+(Ke.e=fe+he*l-1)+1,ie,ce)}else Ke.e=he,Ke.r=+ce;return Ke}}();function T(V,g,M,Q){var k,K,ie,ne,le;if(M==null?M=O:p(M,0,8),!V.c)return V.toString();if(k=V.c[0],ie=V.e,g==null)le=_(V.c),le=Q==1||Q==2&&(ie<=B||ie>=C)?S(le,ie):F(le,ie,"0");else if(V=b(new re(V),g,M),K=V.e,le=_(V.c),ne=le.length,Q==1||Q==2&&(g<=K||K<=B)){for(;ne<g;le+="0",ne++);le=S(le,K)}else if(g-=ie,le=F(le,K,"0"),K+1>ne){if(--g>0)for(le+=".";g--;le+="0");}else if(g+=K-ne,g>0)for(K+1==ne&&(le+=".");g--;le+="0");return V.s<0&&k?"-"+le:le}function x(V,g){for(var M,Q,k=1,K=new re(V[0]);k<V.length;k++)Q=new re(V[k]),(!Q.s||(M=E(K,Q))===g||M===0&&K.s===g)&&(K=Q);return K}function z(V,g,M){for(var Q=1,k=g.length;!g[--k];g.pop());for(k=g[0];k>=10;k/=10,Q++);return(M=Q+M*l-1)>U?V.c=V.e=null:M<N?V.c=[V.e=0]:(V.e=M,V.c=g),V}D=function(){var V=/^(-?)0([xbo])(?=\w[\w.]*$)/i,g=/^([^.]+)\.$/,M=/^\.([^.]+)$/,Q=/^-?(Infinity|NaN)$/,k=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(K,ie,ne,le){var he,fe=ne?ie:ie.replace(k,"");if(Q.test(fe))K.s=isNaN(fe)?null:fe<0?-1:1;else{if(!ne&&(fe=fe.replace(V,function(ce,Ae,Fe){return he=(Fe=Fe.toLowerCase())=="x"?16:Fe=="b"?2:8,!le||le==he?Ae:ce}),le&&(he=le,fe=fe.replace(g,"$1").replace(M,"0.$1")),ie!=fe))return new re(fe,he);if(re.DEBUG)throw Error(o+"Not a"+(le?" base "+le:"")+" number: "+ie);K.s=null}K.c=K.e=null}}();function b(V,g,M,Q){var k,K,ie,ne,le,he,fe,ce=V.c,Ae=f;if(ce){e:{for(k=1,ne=ce[0];ne>=10;ne/=10,k++);if(K=g-k,K<0)K+=l,ie=g,le=ce[he=0],fe=a(le/Ae[k-ie-1]%10);else if(he=i((K+1)/l),he>=ce.length)if(Q){for(;ce.length<=he;ce.push(0));le=fe=0,k=1,K%=l,ie=K-l+1}else break e;else{for(le=ne=ce[he],k=1;ne>=10;ne/=10,k++);K%=l,ie=K-l+k,fe=ie<0?0:a(le/Ae[k-ie-1]%10)}if(Q=Q||g<0||ce[he+1]!=null||(ie<0?le:le%Ae[k-ie-1]),Q=M<4?(fe||Q)&&(M==0||M==(V.s<0?3:2)):fe>5||fe==5&&(M==4||Q||M==6&&(K>0?ie>0?le/Ae[k-ie]:0:ce[he-1])%10&1||M==(V.s<0?8:7)),g<1||!ce[0])return ce.length=0,Q?(g-=V.e+1,ce[0]=Ae[(l-g%l)%l],V.e=-g||0):ce[0]=V.e=0,V;if(K==0?(ce.length=he,ne=1,he--):(ce.length=he+1,ne=Ae[l-K],ce[he]=ie>0?a(le/Ae[k-ie]%Ae[ie])*ne:0),Q)for(;;)if(he==0){for(K=1,ie=ce[0];ie>=10;ie/=10,K++);for(ie=ce[0]+=ne,ne=1;ie>=10;ie/=10,ne++);K!=ne&&(V.e++,ce[0]==u&&(ce[0]=1));break}else{if(ce[he]+=ne,ce[he]!=u)break;ce[he--]=0,ne=1}for(K=ce.length;ce[--K]===0;ce.pop());}V.e>U?V.c=V.e=null:V.e<N&&(V.c=[V.e=0])}return V}function J(V){var g,M=V.e;return M===null?V.toString():(g=_(V.c),g=M<=B||M>=C?S(g,M):F(g,M,"0"),V.s<0?"-"+g:g)}return L.absoluteValue=L.abs=function(){var V=new re(this);return V.s<0&&(V.s=1),V},L.comparedTo=function(V,g){return E(this,new re(V,g))},L.decimalPlaces=L.dp=function(V,g){var M,Q,k,K=this;if(V!=null)return p(V,0,h),g==null?g=O:p(g,0,8),b(new re(K),V+K.e+1,g);if(!(M=K.c))return null;if(Q=((k=M.length-1)-w(this.e/l))*l,k=M[k])for(;k%10==0;k/=10,Q--);return Q<0&&(Q=0),Q},L.dividedBy=L.div=function(V,g){return v(this,new re(V,g),Y,O)},L.dividedToIntegerBy=L.idiv=function(V,g){return v(this,new re(V,g),0,1)},L.exponentiatedBy=L.pow=function(V,g){var M,Q,k,K,ie,ne,le,he,fe,ce=this;if(V=new re(V),V.c&&!V.isInteger())throw Error(o+"Exponent not an integer: "+J(V));if(g!=null&&(g=new re(g)),ne=V.e>14,!ce.c||!ce.c[0]||ce.c[0]==1&&!ce.e&&ce.c.length==1||!V.c||!V.c[0])return fe=new re(Math.pow(+J(ce),ne?V.s*(2-m(V)):+J(V))),g?fe.mod(g):fe;if(le=V.s<0,g){if(g.c?!g.c[0]:!g.s)return new re(NaN);Q=!le&&ce.isInteger()&&g.isInteger(),Q&&(ce=ce.mod(g))}else{if(V.e>9&&(ce.e>0||ce.e<-1||(ce.e==0?ce.c[0]>1||ne&&ce.c[1]>=24e7:ce.c[0]<8e13||ne&&ce.c[0]<=9999975e7)))return K=ce.s<0&&m(V)?-0:0,ce.e>-1&&(K=1/K),new re(le?1/K:K);Z&&(K=i(Z/l+2))}for(ne?(M=new re(.5),le&&(V.s=1),he=m(V)):(k=Math.abs(+J(V)),he=k%2),fe=new re(j);;){if(he){if(fe=fe.times(ce),!fe.c)break;K?fe.c.length>K&&(fe.c.length=K):Q&&(fe=fe.mod(g))}if(k){if(k=a(k/2),k===0)break;he=k%2}else if(V=V.times(M),b(V,V.e+1,1),V.e>14)he=m(V);else{if(k=+J(V),k===0)break;he=k%2}ce=ce.times(ce),K?ce.c&&ce.c.length>K&&(ce.c.length=K):Q&&(ce=ce.mod(g))}return Q?fe:(le&&(fe=j.div(fe)),g?fe.mod(g):K?b(fe,Z,O,ie):fe)},L.integerValue=function(V){var g=new re(this);return V==null?V=O:p(V,0,8),b(g,g.e+1,V)},L.isEqualTo=L.eq=function(V,g){return E(this,new re(V,g))===0},L.isFinite=function(){return!!this.c},L.isGreaterThan=L.gt=function(V,g){return E(this,new re(V,g))>0},L.isGreaterThanOrEqualTo=L.gte=function(V,g){return(g=E(this,new re(V,g)))===1||g===0},L.isInteger=function(){return!!this.c&&w(this.e/l)>this.c.length-2},L.isLessThan=L.lt=function(V,g){return E(this,new re(V,g))<0},L.isLessThanOrEqualTo=L.lte=function(V,g){return(g=E(this,new re(V,g)))===-1||g===0},L.isNaN=function(){return!this.s},L.isNegative=function(){return this.s<0},L.isPositive=function(){return this.s>0},L.isZero=function(){return!!this.c&&this.c[0]==0},L.minus=function(V,g){var M,Q,k,K,ie=this,ne=ie.s;if(V=new re(V,g),g=V.s,!ne||!g)return new re(NaN);if(ne!=g)return V.s=-g,ie.plus(V);var le=ie.e/l,he=V.e/l,fe=ie.c,ce=V.c;if(!le||!he){if(!fe||!ce)return fe?(V.s=-g,V):new re(ce?ie:NaN);if(!fe[0]||!ce[0])return ce[0]?(V.s=-g,V):new re(fe[0]?ie:O==3?-0:0)}if(le=w(le),he=w(he),fe=fe.slice(),ne=le-he){for((K=ne<0)?(ne=-ne,k=fe):(he=le,k=ce),k.reverse(),g=ne;g--;k.push(0));k.reverse()}else for(Q=(K=(ne=fe.length)<(g=ce.length))?ne:g,ne=g=0;g<Q;g++)if(fe[g]!=ce[g]){K=fe[g]<ce[g];break}if(K&&(k=fe,fe=ce,ce=k,V.s=-V.s),g=(Q=ce.length)-(M=fe.length),g>0)for(;g--;fe[M++]=0);for(g=u-1;Q>ne;){if(fe[--Q]<ce[Q]){for(M=Q;M&&!fe[--M];fe[M]=g);--fe[M],fe[Q]+=u}fe[Q]-=ce[Q]}for(;fe[0]==0;fe.splice(0,1),--he);return fe[0]?z(V,fe,he):(V.s=O==3?-1:1,V.c=[V.e=0],V)},L.modulo=L.mod=function(V,g){var M,Q,k=this;return V=new re(V,g),!k.c||!V.s||V.c&&!V.c[0]?new re(NaN):!V.c||k.c&&!k.c[0]?new re(k):($==9?(Q=V.s,V.s=1,M=v(k,V,0,3),V.s=Q,M.s*=Q):M=v(k,V,0,$),V=k.minus(M.times(V)),!V.c[0]&&$==1&&(V.s=k.s),V)},L.multipliedBy=L.times=function(V,g){var M,Q,k,K,ie,ne,le,he,fe,ce,Ae,Fe,Me,Ke,$e,oe=this,X=oe.c,te=(V=new re(V,g)).c;if(!X||!te||!X[0]||!te[0])return!oe.s||!V.s||X&&!X[0]&&!te||te&&!te[0]&&!X?V.c=V.e=V.s=null:(V.s*=oe.s,!X||!te?V.c=V.e=null:(V.c=[0],V.e=0)),V;for(Q=w(oe.e/l)+w(V.e/l),V.s*=oe.s,le=X.length,ce=te.length,le<ce&&(Me=X,X=te,te=Me,k=le,le=ce,ce=k),k=le+ce,Me=[];k--;Me.push(0));for(Ke=u,$e=d,k=ce;--k>=0;){for(M=0,Ae=te[k]%$e,Fe=te[k]/$e|0,ie=le,K=k+ie;K>k;)he=X[--ie]%$e,fe=X[ie]/$e|0,ne=Fe*he+fe*Ae,he=Ae*he+ne%$e*$e+Me[K]+M,M=(he/Ke|0)+(ne/$e|0)+Fe*fe,Me[K--]=he%Ke;Me[K]=M}return M?++Q:Me.splice(0,1),z(V,Me,Q)},L.negated=function(){var V=new re(this);return V.s=-V.s||null,V},L.plus=function(V,g){var M,Q=this,k=Q.s;if(V=new re(V,g),g=V.s,!k||!g)return new re(NaN);if(k!=g)return V.s=-g,Q.minus(V);var K=Q.e/l,ie=V.e/l,ne=Q.c,le=V.c;if(!K||!ie){if(!ne||!le)return new re(k/0);if(!ne[0]||!le[0])return le[0]?V:new re(ne[0]?Q:k*0)}if(K=w(K),ie=w(ie),ne=ne.slice(),k=K-ie){for(k>0?(ie=K,M=le):(k=-k,M=ne),M.reverse();k--;M.push(0));M.reverse()}for(k=ne.length,g=le.length,k-g<0&&(M=le,le=ne,ne=M,g=k),k=0;g;)k=(ne[--g]=ne[g]+le[g]+k)/u|0,ne[g]=u===ne[g]?0:ne[g]%u;return k&&(ne=[k].concat(ne),++ie),z(V,ne,ie)},L.precision=L.sd=function(V,g){var M,Q,k,K=this;if(V!=null&&V!==!!V)return p(V,1,h),g==null?g=O:p(g,0,8),b(new re(K),V,g);if(!(M=K.c))return null;if(k=M.length-1,Q=k*l+1,k=M[k]){for(;k%10==0;k/=10,Q--);for(k=M[0];k>=10;k/=10,Q++);}return V&&K.e+1>Q&&(Q=K.e+1),Q},L.shiftedBy=function(V){return p(V,-c,c),this.times("1e"+V)},L.squareRoot=L.sqrt=function(){var V,g,M,Q,k,K=this,ie=K.c,ne=K.s,le=K.e,he=Y+4,fe=new re("0.5");if(ne!==1||!ie||!ie[0])return new re(!ne||ne<0&&(!ie||ie[0])?NaN:ie?K:1/0);if(ne=Math.sqrt(+J(K)),ne==0||ne==1/0?(g=_(ie),(g.length+le)%2==0&&(g+="0"),ne=Math.sqrt(+g),le=w((le+1)/2)-(le<0||le%2),ne==1/0?g="5e"+le:(g=ne.toExponential(),g=g.slice(0,g.indexOf("e")+1)+le),M=new re(g)):M=new re(ne+""),M.c[0]){for(le=M.e,ne=le+he,ne<3&&(ne=0);;)if(k=M,M=fe.times(k.plus(v(K,k,he,1))),_(k.c).slice(0,ne)===(g=_(M.c)).slice(0,ne))if(M.e<le&&--ne,g=g.slice(ne-3,ne+1),g=="9999"||!Q&&g=="4999"){if(!Q&&(b(k,k.e+Y+2,0),k.times(k).eq(K))){M=k;break}he+=4,ne+=4,Q=1}else{(!+g||!+g.slice(1)&&g.charAt(0)=="5")&&(b(M,M.e+Y+2,1),V=!M.times(M).eq(K));break}}return b(M,M.e+Y+1,O,V)},L.toExponential=function(V,g){return V!=null&&(p(V,0,h),V++),T(this,V,g,1)},L.toFixed=function(V,g){return V!=null&&(p(V,0,h),V=V+this.e+1),T(this,V,g)},L.toFormat=function(V,g,M){var Q,k=this;if(M==null)V!=null&&g&&typeof g=="object"?(M=g,g=null):V&&typeof V=="object"?(M=V,V=g=null):M=W;else if(typeof M!="object")throw Error(o+"Argument not an object: "+M);if(Q=k.toFixed(V,g),k.c){var K,ie=Q.split("."),ne=+M.groupSize,le=+M.secondaryGroupSize,he=M.groupSeparator||"",fe=ie[0],ce=ie[1],Ae=k.s<0,Fe=Ae?fe.slice(1):fe,Me=Fe.length;if(le&&(K=ne,ne=le,le=K,Me-=K),ne>0&&Me>0){for(K=Me%ne||ne,fe=Fe.substr(0,K);K<Me;K+=ne)fe+=he+Fe.substr(K,ne);le>0&&(fe+=he+Fe.slice(K)),Ae&&(fe="-"+fe)}Q=ce?fe+(M.decimalSeparator||"")+((le=+M.fractionGroupSize)?ce.replace(new RegExp("\\d{"+le+"}\\B","g"),"$&"+(M.fractionGroupSeparator||"")):ce):fe}return(M.prefix||"")+Q+(M.suffix||"")},L.toFraction=function(V){var g,M,Q,k,K,ie,ne,le,he,fe,ce,Ae,Fe=this,Me=Fe.c;if(V!=null&&(ne=new re(V),!ne.isInteger()&&(ne.c||ne.s!==1)||ne.lt(j)))throw Error(o+"Argument "+(ne.isInteger()?"out of range: ":"not an integer: ")+J(ne));if(!Me)return new re(Fe);for(g=new re(j),he=M=new re(j),Q=le=new re(j),Ae=_(Me),K=g.e=Ae.length-Fe.e-1,g.c[0]=f[(ie=K%l)<0?l+ie:ie],V=!V||ne.comparedTo(g)>0?K>0?g:he:ne,ie=U,U=1/0,ne=new re(Ae),le.c[0]=0;fe=v(ne,g,0,1),k=M.plus(fe.times(Q)),k.comparedTo(V)!=1;)M=Q,Q=k,he=le.plus(fe.times(k=he)),le=k,g=ne.minus(fe.times(k=g)),ne=k;return k=v(V.minus(M),Q,0,1),le=le.plus(k.times(he)),M=M.plus(k.times(Q)),le.s=he.s=Fe.s,K=K*2,ce=v(he,Q,K,O).minus(Fe).abs().comparedTo(v(le,M,K,O).minus(Fe).abs())<1?[he,Q]:[le,M],U=ie,ce},L.toNumber=function(){return+J(this)},L.toPrecision=function(V,g){return V!=null&&p(V,1,h),T(this,V,g,2)},L.toString=function(V){var g,M=this,Q=M.s,k=M.e;return k===null?Q?(g="Infinity",Q<0&&(g="-"+g)):g="NaN":(V==null?g=k<=B||k>=C?S(_(M.c),k):F(_(M.c),k,"0"):V===10&&R?(M=b(new re(M),Y+k+1,O),g=F(_(M.c),M.e,"0")):(p(V,2,P.length,"Base"),g=A(F(_(M.c),k,"0"),10,V,Q,!0)),Q<0&&M.c[0]&&(g="-"+g)),g},L.valueOf=L.toJSON=function(){return J(this)},L._isBigNumber=!0,I!=null&&re.set(I),re}function w(I){var v=I|0;return I>0||I===v?v:v-1}function _(I){for(var v,A,D=1,L=I.length,j=I[0]+"";D<L;){for(v=I[D++]+"",A=l-v.length;A--;v="0"+v);j+=v}for(L=j.length;j.charCodeAt(--L)===48;);return j.slice(0,L+1||1)}function E(I,v){var A,D,L=I.c,j=v.c,Y=I.s,O=v.s,B=I.e,C=v.e;if(!Y||!O)return null;if(A=L&&!L[0],D=j&&!j[0],A||D)return A?D?0:-O:Y;if(Y!=O)return Y;if(A=Y<0,D=B==C,!L||!j)return D?0:!L^A?1:-1;if(!D)return B>C^A?1:-1;for(O=(B=L.length)<(C=j.length)?B:C,Y=0;Y<O;Y++)if(L[Y]!=j[Y])return L[Y]>j[Y]^A?1:-1;return B==C?0:B>C^A?1:-1}function p(I,v,A,D){if(I<v||I>A||I!==a(I))throw Error(o+(D||"Argument")+(typeof I=="number"?I<v||I>A?" out of range: ":" not an integer: ":" not a primitive number: ")+String(I))}function m(I){var v=I.c.length-1;return w(I.e/l)==v&&I.c[v]%2!=0}function S(I,v){return(I.length>1?I.charAt(0)+"."+I.slice(1):I)+(v<0?"e":"e+")+v}function F(I,v,A){var D,L;if(v<0){for(L=A+".";++v;L+=A);I=L+I}else if(D=I.length,++v>D){for(L=A,v-=D;--v;L+=A);I+=L}else v<D&&(I=I.slice(0,v)+"."+I.slice(v));return I}r=y(),r.default=r.BigNumber=r,t.exports?t.exports=r:(e||(e=typeof self<"u"&&self?self:window),e.BigNumber=r)})(Kn)})(U_);var O_=U_.exports;(function(t){var e=O_,r=t.exports;(function(){var n=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,i,a,o={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},s;function u(c){return n.lastIndex=0,n.test(c)?'"'+c.replace(n,function(f){var d=o[f];return typeof d=="string"?d:"\\u"+("0000"+f.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+c+'"'}function l(c,f){var d,h,y,w,_=i,E,p=f[c],m=p!=null&&(p instanceof e||e.isBigNumber(p));switch(p&&typeof p=="object"&&typeof p.toJSON=="function"&&(p=p.toJSON(c)),typeof s=="function"&&(p=s.call(f,c,p)),typeof p){case"string":return m?p:u(p);case"number":return isFinite(p)?String(p):"null";case"boolean":case"null":case"bigint":return String(p);case"object":if(!p)return"null";if(i+=a,E=[],Object.prototype.toString.apply(p)==="[object Array]"){for(w=p.length,d=0;d<w;d+=1)E[d]=l(d,p)||"null";return y=E.length===0?"[]":i?`[
`+i+E.join(`,
`+i)+`
`+_+"]":"["+E.join(",")+"]",i=_,y}if(s&&typeof s=="object")for(w=s.length,d=0;d<w;d+=1)typeof s[d]=="string"&&(h=s[d],y=l(h,p),y&&E.push(u(h)+(i?": ":":")+y));else Object.keys(p).forEach(function(S){var F=l(S,p);F&&E.push(u(S)+(i?": ":":")+F)});return y=E.length===0?"{}":i?`{
`+i+E.join(`,
`+i)+`
`+_+"}":"{"+E.join(",")+"}",i=_,y}}typeof r.stringify!="function"&&(r.stringify=function(c,f,d){var h;if(i="",a="",typeof d=="number")for(h=0;h<d;h+=1)a+=" ";else typeof d=="string"&&(a=d);if(s=f,f&&typeof f!="function"&&(typeof f!="object"||typeof f.length!="number"))throw new Error("JSON.stringify");return l("",{"":c})})})()})(M_);var ER=M_.exports,Bh=null;const CR=/(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])/,AR=/(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)/;var wR=function(t){var e={strict:!1,storeAsString:!1,alwaysParseAsBig:!1,useNativeBigInt:!1,protoAction:"error",constructorAction:"error"};if(t!=null){if(t.strict===!0&&(e.strict=!0),t.storeAsString===!0&&(e.storeAsString=!0),e.alwaysParseAsBig=t.alwaysParseAsBig===!0?t.alwaysParseAsBig:!1,e.useNativeBigInt=t.useNativeBigInt===!0?t.useNativeBigInt:!1,typeof t.constructorAction<"u")if(t.constructorAction==="error"||t.constructorAction==="ignore"||t.constructorAction==="preserve")e.constructorAction=t.constructorAction;else throw new Error(`Incorrect value for constructorAction option, must be "error", "ignore" or undefined but passed ${t.constructorAction}`);if(typeof t.protoAction<"u")if(t.protoAction==="error"||t.protoAction==="ignore"||t.protoAction==="preserve")e.protoAction=t.protoAction;else throw new Error(`Incorrect value for protoAction option, must be "error", "ignore" or undefined but passed ${t.protoAction}`)}var r,n,i={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},a,o=function(w){throw{name:"SyntaxError",message:w,at:r,text:a}},s=function(w){return w&&w!==n&&o("Expected '"+w+"' instead of '"+n+"'"),n=a.charAt(r),r+=1,n},u=function(){var w,_="";for(n==="-"&&(_="-",s("-"));n>="0"&&n<="9";)_+=n,s();if(n===".")for(_+=".";s()&&n>="0"&&n<="9";)_+=n;if(n==="e"||n==="E")for(_+=n,s(),(n==="-"||n==="+")&&(_+=n,s());n>="0"&&n<="9";)_+=n,s();if(w=+_,!isFinite(w))o("Bad number");else return Bh==null&&(Bh=O_),_.length>15?e.storeAsString?_:e.useNativeBigInt?BigInt(_):new Bh(_):e.alwaysParseAsBig?e.useNativeBigInt?BigInt(w):new Bh(w):w},l=function(){var w,_,E="",p;if(n==='"')for(var m=r;s();){if(n==='"')return r-1>m&&(E+=a.substring(m,r-1)),s(),E;if(n==="\\"){if(r-1>m&&(E+=a.substring(m,r-1)),s(),n==="u"){for(p=0,_=0;_<4&&(w=parseInt(s(),16),!!isFinite(w));_+=1)p=p*16+w;E+=String.fromCharCode(p)}else if(typeof i[n]=="string")E+=i[n];else break;m=r}}o("Bad string")},c=function(){for(;n&&n<=" ";)s()},f=function(){switch(n){case"t":return s("t"),s("r"),s("u"),s("e"),!0;case"f":return s("f"),s("a"),s("l"),s("s"),s("e"),!1;case"n":return s("n"),s("u"),s("l"),s("l"),null}o("Unexpected '"+n+"'")},d,h=function(){var w=[];if(n==="["){if(s("["),c(),n==="]")return s("]"),w;for(;n;){if(w.push(d()),c(),n==="]")return s("]"),w;s(","),c()}}o("Bad array")},y=function(){var w,_=Object.create(null);if(n==="{"){if(s("{"),c(),n==="}")return s("}"),_;for(;n;){if(w=l(),c(),s(":"),e.strict===!0&&Object.hasOwnProperty.call(_,w)&&o('Duplicate key "'+w+'"'),CR.test(w)===!0?e.protoAction==="error"?o("Object contains forbidden prototype property"):e.protoAction==="ignore"?d():_[w]=d():AR.test(w)===!0?e.constructorAction==="error"?o("Object contains forbidden constructor property"):e.constructorAction==="ignore"?d():_[w]=d():_[w]=d(),c(),n==="}")return s("}"),_;s(","),c()}}o("Bad object")};return d=function(){switch(c(),n){case"{":return y();case"[":return h();case'"':return l();case"-":return u();default:return n>="0"&&n<="9"?u():f()}},function(w,_){var E;return a=w+"",r=0,n=" ",E=d(),c(),n&&o("Syntax error"),typeof _=="function"?function p(m,S){var F,I=m[S];return I&&typeof I=="object"&&Object.keys(I).forEach(function(v){F=p(I,v),F!==void 0?I[v]=F:delete I[v]}),_.call(m,S,I)}({"":E},""):E}},_R=wR,V_=ER.stringify,G_=_R;mp.exports=function(t){return{parse:G_(t),stringify:V_}};mp.exports.parse=G_();mp.exports.stringify=V_;var BR=mp.exports,z_={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(t,e){(function(r){t.exports=r()})(function(){return function r(n,i,a){function o(l,c){if(!i[l]){if(!n[l]){var f=typeof df=="function"&&df;if(!c&&f)return f(l,!0);if(s)return s(l,!0);var d=new Error("Cannot find module '"+l+"'");throw d.code="MODULE_NOT_FOUND",d}var h=i[l]={exports:{}};n[l][0].call(h.exports,function(y){var w=n[l][1][y];return o(w||y)},h,h.exports,r,n,i,a)}return i[l].exports}for(var s=typeof df=="function"&&df,u=0;u<a.length;u++)o(a[u]);return o}({1:[function(r,n,i){(function(a){var o=a.MutationObserver||a.WebKitMutationObserver,s;if(o){var u=0,l=new o(y),c=a.document.createTextNode("");l.observe(c,{characterData:!0}),s=function(){c.data=u=++u%2}}else if(!a.setImmediate&&typeof a.MessageChannel<"u"){var f=new a.MessageChannel;f.port1.onmessage=y,s=function(){f.port2.postMessage(0)}}else"document"in a&&"onreadystatechange"in a.document.createElement("script")?s=function(){var _=a.document.createElement("script");_.onreadystatechange=function(){y(),_.onreadystatechange=null,_.parentNode.removeChild(_),_=null},a.document.documentElement.appendChild(_)}:s=function(){setTimeout(y,0)};var d,h=[];function y(){d=!0;for(var _,E,p=h.length;p;){for(E=h,h=[],_=-1;++_<p;)E[_]();p=h.length}d=!1}n.exports=w;function w(_){h.push(_)===1&&!d&&s()}}).call(this,typeof Kn<"u"?Kn:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(r,n,i){var a=r(1);function o(){}var s={},u=["REJECTED"],l=["FULFILLED"],c=["PENDING"];n.exports=f;function f(F){if(typeof F!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,F!==o&&w(this,F)}f.prototype.catch=function(F){return this.then(null,F)},f.prototype.then=function(F,I){if(typeof F!="function"&&this.state===l||typeof I!="function"&&this.state===u)return this;var v=new this.constructor(o);if(this.state!==c){var A=this.state===l?F:I;h(v,A,this.outcome)}else this.queue.push(new d(v,F,I));return v};function d(F,I,v){this.promise=F,typeof I=="function"&&(this.onFulfilled=I,this.callFulfilled=this.otherCallFulfilled),typeof v=="function"&&(this.onRejected=v,this.callRejected=this.otherCallRejected)}d.prototype.callFulfilled=function(F){s.resolve(this.promise,F)},d.prototype.otherCallFulfilled=function(F){h(this.promise,this.onFulfilled,F)},d.prototype.callRejected=function(F){s.reject(this.promise,F)},d.prototype.otherCallRejected=function(F){h(this.promise,this.onRejected,F)};function h(F,I,v){a(function(){var A;try{A=I(v)}catch(D){return s.reject(F,D)}A===F?s.reject(F,new TypeError("Cannot resolve promise with itself")):s.resolve(F,A)})}s.resolve=function(F,I){var v=_(y,I);if(v.status==="error")return s.reject(F,v.value);var A=v.value;if(A)w(F,A);else{F.state=l,F.outcome=I;for(var D=-1,L=F.queue.length;++D<L;)F.queue[D].callFulfilled(I)}return F},s.reject=function(F,I){F.state=u,F.outcome=I;for(var v=-1,A=F.queue.length;++v<A;)F.queue[v].callRejected(I);return F};function y(F){var I=F&&F.then;if(F&&(typeof F=="object"||typeof F=="function")&&typeof I=="function")return function(){I.apply(F,arguments)}}function w(F,I){var v=!1;function A(Y){v||(v=!0,s.reject(F,Y))}function D(Y){v||(v=!0,s.resolve(F,Y))}function L(){I(D,A)}var j=_(L);j.status==="error"&&A(j.value)}function _(F,I){var v={};try{v.value=F(I),v.status="success"}catch(A){v.status="error",v.value=A}return v}f.resolve=E;function E(F){return F instanceof this?F:s.resolve(new this(o),F)}f.reject=p;function p(F){var I=new this(o);return s.reject(I,F)}f.all=m;function m(F){var I=this;if(Object.prototype.toString.call(F)!=="[object Array]")return this.reject(new TypeError("must be an array"));var v=F.length,A=!1;if(!v)return this.resolve([]);for(var D=new Array(v),L=0,j=-1,Y=new this(o);++j<v;)O(F[j],j);return Y;function O(B,C){I.resolve(B).then(N,function(U){A||(A=!0,s.reject(Y,U))});function N(U){D[C]=U,++L===v&&!A&&(A=!0,s.resolve(Y,D))}}}f.race=S;function S(F){var I=this;if(Object.prototype.toString.call(F)!=="[object Array]")return this.reject(new TypeError("must be an array"));var v=F.length,A=!1;if(!v)return this.resolve([]);for(var D=-1,L=new this(o);++D<v;)j(F[D]);return L;function j(Y){I.resolve(Y).then(function(O){A||(A=!0,s.resolve(L,O))},function(O){A||(A=!0,s.reject(L,O))})}}},{1:1}],3:[function(r,n,i){(function(a){typeof a.Promise!="function"&&(a.Promise=r(2))}).call(this,typeof Kn<"u"?Kn:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(r,n,i){var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ee){return typeof ee}:function(ee){return ee&&typeof Symbol=="function"&&ee.constructor===Symbol&&ee!==Symbol.prototype?"symbol":typeof ee};function o(ee,ae){if(!(ee instanceof ae))throw new TypeError("Cannot call a class as a function")}function s(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var u=s();function l(){try{if(!u||!u.open)return!1;var ee=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),ae=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!ee||ae)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function c(ee,ae){ee=ee||[],ae=ae||{};try{return new Blob(ee,ae)}catch(be){if(be.name!=="TypeError")throw be;for(var se=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,Ee=new se,Be=0;Be<ee.length;Be+=1)Ee.append(ee[Be]);return Ee.getBlob(ae.type)}}typeof Promise>"u"&&r(3);var f=Promise;function d(ee,ae){ae&&ee.then(function(se){ae(null,se)},function(se){ae(se)})}function h(ee,ae,se){typeof ae=="function"&&ee.then(ae),typeof se=="function"&&ee.catch(se)}function y(ee){return typeof ee!="string"&&(console.warn(ee+" used as a key, but it is not a string."),ee=String(ee)),ee}function w(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var _="local-forage-detect-blob-support",E=void 0,p={},m=Object.prototype.toString,S="readonly",F="readwrite";function I(ee){for(var ae=ee.length,se=new ArrayBuffer(ae),Ee=new Uint8Array(se),Be=0;Be<ae;Be++)Ee[Be]=ee.charCodeAt(Be);return se}function v(ee){return new f(function(ae){var se=ee.transaction(_,F),Ee=c([""]);se.objectStore(_).put(Ee,"key"),se.onabort=function(Be){Be.preventDefault(),Be.stopPropagation(),ae(!1)},se.oncomplete=function(){var Be=navigator.userAgent.match(/Chrome\/(\d+)/),be=navigator.userAgent.match(/Edge\//);ae(be||!Be||parseInt(Be[1],10)>=43)}}).catch(function(){return!1})}function A(ee){return typeof E=="boolean"?f.resolve(E):v(ee).then(function(ae){return E=ae,E})}function D(ee){var ae=p[ee.name],se={};se.promise=new f(function(Ee,Be){se.resolve=Ee,se.reject=Be}),ae.deferredOperations.push(se),ae.dbReady?ae.dbReady=ae.dbReady.then(function(){return se.promise}):ae.dbReady=se.promise}function L(ee){var ae=p[ee.name],se=ae.deferredOperations.pop();if(se)return se.resolve(),se.promise}function j(ee,ae){var se=p[ee.name],Ee=se.deferredOperations.pop();if(Ee)return Ee.reject(ae),Ee.promise}function Y(ee,ae){return new f(function(se,Ee){if(p[ee.name]=p[ee.name]||P(),ee.db)if(ae)D(ee),ee.db.close();else return se(ee.db);var Be=[ee.name];ae&&Be.push(ee.version);var be=u.open.apply(u,Be);ae&&(be.onupgradeneeded=function(Ne){var Ye=be.result;try{Ye.createObjectStore(ee.storeName),Ne.oldVersion<=1&&Ye.createObjectStore(_)}catch(rt){if(rt.name==="ConstraintError")console.warn('The database "'+ee.name+'" has been upgraded from version '+Ne.oldVersion+" to version "+Ne.newVersion+', but the storage "'+ee.storeName+'" already exists.');else throw rt}}),be.onerror=function(Ne){Ne.preventDefault(),Ee(be.error)},be.onsuccess=function(){var Ne=be.result;Ne.onversionchange=function(Ye){Ye.target.close()},se(Ne),L(ee)}})}function O(ee){return Y(ee,!1)}function B(ee){return Y(ee,!0)}function C(ee,ae){if(!ee.db)return!0;var se=!ee.db.objectStoreNames.contains(ee.storeName),Ee=ee.version<ee.db.version,Be=ee.version>ee.db.version;if(Ee&&(ee.version!==ae&&console.warn('The database "'+ee.name+`" can't be downgraded from version `+ee.db.version+" to version "+ee.version+"."),ee.version=ee.db.version),Be||se){if(se){var be=ee.db.version+1;be>ee.version&&(ee.version=be)}return!0}return!1}function N(ee){return new f(function(ae,se){var Ee=new FileReader;Ee.onerror=se,Ee.onloadend=function(Be){var be=btoa(Be.target.result||"");ae({__local_forage_encoded_blob:!0,data:be,type:ee.type})},Ee.readAsBinaryString(ee)})}function U(ee){var ae=I(atob(ee.data));return c([ae],{type:ee.type})}function G(ee){return ee&&ee.__local_forage_encoded_blob}function $(ee){var ae=this,se=ae._initReady().then(function(){var Ee=p[ae._dbInfo.name];if(Ee&&Ee.dbReady)return Ee.dbReady});return h(se,ee,ee),se}function Z(ee){D(ee);for(var ae=p[ee.name],se=ae.forages,Ee=0;Ee<se.length;Ee++){var Be=se[Ee];Be._dbInfo.db&&(Be._dbInfo.db.close(),Be._dbInfo.db=null)}return ee.db=null,O(ee).then(function(be){return ee.db=be,C(ee)?B(ee):be}).then(function(be){ee.db=ae.db=be;for(var Ne=0;Ne<se.length;Ne++)se[Ne]._dbInfo.db=be}).catch(function(be){throw j(ee,be),be})}function W(ee,ae,se,Ee){Ee===void 0&&(Ee=1);try{var Be=ee.db.transaction(ee.storeName,ae);se(null,Be)}catch(be){if(Ee>0&&(!ee.db||be.name==="InvalidStateError"||be.name==="NotFoundError"))return f.resolve().then(function(){if(!ee.db||be.name==="NotFoundError"&&!ee.db.objectStoreNames.contains(ee.storeName)&&ee.version<=ee.db.version)return ee.db&&(ee.version=ee.db.version+1),B(ee)}).then(function(){return Z(ee).then(function(){W(ee,ae,se,Ee-1)})}).catch(se);se(be)}}function P(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function R(ee){var ae=this,se={db:null};if(ee)for(var Ee in ee)se[Ee]=ee[Ee];var Be=p[se.name];Be||(Be=P(),p[se.name]=Be),Be.forages.push(ae),ae._initReady||(ae._initReady=ae.ready,ae.ready=$);var be=[];function Ne(){return f.resolve()}for(var Ye=0;Ye<Be.forages.length;Ye++){var rt=Be.forages[Ye];rt!==ae&&be.push(rt._initReady().catch(Ne))}var ot=Be.forages.slice(0);return f.all(be).then(function(){return se.db=Be.db,O(se)}).then(function(lt){return se.db=lt,C(se,ae._defaultConfig.version)?B(se):lt}).then(function(lt){se.db=Be.db=lt,ae._dbInfo=se;for(var Ct=0;Ct<ot.length;Ct++){var Ht=ot[Ct];Ht!==ae&&(Ht._dbInfo.db=se.db,Ht._dbInfo.version=se.version)}})}function re(ee,ae){var se=this;ee=y(ee);var Ee=new f(function(Be,be){se.ready().then(function(){W(se._dbInfo,S,function(Ne,Ye){if(Ne)return be(Ne);try{var rt=Ye.objectStore(se._dbInfo.storeName),ot=rt.get(ee);ot.onsuccess=function(){var lt=ot.result;lt===void 0&&(lt=null),G(lt)&&(lt=U(lt)),Be(lt)},ot.onerror=function(){be(ot.error)}}catch(lt){be(lt)}})}).catch(be)});return d(Ee,ae),Ee}function T(ee,ae){var se=this,Ee=new f(function(Be,be){se.ready().then(function(){W(se._dbInfo,S,function(Ne,Ye){if(Ne)return be(Ne);try{var rt=Ye.objectStore(se._dbInfo.storeName),ot=rt.openCursor(),lt=1;ot.onsuccess=function(){var Ct=ot.result;if(Ct){var Ht=Ct.value;G(Ht)&&(Ht=U(Ht));var Wt=ee(Ht,Ct.key,lt++);Wt!==void 0?Be(Wt):Ct.continue()}else Be()},ot.onerror=function(){be(ot.error)}}catch(Ct){be(Ct)}})}).catch(be)});return d(Ee,ae),Ee}function x(ee,ae,se){var Ee=this;ee=y(ee);var Be=new f(function(be,Ne){var Ye;Ee.ready().then(function(){return Ye=Ee._dbInfo,m.call(ae)==="[object Blob]"?A(Ye.db).then(function(rt){return rt?ae:N(ae)}):ae}).then(function(rt){W(Ee._dbInfo,F,function(ot,lt){if(ot)return Ne(ot);try{var Ct=lt.objectStore(Ee._dbInfo.storeName);rt===null&&(rt=void 0);var Ht=Ct.put(rt,ee);lt.oncomplete=function(){rt===void 0&&(rt=null),be(rt)},lt.onabort=lt.onerror=function(){var Wt=Ht.error?Ht.error:Ht.transaction.error;Ne(Wt)}}catch(Wt){Ne(Wt)}})}).catch(Ne)});return d(Be,se),Be}function z(ee,ae){var se=this;ee=y(ee);var Ee=new f(function(Be,be){se.ready().then(function(){W(se._dbInfo,F,function(Ne,Ye){if(Ne)return be(Ne);try{var rt=Ye.objectStore(se._dbInfo.storeName),ot=rt.delete(ee);Ye.oncomplete=function(){Be()},Ye.onerror=function(){be(ot.error)},Ye.onabort=function(){var lt=ot.error?ot.error:ot.transaction.error;be(lt)}}catch(lt){be(lt)}})}).catch(be)});return d(Ee,ae),Ee}function b(ee){var ae=this,se=new f(function(Ee,Be){ae.ready().then(function(){W(ae._dbInfo,F,function(be,Ne){if(be)return Be(be);try{var Ye=Ne.objectStore(ae._dbInfo.storeName),rt=Ye.clear();Ne.oncomplete=function(){Ee()},Ne.onabort=Ne.onerror=function(){var ot=rt.error?rt.error:rt.transaction.error;Be(ot)}}catch(ot){Be(ot)}})}).catch(Be)});return d(se,ee),se}function J(ee){var ae=this,se=new f(function(Ee,Be){ae.ready().then(function(){W(ae._dbInfo,S,function(be,Ne){if(be)return Be(be);try{var Ye=Ne.objectStore(ae._dbInfo.storeName),rt=Ye.count();rt.onsuccess=function(){Ee(rt.result)},rt.onerror=function(){Be(rt.error)}}catch(ot){Be(ot)}})}).catch(Be)});return d(se,ee),se}function V(ee,ae){var se=this,Ee=new f(function(Be,be){if(ee<0){Be(null);return}se.ready().then(function(){W(se._dbInfo,S,function(Ne,Ye){if(Ne)return be(Ne);try{var rt=Ye.objectStore(se._dbInfo.storeName),ot=!1,lt=rt.openKeyCursor();lt.onsuccess=function(){var Ct=lt.result;if(!Ct){Be(null);return}ee===0||ot?Be(Ct.key):(ot=!0,Ct.advance(ee))},lt.onerror=function(){be(lt.error)}}catch(Ct){be(Ct)}})}).catch(be)});return d(Ee,ae),Ee}function g(ee){var ae=this,se=new f(function(Ee,Be){ae.ready().then(function(){W(ae._dbInfo,S,function(be,Ne){if(be)return Be(be);try{var Ye=Ne.objectStore(ae._dbInfo.storeName),rt=Ye.openKeyCursor(),ot=[];rt.onsuccess=function(){var lt=rt.result;if(!lt){Ee(ot);return}ot.push(lt.key),lt.continue()},rt.onerror=function(){Be(rt.error)}}catch(lt){Be(lt)}})}).catch(Be)});return d(se,ee),se}function M(ee,ae){ae=w.apply(this,arguments);var se=this.config();ee=typeof ee!="function"&&ee||{},ee.name||(ee.name=ee.name||se.name,ee.storeName=ee.storeName||se.storeName);var Ee=this,Be;if(!ee.name)Be=f.reject("Invalid arguments");else{var be=ee.name===se.name&&Ee._dbInfo.db,Ne=be?f.resolve(Ee._dbInfo.db):O(ee).then(function(Ye){var rt=p[ee.name],ot=rt.forages;rt.db=Ye;for(var lt=0;lt<ot.length;lt++)ot[lt]._dbInfo.db=Ye;return Ye});ee.storeName?Be=Ne.then(function(Ye){if(Ye.objectStoreNames.contains(ee.storeName)){var rt=Ye.version+1;D(ee);var ot=p[ee.name],lt=ot.forages;Ye.close();for(var Ct=0;Ct<lt.length;Ct++){var Ht=lt[Ct];Ht._dbInfo.db=null,Ht._dbInfo.version=rt}var Wt=new f(function(Yt,Or){var Sr=u.open(ee.name,rt);Sr.onerror=function(Xn){var Nu=Sr.result;Nu.close(),Or(Xn)},Sr.onupgradeneeded=function(){var Xn=Sr.result;Xn.deleteObjectStore(ee.storeName)},Sr.onsuccess=function(){var Xn=Sr.result;Xn.close(),Yt(Xn)}});return Wt.then(function(Yt){ot.db=Yt;for(var Or=0;Or<lt.length;Or++){var Sr=lt[Or];Sr._dbInfo.db=Yt,L(Sr._dbInfo)}}).catch(function(Yt){throw(j(ee,Yt)||f.resolve()).catch(function(){}),Yt})}}):Be=Ne.then(function(Ye){D(ee);var rt=p[ee.name],ot=rt.forages;Ye.close();for(var lt=0;lt<ot.length;lt++){var Ct=ot[lt];Ct._dbInfo.db=null}var Ht=new f(function(Wt,Yt){var Or=u.deleteDatabase(ee.name);Or.onerror=function(){var Sr=Or.result;Sr&&Sr.close(),Yt(Or.error)},Or.onblocked=function(){console.warn('dropInstance blocked for database "'+ee.name+'" until all open connections are closed')},Or.onsuccess=function(){var Sr=Or.result;Sr&&Sr.close(),Wt(Sr)}});return Ht.then(function(Wt){rt.db=Wt;for(var Yt=0;Yt<ot.length;Yt++){var Or=ot[Yt];L(Or._dbInfo)}}).catch(function(Wt){throw(j(ee,Wt)||f.resolve()).catch(function(){}),Wt})})}return d(Be,ae),Be}var Q={_driver:"asyncStorage",_initStorage:R,_support:l(),iterate:T,getItem:re,setItem:x,removeItem:z,clear:b,length:J,key:V,keys:g,dropInstance:M};function k(){return typeof openDatabase=="function"}var K="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ie="~~local_forage_type~",ne=/^~~local_forage_type~([^~]+)~/,le="__lfsc__:",he=le.length,fe="arbf",ce="blob",Ae="si08",Fe="ui08",Me="uic8",Ke="si16",$e="si32",oe="ur16",X="ui32",te="fl32",de="fl64",Ce=he+fe.length,Se=Object.prototype.toString;function ge(ee){var ae=ee.length*.75,se=ee.length,Ee,Be=0,be,Ne,Ye,rt;ee[ee.length-1]==="="&&(ae--,ee[ee.length-2]==="="&&ae--);var ot=new ArrayBuffer(ae),lt=new Uint8Array(ot);for(Ee=0;Ee<se;Ee+=4)be=K.indexOf(ee[Ee]),Ne=K.indexOf(ee[Ee+1]),Ye=K.indexOf(ee[Ee+2]),rt=K.indexOf(ee[Ee+3]),lt[Be++]=be<<2|Ne>>4,lt[Be++]=(Ne&15)<<4|Ye>>2,lt[Be++]=(Ye&3)<<6|rt&63;return ot}function q(ee){var ae=new Uint8Array(ee),se="",Ee;for(Ee=0;Ee<ae.length;Ee+=3)se+=K[ae[Ee]>>2],se+=K[(ae[Ee]&3)<<4|ae[Ee+1]>>4],se+=K[(ae[Ee+1]&15)<<2|ae[Ee+2]>>6],se+=K[ae[Ee+2]&63];return ae.length%3===2?se=se.substring(0,se.length-1)+"=":ae.length%3===1&&(se=se.substring(0,se.length-2)+"=="),se}function H(ee,ae){var se="";if(ee&&(se=Se.call(ee)),ee&&(se==="[object ArrayBuffer]"||ee.buffer&&Se.call(ee.buffer)==="[object ArrayBuffer]")){var Ee,Be=le;ee instanceof ArrayBuffer?(Ee=ee,Be+=fe):(Ee=ee.buffer,se==="[object Int8Array]"?Be+=Ae:se==="[object Uint8Array]"?Be+=Fe:se==="[object Uint8ClampedArray]"?Be+=Me:se==="[object Int16Array]"?Be+=Ke:se==="[object Uint16Array]"?Be+=oe:se==="[object Int32Array]"?Be+=$e:se==="[object Uint32Array]"?Be+=X:se==="[object Float32Array]"?Be+=te:se==="[object Float64Array]"?Be+=de:ae(new Error("Failed to get type for BinaryArray"))),ae(Be+q(Ee))}else if(se==="[object Blob]"){var be=new FileReader;be.onload=function(){var Ne=ie+ee.type+"~"+q(this.result);ae(le+ce+Ne)},be.readAsArrayBuffer(ee)}else try{ae(JSON.stringify(ee))}catch(Ne){console.error("Couldn't convert value into a JSON string: ",ee),ae(null,Ne)}}function ye(ee){if(ee.substring(0,he)!==le)return JSON.parse(ee);var ae=ee.substring(Ce),se=ee.substring(he,Ce),Ee;if(se===ce&&ne.test(ae)){var Be=ae.match(ne);Ee=Be[1],ae=ae.substring(Be[0].length)}var be=ge(ae);switch(se){case fe:return be;case ce:return c([be],{type:Ee});case Ae:return new Int8Array(be);case Fe:return new Uint8Array(be);case Me:return new Uint8ClampedArray(be);case Ke:return new Int16Array(be);case oe:return new Uint16Array(be);case $e:return new Int32Array(be);case X:return new Uint32Array(be);case te:return new Float32Array(be);case de:return new Float64Array(be);default:throw new Error("Unkown type: "+se)}}var _e={serialize:H,deserialize:ye,stringToBuffer:ge,bufferToString:q};function ve(ee,ae,se,Ee){ee.executeSql("CREATE TABLE IF NOT EXISTS "+ae.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],se,Ee)}function Ie(ee){var ae=this,se={db:null};if(ee)for(var Ee in ee)se[Ee]=typeof ee[Ee]!="string"?ee[Ee].toString():ee[Ee];var Be=new f(function(be,Ne){try{se.db=openDatabase(se.name,String(se.version),se.description,se.size)}catch(Ye){return Ne(Ye)}se.db.transaction(function(Ye){ve(Ye,se,function(){ae._dbInfo=se,be()},function(rt,ot){Ne(ot)})},Ne)});return se.serializer=_e,Be}function Le(ee,ae,se,Ee,Be,be){ee.executeSql(se,Ee,Be,function(Ne,Ye){Ye.code===Ye.SYNTAX_ERR?Ne.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[ae.storeName],function(rt,ot){ot.rows.length?be(rt,Ye):ve(rt,ae,function(){rt.executeSql(se,Ee,Be,be)},be)},be):be(Ne,Ye)},be)}function Pe(ee,ae){var se=this;ee=y(ee);var Ee=new f(function(Be,be){se.ready().then(function(){var Ne=se._dbInfo;Ne.db.transaction(function(Ye){Le(Ye,Ne,"SELECT * FROM "+Ne.storeName+" WHERE key = ? LIMIT 1",[ee],function(rt,ot){var lt=ot.rows.length?ot.rows.item(0).value:null;lt&&(lt=Ne.serializer.deserialize(lt)),Be(lt)},function(rt,ot){be(ot)})})}).catch(be)});return d(Ee,ae),Ee}function Re(ee,ae){var se=this,Ee=new f(function(Be,be){se.ready().then(function(){var Ne=se._dbInfo;Ne.db.transaction(function(Ye){Le(Ye,Ne,"SELECT * FROM "+Ne.storeName,[],function(rt,ot){for(var lt=ot.rows,Ct=lt.length,Ht=0;Ht<Ct;Ht++){var Wt=lt.item(Ht),Yt=Wt.value;if(Yt&&(Yt=Ne.serializer.deserialize(Yt)),Yt=ee(Yt,Wt.key,Ht+1),Yt!==void 0){Be(Yt);return}}Be()},function(rt,ot){be(ot)})})}).catch(be)});return d(Ee,ae),Ee}function Oe(ee,ae,se,Ee){var Be=this;ee=y(ee);var be=new f(function(Ne,Ye){Be.ready().then(function(){ae===void 0&&(ae=null);var rt=ae,ot=Be._dbInfo;ot.serializer.serialize(ae,function(lt,Ct){Ct?Ye(Ct):ot.db.transaction(function(Ht){Le(Ht,ot,"INSERT OR REPLACE INTO "+ot.storeName+" (key, value) VALUES (?, ?)",[ee,lt],function(){Ne(rt)},function(Wt,Yt){Ye(Yt)})},function(Ht){if(Ht.code===Ht.QUOTA_ERR){if(Ee>0){Ne(Oe.apply(Be,[ee,rt,se,Ee-1]));return}Ye(Ht)}})})}).catch(Ye)});return d(be,se),be}function Ue(ee,ae,se){return Oe.apply(this,[ee,ae,se,1])}function Ge(ee,ae){var se=this;ee=y(ee);var Ee=new f(function(Be,be){se.ready().then(function(){var Ne=se._dbInfo;Ne.db.transaction(function(Ye){Le(Ye,Ne,"DELETE FROM "+Ne.storeName+" WHERE key = ?",[ee],function(){Be()},function(rt,ot){be(ot)})})}).catch(be)});return d(Ee,ae),Ee}function et(ee){var ae=this,se=new f(function(Ee,Be){ae.ready().then(function(){var be=ae._dbInfo;be.db.transaction(function(Ne){Le(Ne,be,"DELETE FROM "+be.storeName,[],function(){Ee()},function(Ye,rt){Be(rt)})})}).catch(Be)});return d(se,ee),se}function We(ee){var ae=this,se=new f(function(Ee,Be){ae.ready().then(function(){var be=ae._dbInfo;be.db.transaction(function(Ne){Le(Ne,be,"SELECT COUNT(key) as c FROM "+be.storeName,[],function(Ye,rt){var ot=rt.rows.item(0).c;Ee(ot)},function(Ye,rt){Be(rt)})})}).catch(Be)});return d(se,ee),se}function Ve(ee,ae){var se=this,Ee=new f(function(Be,be){se.ready().then(function(){var Ne=se._dbInfo;Ne.db.transaction(function(Ye){Le(Ye,Ne,"SELECT key FROM "+Ne.storeName+" WHERE id = ? LIMIT 1",[ee+1],function(rt,ot){var lt=ot.rows.length?ot.rows.item(0).key:null;Be(lt)},function(rt,ot){be(ot)})})}).catch(be)});return d(Ee,ae),Ee}function Xe(ee){var ae=this,se=new f(function(Ee,Be){ae.ready().then(function(){var be=ae._dbInfo;be.db.transaction(function(Ne){Le(Ne,be,"SELECT key FROM "+be.storeName,[],function(Ye,rt){for(var ot=[],lt=0;lt<rt.rows.length;lt++)ot.push(rt.rows.item(lt).key);Ee(ot)},function(Ye,rt){Be(rt)})})}).catch(Be)});return d(se,ee),se}function Je(ee){return new f(function(ae,se){ee.transaction(function(Ee){Ee.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(Be,be){for(var Ne=[],Ye=0;Ye<be.rows.length;Ye++)Ne.push(be.rows.item(Ye).name);ae({db:ee,storeNames:Ne})},function(Be,be){se(be)})},function(Ee){se(Ee)})})}function Ze(ee,ae){ae=w.apply(this,arguments);var se=this.config();ee=typeof ee!="function"&&ee||{},ee.name||(ee.name=ee.name||se.name,ee.storeName=ee.storeName||se.storeName);var Ee=this,Be;return ee.name?Be=new f(function(be){var Ne;ee.name===se.name?Ne=Ee._dbInfo.db:Ne=openDatabase(ee.name,"","",0),ee.storeName?be({db:Ne,storeNames:[ee.storeName]}):be(Je(Ne))}).then(function(be){return new f(function(Ne,Ye){be.db.transaction(function(rt){function ot(Wt){return new f(function(Yt,Or){rt.executeSql("DROP TABLE IF EXISTS "+Wt,[],function(){Yt()},function(Sr,Xn){Or(Xn)})})}for(var lt=[],Ct=0,Ht=be.storeNames.length;Ct<Ht;Ct++)lt.push(ot(be.storeNames[Ct]));f.all(lt).then(function(){Ne()}).catch(function(Wt){Ye(Wt)})},function(rt){Ye(rt)})})}):Be=f.reject("Invalid arguments"),d(Be,ae),Be}var tt={_driver:"webSQLStorage",_initStorage:Ie,_support:k(),iterate:Re,getItem:Pe,setItem:Ue,removeItem:Ge,clear:et,length:We,key:Ve,keys:Xe,dropInstance:Ze};function nt(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Qe(ee,ae){var se=ee.name+"/";return ee.storeName!==ae.storeName&&(se+=ee.storeName+"/"),se}function ft(){var ee="_localforage_support_test";try{return localStorage.setItem(ee,!0),localStorage.removeItem(ee),!1}catch{return!0}}function Et(){return!ft()||localStorage.length>0}function dt(ee){var ae=this,se={};if(ee)for(var Ee in ee)se[Ee]=ee[Ee];return se.keyPrefix=Qe(ee,ae._defaultConfig),Et()?(ae._dbInfo=se,se.serializer=_e,f.resolve()):f.reject()}function Lt(ee){var ae=this,se=ae.ready().then(function(){for(var Ee=ae._dbInfo.keyPrefix,Be=localStorage.length-1;Be>=0;Be--){var be=localStorage.key(Be);be.indexOf(Ee)===0&&localStorage.removeItem(be)}});return d(se,ee),se}function wt(ee,ae){var se=this;ee=y(ee);var Ee=se.ready().then(function(){var Be=se._dbInfo,be=localStorage.getItem(Be.keyPrefix+ee);return be&&(be=Be.serializer.deserialize(be)),be});return d(Ee,ae),Ee}function xt(ee,ae){var se=this,Ee=se.ready().then(function(){for(var Be=se._dbInfo,be=Be.keyPrefix,Ne=be.length,Ye=localStorage.length,rt=1,ot=0;ot<Ye;ot++){var lt=localStorage.key(ot);if(lt.indexOf(be)===0){var Ct=localStorage.getItem(lt);if(Ct&&(Ct=Be.serializer.deserialize(Ct)),Ct=ee(Ct,lt.substring(Ne),rt++),Ct!==void 0)return Ct}}});return d(Ee,ae),Ee}function Ft(ee,ae){var se=this,Ee=se.ready().then(function(){var Be=se._dbInfo,be;try{be=localStorage.key(ee)}catch{be=null}return be&&(be=be.substring(Be.keyPrefix.length)),be});return d(Ee,ae),Ee}function bt(ee){var ae=this,se=ae.ready().then(function(){for(var Ee=ae._dbInfo,Be=localStorage.length,be=[],Ne=0;Ne<Be;Ne++){var Ye=localStorage.key(Ne);Ye.indexOf(Ee.keyPrefix)===0&&be.push(Ye.substring(Ee.keyPrefix.length))}return be});return d(se,ee),se}function Bt(ee){var ae=this,se=ae.keys().then(function(Ee){return Ee.length});return d(se,ee),se}function Gt(ee,ae){var se=this;ee=y(ee);var Ee=se.ready().then(function(){var Be=se._dbInfo;localStorage.removeItem(Be.keyPrefix+ee)});return d(Ee,ae),Ee}function _r(ee,ae,se){var Ee=this;ee=y(ee);var Be=Ee.ready().then(function(){ae===void 0&&(ae=null);var be=ae;return new f(function(Ne,Ye){var rt=Ee._dbInfo;rt.serializer.serialize(ae,function(ot,lt){if(lt)Ye(lt);else try{localStorage.setItem(rt.keyPrefix+ee,ot),Ne(be)}catch(Ct){(Ct.name==="QuotaExceededError"||Ct.name==="NS_ERROR_DOM_QUOTA_REACHED")&&Ye(Ct),Ye(Ct)}})})});return d(Be,se),Be}function ir(ee,ae){if(ae=w.apply(this,arguments),ee=typeof ee!="function"&&ee||{},!ee.name){var se=this.config();ee.name=ee.name||se.name,ee.storeName=ee.storeName||se.storeName}var Ee=this,Be;return ee.name?Be=new f(function(be){ee.storeName?be(Qe(ee,Ee._defaultConfig)):be(ee.name+"/")}).then(function(be){for(var Ne=localStorage.length-1;Ne>=0;Ne--){var Ye=localStorage.key(Ne);Ye.indexOf(be)===0&&localStorage.removeItem(Ye)}}):Be=f.reject("Invalid arguments"),d(Be,ae),Be}var Dr={_driver:"localStorageWrapper",_initStorage:dt,_support:nt(),iterate:xt,getItem:wt,setItem:_r,removeItem:Gt,clear:Lt,length:Bt,key:Ft,keys:bt,dropInstance:ir},Pr=function(ae,se){return ae===se||typeof ae=="number"&&typeof se=="number"&&isNaN(ae)&&isNaN(se)},Yn=function(ae,se){for(var Ee=ae.length,Be=0;Be<Ee;){if(Pr(ae[Be],se))return!0;Be++}return!1},ca=Array.isArray||function(ee){return Object.prototype.toString.call(ee)==="[object Array]"},ui={},ua={},Zn={INDEXEDDB:Q,WEBSQL:tt,LOCALSTORAGE:Dr},Ra=[Zn.INDEXEDDB._driver,Zn.WEBSQL._driver,Zn.LOCALSTORAGE._driver],Si=["dropInstance"],Jr=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Si),Ma={description:"",driver:Ra.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Ua(ee,ae){ee[ae]=function(){var se=arguments;return ee.ready().then(function(){return ee[ae].apply(ee,se)})}}function Ki(){for(var ee=1;ee<arguments.length;ee++){var ae=arguments[ee];if(ae)for(var se in ae)ae.hasOwnProperty(se)&&(ca(ae[se])?arguments[0][se]=ae[se].slice():arguments[0][se]=ae[se])}return arguments[0]}var Oa=function(){function ee(ae){o(this,ee);for(var se in Zn)if(Zn.hasOwnProperty(se)){var Ee=Zn[se],Be=Ee._driver;this[se]=Be,ui[Be]||this.defineDriver(Ee)}this._defaultConfig=Ki({},Ma),this._config=Ki({},this._defaultConfig,ae),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return ee.prototype.config=function(se){if((typeof se>"u"?"undefined":a(se))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var Ee in se){if(Ee==="storeName"&&(se[Ee]=se[Ee].replace(/\W/g,"_")),Ee==="version"&&typeof se[Ee]!="number")return new Error("Database version must be a number.");this._config[Ee]=se[Ee]}return"driver"in se&&se.driver?this.setDriver(this._config.driver):!0}else return typeof se=="string"?this._config[se]:this._config},ee.prototype.defineDriver=function(se,Ee,Be){var be=new f(function(Ne,Ye){try{var rt=se._driver,ot=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!se._driver){Ye(ot);return}for(var lt=Jr.concat("_initStorage"),Ct=0,Ht=lt.length;Ct<Ht;Ct++){var Wt=lt[Ct],Yt=!Yn(Si,Wt);if((Yt||se[Wt])&&typeof se[Wt]!="function"){Ye(ot);return}}var Or=function(){for(var Nu=function(rI){return function(){var nI=new Error("Method "+rI+" is not implemented by the current driver"),Gv=f.reject(nI);return d(Gv,arguments[arguments.length-1]),Gv}},r2=0,tI=Si.length;r2<tI;r2++){var n2=Si[r2];se[n2]||(se[n2]=Nu(n2))}};Or();var Sr=function(Nu){ui[rt]&&console.info("Redefining LocalForage driver: "+rt),ui[rt]=se,ua[rt]=Nu,Ne()};"_support"in se?se._support&&typeof se._support=="function"?se._support().then(Sr,Ye):Sr(!!se._support):Sr(!0)}catch(Xn){Ye(Xn)}});return h(be,Ee,Be),be},ee.prototype.driver=function(){return this._driver||null},ee.prototype.getDriver=function(se,Ee,Be){var be=ui[se]?f.resolve(ui[se]):f.reject(new Error("Driver not found."));return h(be,Ee,Be),be},ee.prototype.getSerializer=function(se){var Ee=f.resolve(_e);return h(Ee,se),Ee},ee.prototype.ready=function(se){var Ee=this,Be=Ee._driverSet.then(function(){return Ee._ready===null&&(Ee._ready=Ee._initDriver()),Ee._ready});return h(Be,se,se),Be},ee.prototype.setDriver=function(se,Ee,Be){var be=this;ca(se)||(se=[se]);var Ne=this._getSupportedDrivers(se);function Ye(){be._config.driver=be.driver()}function rt(Ct){return be._extend(Ct),Ye(),be._ready=be._initStorage(be._config),be._ready}function ot(Ct){return function(){var Ht=0;function Wt(){for(;Ht<Ct.length;){var Yt=Ct[Ht];return Ht++,be._dbInfo=null,be._ready=null,be.getDriver(Yt).then(rt).catch(Wt)}Ye();var Or=new Error("No available storage method found.");return be._driverSet=f.reject(Or),be._driverSet}return Wt()}}var lt=this._driverSet!==null?this._driverSet.catch(function(){return f.resolve()}):f.resolve();return this._driverSet=lt.then(function(){var Ct=Ne[0];return be._dbInfo=null,be._ready=null,be.getDriver(Ct).then(function(Ht){be._driver=Ht._driver,Ye(),be._wrapLibraryMethodsWithReady(),be._initDriver=ot(Ne)})}).catch(function(){Ye();var Ct=new Error("No available storage method found.");return be._driverSet=f.reject(Ct),be._driverSet}),h(this._driverSet,Ee,Be),this._driverSet},ee.prototype.supports=function(se){return!!ua[se]},ee.prototype._extend=function(se){Ki(this,se)},ee.prototype._getSupportedDrivers=function(se){for(var Ee=[],Be=0,be=se.length;Be<be;Be++){var Ne=se[Be];this.supports(Ne)&&Ee.push(Ne)}return Ee},ee.prototype._wrapLibraryMethodsWithReady=function(){for(var se=0,Ee=Jr.length;se<Ee;se++)Ua(this,Jr[se])},ee.prototype.createInstance=function(se){return new ee(se)},ee}(),ue=new Oa;n.exports=ue},{3:3}]},{},[4])(4)})})(z_);var bR=z_.exports,lo={},mu={},jo={},yu={};const SR=4,Z6=0,X6=1,IR=2;function vu(t){let e=t.length;for(;--e>=0;)t[e]=0}const LR=0,K_=1,FR=2,DR=3,TR=258,O8=29,Vd=256,fd=Vd+1+O8,Tc=30,V8=19,q_=2*fd+1,sl=15,og=16,kR=7,G8=256,Q_=16,H_=17,j_=18,y3=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),f1=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),NR=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),$_=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),PR=512,xs=new Array((fd+2)*2);vu(xs);const Mf=new Array(Tc*2);vu(Mf);const dd=new Array(PR);vu(dd);const hd=new Array(TR-DR+1);vu(hd);const z8=new Array(O8);vu(z8);const ox=new Array(Tc);vu(ox);function sg(t,e,r,n,i){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=t&&t.length}let W_,Y_,Z_;function lg(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}const X_=t=>t<256?dd[t]:dd[256+(t>>>7)],xd=(t,e)=>{t.pending_buf[t.pending++]=e&255,t.pending_buf[t.pending++]=e>>>8&255},Pi=(t,e,r)=>{t.bi_valid>og-r?(t.bi_buf|=e<<t.bi_valid&65535,xd(t,t.bi_buf),t.bi_buf=e>>og-t.bi_valid,t.bi_valid+=r-og):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)},Io=(t,e,r)=>{Pi(t,r[e*2],r[e*2+1])},J_=(t,e)=>{let r=0;do r|=t&1,t>>>=1,r<<=1;while(--e>0);return r>>>1},RR=t=>{t.bi_valid===16?(xd(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=t.bi_buf&255,t.bi_buf>>=8,t.bi_valid-=8)},MR=(t,e)=>{const r=e.dyn_tree,n=e.max_code,i=e.stat_desc.static_tree,a=e.stat_desc.has_stree,o=e.stat_desc.extra_bits,s=e.stat_desc.extra_base,u=e.stat_desc.max_length;let l,c,f,d,h,y,w=0;for(d=0;d<=sl;d++)t.bl_count[d]=0;for(r[t.heap[t.heap_max]*2+1]=0,l=t.heap_max+1;l<q_;l++)c=t.heap[l],d=r[r[c*2+1]*2+1]+1,d>u&&(d=u,w++),r[c*2+1]=d,!(c>n)&&(t.bl_count[d]++,h=0,c>=s&&(h=o[c-s]),y=r[c*2],t.opt_len+=y*(d+h),a&&(t.static_len+=y*(i[c*2+1]+h)));if(w!==0){do{for(d=u-1;t.bl_count[d]===0;)d--;t.bl_count[d]--,t.bl_count[d+1]+=2,t.bl_count[u]--,w-=2}while(w>0);for(d=u;d!==0;d--)for(c=t.bl_count[d];c!==0;)f=t.heap[--l],!(f>n)&&(r[f*2+1]!==d&&(t.opt_len+=(d-r[f*2+1])*r[f*2],r[f*2+1]=d),c--)}},eB=(t,e,r)=>{const n=new Array(sl+1);let i=0,a,o;for(a=1;a<=sl;a++)i=i+r[a-1]<<1,n[a]=i;for(o=0;o<=e;o++){let s=t[o*2+1];s!==0&&(t[o*2]=J_(n[s]++,s))}},UR=()=>{let t,e,r,n,i;const a=new Array(sl+1);for(r=0,n=0;n<O8-1;n++)for(z8[n]=r,t=0;t<1<<y3[n];t++)hd[r++]=n;for(hd[r-1]=n,i=0,n=0;n<16;n++)for(ox[n]=i,t=0;t<1<<f1[n];t++)dd[i++]=n;for(i>>=7;n<Tc;n++)for(ox[n]=i<<7,t=0;t<1<<f1[n]-7;t++)dd[256+i++]=n;for(e=0;e<=sl;e++)a[e]=0;for(t=0;t<=143;)xs[t*2+1]=8,t++,a[8]++;for(;t<=255;)xs[t*2+1]=9,t++,a[9]++;for(;t<=279;)xs[t*2+1]=7,t++,a[7]++;for(;t<=287;)xs[t*2+1]=8,t++,a[8]++;for(eB(xs,fd+1,a),t=0;t<Tc;t++)Mf[t*2+1]=5,Mf[t*2]=J_(t,5);W_=new sg(xs,y3,Vd+1,fd,sl),Y_=new sg(Mf,f1,0,Tc,sl),Z_=new sg(new Array(0),NR,0,V8,kR)},tB=t=>{let e;for(e=0;e<fd;e++)t.dyn_ltree[e*2]=0;for(e=0;e<Tc;e++)t.dyn_dtree[e*2]=0;for(e=0;e<V8;e++)t.bl_tree[e*2]=0;t.dyn_ltree[G8*2]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},rB=t=>{t.bi_valid>8?xd(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},J6=(t,e,r,n)=>{const i=e*2,a=r*2;return t[i]<t[a]||t[i]===t[a]&&n[e]<=n[r]},cg=(t,e,r)=>{const n=t.heap[r];let i=r<<1;for(;i<=t.heap_len&&(i<t.heap_len&&J6(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!J6(e,n,t.heap[i],t.depth));)t.heap[r]=t.heap[i],r=i,i<<=1;t.heap[r]=n},e4=(t,e,r)=>{let n,i,a=0,o,s;if(t.sym_next!==0)do n=t.pending_buf[t.sym_buf+a++]&255,n+=(t.pending_buf[t.sym_buf+a++]&255)<<8,i=t.pending_buf[t.sym_buf+a++],n===0?Io(t,i,e):(o=hd[i],Io(t,o+Vd+1,e),s=y3[o],s!==0&&(i-=z8[o],Pi(t,i,s)),n--,o=X_(n),Io(t,o,r),s=f1[o],s!==0&&(n-=ox[o],Pi(t,n,s)));while(a<t.sym_next);Io(t,G8,e)},v3=(t,e)=>{const r=e.dyn_tree,n=e.stat_desc.static_tree,i=e.stat_desc.has_stree,a=e.stat_desc.elems;let o,s,u=-1,l;for(t.heap_len=0,t.heap_max=q_,o=0;o<a;o++)r[o*2]!==0?(t.heap[++t.heap_len]=u=o,t.depth[o]=0):r[o*2+1]=0;for(;t.heap_len<2;)l=t.heap[++t.heap_len]=u<2?++u:0,r[l*2]=1,t.depth[l]=0,t.opt_len--,i&&(t.static_len-=n[l*2+1]);for(e.max_code=u,o=t.heap_len>>1;o>=1;o--)cg(t,r,o);l=a;do o=t.heap[1],t.heap[1]=t.heap[t.heap_len--],cg(t,r,1),s=t.heap[1],t.heap[--t.heap_max]=o,t.heap[--t.heap_max]=s,r[l*2]=r[o*2]+r[s*2],t.depth[l]=(t.depth[o]>=t.depth[s]?t.depth[o]:t.depth[s])+1,r[o*2+1]=r[s*2+1]=l,t.heap[1]=l++,cg(t,r,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],MR(t,e),eB(r,u,t.bl_count)},t4=(t,e,r)=>{let n,i=-1,a,o=e[0*2+1],s=0,u=7,l=4;for(o===0&&(u=138,l=3),e[(r+1)*2+1]=65535,n=0;n<=r;n++)a=o,o=e[(n+1)*2+1],!(++s<u&&a===o)&&(s<l?t.bl_tree[a*2]+=s:a!==0?(a!==i&&t.bl_tree[a*2]++,t.bl_tree[Q_*2]++):s<=10?t.bl_tree[H_*2]++:t.bl_tree[j_*2]++,s=0,i=a,o===0?(u=138,l=3):a===o?(u=6,l=3):(u=7,l=4))},r4=(t,e,r)=>{let n,i=-1,a,o=e[0*2+1],s=0,u=7,l=4;for(o===0&&(u=138,l=3),n=0;n<=r;n++)if(a=o,o=e[(n+1)*2+1],!(++s<u&&a===o)){if(s<l)do Io(t,a,t.bl_tree);while(--s!==0);else a!==0?(a!==i&&(Io(t,a,t.bl_tree),s--),Io(t,Q_,t.bl_tree),Pi(t,s-3,2)):s<=10?(Io(t,H_,t.bl_tree),Pi(t,s-3,3)):(Io(t,j_,t.bl_tree),Pi(t,s-11,7));s=0,i=a,o===0?(u=138,l=3):a===o?(u=6,l=3):(u=7,l=4)}},OR=t=>{let e;for(t4(t,t.dyn_ltree,t.l_desc.max_code),t4(t,t.dyn_dtree,t.d_desc.max_code),v3(t,t.bl_desc),e=V8-1;e>=3&&t.bl_tree[$_[e]*2+1]===0;e--);return t.opt_len+=3*(e+1)+5+5+4,e},VR=(t,e,r,n)=>{let i;for(Pi(t,e-257,5),Pi(t,r-1,5),Pi(t,n-4,4),i=0;i<n;i++)Pi(t,t.bl_tree[$_[i]*2+1],3);r4(t,t.dyn_ltree,e-1),r4(t,t.dyn_dtree,r-1)},GR=t=>{let e=4093624447,r;for(r=0;r<=31;r++,e>>>=1)if(e&1&&t.dyn_ltree[r*2]!==0)return Z6;if(t.dyn_ltree[9*2]!==0||t.dyn_ltree[10*2]!==0||t.dyn_ltree[13*2]!==0)return X6;for(r=32;r<Vd;r++)if(t.dyn_ltree[r*2]!==0)return X6;return Z6};let n4=!1;const zR=t=>{n4||(UR(),n4=!0),t.l_desc=new lg(t.dyn_ltree,W_),t.d_desc=new lg(t.dyn_dtree,Y_),t.bl_desc=new lg(t.bl_tree,Z_),t.bi_buf=0,t.bi_valid=0,tB(t)},nB=(t,e,r,n)=>{Pi(t,(LR<<1)+(n?1:0),3),rB(t),xd(t,r),xd(t,~r),r&&t.pending_buf.set(t.window.subarray(e,e+r),t.pending),t.pending+=r},KR=t=>{Pi(t,K_<<1,3),Io(t,G8,xs),RR(t)},qR=(t,e,r,n)=>{let i,a,o=0;t.level>0?(t.strm.data_type===IR&&(t.strm.data_type=GR(t)),v3(t,t.l_desc),v3(t,t.d_desc),o=OR(t),i=t.opt_len+3+7>>>3,a=t.static_len+3+7>>>3,a<=i&&(i=a)):i=a=r+5,r+4<=i&&e!==-1?nB(t,e,r,n):t.strategy===SR||a===i?(Pi(t,(K_<<1)+(n?1:0),3),e4(t,xs,Mf)):(Pi(t,(FR<<1)+(n?1:0),3),VR(t,t.l_desc.max_code+1,t.d_desc.max_code+1,o+1),e4(t,t.dyn_ltree,t.dyn_dtree)),tB(t),n&&rB(t)},QR=(t,e,r)=>(t.pending_buf[t.sym_buf+t.sym_next++]=e,t.pending_buf[t.sym_buf+t.sym_next++]=e>>8,t.pending_buf[t.sym_buf+t.sym_next++]=r,e===0?t.dyn_ltree[r*2]++:(t.matches++,e--,t.dyn_ltree[(hd[r]+Vd+1)*2]++,t.dyn_dtree[X_(e)*2]++),t.sym_next===t.sym_end);yu._tr_init=zR;yu._tr_stored_block=nB;yu._tr_flush_block=qR;yu._tr_tally=QR;yu._tr_align=KR;const HR=(t,e,r,n)=>{let i=t&65535|0,a=t>>>16&65535|0,o=0;for(;r!==0;){o=r>2e3?2e3:r,r-=o;do i=i+e[n++]|0,a=a+i|0;while(--o);i%=65521,a%=65521}return i|a<<16|0};var iB=HR;const jR=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},$R=new Uint32Array(jR()),WR=(t,e,r,n)=>{const i=$R,a=n+r;t^=-1;for(let o=n;o<a;o++)t=t>>>8^i[(t^e[o])&255];return t^-1};var aB=WR,K8={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Ml={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:YR,_tr_stored_block:E3,_tr_flush_block:ZR,_tr_tally:C0,_tr_align:XR}=yu,oB=iB,$s=aB,JR=K8,{Z_NO_FLUSH:A0,Z_PARTIAL_FLUSH:eM,Z_FULL_FLUSH:tM,Z_FINISH:Ea,Z_BLOCK:i4,Z_OK:Vn,Z_STREAM_END:a4,Z_STREAM_ERROR:Uo,Z_DATA_ERROR:rM,Z_BUF_ERROR:ug,Z_DEFAULT_COMPRESSION:nM,Z_FILTERED:iM,Z_HUFFMAN_ONLY:bh,Z_RLE:aM,Z_FIXED:oM,Z_DEFAULT_STRATEGY:sM,Z_UNKNOWN:lM,Z_DEFLATED:yp}=Ml,cM=9,uM=15,fM=8,dM=29,hM=256,C3=hM+1+dM,xM=30,pM=19,gM=2*C3+1,mM=15,hr=3,s0=258,Oo=s0+hr+1,yM=32,jc=42,q8=57,A3=69,w3=73,_3=91,B3=103,ll=113,xf=666,yi=1,Eu=2,_l=3,Cu=4,vM=3,cl=(t,e)=>(t.msg=JR[e],e),o4=t=>t*2-(t>4?9:0),r0=t=>{let e=t.length;for(;--e>=0;)t[e]=0},EM=t=>{let e,r,n,i=t.w_size;e=t.hash_size,n=e;do r=t.head[--n],t.head[n]=r>=i?r-i:0;while(--e);e=i,n=e;do r=t.prev[--n],t.prev[n]=r>=i?r-i:0;while(--e)};let CM=(t,e,r)=>(e<<t.hash_shift^r)&t.hash_mask,w0=CM;const qi=t=>{const e=t.state;let r=e.pending;r>t.avail_out&&(r=t.avail_out),r!==0&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+r),t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,e.pending===0&&(e.pending_out=0))},ta=(t,e)=>{ZR(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,qi(t.strm)},Br=(t,e)=>{t.pending_buf[t.pending++]=e},Zu=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=e&255},b3=(t,e,r,n)=>{let i=t.avail_in;return i>n&&(i=n),i===0?0:(t.avail_in-=i,e.set(t.input.subarray(t.next_in,t.next_in+i),r),t.state.wrap===1?t.adler=oB(t.adler,e,i,r):t.state.wrap===2&&(t.adler=$s(t.adler,e,i,r)),t.next_in+=i,t.total_in+=i,i)},sB=(t,e)=>{let r=t.max_chain_length,n=t.strstart,i,a,o=t.prev_length,s=t.nice_match;const u=t.strstart>t.w_size-Oo?t.strstart-(t.w_size-Oo):0,l=t.window,c=t.w_mask,f=t.prev,d=t.strstart+s0;let h=l[n+o-1],y=l[n+o];t.prev_length>=t.good_match&&(r>>=2),s>t.lookahead&&(s=t.lookahead);do if(i=e,!(l[i+o]!==y||l[i+o-1]!==h||l[i]!==l[n]||l[++i]!==l[n+1])){n+=2,i++;do;while(l[++n]===l[++i]&&l[++n]===l[++i]&&l[++n]===l[++i]&&l[++n]===l[++i]&&l[++n]===l[++i]&&l[++n]===l[++i]&&l[++n]===l[++i]&&l[++n]===l[++i]&&n<d);if(a=s0-(d-n),n=d-s0,a>o){if(t.match_start=e,o=a,a>=s)break;h=l[n+o-1],y=l[n+o]}}while((e=f[e&c])>u&&--r!==0);return o<=t.lookahead?o:t.lookahead},$c=t=>{const e=t.w_size;let r,n,i;do{if(n=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-Oo)&&(t.window.set(t.window.subarray(e,e+e-n),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,t.insert>t.strstart&&(t.insert=t.strstart),EM(t),n+=e),t.strm.avail_in===0)break;if(r=b3(t.strm,t.window,t.strstart+t.lookahead,n),t.lookahead+=r,t.lookahead+t.insert>=hr)for(i=t.strstart-t.insert,t.ins_h=t.window[i],t.ins_h=w0(t,t.ins_h,t.window[i+1]);t.insert&&(t.ins_h=w0(t,t.ins_h,t.window[i+hr-1]),t.prev[i&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=i,i++,t.insert--,!(t.lookahead+t.insert<hr)););}while(t.lookahead<Oo&&t.strm.avail_in!==0)},lB=(t,e)=>{let r=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,n,i,a,o=0,s=t.strm.avail_in;do{if(n=65535,a=t.bi_valid+42>>3,t.strm.avail_out<a||(a=t.strm.avail_out-a,i=t.strstart-t.block_start,n>i+t.strm.avail_in&&(n=i+t.strm.avail_in),n>a&&(n=a),n<r&&(n===0&&e!==Ea||e===A0||n!==i+t.strm.avail_in)))break;o=e===Ea&&n===i+t.strm.avail_in?1:0,E3(t,0,0,o),t.pending_buf[t.pending-4]=n,t.pending_buf[t.pending-3]=n>>8,t.pending_buf[t.pending-2]=~n,t.pending_buf[t.pending-1]=~n>>8,qi(t.strm),i&&(i>n&&(i=n),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+i),t.strm.next_out),t.strm.next_out+=i,t.strm.avail_out-=i,t.strm.total_out+=i,t.block_start+=i,n-=i),n&&(b3(t.strm,t.strm.output,t.strm.next_out,n),t.strm.next_out+=n,t.strm.avail_out-=n,t.strm.total_out+=n)}while(o===0);return s-=t.strm.avail_in,s&&(s>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=s&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-s,t.strm.next_in),t.strstart),t.strstart+=s,t.insert+=s>t.w_size-t.insert?t.w_size-t.insert:s),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),o?Cu:e!==A0&&e!==Ea&&t.strm.avail_in===0&&t.strstart===t.block_start?Eu:(a=t.window_size-t.strstart,t.strm.avail_in>a&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,a+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),a>t.strm.avail_in&&(a=t.strm.avail_in),a&&(b3(t.strm,t.window,t.strstart,a),t.strstart+=a,t.insert+=a>t.w_size-t.insert?t.w_size-t.insert:a),t.high_water<t.strstart&&(t.high_water=t.strstart),a=t.bi_valid+42>>3,a=t.pending_buf_size-a>65535?65535:t.pending_buf_size-a,r=a>t.w_size?t.w_size:a,i=t.strstart-t.block_start,(i>=r||(i||e===Ea)&&e!==A0&&t.strm.avail_in===0&&i<=a)&&(n=i>a?a:i,o=e===Ea&&t.strm.avail_in===0&&n===i?1:0,E3(t,t.block_start,n,o),t.block_start+=n,qi(t.strm)),o?_l:yi)},fg=(t,e)=>{let r,n;for(;;){if(t.lookahead<Oo){if($c(t),t.lookahead<Oo&&e===A0)return yi;if(t.lookahead===0)break}if(r=0,t.lookahead>=hr&&(t.ins_h=w0(t,t.ins_h,t.window[t.strstart+hr-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),r!==0&&t.strstart-r<=t.w_size-Oo&&(t.match_length=sB(t,r)),t.match_length>=hr)if(n=C0(t,t.strstart-t.match_start,t.match_length-hr),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=hr){t.match_length--;do t.strstart++,t.ins_h=w0(t,t.ins_h,t.window[t.strstart+hr-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!==0);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=w0(t,t.ins_h,t.window[t.strstart+1]);else n=C0(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(ta(t,!1),t.strm.avail_out===0))return yi}return t.insert=t.strstart<hr-1?t.strstart:hr-1,e===Ea?(ta(t,!0),t.strm.avail_out===0?_l:Cu):t.sym_next&&(ta(t,!1),t.strm.avail_out===0)?yi:Eu},jl=(t,e)=>{let r,n,i;for(;;){if(t.lookahead<Oo){if($c(t),t.lookahead<Oo&&e===A0)return yi;if(t.lookahead===0)break}if(r=0,t.lookahead>=hr&&(t.ins_h=w0(t,t.ins_h,t.window[t.strstart+hr-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=hr-1,r!==0&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-Oo&&(t.match_length=sB(t,r),t.match_length<=5&&(t.strategy===iM||t.match_length===hr&&t.strstart-t.match_start>4096)&&(t.match_length=hr-1)),t.prev_length>=hr&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-hr,n=C0(t,t.strstart-1-t.prev_match,t.prev_length-hr),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=i&&(t.ins_h=w0(t,t.ins_h,t.window[t.strstart+hr-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!==0);if(t.match_available=0,t.match_length=hr-1,t.strstart++,n&&(ta(t,!1),t.strm.avail_out===0))return yi}else if(t.match_available){if(n=C0(t,0,t.window[t.strstart-1]),n&&ta(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return yi}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=C0(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<hr-1?t.strstart:hr-1,e===Ea?(ta(t,!0),t.strm.avail_out===0?_l:Cu):t.sym_next&&(ta(t,!1),t.strm.avail_out===0)?yi:Eu},AM=(t,e)=>{let r,n,i,a;const o=t.window;for(;;){if(t.lookahead<=s0){if($c(t),t.lookahead<=s0&&e===A0)return yi;if(t.lookahead===0)break}if(t.match_length=0,t.lookahead>=hr&&t.strstart>0&&(i=t.strstart-1,n=o[i],n===o[++i]&&n===o[++i]&&n===o[++i])){a=t.strstart+s0;do;while(n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&i<a);t.match_length=s0-(a-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=hr?(r=C0(t,1,t.match_length-hr),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(r=C0(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),r&&(ta(t,!1),t.strm.avail_out===0))return yi}return t.insert=0,e===Ea?(ta(t,!0),t.strm.avail_out===0?_l:Cu):t.sym_next&&(ta(t,!1),t.strm.avail_out===0)?yi:Eu},wM=(t,e)=>{let r;for(;;){if(t.lookahead===0&&($c(t),t.lookahead===0)){if(e===A0)return yi;break}if(t.match_length=0,r=C0(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,r&&(ta(t,!1),t.strm.avail_out===0))return yi}return t.insert=0,e===Ea?(ta(t,!0),t.strm.avail_out===0?_l:Cu):t.sym_next&&(ta(t,!1),t.strm.avail_out===0)?yi:Eu};function mo(t,e,r,n,i){this.good_length=t,this.max_lazy=e,this.nice_length=r,this.max_chain=n,this.func=i}const pf=[new mo(0,0,0,0,lB),new mo(4,4,8,4,fg),new mo(4,5,16,8,fg),new mo(4,6,32,32,fg),new mo(4,4,16,16,jl),new mo(8,16,32,32,jl),new mo(8,16,128,128,jl),new mo(8,32,128,256,jl),new mo(32,128,258,1024,jl),new mo(32,258,258,4096,jl)],_M=t=>{t.window_size=2*t.w_size,r0(t.head),t.max_lazy_match=pf[t.level].max_lazy,t.good_match=pf[t.level].good_length,t.nice_match=pf[t.level].nice_length,t.max_chain_length=pf[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=hr-1,t.match_available=0,t.ins_h=0};function BM(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=yp,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(gM*2),this.dyn_dtree=new Uint16Array((2*xM+1)*2),this.bl_tree=new Uint16Array((2*pM+1)*2),r0(this.dyn_ltree),r0(this.dyn_dtree),r0(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(mM+1),this.heap=new Uint16Array(2*C3+1),r0(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*C3+1),r0(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Gd=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.status!==jc&&e.status!==q8&&e.status!==A3&&e.status!==w3&&e.status!==_3&&e.status!==B3&&e.status!==ll&&e.status!==xf?1:0},cB=t=>{if(Gd(t))return cl(t,Uo);t.total_in=t.total_out=0,t.data_type=lM;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap===2?q8:e.wrap?jc:ll,t.adler=e.wrap===2?0:1,e.last_flush=-2,YR(e),Vn},uB=t=>{const e=cB(t);return e===Vn&&_M(t.state),e},bM=(t,e)=>Gd(t)||t.state.wrap!==2?Uo:(t.state.gzhead=e,Vn),fB=(t,e,r,n,i,a)=>{if(!t)return Uo;let o=1;if(e===nM&&(e=6),n<0?(o=0,n=-n):n>15&&(o=2,n-=16),i<1||i>cM||r!==yp||n<8||n>15||e<0||e>9||a<0||a>oM||n===8&&o!==1)return cl(t,Uo);n===8&&(n=9);const s=new BM;return t.state=s,s.strm=t,s.status=jc,s.wrap=o,s.gzhead=null,s.w_bits=n,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=i+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+hr-1)/hr),s.window=new Uint8Array(s.w_size*2),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<i+6,s.pending_buf_size=s.lit_bufsize*4,s.pending_buf=new Uint8Array(s.pending_buf_size),s.sym_buf=s.lit_bufsize,s.sym_end=(s.lit_bufsize-1)*3,s.level=e,s.strategy=a,s.method=r,uB(t)},SM=(t,e)=>fB(t,e,yp,uM,fM,sM),IM=(t,e)=>{if(Gd(t)||e>i4||e<0)return t?cl(t,Uo):Uo;const r=t.state;if(!t.output||t.avail_in!==0&&!t.input||r.status===xf&&e!==Ea)return cl(t,t.avail_out===0?ug:Uo);const n=r.last_flush;if(r.last_flush=e,r.pending!==0){if(qi(t),t.avail_out===0)return r.last_flush=-1,Vn}else if(t.avail_in===0&&o4(e)<=o4(n)&&e!==Ea)return cl(t,ug);if(r.status===xf&&t.avail_in!==0)return cl(t,ug);if(r.status===jc&&r.wrap===0&&(r.status=ll),r.status===jc){let i=yp+(r.w_bits-8<<4)<<8,a=-1;if(r.strategy>=bh||r.level<2?a=0:r.level<6?a=1:r.level===6?a=2:a=3,i|=a<<6,r.strstart!==0&&(i|=yM),i+=31-i%31,Zu(r,i),r.strstart!==0&&(Zu(r,t.adler>>>16),Zu(r,t.adler&65535)),t.adler=1,r.status=ll,qi(t),r.pending!==0)return r.last_flush=-1,Vn}if(r.status===q8){if(t.adler=0,Br(r,31),Br(r,139),Br(r,8),r.gzhead)Br(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),Br(r,r.gzhead.time&255),Br(r,r.gzhead.time>>8&255),Br(r,r.gzhead.time>>16&255),Br(r,r.gzhead.time>>24&255),Br(r,r.level===9?2:r.strategy>=bh||r.level<2?4:0),Br(r,r.gzhead.os&255),r.gzhead.extra&&r.gzhead.extra.length&&(Br(r,r.gzhead.extra.length&255),Br(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(t.adler=$s(t.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=A3;else if(Br(r,0),Br(r,0),Br(r,0),Br(r,0),Br(r,0),Br(r,r.level===9?2:r.strategy>=bh||r.level<2?4:0),Br(r,vM),r.status=ll,qi(t),r.pending!==0)return r.last_flush=-1,Vn}if(r.status===A3){if(r.gzhead.extra){let i=r.pending,a=(r.gzhead.extra.length&65535)-r.gzindex;for(;r.pending+a>r.pending_buf_size;){let s=r.pending_buf_size-r.pending;if(r.pending_buf.set(r.gzhead.extra.subarray(r.gzindex,r.gzindex+s),r.pending),r.pending=r.pending_buf_size,r.gzhead.hcrc&&r.pending>i&&(t.adler=$s(t.adler,r.pending_buf,r.pending-i,i)),r.gzindex+=s,qi(t),r.pending!==0)return r.last_flush=-1,Vn;i=0,a-=s}let o=new Uint8Array(r.gzhead.extra);r.pending_buf.set(o.subarray(r.gzindex,r.gzindex+a),r.pending),r.pending+=a,r.gzhead.hcrc&&r.pending>i&&(t.adler=$s(t.adler,r.pending_buf,r.pending-i,i)),r.gzindex=0}r.status=w3}if(r.status===w3){if(r.gzhead.name){let i=r.pending,a;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>i&&(t.adler=$s(t.adler,r.pending_buf,r.pending-i,i)),qi(t),r.pending!==0)return r.last_flush=-1,Vn;i=0}r.gzindex<r.gzhead.name.length?a=r.gzhead.name.charCodeAt(r.gzindex++)&255:a=0,Br(r,a)}while(a!==0);r.gzhead.hcrc&&r.pending>i&&(t.adler=$s(t.adler,r.pending_buf,r.pending-i,i)),r.gzindex=0}r.status=_3}if(r.status===_3){if(r.gzhead.comment){let i=r.pending,a;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>i&&(t.adler=$s(t.adler,r.pending_buf,r.pending-i,i)),qi(t),r.pending!==0)return r.last_flush=-1,Vn;i=0}r.gzindex<r.gzhead.comment.length?a=r.gzhead.comment.charCodeAt(r.gzindex++)&255:a=0,Br(r,a)}while(a!==0);r.gzhead.hcrc&&r.pending>i&&(t.adler=$s(t.adler,r.pending_buf,r.pending-i,i))}r.status=B3}if(r.status===B3){if(r.gzhead.hcrc){if(r.pending+2>r.pending_buf_size&&(qi(t),r.pending!==0))return r.last_flush=-1,Vn;Br(r,t.adler&255),Br(r,t.adler>>8&255),t.adler=0}if(r.status=ll,qi(t),r.pending!==0)return r.last_flush=-1,Vn}if(t.avail_in!==0||r.lookahead!==0||e!==A0&&r.status!==xf){let i=r.level===0?lB(r,e):r.strategy===bh?wM(r,e):r.strategy===aM?AM(r,e):pf[r.level].func(r,e);if((i===_l||i===Cu)&&(r.status=xf),i===yi||i===_l)return t.avail_out===0&&(r.last_flush=-1),Vn;if(i===Eu&&(e===eM?XR(r):e!==i4&&(E3(r,0,0,!1),e===tM&&(r0(r.head),r.lookahead===0&&(r.strstart=0,r.block_start=0,r.insert=0))),qi(t),t.avail_out===0))return r.last_flush=-1,Vn}return e!==Ea?Vn:r.wrap<=0?a4:(r.wrap===2?(Br(r,t.adler&255),Br(r,t.adler>>8&255),Br(r,t.adler>>16&255),Br(r,t.adler>>24&255),Br(r,t.total_in&255),Br(r,t.total_in>>8&255),Br(r,t.total_in>>16&255),Br(r,t.total_in>>24&255)):(Zu(r,t.adler>>>16),Zu(r,t.adler&65535)),qi(t),r.wrap>0&&(r.wrap=-r.wrap),r.pending!==0?Vn:a4)},LM=t=>{if(Gd(t))return Uo;const e=t.state.status;return t.state=null,e===ll?cl(t,rM):Vn},FM=(t,e)=>{let r=e.length;if(Gd(t))return Uo;const n=t.state,i=n.wrap;if(i===2||i===1&&n.status!==jc||n.lookahead)return Uo;if(i===1&&(t.adler=oB(t.adler,e,r,0)),n.wrap=0,r>=n.w_size){i===0&&(r0(n.head),n.strstart=0,n.block_start=0,n.insert=0);let u=new Uint8Array(n.w_size);u.set(e.subarray(r-n.w_size,r),0),e=u,r=n.w_size}const a=t.avail_in,o=t.next_in,s=t.input;for(t.avail_in=r,t.next_in=0,t.input=e,$c(n);n.lookahead>=hr;){let u=n.strstart,l=n.lookahead-(hr-1);do n.ins_h=w0(n,n.ins_h,n.window[u+hr-1]),n.prev[u&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=u,u++;while(--l);n.strstart=u,n.lookahead=hr-1,$c(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=hr-1,n.match_available=0,t.next_in=o,t.input=s,t.avail_in=a,n.wrap=i,Vn};jo.deflateInit=SM;jo.deflateInit2=fB;jo.deflateReset=uB;jo.deflateResetKeep=cB;jo.deflateSetHeader=bM;jo.deflate=IM;jo.deflateEnd=LM;jo.deflateSetDictionary=FM;jo.deflateInfo="pako deflate (from Nodeca project)";var vp={};const DM=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);vp.assign=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)DM(r,n)&&(t[n]=r[n])}}return t};vp.flattenChunks=t=>{let e=0;for(let n=0,i=t.length;n<i;n++)e+=t[n].length;const r=new Uint8Array(e);for(let n=0,i=0,a=t.length;n<a;n++){let o=t[n];r.set(o,i),i+=o.length}return r};var zd={};let dB=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{dB=!1}const pd=new Uint8Array(256);for(let t=0;t<256;t++)pd[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;pd[254]=pd[254]=1;zd.string2buf=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,n,i,a,o=t.length,s=0;for(i=0;i<o;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<o&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),s+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(s),a=0,i=0;a<s;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<o&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?e[a++]=r:r<2048?(e[a++]=192|r>>>6,e[a++]=128|r&63):r<65536?(e[a++]=224|r>>>12,e[a++]=128|r>>>6&63,e[a++]=128|r&63):(e[a++]=240|r>>>18,e[a++]=128|r>>>12&63,e[a++]=128|r>>>6&63,e[a++]=128|r&63);return e};const TM=(t,e)=>{if(e<65534&&t.subarray&&dB)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r};zd.buf2string=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let n,i;const a=new Array(r*2);for(i=0,n=0;n<r;){let o=t[n++];if(o<128){a[i++]=o;continue}let s=pd[o];if(s>4){a[i++]=65533,n+=s-1;continue}for(o&=s===2?31:s===3?15:7;s>1&&n<r;)o=o<<6|t[n++]&63,s--;if(s>1){a[i++]=65533;continue}o<65536?a[i++]=o:(o-=65536,a[i++]=55296|o>>10&1023,a[i++]=56320|o&1023)}return TM(a,i)};zd.utf8border=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+pd[t[r]]>e?r:e};function kM(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var hB=kM;const Uf=jo,xB=vp,pB=zd,S3=K8,NM=hB,gB=Object.prototype.toString,{Z_NO_FLUSH:PM,Z_SYNC_FLUSH:RM,Z_FULL_FLUSH:MM,Z_FINISH:UM,Z_OK:sx,Z_STREAM_END:OM,Z_DEFAULT_COMPRESSION:VM,Z_DEFAULT_STRATEGY:GM,Z_DEFLATED:zM}=Ml;function Kd(t){this.options=xB.assign({level:VM,method:zM,chunkSize:16384,windowBits:15,memLevel:8,strategy:GM},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new NM,this.strm.avail_out=0;let r=Uf.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(r!==sx)throw new Error(S3[r]);if(e.header&&Uf.deflateSetHeader(this.strm,e.header),e.dictionary){let n;if(typeof e.dictionary=="string"?n=pB.string2buf(e.dictionary):gB.call(e.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(e.dictionary):n=e.dictionary,r=Uf.deflateSetDictionary(this.strm,n),r!==sx)throw new Error(S3[r]);this._dict_set=!0}}Kd.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize;let i,a;if(this.ended)return!1;for(e===~~e?a=e:a=e===!0?UM:PM,typeof t=="string"?r.input=pB.string2buf(t):gB.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){if(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),(a===RM||a===MM)&&r.avail_out<=6){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(i=Uf.deflate(r,a),i===OM)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),i=Uf.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===sx;if(r.avail_out===0){this.onData(r.output);continue}if(a>0&&r.next_out>0){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(r.avail_in===0)break}return!0};Kd.prototype.onData=function(t){this.chunks.push(t)};Kd.prototype.onEnd=function(t){t===sx&&(this.result=xB.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function Q8(t,e){const r=new Kd(e);if(r.push(t,!0),r.err)throw r.msg||S3[r.err];return r.result}function KM(t,e){return e=e||{},e.raw=!0,Q8(t,e)}function qM(t,e){return e=e||{},e.gzip=!0,Q8(t,e)}mu.Deflate=Kd;mu.deflate=Q8;mu.deflateRaw=KM;mu.gzip=qM;mu.constants=Ml;var Au={},co={};const Sh=16209,QM=16191;var HM=function(e,r){let n,i,a,o,s,u,l,c,f,d,h,y,w,_,E,p,m,S,F,I,v,A,D,L;const j=e.state;n=e.next_in,D=e.input,i=n+(e.avail_in-5),a=e.next_out,L=e.output,o=a-(r-e.avail_out),s=a+(e.avail_out-257),u=j.dmax,l=j.wsize,c=j.whave,f=j.wnext,d=j.window,h=j.hold,y=j.bits,w=j.lencode,_=j.distcode,E=(1<<j.lenbits)-1,p=(1<<j.distbits)-1;e:do{y<15&&(h+=D[n++]<<y,y+=8,h+=D[n++]<<y,y+=8),m=w[h&E];t:for(;;){if(S=m>>>24,h>>>=S,y-=S,S=m>>>16&255,S===0)L[a++]=m&65535;else if(S&16){F=m&65535,S&=15,S&&(y<S&&(h+=D[n++]<<y,y+=8),F+=h&(1<<S)-1,h>>>=S,y-=S),y<15&&(h+=D[n++]<<y,y+=8,h+=D[n++]<<y,y+=8),m=_[h&p];r:for(;;){if(S=m>>>24,h>>>=S,y-=S,S=m>>>16&255,S&16){if(I=m&65535,S&=15,y<S&&(h+=D[n++]<<y,y+=8,y<S&&(h+=D[n++]<<y,y+=8)),I+=h&(1<<S)-1,I>u){e.msg="invalid distance too far back",j.mode=Sh;break e}if(h>>>=S,y-=S,S=a-o,I>S){if(S=I-S,S>c&&j.sane){e.msg="invalid distance too far back",j.mode=Sh;break e}if(v=0,A=d,f===0){if(v+=l-S,S<F){F-=S;do L[a++]=d[v++];while(--S);v=a-I,A=L}}else if(f<S){if(v+=l+f-S,S-=f,S<F){F-=S;do L[a++]=d[v++];while(--S);if(v=0,f<F){S=f,F-=S;do L[a++]=d[v++];while(--S);v=a-I,A=L}}}else if(v+=f-S,S<F){F-=S;do L[a++]=d[v++];while(--S);v=a-I,A=L}for(;F>2;)L[a++]=A[v++],L[a++]=A[v++],L[a++]=A[v++],F-=3;F&&(L[a++]=A[v++],F>1&&(L[a++]=A[v++]))}else{v=a-I;do L[a++]=L[v++],L[a++]=L[v++],L[a++]=L[v++],F-=3;while(F>2);F&&(L[a++]=L[v++],F>1&&(L[a++]=L[v++]))}}else if(S&64){e.msg="invalid distance code",j.mode=Sh;break e}else{m=_[(m&65535)+(h&(1<<S)-1)];continue r}break}}else if(S&64)if(S&32){j.mode=QM;break e}else{e.msg="invalid literal/length code",j.mode=Sh;break e}else{m=w[(m&65535)+(h&(1<<S)-1)];continue t}break}}while(n<i&&a<s);F=y>>3,n-=F,y-=F<<3,h&=(1<<y)-1,e.next_in=n,e.next_out=a,e.avail_in=n<i?5+(i-n):5-(n-i),e.avail_out=a<s?257+(s-a):257-(a-s),j.hold=h,j.bits=y};const $l=15,s4=852,l4=592,c4=0,dg=1,u4=2,jM=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),$M=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),WM=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),YM=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),ZM=(t,e,r,n,i,a,o,s)=>{const u=s.bits;let l=0,c=0,f=0,d=0,h=0,y=0,w=0,_=0,E=0,p=0,m,S,F,I,v,A=null,D;const L=new Uint16Array($l+1),j=new Uint16Array($l+1);let Y=null,O,B,C;for(l=0;l<=$l;l++)L[l]=0;for(c=0;c<n;c++)L[e[r+c]]++;for(h=u,d=$l;d>=1&&L[d]===0;d--);if(h>d&&(h=d),d===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,s.bits=1,0;for(f=1;f<d&&L[f]===0;f++);for(h<f&&(h=f),_=1,l=1;l<=$l;l++)if(_<<=1,_-=L[l],_<0)return-1;if(_>0&&(t===c4||d!==1))return-1;for(j[1]=0,l=1;l<$l;l++)j[l+1]=j[l]+L[l];for(c=0;c<n;c++)e[r+c]!==0&&(o[j[e[r+c]]++]=c);if(t===c4?(A=Y=o,D=20):t===dg?(A=jM,Y=$M,D=257):(A=WM,Y=YM,D=0),p=0,c=0,l=f,v=a,y=h,w=0,F=-1,E=1<<h,I=E-1,t===dg&&E>s4||t===u4&&E>l4)return 1;for(;;){O=l-w,o[c]+1<D?(B=0,C=o[c]):o[c]>=D?(B=Y[o[c]-D],C=A[o[c]-D]):(B=96,C=0),m=1<<l-w,S=1<<y,f=S;do S-=m,i[v+(p>>w)+S]=O<<24|B<<16|C|0;while(S!==0);for(m=1<<l-1;p&m;)m>>=1;if(m!==0?(p&=m-1,p+=m):p=0,c++,--L[l]===0){if(l===d)break;l=e[r+o[c]]}if(l>h&&(p&I)!==F){for(w===0&&(w=h),v+=f,y=l-w,_=1<<y;y+w<d&&(_-=L[y+w],!(_<=0));)y++,_<<=1;if(E+=1<<y,t===dg&&E>s4||t===u4&&E>l4)return 1;F=p&I,i[F]=h<<24|y<<16|v-a|0}}return p!==0&&(i[v+p]=l-w<<24|64<<16|0),s.bits=h,0};var XM=ZM;const I3=iB,yo=aB,JM=HM,Of=XM,eU=0,mB=1,yB=2,{Z_FINISH:f4,Z_BLOCK:tU,Z_TREES:Ih,Z_OK:Bl,Z_STREAM_END:rU,Z_NEED_DICT:nU,Z_STREAM_ERROR:Fa,Z_DATA_ERROR:vB,Z_MEM_ERROR:EB,Z_BUF_ERROR:iU,Z_DEFLATED:d4}=Ml,Ep=16180,h4=16181,x4=16182,p4=16183,g4=16184,m4=16185,y4=16186,v4=16187,E4=16188,C4=16189,lx=16190,es=16191,hg=16192,A4=16193,xg=16194,w4=16195,_4=16196,B4=16197,b4=16198,Lh=16199,Fh=16200,S4=16201,I4=16202,L4=16203,F4=16204,D4=16205,pg=16206,T4=16207,k4=16208,$r=16209,CB=16210,AB=16211,aU=852,oU=592,sU=15,lU=sU,N4=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function cU(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Ul=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<Ep||e.mode>AB?1:0},wB=t=>{if(Ul(t))return Fa;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=Ep,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(aU),e.distcode=e.distdyn=new Int32Array(oU),e.sane=1,e.back=-1,Bl},_B=t=>{if(Ul(t))return Fa;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,wB(t)},BB=(t,e)=>{let r;if(Ul(t))return Fa;const n=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Fa:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,_B(t))},bB=(t,e)=>{if(!t)return Fa;const r=new cU;t.state=r,r.strm=t,r.window=null,r.mode=Ep;const n=BB(t,e);return n!==Bl&&(t.state=null),n},uU=t=>bB(t,lU);let P4=!0,gg,mg;const fU=t=>{if(P4){gg=new Int32Array(512),mg=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Of(mB,t.lens,0,288,gg,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Of(yB,t.lens,0,32,mg,0,t.work,{bits:5}),P4=!1}t.lencode=gg,t.lenbits=9,t.distcode=mg,t.distbits=5},SB=(t,e,r,n)=>{let i;const a=t.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),n>=a.wsize?(a.window.set(e.subarray(r-a.wsize,r),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>n&&(i=n),a.window.set(e.subarray(r-n,r-n+i),a.wnext),n-=i,n?(a.window.set(e.subarray(r-n,r),0),a.wnext=n,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},dU=(t,e)=>{let r,n,i,a,o,s,u,l,c,f,d,h,y,w,_=0,E,p,m,S,F,I,v,A;const D=new Uint8Array(4);let L,j;const Y=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Ul(t)||!t.output||!t.input&&t.avail_in!==0)return Fa;r=t.state,r.mode===es&&(r.mode=hg),o=t.next_out,i=t.output,u=t.avail_out,a=t.next_in,n=t.input,s=t.avail_in,l=r.hold,c=r.bits,f=s,d=u,A=Bl;e:for(;;)switch(r.mode){case Ep:if(r.wrap===0){r.mode=hg;break}for(;c<16;){if(s===0)break e;s--,l+=n[a++]<<c,c+=8}if(r.wrap&2&&l===35615){r.wbits===0&&(r.wbits=15),r.check=0,D[0]=l&255,D[1]=l>>>8&255,r.check=yo(r.check,D,2,0),l=0,c=0,r.mode=h4;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((l&255)<<8)+(l>>8))%31){t.msg="incorrect header check",r.mode=$r;break}if((l&15)!==d4){t.msg="unknown compression method",r.mode=$r;break}if(l>>>=4,c-=4,v=(l&15)+8,r.wbits===0&&(r.wbits=v),v>15||v>r.wbits){t.msg="invalid window size",r.mode=$r;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=l&512?C4:es,l=0,c=0;break;case h4:for(;c<16;){if(s===0)break e;s--,l+=n[a++]<<c,c+=8}if(r.flags=l,(r.flags&255)!==d4){t.msg="unknown compression method",r.mode=$r;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=$r;break}r.head&&(r.head.text=l>>8&1),r.flags&512&&r.wrap&4&&(D[0]=l&255,D[1]=l>>>8&255,r.check=yo(r.check,D,2,0)),l=0,c=0,r.mode=x4;case x4:for(;c<32;){if(s===0)break e;s--,l+=n[a++]<<c,c+=8}r.head&&(r.head.time=l),r.flags&512&&r.wrap&4&&(D[0]=l&255,D[1]=l>>>8&255,D[2]=l>>>16&255,D[3]=l>>>24&255,r.check=yo(r.check,D,4,0)),l=0,c=0,r.mode=p4;case p4:for(;c<16;){if(s===0)break e;s--,l+=n[a++]<<c,c+=8}r.head&&(r.head.xflags=l&255,r.head.os=l>>8),r.flags&512&&r.wrap&4&&(D[0]=l&255,D[1]=l>>>8&255,r.check=yo(r.check,D,2,0)),l=0,c=0,r.mode=g4;case g4:if(r.flags&1024){for(;c<16;){if(s===0)break e;s--,l+=n[a++]<<c,c+=8}r.length=l,r.head&&(r.head.extra_len=l),r.flags&512&&r.wrap&4&&(D[0]=l&255,D[1]=l>>>8&255,r.check=yo(r.check,D,2,0)),l=0,c=0}else r.head&&(r.head.extra=null);r.mode=m4;case m4:if(r.flags&1024&&(h=r.length,h>s&&(h=s),h&&(r.head&&(v=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(a,a+h),v)),r.flags&512&&r.wrap&4&&(r.check=yo(r.check,n,h,a)),s-=h,a+=h,r.length-=h),r.length))break e;r.length=0,r.mode=y4;case y4:if(r.flags&2048){if(s===0)break e;h=0;do v=n[a+h++],r.head&&v&&r.length<65536&&(r.head.name+=String.fromCharCode(v));while(v&&h<s);if(r.flags&512&&r.wrap&4&&(r.check=yo(r.check,n,h,a)),s-=h,a+=h,v)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=v4;case v4:if(r.flags&4096){if(s===0)break e;h=0;do v=n[a+h++],r.head&&v&&r.length<65536&&(r.head.comment+=String.fromCharCode(v));while(v&&h<s);if(r.flags&512&&r.wrap&4&&(r.check=yo(r.check,n,h,a)),s-=h,a+=h,v)break e}else r.head&&(r.head.comment=null);r.mode=E4;case E4:if(r.flags&512){for(;c<16;){if(s===0)break e;s--,l+=n[a++]<<c,c+=8}if(r.wrap&4&&l!==(r.check&65535)){t.msg="header crc mismatch",r.mode=$r;break}l=0,c=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=es;break;case C4:for(;c<32;){if(s===0)break e;s--,l+=n[a++]<<c,c+=8}t.adler=r.check=N4(l),l=0,c=0,r.mode=lx;case lx:if(r.havedict===0)return t.next_out=o,t.avail_out=u,t.next_in=a,t.avail_in=s,r.hold=l,r.bits=c,nU;t.adler=r.check=1,r.mode=es;case es:if(e===tU||e===Ih)break e;case hg:if(r.last){l>>>=c&7,c-=c&7,r.mode=pg;break}for(;c<3;){if(s===0)break e;s--,l+=n[a++]<<c,c+=8}switch(r.last=l&1,l>>>=1,c-=1,l&3){case 0:r.mode=A4;break;case 1:if(fU(r),r.mode=Lh,e===Ih){l>>>=2,c-=2;break e}break;case 2:r.mode=_4;break;case 3:t.msg="invalid block type",r.mode=$r}l>>>=2,c-=2;break;case A4:for(l>>>=c&7,c-=c&7;c<32;){if(s===0)break e;s--,l+=n[a++]<<c,c+=8}if((l&65535)!==(l>>>16^65535)){t.msg="invalid stored block lengths",r.mode=$r;break}if(r.length=l&65535,l=0,c=0,r.mode=xg,e===Ih)break e;case xg:r.mode=w4;case w4:if(h=r.length,h){if(h>s&&(h=s),h>u&&(h=u),h===0)break e;i.set(n.subarray(a,a+h),o),s-=h,a+=h,u-=h,o+=h,r.length-=h;break}r.mode=es;break;case _4:for(;c<14;){if(s===0)break e;s--,l+=n[a++]<<c,c+=8}if(r.nlen=(l&31)+257,l>>>=5,c-=5,r.ndist=(l&31)+1,l>>>=5,c-=5,r.ncode=(l&15)+4,l>>>=4,c-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=$r;break}r.have=0,r.mode=B4;case B4:for(;r.have<r.ncode;){for(;c<3;){if(s===0)break e;s--,l+=n[a++]<<c,c+=8}r.lens[Y[r.have++]]=l&7,l>>>=3,c-=3}for(;r.have<19;)r.lens[Y[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,L={bits:r.lenbits},A=Of(eU,r.lens,0,19,r.lencode,0,r.work,L),r.lenbits=L.bits,A){t.msg="invalid code lengths set",r.mode=$r;break}r.have=0,r.mode=b4;case b4:for(;r.have<r.nlen+r.ndist;){for(;_=r.lencode[l&(1<<r.lenbits)-1],E=_>>>24,p=_>>>16&255,m=_&65535,!(E<=c);){if(s===0)break e;s--,l+=n[a++]<<c,c+=8}if(m<16)l>>>=E,c-=E,r.lens[r.have++]=m;else{if(m===16){for(j=E+2;c<j;){if(s===0)break e;s--,l+=n[a++]<<c,c+=8}if(l>>>=E,c-=E,r.have===0){t.msg="invalid bit length repeat",r.mode=$r;break}v=r.lens[r.have-1],h=3+(l&3),l>>>=2,c-=2}else if(m===17){for(j=E+3;c<j;){if(s===0)break e;s--,l+=n[a++]<<c,c+=8}l>>>=E,c-=E,v=0,h=3+(l&7),l>>>=3,c-=3}else{for(j=E+7;c<j;){if(s===0)break e;s--,l+=n[a++]<<c,c+=8}l>>>=E,c-=E,v=0,h=11+(l&127),l>>>=7,c-=7}if(r.have+h>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=$r;break}for(;h--;)r.lens[r.have++]=v}}if(r.mode===$r)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=$r;break}if(r.lenbits=9,L={bits:r.lenbits},A=Of(mB,r.lens,0,r.nlen,r.lencode,0,r.work,L),r.lenbits=L.bits,A){t.msg="invalid literal/lengths set",r.mode=$r;break}if(r.distbits=6,r.distcode=r.distdyn,L={bits:r.distbits},A=Of(yB,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,L),r.distbits=L.bits,A){t.msg="invalid distances set",r.mode=$r;break}if(r.mode=Lh,e===Ih)break e;case Lh:r.mode=Fh;case Fh:if(s>=6&&u>=258){t.next_out=o,t.avail_out=u,t.next_in=a,t.avail_in=s,r.hold=l,r.bits=c,JM(t,d),o=t.next_out,i=t.output,u=t.avail_out,a=t.next_in,n=t.input,s=t.avail_in,l=r.hold,c=r.bits,r.mode===es&&(r.back=-1);break}for(r.back=0;_=r.lencode[l&(1<<r.lenbits)-1],E=_>>>24,p=_>>>16&255,m=_&65535,!(E<=c);){if(s===0)break e;s--,l+=n[a++]<<c,c+=8}if(p&&!(p&240)){for(S=E,F=p,I=m;_=r.lencode[I+((l&(1<<S+F)-1)>>S)],E=_>>>24,p=_>>>16&255,m=_&65535,!(S+E<=c);){if(s===0)break e;s--,l+=n[a++]<<c,c+=8}l>>>=S,c-=S,r.back+=S}if(l>>>=E,c-=E,r.back+=E,r.length=m,p===0){r.mode=D4;break}if(p&32){r.back=-1,r.mode=es;break}if(p&64){t.msg="invalid literal/length code",r.mode=$r;break}r.extra=p&15,r.mode=S4;case S4:if(r.extra){for(j=r.extra;c<j;){if(s===0)break e;s--,l+=n[a++]<<c,c+=8}r.length+=l&(1<<r.extra)-1,l>>>=r.extra,c-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=I4;case I4:for(;_=r.distcode[l&(1<<r.distbits)-1],E=_>>>24,p=_>>>16&255,m=_&65535,!(E<=c);){if(s===0)break e;s--,l+=n[a++]<<c,c+=8}if(!(p&240)){for(S=E,F=p,I=m;_=r.distcode[I+((l&(1<<S+F)-1)>>S)],E=_>>>24,p=_>>>16&255,m=_&65535,!(S+E<=c);){if(s===0)break e;s--,l+=n[a++]<<c,c+=8}l>>>=S,c-=S,r.back+=S}if(l>>>=E,c-=E,r.back+=E,p&64){t.msg="invalid distance code",r.mode=$r;break}r.offset=m,r.extra=p&15,r.mode=L4;case L4:if(r.extra){for(j=r.extra;c<j;){if(s===0)break e;s--,l+=n[a++]<<c,c+=8}r.offset+=l&(1<<r.extra)-1,l>>>=r.extra,c-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=$r;break}r.mode=F4;case F4:if(u===0)break e;if(h=d-u,r.offset>h){if(h=r.offset-h,h>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=$r;break}h>r.wnext?(h-=r.wnext,y=r.wsize-h):y=r.wnext-h,h>r.length&&(h=r.length),w=r.window}else w=i,y=o-r.offset,h=r.length;h>u&&(h=u),u-=h,r.length-=h;do i[o++]=w[y++];while(--h);r.length===0&&(r.mode=Fh);break;case D4:if(u===0)break e;i[o++]=r.length,u--,r.mode=Fh;break;case pg:if(r.wrap){for(;c<32;){if(s===0)break e;s--,l|=n[a++]<<c,c+=8}if(d-=u,t.total_out+=d,r.total+=d,r.wrap&4&&d&&(t.adler=r.check=r.flags?yo(r.check,i,d,o-d):I3(r.check,i,d,o-d)),d=u,r.wrap&4&&(r.flags?l:N4(l))!==r.check){t.msg="incorrect data check",r.mode=$r;break}l=0,c=0}r.mode=T4;case T4:if(r.wrap&&r.flags){for(;c<32;){if(s===0)break e;s--,l+=n[a++]<<c,c+=8}if(r.wrap&4&&l!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=$r;break}l=0,c=0}r.mode=k4;case k4:A=rU;break e;case $r:A=vB;break e;case CB:return EB;case AB:default:return Fa}return t.next_out=o,t.avail_out=u,t.next_in=a,t.avail_in=s,r.hold=l,r.bits=c,(r.wsize||d!==t.avail_out&&r.mode<$r&&(r.mode<pg||e!==f4))&&SB(t,t.output,t.next_out,d-t.avail_out),f-=t.avail_in,d-=t.avail_out,t.total_in+=f,t.total_out+=d,r.total+=d,r.wrap&4&&d&&(t.adler=r.check=r.flags?yo(r.check,i,d,t.next_out-d):I3(r.check,i,d,t.next_out-d)),t.data_type=r.bits+(r.last?64:0)+(r.mode===es?128:0)+(r.mode===Lh||r.mode===xg?256:0),(f===0&&d===0||e===f4)&&A===Bl&&(A=iU),A},hU=t=>{if(Ul(t))return Fa;let e=t.state;return e.window&&(e.window=null),t.state=null,Bl},xU=(t,e)=>{if(Ul(t))return Fa;const r=t.state;return r.wrap&2?(r.head=e,e.done=!1,Bl):Fa},pU=(t,e)=>{const r=e.length;let n,i,a;return Ul(t)||(n=t.state,n.wrap!==0&&n.mode!==lx)?Fa:n.mode===lx&&(i=1,i=I3(i,e,r,0),i!==n.check)?vB:(a=SB(t,e,r,r),a?(n.mode=CB,EB):(n.havedict=1,Bl))};co.inflateReset=_B;co.inflateReset2=BB;co.inflateResetKeep=wB;co.inflateInit=uU;co.inflateInit2=bB;co.inflate=dU;co.inflateEnd=hU;co.inflateGetHeader=xU;co.inflateSetDictionary=pU;co.inflateInfo="pako inflate (from Nodeca project)";function gU(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var mU=gU;const ps=co,IB=vp,L3=zd,F3=K8,yU=hB,vU=mU,LB=Object.prototype.toString,{Z_NO_FLUSH:EU,Z_FINISH:CU,Z_OK:gd,Z_STREAM_END:yg,Z_NEED_DICT:vg,Z_STREAM_ERROR:AU,Z_DATA_ERROR:R4,Z_MEM_ERROR:wU}=Ml;function qd(t){this.options=IB.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new yU,this.strm.avail_out=0;let r=ps.inflateInit2(this.strm,e.windowBits);if(r!==gd)throw new Error(F3[r]);if(this.header=new vU,ps.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=L3.string2buf(e.dictionary):LB.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=ps.inflateSetDictionary(this.strm,e.dictionary),r!==gd)))throw new Error(F3[r])}qd.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let a,o,s;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?CU:EU,LB.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),a=ps.inflate(r,o),a===vg&&i&&(a=ps.inflateSetDictionary(r,i),a===gd?a=ps.inflate(r,o):a===R4&&(a=vg));r.avail_in>0&&a===yg&&r.state.wrap>0&&t[r.next_in]!==0;)ps.inflateReset(r),a=ps.inflate(r,o);switch(a){case AU:case R4:case vg:case wU:return this.onEnd(a),this.ended=!0,!1}if(s=r.avail_out,r.next_out&&(r.avail_out===0||a===yg))if(this.options.to==="string"){let u=L3.utf8border(r.output,r.next_out),l=r.next_out-u,c=L3.buf2string(r.output,u);r.next_out=l,r.avail_out=n-l,l&&r.output.set(r.output.subarray(u,u+l),0),this.onData(c)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(a===gd&&s===0)){if(a===yg)return a=ps.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};qd.prototype.onData=function(t){this.chunks.push(t)};qd.prototype.onEnd=function(t){t===gd&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=IB.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function H8(t,e){const r=new qd(e);if(r.push(t),r.err)throw r.msg||F3[r.err];return r.result}function _U(t,e){return e=e||{},e.raw=!0,H8(t,e)}Au.Inflate=qd;Au.inflate=H8;Au.inflateRaw=_U;Au.ungzip=H8;Au.constants=Ml;const{Deflate:BU,deflate:bU,deflateRaw:SU,gzip:IU}=mu,{Inflate:LU,inflate:FU,inflateRaw:DU,ungzip:TU}=Au,kU=Ml;lo.Deflate=BU;lo.deflate=bU;lo.deflateRaw=SU;lo.gzip=IU;lo.Inflate=LU;lo.inflate=FU;lo.inflateRaw=DU;lo.ungzip=TU;lo.constants=kU;var Wr={},di={},M4;function NU(){return M4||(M4=1,Object.defineProperty(di,"__esModule",{value:!0}),di.CIRCOM_LEVELS=di.CIRCOM_BIGINT_K=di.CIRCOM_BIGINT_N=di.MAX_BODY_PADDED_BYTES=di.MAX_HEADER_PADDED_BYTES=di.CIRCOM_FIELD_MODULUS=void 0,di.CIRCOM_FIELD_MODULUS=21888242871839275222246405745257275088548364400416034343698204186575808495617n,di.MAX_HEADER_PADDED_BYTES=1024,di.MAX_BODY_PADDED_BYTES=1536,di.CIRCOM_BIGINT_N=121,di.CIRCOM_BIGINT_K=17,di.CIRCOM_LEVELS=30),di}var U4;function FB(){if(U4)return Wr;U4=1,Object.defineProperty(Wr,"__esModule",{value:!0}),Wr.bytesToString=e,Wr.stringToBytes=r,Wr.bufferToUint8Array=n,Wr.bufferToHex=i,Wr.Uint8ArrayToCharArray=a,Wr.Uint8ArrayToString=o,Wr.Uint8ArrayToHex=s,Wr.bufferToString=u,Wr.bytesToBigInt=l,Wr.bigIntToChunkedBytes=c,Wr.toCircomBigIntBytes=f,Wr.toHex=y,Wr.fromHex=w,Wr.int64toBytes=_,Wr.int8toBytes=E,Wr.bitsToUint8=p,Wr.uint8ToBits=m,Wr.mergeUInt8Arrays=S,Wr.assert=F,Wr.packedNBytesToString=I,Wr.packBytesIntoNBytes=v;const t=NU();function e(A){return new TextDecoder().decode(A)}function r(A){return Uint8Array.from(A,L=>L.charCodeAt(0))}function n(A){const D=new ArrayBuffer(A.length),L=new Uint8Array(D);for(let j=0;j<A.length;++j)L[j]=A[j];return Uint8Array.from(L)}function i(A){return A.toString("hex")}function a(A){return Array.from(A).map(D=>D.toString())}async function o(A){return Array.from(A).map(D=>D.toString()).join(";")}async function s(A){return Buffer.from(A).toString("hex")}function u(A){const D=n(A);return e(D)}function l(A){let D=0n;for(let L=0;L<A.length;++L)D=(D<<8n)+BigInt(A[L]);return D}function c(A,D,L){const j=[],Y=typeof A=="bigint"?A:A.valueOf(),O=(1n<<BigInt(D))-1n;for(let B=0;B<L;++B)j.push((Y>>BigInt(B*D)&O).toString());return j}function f(A){return c(A,t.CIRCOM_BIGINT_N,t.CIRCOM_BIGINT_K)}const d="0123456789abcdef",h={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,b:11,c:12,d:13,e:14,f:15,A:10,B:11,C:12,D:13,E:14,F:15};function y(A){return Array.from(A||[]).map(D=>d[D>>4]+d[D&15]).join("")}function w(A){let D=A;A[0]==="0"&&A[1]==="x"&&(D=A.slice(2));const L=new Uint8Array(Math.floor((D||"").length/2));let j;for(j=0;j<L.length;j++){const Y=h[D[j*2]],O=h[D[j*2+1]];if(Y===void 0||O===void 0)break;L[j]=Y<<4|O}return j===L.length?L:L.slice(0,j)}function _(A){const D=new ArrayBuffer(8);return new DataView(D).setInt32(4,A,!1),new Uint8Array(D)}function E(A){const D=new ArrayBuffer(1);return new DataView(D).setUint8(0,A),new Uint8Array(D)}function p(A){const D=new Uint8Array(A.length);for(let L=0;L<A.length;L+=1)D[L]=parseInt(A[L],2);return D}function m(A){return A.reduce((D,L)=>D+L.toString(2).padStart(8,"0"),"")}function S(A,D){const L=new Uint8Array(A.length+D.length);return L.set(A),L.set(D,A.length),L}function F(A,D){if(!A)throw new Error(D)}function I(A,D=31){const L=[];for(let j=0;j<A.length;j++)for(let Y=0n;Y<D;Y++)L.push(Number((A[j]>>Y*8n)%256n));return e(Uint8Array.from(L))}function v(A,D=7){const L=typeof A=="string"?r(A):A,j=[];for(let Y=0;Y<L.length;Y++){Y%D===0&&j.push(0n);const O=Y/D|0;console.assert(O===j.length-1,"Not editing the index of the last element -- packing loop invariants bug!"),j[O]+=BigInt(L[Y])<<BigInt(Y%D*8)}return j}return Wr}var ts={},Eg={},O4;function PU(){return O4||(O4=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.HMAC=t.Hash=t.blockSize=t.digestLength=void 0,t.hash=a,t.hmac=o,t.hkdf=l,t.pbkdf2=c,t.digestLength=32,t.blockSize=64;const e=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function r(f,d,h,y,w){let _,E,p,m,S,F,I,v,A,D,L,j,Y;for(;w>=64;){for(_=d[0],E=d[1],p=d[2],m=d[3],S=d[4],F=d[5],I=d[6],v=d[7],D=0;D<16;D++)L=y+D*4,f[D]=(h[L]&255)<<24|(h[L+1]&255)<<16|(h[L+2]&255)<<8|h[L+3]&255;for(D=16;D<64;D++)A=f[D-2],j=(A>>>17|A<<15)^(A>>>19|A<<13)^A>>>10,A=f[D-15],Y=(A>>>7|A<<25)^(A>>>18|A<<14)^A>>>3,f[D]=(j+f[D-7]|0)+(Y+f[D-16]|0);for(D=0;D<64;D++)j=(((S>>>6|S<<26)^(S>>>11|S<<21)^(S>>>25|S<<7))+(S&F^~S&I)|0)+(v+(e[D]+f[D]|0)|0)|0,Y=((_>>>2|_<<30)^(_>>>13|_<<19)^(_>>>22|_<<10))+(_&E^_&p^E&p)|0,v=I,I=F,F=S,S=m+j|0,m=p,p=E,E=_,_=j+Y|0;d[0]+=_,d[1]+=E,d[2]+=p,d[3]+=m,d[4]+=S,d[5]+=F,d[6]+=I,d[7]+=v,y+=64,w-=64}return y}class n{constructor(){this.digestLength=t.digestLength,this.blockSize=t.blockSize,this.state=new Int32Array(8),this.temp=new Int32Array(64),this.buffer=new Uint8Array(128),this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this.reset()}reset(){return this.state[0]=1779033703,this.state[1]=3144134277,this.state[2]=1013904242,this.state[3]=2773480762,this.state[4]=1359893119,this.state[5]=2600822924,this.state[6]=528734635,this.state[7]=1541459225,this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this}clean(){for(let d=0;d<this.buffer.length;d++)this.buffer[d]=0;for(let d=0;d<this.temp.length;d++)this.temp[d]=0;this.reset()}update(d,h=d.length){if(this.finished)throw new Error("SHA256: can't update because hash was finished.");let y=0;if(this.bytesHashed+=h,this.bufferLength>0){for(;this.bufferLength<64&&h>0;)this.buffer[this.bufferLength++]=d[y++],h--;this.bufferLength===64&&(r(this.temp,this.state,this.buffer,0,64),this.bufferLength=0)}for(h>=64&&(y=r(this.temp,this.state,d,y,h),h%=64);h>0;)this.buffer[this.bufferLength++]=d[y++],h--;return this}finish(d){if(!this.finished){const h=this.bytesHashed,y=this.bufferLength,w=h/536870912|0,_=h<<3,E=h%64<56?64:128;this.buffer[y]=128;for(let p=y+1;p<E-8;p++)this.buffer[p]=0;this.buffer[E-8]=w>>>24&255,this.buffer[E-7]=w>>>16&255,this.buffer[E-6]=w>>>8&255,this.buffer[E-5]=w>>>0&255,this.buffer[E-4]=_>>>24&255,this.buffer[E-3]=_>>>16&255,this.buffer[E-2]=_>>>8&255,this.buffer[E-1]=_>>>0&255,r(this.temp,this.state,this.buffer,0,E),this.finished=!0}for(let h=0;h<8;h++)d[h*4+0]=this.state[h]>>>24&255,d[h*4+1]=this.state[h]>>>16&255,d[h*4+2]=this.state[h]>>>8&255,d[h*4+3]=this.state[h]>>>0&255;return this}digest(){const d=new Uint8Array(this.digestLength);return this.finish(d),d}cacheState(){const d=new Uint32Array(this.state.length);this._saveState(d);const h=new Uint8Array(this.state.length*4);for(let y=0;y<8;y++)h[y*4+0]=this.state[y]>>>24&255,h[y*4+1]=this.state[y]>>>16&255,h[y*4+2]=this.state[y]>>>8&255,h[y*4+3]=this.state[y]>>>0&255;return h}_saveState(d){for(let h=0;h<this.state.length;h++)d[h]=this.state[h]}_restoreState(d,h){for(let y=0;y<this.state.length;y++)this.state[y]=d[y];this.bytesHashed=h,this.finished=!1,this.bufferLength=0}}t.Hash=n;class i{constructor(d){this.inner=new n,this.outer=new n,this.blockSize=this.inner.blockSize,this.digestLength=this.inner.digestLength;const h=new Uint8Array(this.blockSize);if(d.length>this.blockSize)new n().update(d).finish(h).clean();else for(let y=0;y<d.length;y++)h[y]=d[y];for(let y=0;y<h.length;y++)h[y]^=54;this.inner.update(h);for(let y=0;y<h.length;y++)h[y]^=106;this.outer.update(h),this.istate=new Uint32Array(8),this.ostate=new Uint32Array(8),this.inner._saveState(this.istate),this.outer._saveState(this.ostate);for(let y=0;y<h.length;y++)h[y]=0}reset(){return this.inner._restoreState(this.istate,this.inner.blockSize),this.outer._restoreState(this.ostate,this.outer.blockSize),this}clean(){for(let d=0;d<this.istate.length;d++)this.ostate[d]=this.istate[d]=0;this.inner.clean(),this.outer.clean()}update(d){return this.inner.update(d),this}finish(d){return this.outer.finished?this.outer.finish(d):(this.inner.finish(d),this.outer.update(d,this.digestLength).finish(d)),this}digest(){const d=new Uint8Array(this.digestLength);return this.finish(d),d}}t.HMAC=i;function a(f){const d=new n().update(f),h=d.digest();return d.clean(),h}t.default=a;function o(f,d){const h=new i(f).update(d),y=h.digest();return h.clean(),y}function s(f,d,h,y){const w=y[0];if(w===0)throw new Error("hkdf: cannot expand more");d.reset(),w>1&&d.update(f),h&&d.update(h),d.update(y),d.finish(f),y[0]++}const u=new Uint8Array(t.digestLength);function l(f,d=u,h,y=32){const w=new Uint8Array([1]),_=o(d,f),E=new i(_),p=new Uint8Array(E.digestLength);let m=p.length;const S=new Uint8Array(y);for(let F=0;F<y;F++)m===p.length&&(s(p,E,h,w),m=0),S[F]=p[m++];return E.clean(),p.fill(0),w.fill(0),S}function c(f,d,h,y){const w=new i(f),_=w.digestLength,E=new Uint8Array(4),p=new Uint8Array(_),m=new Uint8Array(_),S=new Uint8Array(y);for(let F=0;F*_<y;F++){let I=F+1;E[0]=I>>>24&255,E[1]=I>>>16&255,E[2]=I>>>8&255,E[3]=I>>>0&255,w.reset(),w.update(d),w.update(E),w.finish(m);for(let v=0;v<_;v++)p[v]=m[v];for(let v=2;v<=h;v++){w.reset(),w.update(m).finish(m);for(let A=0;A<_;A++)p[A]^=m[A]}for(let v=0;v<_&&F*_+v<y;v++)S[F*_+v]=p[v]}for(let F=0;F<_;F++)p[F]=m[F]=0;for(let F=0;F<4;F++)E[F]=0;return w.clean(),S}}(Eg)),Eg}var V4;function RU(){if(V4)return ts;V4=1;var t=Kn&&Kn.__createBinding||(Object.create?function(d,h,y,w){w===void 0&&(w=y);var _=Object.getOwnPropertyDescriptor(h,y);(!_||("get"in _?!h.__esModule:_.writable||_.configurable))&&(_={enumerable:!0,get:function(){return h[y]}}),Object.defineProperty(d,w,_)}:function(d,h,y,w){w===void 0&&(w=y),d[w]=h[y]}),e=Kn&&Kn.__setModuleDefault||(Object.create?function(d,h){Object.defineProperty(d,"default",{enumerable:!0,value:h})}:function(d,h){d.default=h}),r=Kn&&Kn.__importStar||function(d){if(d&&d.__esModule)return d;var h={};if(d!=null)for(var y in d)y!=="default"&&Object.prototype.hasOwnProperty.call(d,y)&&t(h,d,y);return e(h,d),h};Object.defineProperty(ts,"__esModule",{value:!0}),ts.findIndexInUint8Array=o,ts.padUint8ArrayWithZeros=s,ts.generatePartialSHA=u,ts.shaHash=l,ts.partialSha=c,ts.sha256Pad=f;const n=r(O0),i=FB(),a=PU();function o(d,h){let y=0,w=0;for(;y<d.length;){if(d[y]===h[w]){if(w++,w===h.length)return y-w+1}else w=0;y++}return-1}function s(d,h){for(;d.length<h;)d=(0,i.mergeUInt8Arrays)(d,(0,i.int8toBytes)(0));return d}function u({body:d,bodyLength:h,selectorString:y,maxRemainingBodyLength:w}){let _=0;if(y){const I=new TextEncoder().encode(y);if(_=o(d,I),_===-1)throw new Error(`SHA precompute selector "${y}" not found in the body`)}const E=Math.floor(_/64)*64,p=d.slice(0,E);let m=d.slice(E);const S=h-p.length;if(S>w)throw new Error(`Remaining body ${S} after the selector is longer than max (${w})`);if(m.length%64!==0)throw new Error("Remaining body was not padded correctly with int64s");return m=s(m,w),{precomputedSha:c(p,E),bodyRemaining:m,bodyRemainingLength:S}}function l(d){return n.createHash("sha256").update(d).digest()}function c(d,h){return new a.Hash().update(d,h).cacheState()}function f(d,h){const y=d.length*8,w=(0,i.int64toBytes)(y);let _=(0,i.mergeUInt8Arrays)(d,(0,i.int8toBytes)(2**7));for(;(_.length*8+w.length*8)%512!==0;)_=(0,i.mergeUInt8Arrays)(_,(0,i.int8toBytes)(0));_=(0,i.mergeUInt8Arrays)(_,w),(0,i.assert)(_.length*8%512===0,"Padding did not complete properly!");const E=_.length;for(;_.length<h;)_=(0,i.mergeUInt8Arrays)(_,(0,i.int64toBytes)(0));return(0,i.assert)(_.length===h,`Padding to max length did not complete properly! Your padded message is ${_.length} long but max is ${h}!`),[_,E]}return ts}var Cg,G4;function MU(){if(G4)return Cg;G4=1;var t=Object.defineProperty,e=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,n=Object.prototype.hasOwnProperty,i=(p,m)=>{for(var S in m)t(p,S,{get:m[S],enumerable:!0})},a=(p,m,S,F)=>{if(m&&typeof m=="object"||typeof m=="function")for(let I of r(m))!n.call(p,I)&&I!==S&&t(p,I,{get:()=>m[I],enumerable:!(F=e(m,I))||F.enumerable});return p},o=p=>a(t({},"__esModule",{value:!0}),p),s={};i(s,{ArgumentTypeName:()=>u,isBigIntArgument:()=>f,isBooleanArgument:()=>d,isNumberArgument:()=>c,isObjectArgument:()=>h,isPCDArgument:()=>w,isRevealListArgument:()=>E,isStringArgument:()=>l,isStringArrayArgument:()=>y,isToggleListArgument:()=>_}),Cg=o(s);var u=(p=>(p.String="String",p.Number="Number",p.BigInt="BigInt",p.Boolean="Boolean",p.Object="Object",p.StringArray="StringArray",p.PCD="PCD",p.ToggleList="ToggleList",p.Unknown="Unknown",p))(u||{});function l(p){return p.argumentType==="String"}function c(p){return p.argumentType==="Number"}function f(p){return p.argumentType==="BigInt"}function d(p){return p.argumentType==="Boolean"}function h(p){return p.argumentType==="Object"}function y(p){return p.argumentType==="StringArray"}function w(p){return p.argumentType==="PCD"}function _(p){return p.argumentType==="ToggleList"&&p.value!==void 0&&p.value!==null&&typeof p.value=="object"&&Object.values(p.value).every(m=>typeof m=="boolean")}function E(p){return p.value!==void 0&&Object.keys(p.value).every(m=>m.startsWith("reveal"))}return Cg}var UU=Object.create,Cp=Object.defineProperty,OU=Object.getOwnPropertyDescriptor,DB=Object.getOwnPropertyNames,VU=Object.getPrototypeOf,GU=Object.prototype.hasOwnProperty,Qt=(t,e)=>function(){return e||(0,t[DB(t)[0]])((e={exports:{}}).exports,e),e.exports},zU=(t,e)=>{for(var r in e)Cp(t,r,{get:e[r],enumerable:!0})},TB=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of DB(e))!GU.call(t,i)&&i!==r&&Cp(t,i,{get:()=>e[i],enumerable:!(n=OU(e,i))||n.enumerable});return t},Ol=(t,e,r)=>(r=t!=null?UU(VU(t)):{},TB(!t||!t.__esModule?Cp(r,"default",{value:t,enumerable:!0}):r,t)),KU=t=>TB(Cp({},"__esModule",{value:!0}),t),Ci=(t,e,r)=>new Promise((n,i)=>{var a=u=>{try{s(r.next(u))}catch(l){i(l)}},o=u=>{try{s(r.throw(u))}catch(l){i(l)}},s=u=>u.done?n(u.value):Promise.resolve(u.value).then(a,o);s((r=r.apply(t,e)).next())}),er=Qt({"../../node_modules/node-forge/lib/forge.js"(t,e){e.exports={options:{usePureJavaScript:!1}}}}),qU=Qt({"../../node_modules/node-forge/lib/baseN.js"(t,e){var r={};e.exports=r;var n={};r.encode=function(a,o,s){if(typeof o!="string")throw new TypeError('"alphabet" must be a string.');if(s!==void 0&&typeof s!="number")throw new TypeError('"maxline" must be a number.');var u="";if(!(a instanceof Uint8Array))u=i(a,o);else{var l=0,c=o.length,f=o.charAt(0),d=[0];for(l=0;l<a.length;++l){for(var h=0,y=a[l];h<d.length;++h)y+=d[h]<<8,d[h]=y%c,y=y/c|0;for(;y>0;)d.push(y%c),y=y/c|0}for(l=0;a[l]===0&&l<a.length-1;++l)u+=f;for(l=d.length-1;l>=0;--l)u+=o[d[l]]}if(s){var w=new RegExp(".{1,"+s+"}","g");u=u.match(w).join(`\r
`)}return u},r.decode=function(a,o){if(typeof a!="string")throw new TypeError('"input" must be a string.');if(typeof o!="string")throw new TypeError('"alphabet" must be a string.');var s=n[o];if(!s){s=n[o]=[];for(var u=0;u<o.length;++u)s[o.charCodeAt(u)]=u}a=a.replace(/\s/g,"");for(var l=o.length,c=o.charAt(0),f=[0],u=0;u<a.length;u++){var d=s[a.charCodeAt(u)];if(d===void 0)return;for(var h=0,y=d;h<f.length;++h)y+=f[h]*l,f[h]=y&255,y>>=8;for(;y>0;)f.push(y&255),y>>=8}for(var w=0;a[w]===c&&w<a.length-1;++w)f.push(0);return typeof Buffer<"u"?Buffer.from(f.reverse()):new Uint8Array(f.reverse())};function i(a,o){var s=0,u=o.length,l=o.charAt(0),c=[0];for(s=0;s<a.length();++s){for(var f=0,d=a.at(s);f<c.length;++f)d+=c[f]<<8,c[f]=d%u,d=d/u|0;for(;d>0;)c.push(d%u),d=d/u|0}var h="";for(s=0;a.at(s)===0&&s<a.length()-1;++s)h+=l;for(s=c.length-1;s>=0;--s)h+=o[c[s]];return h}}}),wr=Qt({"../../node_modules/node-forge/lib/util.js"(t,e){var r=er(),n=qU(),i=e.exports=r.util=r.util||{};(function(){if(typeof process<"u"&&process.nextTick&&!process.browser){i.nextTick=process.nextTick,typeof setImmediate=="function"?i.setImmediate=setImmediate:i.setImmediate=i.nextTick;return}if(typeof setImmediate=="function"){i.setImmediate=function(){return setImmediate.apply(void 0,arguments)},i.nextTick=function(D){return setImmediate(D)};return}if(i.setImmediate=function(D){setTimeout(D,0)},typeof window<"u"&&typeof window.postMessage=="function"){let D=function(L){if(L.source===window&&L.data===m){L.stopPropagation();var j=S.slice();S.length=0,j.forEach(function(Y){Y()})}};var m="forge.setImmediate",S=[];i.setImmediate=function(L){S.push(L),S.length===1&&window.postMessage(m,"*")},window.addEventListener("message",D,!0)}if(typeof MutationObserver<"u"){var F=Date.now(),I=!0,v=document.createElement("div"),S=[];new MutationObserver(function(){var L=S.slice();S.length=0,L.forEach(function(j){j()})}).observe(v,{attributes:!0});var A=i.setImmediate;i.setImmediate=function(L){Date.now()-F>15?(F=Date.now(),A(L)):(S.push(L),S.length===1&&v.setAttribute("a",I=!I))}}i.nextTick=i.setImmediate})(),i.isNodejs=typeof process<"u"&&process.versions&&process.versions.node,i.globalScope=function(){return i.isNodejs?Kn:typeof self>"u"?window:self}(),i.isArray=Array.isArray||function(m){return Object.prototype.toString.call(m)==="[object Array]"},i.isArrayBuffer=function(m){return typeof ArrayBuffer<"u"&&m instanceof ArrayBuffer},i.isArrayBufferView=function(m){return m&&i.isArrayBuffer(m.buffer)&&m.byteLength!==void 0};function a(m){if(!(m===8||m===16||m===24||m===32))throw new Error("Only 8, 16, 24, or 32 bits supported: "+m)}i.ByteBuffer=o;function o(m){if(this.data="",this.read=0,typeof m=="string")this.data=m;else if(i.isArrayBuffer(m)||i.isArrayBufferView(m))if(typeof Buffer<"u"&&m instanceof Buffer)this.data=m.toString("binary");else{var S=new Uint8Array(m);try{this.data=String.fromCharCode.apply(null,S)}catch{for(var F=0;F<S.length;++F)this.putByte(S[F])}}else(m instanceof o||typeof m=="object"&&typeof m.data=="string"&&typeof m.read=="number")&&(this.data=m.data,this.read=m.read);this._constructedStringLength=0}i.ByteStringBuffer=o;var s=4096;i.ByteStringBuffer.prototype._optimizeConstructedString=function(m){this._constructedStringLength+=m,this._constructedStringLength>s&&(this.data.substr(0,1),this._constructedStringLength=0)},i.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read},i.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0},i.ByteStringBuffer.prototype.putByte=function(m){return this.putBytes(String.fromCharCode(m))},i.ByteStringBuffer.prototype.fillWithByte=function(m,S){m=String.fromCharCode(m);for(var F=this.data;S>0;)S&1&&(F+=m),S>>>=1,S>0&&(m+=m);return this.data=F,this._optimizeConstructedString(S),this},i.ByteStringBuffer.prototype.putBytes=function(m){return this.data+=m,this._optimizeConstructedString(m.length),this},i.ByteStringBuffer.prototype.putString=function(m){return this.putBytes(i.encodeUtf8(m))},i.ByteStringBuffer.prototype.putInt16=function(m){return this.putBytes(String.fromCharCode(m>>8&255)+String.fromCharCode(m&255))},i.ByteStringBuffer.prototype.putInt24=function(m){return this.putBytes(String.fromCharCode(m>>16&255)+String.fromCharCode(m>>8&255)+String.fromCharCode(m&255))},i.ByteStringBuffer.prototype.putInt32=function(m){return this.putBytes(String.fromCharCode(m>>24&255)+String.fromCharCode(m>>16&255)+String.fromCharCode(m>>8&255)+String.fromCharCode(m&255))},i.ByteStringBuffer.prototype.putInt16Le=function(m){return this.putBytes(String.fromCharCode(m&255)+String.fromCharCode(m>>8&255))},i.ByteStringBuffer.prototype.putInt24Le=function(m){return this.putBytes(String.fromCharCode(m&255)+String.fromCharCode(m>>8&255)+String.fromCharCode(m>>16&255))},i.ByteStringBuffer.prototype.putInt32Le=function(m){return this.putBytes(String.fromCharCode(m&255)+String.fromCharCode(m>>8&255)+String.fromCharCode(m>>16&255)+String.fromCharCode(m>>24&255))},i.ByteStringBuffer.prototype.putInt=function(m,S){a(S);var F="";do S-=8,F+=String.fromCharCode(m>>S&255);while(S>0);return this.putBytes(F)},i.ByteStringBuffer.prototype.putSignedInt=function(m,S){return m<0&&(m+=2<<S-1),this.putInt(m,S)},i.ByteStringBuffer.prototype.putBuffer=function(m){return this.putBytes(m.getBytes())},i.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)},i.ByteStringBuffer.prototype.getInt16=function(){var m=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,m},i.ByteStringBuffer.prototype.getInt24=function(){var m=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,m},i.ByteStringBuffer.prototype.getInt32=function(){var m=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,m},i.ByteStringBuffer.prototype.getInt16Le=function(){var m=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,m},i.ByteStringBuffer.prototype.getInt24Le=function(){var m=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,m},i.ByteStringBuffer.prototype.getInt32Le=function(){var m=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,m},i.ByteStringBuffer.prototype.getInt=function(m){a(m);var S=0;do S=(S<<8)+this.data.charCodeAt(this.read++),m-=8;while(m>0);return S},i.ByteStringBuffer.prototype.getSignedInt=function(m){var S=this.getInt(m),F=2<<m-2;return S>=F&&(S-=F<<1),S},i.ByteStringBuffer.prototype.getBytes=function(m){var S;return m?(m=Math.min(this.length(),m),S=this.data.slice(this.read,this.read+m),this.read+=m):m===0?S="":(S=this.read===0?this.data:this.data.slice(this.read),this.clear()),S},i.ByteStringBuffer.prototype.bytes=function(m){return typeof m>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+m)},i.ByteStringBuffer.prototype.at=function(m){return this.data.charCodeAt(this.read+m)},i.ByteStringBuffer.prototype.setAt=function(m,S){return this.data=this.data.substr(0,this.read+m)+String.fromCharCode(S)+this.data.substr(this.read+m+1),this},i.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)},i.ByteStringBuffer.prototype.copy=function(){var m=i.createBuffer(this.data);return m.read=this.read,m},i.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this},i.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this},i.ByteStringBuffer.prototype.truncate=function(m){var S=Math.max(0,this.length()-m);return this.data=this.data.substr(this.read,S),this.read=0,this},i.ByteStringBuffer.prototype.toHex=function(){for(var m="",S=this.read;S<this.data.length;++S){var F=this.data.charCodeAt(S);F<16&&(m+="0"),m+=F.toString(16)}return m},i.ByteStringBuffer.prototype.toString=function(){return i.decodeUtf8(this.bytes())};function u(m,S){S=S||{},this.read=S.readOffset||0,this.growSize=S.growSize||1024;var F=i.isArrayBuffer(m),I=i.isArrayBufferView(m);if(F||I){F?this.data=new DataView(m):this.data=new DataView(m.buffer,m.byteOffset,m.byteLength),this.write="writeOffset"in S?S.writeOffset:this.data.byteLength;return}this.data=new DataView(new ArrayBuffer(0)),this.write=0,m!=null&&this.putBytes(m),"writeOffset"in S&&(this.write=S.writeOffset)}i.DataBuffer=u,i.DataBuffer.prototype.length=function(){return this.write-this.read},i.DataBuffer.prototype.isEmpty=function(){return this.length()<=0},i.DataBuffer.prototype.accommodate=function(m,S){if(this.length()>=m)return this;S=Math.max(S||this.growSize,m);var F=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),I=new Uint8Array(this.length()+S);return I.set(F),this.data=new DataView(I.buffer),this},i.DataBuffer.prototype.putByte=function(m){return this.accommodate(1),this.data.setUint8(this.write++,m),this},i.DataBuffer.prototype.fillWithByte=function(m,S){this.accommodate(S);for(var F=0;F<S;++F)this.data.setUint8(m);return this},i.DataBuffer.prototype.putBytes=function(m,S){if(i.isArrayBufferView(m)){var F=new Uint8Array(m.buffer,m.byteOffset,m.byteLength),I=F.byteLength-F.byteOffset;this.accommodate(I);var v=new Uint8Array(this.data.buffer,this.write);return v.set(F),this.write+=I,this}if(i.isArrayBuffer(m)){var F=new Uint8Array(m);this.accommodate(F.byteLength);var v=new Uint8Array(this.data.buffer);return v.set(F,this.write),this.write+=F.byteLength,this}if(m instanceof i.DataBuffer||typeof m=="object"&&typeof m.read=="number"&&typeof m.write=="number"&&i.isArrayBufferView(m.data)){var F=new Uint8Array(m.data.byteLength,m.read,m.length());this.accommodate(F.byteLength);var v=new Uint8Array(m.data.byteLength,this.write);return v.set(F),this.write+=F.byteLength,this}if(m instanceof i.ByteStringBuffer&&(m=m.data,S="binary"),S=S||"binary",typeof m=="string"){var A;if(S==="hex")return this.accommodate(Math.ceil(m.length/2)),A=new Uint8Array(this.data.buffer,this.write),this.write+=i.binary.hex.decode(m,A,this.write),this;if(S==="base64")return this.accommodate(Math.ceil(m.length/4)*3),A=new Uint8Array(this.data.buffer,this.write),this.write+=i.binary.base64.decode(m,A,this.write),this;if(S==="utf8"&&(m=i.encodeUtf8(m),S="binary"),S==="binary"||S==="raw")return this.accommodate(m.length),A=new Uint8Array(this.data.buffer,this.write),this.write+=i.binary.raw.decode(A),this;if(S==="utf16")return this.accommodate(m.length*2),A=new Uint16Array(this.data.buffer,this.write),this.write+=i.text.utf16.encode(A),this;throw new Error("Invalid encoding: "+S)}throw Error("Invalid parameter: "+m)},i.DataBuffer.prototype.putBuffer=function(m){return this.putBytes(m),m.clear(),this},i.DataBuffer.prototype.putString=function(m){return this.putBytes(m,"utf16")},i.DataBuffer.prototype.putInt16=function(m){return this.accommodate(2),this.data.setInt16(this.write,m),this.write+=2,this},i.DataBuffer.prototype.putInt24=function(m){return this.accommodate(3),this.data.setInt16(this.write,m>>8&65535),this.data.setInt8(this.write,m>>16&255),this.write+=3,this},i.DataBuffer.prototype.putInt32=function(m){return this.accommodate(4),this.data.setInt32(this.write,m),this.write+=4,this},i.DataBuffer.prototype.putInt16Le=function(m){return this.accommodate(2),this.data.setInt16(this.write,m,!0),this.write+=2,this},i.DataBuffer.prototype.putInt24Le=function(m){return this.accommodate(3),this.data.setInt8(this.write,m>>16&255),this.data.setInt16(this.write,m>>8&65535,!0),this.write+=3,this},i.DataBuffer.prototype.putInt32Le=function(m){return this.accommodate(4),this.data.setInt32(this.write,m,!0),this.write+=4,this},i.DataBuffer.prototype.putInt=function(m,S){a(S),this.accommodate(S/8);do S-=8,this.data.setInt8(this.write++,m>>S&255);while(S>0);return this},i.DataBuffer.prototype.putSignedInt=function(m,S){return a(S),this.accommodate(S/8),m<0&&(m+=2<<S-1),this.putInt(m,S)},i.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)},i.DataBuffer.prototype.getInt16=function(){var m=this.data.getInt16(this.read);return this.read+=2,m},i.DataBuffer.prototype.getInt24=function(){var m=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,m},i.DataBuffer.prototype.getInt32=function(){var m=this.data.getInt32(this.read);return this.read+=4,m},i.DataBuffer.prototype.getInt16Le=function(){var m=this.data.getInt16(this.read,!0);return this.read+=2,m},i.DataBuffer.prototype.getInt24Le=function(){var m=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,m},i.DataBuffer.prototype.getInt32Le=function(){var m=this.data.getInt32(this.read,!0);return this.read+=4,m},i.DataBuffer.prototype.getInt=function(m){a(m);var S=0;do S=(S<<8)+this.data.getInt8(this.read++),m-=8;while(m>0);return S},i.DataBuffer.prototype.getSignedInt=function(m){var S=this.getInt(m),F=2<<m-2;return S>=F&&(S-=F<<1),S},i.DataBuffer.prototype.getBytes=function(m){var S;return m?(m=Math.min(this.length(),m),S=this.data.slice(this.read,this.read+m),this.read+=m):m===0?S="":(S=this.read===0?this.data:this.data.slice(this.read),this.clear()),S},i.DataBuffer.prototype.bytes=function(m){return typeof m>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+m)},i.DataBuffer.prototype.at=function(m){return this.data.getUint8(this.read+m)},i.DataBuffer.prototype.setAt=function(m,S){return this.data.setUint8(m,S),this},i.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)},i.DataBuffer.prototype.copy=function(){return new i.DataBuffer(this)},i.DataBuffer.prototype.compact=function(){if(this.read>0){var m=new Uint8Array(this.data.buffer,this.read),S=new Uint8Array(m.byteLength);S.set(m),this.data=new DataView(S),this.write-=this.read,this.read=0}return this},i.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this},i.DataBuffer.prototype.truncate=function(m){return this.write=Math.max(0,this.length()-m),this.read=Math.min(this.read,this.write),this},i.DataBuffer.prototype.toHex=function(){for(var m="",S=this.read;S<this.data.byteLength;++S){var F=this.data.getUint8(S);F<16&&(m+="0"),m+=F.toString(16)}return m},i.DataBuffer.prototype.toString=function(m){var S=new Uint8Array(this.data,this.read,this.length());if(m=m||"utf8",m==="binary"||m==="raw")return i.binary.raw.encode(S);if(m==="hex")return i.binary.hex.encode(S);if(m==="base64")return i.binary.base64.encode(S);if(m==="utf8")return i.text.utf8.decode(S);if(m==="utf16")return i.text.utf16.decode(S);throw new Error("Invalid encoding: "+m)},i.createBuffer=function(m,S){return S=S||"raw",m!==void 0&&S==="utf8"&&(m=i.encodeUtf8(m)),new i.ByteBuffer(m)},i.fillString=function(m,S){for(var F="";S>0;)S&1&&(F+=m),S>>>=1,S>0&&(m+=m);return F},i.xorBytes=function(m,S,F){for(var I="",v="",A="",D=0,L=0;F>0;--F,++D)v=m.charCodeAt(D)^S.charCodeAt(D),L>=10&&(I+=A,A="",L=0),A+=String.fromCharCode(v),++L;return I+=A,I},i.hexToBytes=function(m){var S="",F=0;for(m.length&!0&&(F=1,S+=String.fromCharCode(parseInt(m[0],16)));F<m.length;F+=2)S+=String.fromCharCode(parseInt(m.substr(F,2),16));return S},i.bytesToHex=function(m){return i.createBuffer(m).toHex()},i.int32ToBytes=function(m){return String.fromCharCode(m>>24&255)+String.fromCharCode(m>>16&255)+String.fromCharCode(m>>8&255)+String.fromCharCode(m&255)};var l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],f="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";i.encode64=function(m,S){for(var F="",I="",v,A,D,L=0;L<m.length;)v=m.charCodeAt(L++),A=m.charCodeAt(L++),D=m.charCodeAt(L++),F+=l.charAt(v>>2),F+=l.charAt((v&3)<<4|A>>4),isNaN(A)?F+="==":(F+=l.charAt((A&15)<<2|D>>6),F+=isNaN(D)?"=":l.charAt(D&63)),S&&F.length>S&&(I+=F.substr(0,S)+`\r
`,F=F.substr(S));return I+=F,I},i.decode64=function(m){m=m.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var S="",F,I,v,A,D=0;D<m.length;)F=c[m.charCodeAt(D++)-43],I=c[m.charCodeAt(D++)-43],v=c[m.charCodeAt(D++)-43],A=c[m.charCodeAt(D++)-43],S+=String.fromCharCode(F<<2|I>>4),v!==64&&(S+=String.fromCharCode((I&15)<<4|v>>2),A!==64&&(S+=String.fromCharCode((v&3)<<6|A)));return S},i.encodeUtf8=function(m){return unescape(encodeURIComponent(m))},i.decodeUtf8=function(m){return decodeURIComponent(escape(m))},i.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:n.encode,decode:n.decode}},i.binary.raw.encode=function(m){return String.fromCharCode.apply(null,m)},i.binary.raw.decode=function(m,S,F){var I=S;I||(I=new Uint8Array(m.length)),F=F||0;for(var v=F,A=0;A<m.length;++A)I[v++]=m.charCodeAt(A);return S?v-F:I},i.binary.hex.encode=i.bytesToHex,i.binary.hex.decode=function(m,S,F){var I=S;I||(I=new Uint8Array(Math.ceil(m.length/2))),F=F||0;var v=0,A=F;for(m.length&1&&(v=1,I[A++]=parseInt(m[0],16));v<m.length;v+=2)I[A++]=parseInt(m.substr(v,2),16);return S?A-F:I},i.binary.base64.encode=function(m,S){for(var F="",I="",v,A,D,L=0;L<m.byteLength;)v=m[L++],A=m[L++],D=m[L++],F+=l.charAt(v>>2),F+=l.charAt((v&3)<<4|A>>4),isNaN(A)?F+="==":(F+=l.charAt((A&15)<<2|D>>6),F+=isNaN(D)?"=":l.charAt(D&63)),S&&F.length>S&&(I+=F.substr(0,S)+`\r
`,F=F.substr(S));return I+=F,I},i.binary.base64.decode=function(m,S,F){var I=S;I||(I=new Uint8Array(Math.ceil(m.length/4)*3)),m=m.replace(/[^A-Za-z0-9\+\/\=]/g,""),F=F||0;for(var v,A,D,L,j=0,Y=F;j<m.length;)v=c[m.charCodeAt(j++)-43],A=c[m.charCodeAt(j++)-43],D=c[m.charCodeAt(j++)-43],L=c[m.charCodeAt(j++)-43],I[Y++]=v<<2|A>>4,D!==64&&(I[Y++]=(A&15)<<4|D>>2,L!==64&&(I[Y++]=(D&3)<<6|L));return S?Y-F:I.subarray(0,Y)},i.binary.base58.encode=function(m,S){return i.binary.baseN.encode(m,f,S)},i.binary.base58.decode=function(m,S){return i.binary.baseN.decode(m,f,S)},i.text={utf8:{},utf16:{}},i.text.utf8.encode=function(m,S,F){m=i.encodeUtf8(m);var I=S;I||(I=new Uint8Array(m.length)),F=F||0;for(var v=F,A=0;A<m.length;++A)I[v++]=m.charCodeAt(A);return S?v-F:I},i.text.utf8.decode=function(m){return i.decodeUtf8(String.fromCharCode.apply(null,m))},i.text.utf16.encode=function(m,S,F){var I=S;I||(I=new Uint8Array(m.length*2));var v=new Uint16Array(I.buffer);F=F||0;for(var A=F,D=F,L=0;L<m.length;++L)v[D++]=m.charCodeAt(L),A+=2;return S?A-F:I},i.text.utf16.decode=function(m){return String.fromCharCode.apply(null,new Uint16Array(m.buffer))},i.deflate=function(m,S,F){if(S=i.decode64(m.deflate(i.encode64(S)).rval),F){var I=2,v=S.charCodeAt(1);v&32&&(I=6),S=S.substring(I,S.length-4)}return S},i.inflate=function(m,S,F){var I=m.inflate(i.encode64(S)).rval;return I===null?null:i.decode64(I)};var d=function(m,S,F){if(!m)throw new Error("WebStorage not available.");var I;if(F===null?I=m.removeItem(S):(F=i.encode64(JSON.stringify(F)),I=m.setItem(S,F)),typeof I<"u"&&I.rval!==!0){var v=new Error(I.error.message);throw v.id=I.error.id,v.name=I.error.name,v}},h=function(m,S){if(!m)throw new Error("WebStorage not available.");var F=m.getItem(S);if(m.init)if(F.rval===null){if(F.error){var I=new Error(F.error.message);throw I.id=F.error.id,I.name=F.error.name,I}F=null}else F=F.rval;return F!==null&&(F=JSON.parse(i.decode64(F))),F},y=function(m,S,F,I){var v=h(m,S);v===null&&(v={}),v[F]=I,d(m,S,v)},w=function(m,S,F){var I=h(m,S);return I!==null&&(I=F in I?I[F]:null),I},_=function(m,S,F){var I=h(m,S);if(I!==null&&F in I){delete I[F];var v=!0;for(var A in I){v=!1;break}v&&(I=null),d(m,S,I)}},E=function(m,S){d(m,S,null)},p=function(m,S,F){var I=null;typeof F>"u"&&(F=["web","flash"]);var v,A=!1,D=null;for(var L in F){v=F[L];try{if(v==="flash"||v==="both"){if(S[0]===null)throw new Error("Flash local storage not available.");I=m.apply(this,S),A=v==="flash"}(v==="web"||v==="both")&&(S[0]=localStorage,I=m.apply(this,S),A=!0)}catch(j){D=j}if(A)break}if(!A)throw D;return I};i.setItem=function(m,S,F,I,v){p(y,arguments,v)},i.getItem=function(m,S,F,I){return p(w,arguments,I)},i.removeItem=function(m,S,F,I){p(_,arguments,I)},i.clearItems=function(m,S,F){p(E,arguments,F)},i.isEmpty=function(m){for(var S in m)if(m.hasOwnProperty(S))return!1;return!0},i.format=function(m){for(var S=/%./g,F,I,v=0,A=[],D=0;F=S.exec(m);){I=m.substring(D,S.lastIndex-2),I.length>0&&A.push(I),D=S.lastIndex;var L=F[0][1];switch(L){case"s":case"o":v<arguments.length?A.push(arguments[v+++1]):A.push("<?>");break;case"%":A.push("%");break;default:A.push("<%"+L+"?>")}}return A.push(m.substring(D)),A.join("")},i.formatNumber=function(m,S,F,I){var v=m,A=isNaN(S=Math.abs(S))?2:S,D=F===void 0?",":F,L=I===void 0?".":I,j=v<0?"-":"",Y=parseInt(v=Math.abs(+v||0).toFixed(A),10)+"",O=Y.length>3?Y.length%3:0;return j+(O?Y.substr(0,O)+L:"")+Y.substr(O).replace(/(\d{3})(?=\d)/g,"$1"+L)+(A?D+Math.abs(v-Y).toFixed(A).slice(2):"")},i.formatSize=function(m){return m>=1073741824?m=i.formatNumber(m/1073741824,2,".","")+" GiB":m>=1048576?m=i.formatNumber(m/1048576,2,".","")+" MiB":m>=1024?m=i.formatNumber(m/1024,0)+" KiB":m=i.formatNumber(m,0)+" bytes",m},i.bytesFromIP=function(m){return m.indexOf(".")!==-1?i.bytesFromIPv4(m):m.indexOf(":")!==-1?i.bytesFromIPv6(m):null},i.bytesFromIPv4=function(m){if(m=m.split("."),m.length!==4)return null;for(var S=i.createBuffer(),F=0;F<m.length;++F){var I=parseInt(m[F],10);if(isNaN(I))return null;S.putByte(I)}return S.getBytes()},i.bytesFromIPv6=function(m){var S=0;m=m.split(":").filter(function(D){return D.length===0&&++S,!0});for(var F=(8-m.length+S)*2,I=i.createBuffer(),v=0;v<8;++v){if(!m[v]||m[v].length===0){I.fillWithByte(0,F),F=0;continue}var A=i.hexToBytes(m[v]);A.length<2&&I.putByte(0),I.putBytes(A)}return I.getBytes()},i.bytesToIP=function(m){return m.length===4?i.bytesToIPv4(m):m.length===16?i.bytesToIPv6(m):null},i.bytesToIPv4=function(m){if(m.length!==4)return null;for(var S=[],F=0;F<m.length;++F)S.push(m.charCodeAt(F));return S.join(".")},i.bytesToIPv6=function(m){if(m.length!==16)return null;for(var S=[],F=[],I=0,v=0;v<m.length;v+=2){for(var A=i.bytesToHex(m[v]+m[v+1]);A[0]==="0"&&A!=="0";)A=A.substr(1);if(A==="0"){var D=F[F.length-1],L=S.length;!D||L!==D.end+1?F.push({start:L,end:L}):(D.end=L,D.end-D.start>F[I].end-F[I].start&&(I=F.length-1))}S.push(A)}if(F.length>0){var j=F[I];j.end-j.start>0&&(S.splice(j.start,j.end-j.start+1,""),j.start===0&&S.unshift(""),j.end===7&&S.push(""))}return S.join(":")},i.estimateCores=function(m,S){if(typeof m=="function"&&(S=m,m={}),m=m||{},"cores"in i&&!m.update)return S(null,i.cores);if(typeof navigator<"u"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return i.cores=navigator.hardwareConcurrency,S(null,i.cores);if(typeof Worker>"u")return i.cores=1,S(null,i.cores);if(typeof Blob>"u")return i.cores=2,S(null,i.cores);var F=URL.createObjectURL(new Blob(["(",(function(){self.addEventListener("message",function(D){var L=Date.now(),j=L+4;self.postMessage({st:L,et:j})})}).toString(),")()"],{type:"application/javascript"}));I([],5,16);function I(D,L,j){if(L===0){var Y=Math.floor(D.reduce(function(O,B){return O+B},0)/D.length);return i.cores=Math.max(1,Y),URL.revokeObjectURL(F),S(null,i.cores)}v(j,function(O,B){D.push(A(j,B)),I(D,L-1,j)})}function v(D,L){for(var j=[],Y=[],O=0;O<D;++O){var B=new Worker(F);B.addEventListener("message",function(C){if(Y.push(C.data),Y.length===D){for(var N=0;N<D;++N)j[N].terminate();L(null,Y)}}),j.push(B)}for(var O=0;O<D;++O)j[O].postMessage(O)}function A(D,L){for(var j=[],Y=0;Y<D;++Y)for(var O=L[Y],B=j[Y]=[],C=0;C<D;++C)if(Y!==C){var N=L[C];(O.st>N.st&&O.st<N.et||N.st>O.st&&N.st<O.et)&&B.push(C)}return j.reduce(function(U,G){return Math.max(U,G.length)},0)}}}}),j8=Qt({"../../node_modules/node-forge/lib/cipher.js"(t,e){var r=er();wr(),e.exports=r.cipher=r.cipher||{},r.cipher.algorithms=r.cipher.algorithms||{},r.cipher.createCipher=function(i,a){var o=i;if(typeof o=="string"&&(o=r.cipher.getAlgorithm(o),o&&(o=o())),!o)throw new Error("Unsupported algorithm: "+i);return new r.cipher.BlockCipher({algorithm:o,key:a,decrypt:!1})},r.cipher.createDecipher=function(i,a){var o=i;if(typeof o=="string"&&(o=r.cipher.getAlgorithm(o),o&&(o=o())),!o)throw new Error("Unsupported algorithm: "+i);return new r.cipher.BlockCipher({algorithm:o,key:a,decrypt:!0})},r.cipher.registerAlgorithm=function(i,a){i=i.toUpperCase(),r.cipher.algorithms[i]=a},r.cipher.getAlgorithm=function(i){return i=i.toUpperCase(),i in r.cipher.algorithms?r.cipher.algorithms[i]:null};var n=r.cipher.BlockCipher=function(i){this.algorithm=i.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=i.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=i.decrypt,this.algorithm.initialize(i)};n.prototype.start=function(i){i=i||{};var a={};for(var o in i)a[o]=i[o];a.decrypt=this._decrypt,this._finish=!1,this._input=r.util.createBuffer(),this.output=i.output||r.util.createBuffer(),this.mode.start(a)},n.prototype.update=function(i){for(i&&this._input.putBuffer(i);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()},n.prototype.finish=function(i){i&&(this.mode.name==="ECB"||this.mode.name==="CBC")&&(this.mode.pad=function(o){return i(this.blockSize,o,!1)},this.mode.unpad=function(o){return i(this.blockSize,o,!0)});var a={};return a.decrypt=this._decrypt,a.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,a)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,a))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,a))}}}),kB=Qt({"../../node_modules/node-forge/lib/cipherModes.js"(t,e){var r=er();wr(),r.cipher=r.cipher||{};var n=e.exports=r.cipher.modes=r.cipher.modes||{};n.ecb=function(s){s=s||{},this.name="ECB",this.cipher=s.cipher,this.blockSize=s.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},n.ecb.prototype.start=function(s){},n.ecb.prototype.encrypt=function(s,u,l){if(s.length()<this.blockSize&&!(l&&s.length()>0))return!0;for(var c=0;c<this._ints;++c)this._inBlock[c]=s.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var c=0;c<this._ints;++c)u.putInt32(this._outBlock[c])},n.ecb.prototype.decrypt=function(s,u,l){if(s.length()<this.blockSize&&!(l&&s.length()>0))return!0;for(var c=0;c<this._ints;++c)this._inBlock[c]=s.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var c=0;c<this._ints;++c)u.putInt32(this._outBlock[c])},n.ecb.prototype.pad=function(s,u){var l=s.length()===this.blockSize?this.blockSize:this.blockSize-s.length();return s.fillWithByte(l,l),!0},n.ecb.prototype.unpad=function(s,u){if(u.overflow>0)return!1;var l=s.length(),c=s.at(l-1);return c>this.blockSize<<2?!1:(s.truncate(c),!0)},n.cbc=function(s){s=s||{},this.name="CBC",this.cipher=s.cipher,this.blockSize=s.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},n.cbc.prototype.start=function(s){if(s.iv===null){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else if("iv"in s)this._iv=i(s.iv,this.blockSize),this._prev=this._iv.slice(0);else throw new Error("Invalid IV parameter.")},n.cbc.prototype.encrypt=function(s,u,l){if(s.length()<this.blockSize&&!(l&&s.length()>0))return!0;for(var c=0;c<this._ints;++c)this._inBlock[c]=this._prev[c]^s.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var c=0;c<this._ints;++c)u.putInt32(this._outBlock[c]);this._prev=this._outBlock},n.cbc.prototype.decrypt=function(s,u,l){if(s.length()<this.blockSize&&!(l&&s.length()>0))return!0;for(var c=0;c<this._ints;++c)this._inBlock[c]=s.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var c=0;c<this._ints;++c)u.putInt32(this._prev[c]^this._outBlock[c]);this._prev=this._inBlock.slice(0)},n.cbc.prototype.pad=function(s,u){var l=s.length()===this.blockSize?this.blockSize:this.blockSize-s.length();return s.fillWithByte(l,l),!0},n.cbc.prototype.unpad=function(s,u){if(u.overflow>0)return!1;var l=s.length(),c=s.at(l-1);return c>this.blockSize<<2?!1:(s.truncate(c),!0)},n.cfb=function(s){s=s||{},this.name="CFB",this.cipher=s.cipher,this.blockSize=s.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=r.util.createBuffer(),this._partialBytes=0},n.cfb.prototype.start=function(s){if(!("iv"in s))throw new Error("Invalid IV parameter.");this._iv=i(s.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},n.cfb.prototype.encrypt=function(s,u,l){var c=s.length();if(c===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&c>=this.blockSize){for(var f=0;f<this._ints;++f)this._inBlock[f]=s.getInt32()^this._outBlock[f],u.putInt32(this._inBlock[f]);return}var d=(this.blockSize-c)%this.blockSize;d>0&&(d=this.blockSize-d),this._partialOutput.clear();for(var f=0;f<this._ints;++f)this._partialBlock[f]=s.getInt32()^this._outBlock[f],this._partialOutput.putInt32(this._partialBlock[f]);if(d>0)s.read-=this.blockSize;else for(var f=0;f<this._ints;++f)this._inBlock[f]=this._partialBlock[f];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),d>0&&!l)return u.putBytes(this._partialOutput.getBytes(d-this._partialBytes)),this._partialBytes=d,!0;u.putBytes(this._partialOutput.getBytes(c-this._partialBytes)),this._partialBytes=0},n.cfb.prototype.decrypt=function(s,u,l){var c=s.length();if(c===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&c>=this.blockSize){for(var f=0;f<this._ints;++f)this._inBlock[f]=s.getInt32(),u.putInt32(this._inBlock[f]^this._outBlock[f]);return}var d=(this.blockSize-c)%this.blockSize;d>0&&(d=this.blockSize-d),this._partialOutput.clear();for(var f=0;f<this._ints;++f)this._partialBlock[f]=s.getInt32(),this._partialOutput.putInt32(this._partialBlock[f]^this._outBlock[f]);if(d>0)s.read-=this.blockSize;else for(var f=0;f<this._ints;++f)this._inBlock[f]=this._partialBlock[f];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),d>0&&!l)return u.putBytes(this._partialOutput.getBytes(d-this._partialBytes)),this._partialBytes=d,!0;u.putBytes(this._partialOutput.getBytes(c-this._partialBytes)),this._partialBytes=0},n.ofb=function(s){s=s||{},this.name="OFB",this.cipher=s.cipher,this.blockSize=s.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=r.util.createBuffer(),this._partialBytes=0},n.ofb.prototype.start=function(s){if(!("iv"in s))throw new Error("Invalid IV parameter.");this._iv=i(s.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},n.ofb.prototype.encrypt=function(s,u,l){var c=s.length();if(s.length()===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&c>=this.blockSize){for(var f=0;f<this._ints;++f)u.putInt32(s.getInt32()^this._outBlock[f]),this._inBlock[f]=this._outBlock[f];return}var d=(this.blockSize-c)%this.blockSize;d>0&&(d=this.blockSize-d),this._partialOutput.clear();for(var f=0;f<this._ints;++f)this._partialOutput.putInt32(s.getInt32()^this._outBlock[f]);if(d>0)s.read-=this.blockSize;else for(var f=0;f<this._ints;++f)this._inBlock[f]=this._outBlock[f];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),d>0&&!l)return u.putBytes(this._partialOutput.getBytes(d-this._partialBytes)),this._partialBytes=d,!0;u.putBytes(this._partialOutput.getBytes(c-this._partialBytes)),this._partialBytes=0},n.ofb.prototype.decrypt=n.ofb.prototype.encrypt,n.ctr=function(s){s=s||{},this.name="CTR",this.cipher=s.cipher,this.blockSize=s.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=r.util.createBuffer(),this._partialBytes=0},n.ctr.prototype.start=function(s){if(!("iv"in s))throw new Error("Invalid IV parameter.");this._iv=i(s.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},n.ctr.prototype.encrypt=function(s,u,l){var c=s.length();if(c===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&c>=this.blockSize)for(var f=0;f<this._ints;++f)u.putInt32(s.getInt32()^this._outBlock[f]);else{var d=(this.blockSize-c)%this.blockSize;d>0&&(d=this.blockSize-d),this._partialOutput.clear();for(var f=0;f<this._ints;++f)this._partialOutput.putInt32(s.getInt32()^this._outBlock[f]);if(d>0&&(s.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),d>0&&!l)return u.putBytes(this._partialOutput.getBytes(d-this._partialBytes)),this._partialBytes=d,!0;u.putBytes(this._partialOutput.getBytes(c-this._partialBytes)),this._partialBytes=0}a(this._inBlock)},n.ctr.prototype.decrypt=n.ctr.prototype.encrypt,n.gcm=function(s){s=s||{},this.name="GCM",this.cipher=s.cipher,this.blockSize=s.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=r.util.createBuffer(),this._partialBytes=0,this._R=3774873600},n.gcm.prototype.start=function(s){if(!("iv"in s))throw new Error("Invalid IV parameter.");var u=r.util.createBuffer(s.iv);this._cipherLength=0;var l;if("additionalData"in s?l=r.util.createBuffer(s.additionalData):l=r.util.createBuffer(),"tagLength"in s?this._tagLength=s.tagLength:this._tagLength=128,this._tag=null,s.decrypt&&(this._tag=r.util.createBuffer(s.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var c=u.length();if(c===12)this._j0=[u.getInt32(),u.getInt32(),u.getInt32(),1];else{for(this._j0=[0,0,0,0];u.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[u.getInt32(),u.getInt32(),u.getInt32(),u.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(o(c*8)))}this._inBlock=this._j0.slice(0),a(this._inBlock),this._partialBytes=0,l=r.util.createBuffer(l),this._aDataLength=o(l.length()*8);var f=l.length()%this.blockSize;for(f&&l.fillWithByte(0,this.blockSize-f),this._s=[0,0,0,0];l.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[l.getInt32(),l.getInt32(),l.getInt32(),l.getInt32()])},n.gcm.prototype.encrypt=function(s,u,l){var c=s.length();if(c===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&c>=this.blockSize){for(var f=0;f<this._ints;++f)u.putInt32(this._outBlock[f]^=s.getInt32());this._cipherLength+=this.blockSize}else{var d=(this.blockSize-c)%this.blockSize;d>0&&(d=this.blockSize-d),this._partialOutput.clear();for(var f=0;f<this._ints;++f)this._partialOutput.putInt32(s.getInt32()^this._outBlock[f]);if(d<=0||l){if(l){var h=c%this.blockSize;this._cipherLength+=h,this._partialOutput.truncate(this.blockSize-h)}else this._cipherLength+=this.blockSize;for(var f=0;f<this._ints;++f)this._outBlock[f]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),d>0&&!l)return s.read-=this.blockSize,u.putBytes(this._partialOutput.getBytes(d-this._partialBytes)),this._partialBytes=d,!0;u.putBytes(this._partialOutput.getBytes(c-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),a(this._inBlock)},n.gcm.prototype.decrypt=function(s,u,l){var c=s.length();if(c<this.blockSize&&!(l&&c>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),a(this._inBlock),this._hashBlock[0]=s.getInt32(),this._hashBlock[1]=s.getInt32(),this._hashBlock[2]=s.getInt32(),this._hashBlock[3]=s.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var f=0;f<this._ints;++f)u.putInt32(this._outBlock[f]^this._hashBlock[f]);c<this.blockSize?this._cipherLength+=c%this.blockSize:this._cipherLength+=this.blockSize},n.gcm.prototype.afterFinish=function(s,u){var l=!0;u.decrypt&&u.overflow&&s.truncate(this.blockSize-u.overflow),this.tag=r.util.createBuffer();var c=this._aDataLength.concat(o(this._cipherLength*8));this._s=this.ghash(this._hashSubkey,this._s,c);var f=[];this.cipher.encrypt(this._j0,f);for(var d=0;d<this._ints;++d)this.tag.putInt32(this._s[d]^f[d]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),u.decrypt&&this.tag.bytes()!==this._tag&&(l=!1),l},n.gcm.prototype.multiply=function(s,u){for(var l=[0,0,0,0],c=u.slice(0),f=0;f<128;++f){var d=s[f/32|0]&1<<31-f%32;d&&(l[0]^=c[0],l[1]^=c[1],l[2]^=c[2],l[3]^=c[3]),this.pow(c,c)}return l},n.gcm.prototype.pow=function(s,u){for(var l=s[3]&1,c=3;c>0;--c)u[c]=s[c]>>>1|(s[c-1]&1)<<31;u[0]=s[0]>>>1,l&&(u[0]^=this._R)},n.gcm.prototype.tableMultiply=function(s){for(var u=[0,0,0,0],l=0;l<32;++l){var c=l/8|0,f=s[c]>>>(7-l%8)*4&15,d=this._m[l][f];u[0]^=d[0],u[1]^=d[1],u[2]^=d[2],u[3]^=d[3]}return u},n.gcm.prototype.ghash=function(s,u,l){return u[0]^=l[0],u[1]^=l[1],u[2]^=l[2],u[3]^=l[3],this.tableMultiply(u)},n.gcm.prototype.generateHashTable=function(s,u){for(var l=8/u,c=4*l,f=16*l,d=new Array(f),h=0;h<f;++h){var y=[0,0,0,0],w=h/c|0,_=(c-1-h%c)*u;y[w]=1<<u-1<<_,d[h]=this.generateSubHashTable(this.multiply(y,s),u)}return d},n.gcm.prototype.generateSubHashTable=function(s,u){var l=1<<u,c=l>>>1,f=new Array(l);f[c]=s.slice(0);for(var d=c>>>1;d>0;)this.pow(f[2*d],f[d]=[]),d>>=1;for(d=2;d<c;){for(var h=1;h<d;++h){var y=f[d],w=f[h];f[d+h]=[y[0]^w[0],y[1]^w[1],y[2]^w[2],y[3]^w[3]]}d*=2}for(f[0]=[0,0,0,0],d=c+1;d<l;++d){var _=f[d^c];f[d]=[s[0]^_[0],s[1]^_[1],s[2]^_[2],s[3]^_[3]]}return f};function i(s,u){if(typeof s=="string"&&(s=r.util.createBuffer(s)),r.util.isArray(s)&&s.length>4){var l=s;s=r.util.createBuffer();for(var c=0;c<l.length;++c)s.putByte(l[c])}if(s.length()<u)throw new Error("Invalid IV length; got "+s.length()+" bytes and expected "+u+" bytes.");if(!r.util.isArray(s)){for(var f=[],d=u/4,c=0;c<d;++c)f.push(s.getInt32());s=f}return s}function a(s){s[s.length-1]=s[s.length-1]+1&4294967295}function o(s){return[s/4294967296|0,s&4294967295]}}}),Vl=Qt({"../../node_modules/node-forge/lib/aes.js"(t,e){var r=er();j8(),kB(),wr(),e.exports=r.aes=r.aes||{},r.aes.startEncrypting=function(w,_,E,p){var m=y({key:w,output:E,decrypt:!1,mode:p});return m.start(_),m},r.aes.createEncryptionCipher=function(w,_){return y({key:w,output:null,decrypt:!1,mode:_})},r.aes.startDecrypting=function(w,_,E,p){var m=y({key:w,output:E,decrypt:!0,mode:p});return m.start(_),m},r.aes.createDecryptionCipher=function(w,_){return y({key:w,output:null,decrypt:!0,mode:_})},r.aes.Algorithm=function(w,_){i||f();var E=this;E.name=w,E.mode=new _({blockSize:16,cipher:{encrypt:function(p,m){return h(E._w,p,m,!1)},decrypt:function(p,m){return h(E._w,p,m,!0)}}}),E._init=!1},r.aes.Algorithm.prototype.initialize=function(w){if(!this._init){var _=w.key,E;if(typeof _=="string"&&(_.length===16||_.length===24||_.length===32))_=r.util.createBuffer(_);else if(r.util.isArray(_)&&(_.length===16||_.length===24||_.length===32)){E=_,_=r.util.createBuffer();for(var p=0;p<E.length;++p)_.putByte(E[p])}if(!r.util.isArray(_)){E=_,_=[];var m=E.length();if(m===16||m===24||m===32){m=m>>>2;for(var p=0;p<m;++p)_.push(E.getInt32())}}if(!r.util.isArray(_)||!(_.length===4||_.length===6||_.length===8))throw new Error("Invalid key parameter.");var S=this.mode.name,F=["CFB","OFB","CTR","GCM"].indexOf(S)!==-1;this._w=d(_,w.decrypt&&!F),this._init=!0}},r.aes._expandKey=function(w,_){return i||f(),d(w,_)},r.aes._updateBlock=h,n("AES-ECB",r.cipher.modes.ecb),n("AES-CBC",r.cipher.modes.cbc),n("AES-CFB",r.cipher.modes.cfb),n("AES-OFB",r.cipher.modes.ofb),n("AES-CTR",r.cipher.modes.ctr),n("AES-GCM",r.cipher.modes.gcm);function n(w,_){var E=function(){return new r.aes.Algorithm(w,_)};r.cipher.registerAlgorithm(w,E)}var i=!1,a=4,o,s,u,l,c;function f(){i=!0,u=[0,1,2,4,8,16,32,64,128,27,54];for(var w=new Array(256),_=0;_<128;++_)w[_]=_<<1,w[_+128]=_+128<<1^283;o=new Array(256),s=new Array(256),l=new Array(4),c=new Array(4);for(var _=0;_<4;++_)l[_]=new Array(256),c[_]=new Array(256);for(var E=0,p=0,m,S,F,I,v,A,D,_=0;_<256;++_){I=p^p<<1^p<<2^p<<3^p<<4,I=I>>8^I&255^99,o[E]=I,s[I]=E,v=w[I],m=w[E],S=w[m],F=w[S],A=v<<24^I<<16^I<<8^(I^v),D=(m^S^F)<<24^(E^F)<<16^(E^S^F)<<8^(E^m^F);for(var L=0;L<4;++L)l[L][E]=A,c[L][I]=D,A=A<<24|A>>>8,D=D<<24|D>>>8;E===0?E=p=1:(E=m^w[w[w[m^F]]],p^=w[w[p]])}}function d(w,_){for(var E=w.slice(0),p,m=1,S=E.length,F=S+6+1,I=a*F,v=S;v<I;++v)p=E[v-1],v%S===0?(p=o[p>>>16&255]<<24^o[p>>>8&255]<<16^o[p&255]<<8^o[p>>>24]^u[m]<<24,m++):S>6&&v%S===4&&(p=o[p>>>24]<<24^o[p>>>16&255]<<16^o[p>>>8&255]<<8^o[p&255]),E[v]=E[v-S]^p;if(_){var A,D=c[0],L=c[1],j=c[2],Y=c[3],O=E.slice(0);I=E.length;for(var v=0,B=I-a;v<I;v+=a,B-=a)if(v===0||v===I-a)O[v]=E[B],O[v+1]=E[B+3],O[v+2]=E[B+2],O[v+3]=E[B+1];else for(var C=0;C<a;++C)A=E[B+C],O[v+(3&-C)]=D[o[A>>>24]]^L[o[A>>>16&255]]^j[o[A>>>8&255]]^Y[o[A&255]];E=O}return E}function h(w,_,E,p){var m=w.length/4-1,S,F,I,v,A;p?(S=c[0],F=c[1],I=c[2],v=c[3],A=s):(S=l[0],F=l[1],I=l[2],v=l[3],A=o);var D,L,j,Y,O,B,C;D=_[0]^w[0],L=_[p?3:1]^w[1],j=_[2]^w[2],Y=_[p?1:3]^w[3];for(var N=3,U=1;U<m;++U)O=S[D>>>24]^F[L>>>16&255]^I[j>>>8&255]^v[Y&255]^w[++N],B=S[L>>>24]^F[j>>>16&255]^I[Y>>>8&255]^v[D&255]^w[++N],C=S[j>>>24]^F[Y>>>16&255]^I[D>>>8&255]^v[L&255]^w[++N],Y=S[Y>>>24]^F[D>>>16&255]^I[L>>>8&255]^v[j&255]^w[++N],D=O,L=B,j=C;E[0]=A[D>>>24]<<24^A[L>>>16&255]<<16^A[j>>>8&255]<<8^A[Y&255]^w[++N],E[p?3:1]=A[L>>>24]<<24^A[j>>>16&255]<<16^A[Y>>>8&255]<<8^A[D&255]^w[++N],E[2]=A[j>>>24]<<24^A[Y>>>16&255]<<16^A[D>>>8&255]<<8^A[L&255]^w[++N],E[p?1:3]=A[Y>>>24]<<24^A[D>>>16&255]<<16^A[L>>>8&255]<<8^A[j&255]^w[++N]}function y(w){w=w||{};var _=(w.mode||"CBC").toUpperCase(),E="AES-"+_,p;w.decrypt?p=r.cipher.createDecipher(E,w.key):p=r.cipher.createCipher(E,w.key);var m=p.start;return p.start=function(S,F){var I=null;F instanceof r.util.ByteBuffer&&(I=F,F={}),F=F||{},F.output=I,F.iv=S,m.call(p,F)},p}}}),Gl=Qt({"../../node_modules/node-forge/lib/oids.js"(t,e){var r=er();r.pki=r.pki||{};var n=e.exports=r.pki.oids=r.oids=r.oids||{};function i(o,s){n[o]=s,n[s]=o}function a(o,s){n[o]=s}i("1.2.840.113549.1.1.1","rsaEncryption"),i("1.2.840.113549.1.1.4","md5WithRSAEncryption"),i("1.2.840.113549.1.1.5","sha1WithRSAEncryption"),i("1.2.840.113549.1.1.7","RSAES-OAEP"),i("1.2.840.113549.1.1.8","mgf1"),i("1.2.840.113549.1.1.9","pSpecified"),i("1.2.840.113549.1.1.10","RSASSA-PSS"),i("1.2.840.113549.1.1.11","sha256WithRSAEncryption"),i("1.2.840.113549.1.1.12","sha384WithRSAEncryption"),i("1.2.840.113549.1.1.13","sha512WithRSAEncryption"),i("1.3.101.112","EdDSA25519"),i("1.2.840.10040.4.3","dsa-with-sha1"),i("1.3.14.3.2.7","desCBC"),i("1.3.14.3.2.26","sha1"),i("1.3.14.3.2.29","sha1WithRSASignature"),i("2.16.840.1.101.3.4.2.1","sha256"),i("2.16.840.1.101.3.4.2.2","sha384"),i("2.16.840.1.101.3.4.2.3","sha512"),i("2.16.840.1.101.3.4.2.4","sha224"),i("2.16.840.1.101.3.4.2.5","sha512-224"),i("2.16.840.1.101.3.4.2.6","sha512-256"),i("1.2.840.113549.2.2","md2"),i("1.2.840.113549.2.5","md5"),i("1.2.840.113549.1.7.1","data"),i("1.2.840.113549.1.7.2","signedData"),i("1.2.840.113549.1.7.3","envelopedData"),i("1.2.840.113549.1.7.4","signedAndEnvelopedData"),i("1.2.840.113549.1.7.5","digestedData"),i("1.2.840.113549.1.7.6","encryptedData"),i("1.2.840.113549.1.9.1","emailAddress"),i("1.2.840.113549.1.9.2","unstructuredName"),i("1.2.840.113549.1.9.3","contentType"),i("1.2.840.113549.1.9.4","messageDigest"),i("1.2.840.113549.1.9.5","signingTime"),i("1.2.840.113549.1.9.6","counterSignature"),i("1.2.840.113549.1.9.7","challengePassword"),i("1.2.840.113549.1.9.8","unstructuredAddress"),i("1.2.840.113549.1.9.14","extensionRequest"),i("1.2.840.113549.1.9.20","friendlyName"),i("1.2.840.113549.1.9.21","localKeyId"),i("1.2.840.113549.1.9.22.1","x509Certificate"),i("1.2.840.113549.1.12.10.1.1","keyBag"),i("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag"),i("1.2.840.113549.1.12.10.1.3","certBag"),i("1.2.840.113549.1.12.10.1.4","crlBag"),i("1.2.840.113549.1.12.10.1.5","secretBag"),i("1.2.840.113549.1.12.10.1.6","safeContentsBag"),i("1.2.840.113549.1.5.13","pkcs5PBES2"),i("1.2.840.113549.1.5.12","pkcs5PBKDF2"),i("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4"),i("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4"),i("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC"),i("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC"),i("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC"),i("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC"),i("1.2.840.113549.2.7","hmacWithSHA1"),i("1.2.840.113549.2.8","hmacWithSHA224"),i("1.2.840.113549.2.9","hmacWithSHA256"),i("1.2.840.113549.2.10","hmacWithSHA384"),i("1.2.840.113549.2.11","hmacWithSHA512"),i("1.2.840.113549.3.7","des-EDE3-CBC"),i("2.16.840.1.101.3.4.1.2","aes128-CBC"),i("2.16.840.1.101.3.4.1.22","aes192-CBC"),i("2.16.840.1.101.3.4.1.42","aes256-CBC"),i("2.5.4.3","commonName"),i("2.5.4.4","surname"),i("2.5.4.5","serialNumber"),i("2.5.4.6","countryName"),i("2.5.4.7","localityName"),i("2.5.4.8","stateOrProvinceName"),i("2.5.4.9","streetAddress"),i("2.5.4.10","organizationName"),i("2.5.4.11","organizationalUnitName"),i("2.5.4.12","title"),i("2.5.4.13","description"),i("2.5.4.15","businessCategory"),i("2.5.4.17","postalCode"),i("2.5.4.42","givenName"),i("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName"),i("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName"),i("2.16.840.1.113730.1.1","nsCertType"),i("2.16.840.1.113730.1.13","nsComment"),a("2.5.29.1","authorityKeyIdentifier"),a("2.5.29.2","keyAttributes"),a("2.5.29.3","certificatePolicies"),a("2.5.29.4","keyUsageRestriction"),a("2.5.29.5","policyMapping"),a("2.5.29.6","subtreesConstraint"),a("2.5.29.7","subjectAltName"),a("2.5.29.8","issuerAltName"),a("2.5.29.9","subjectDirectoryAttributes"),a("2.5.29.10","basicConstraints"),a("2.5.29.11","nameConstraints"),a("2.5.29.12","policyConstraints"),a("2.5.29.13","basicConstraints"),i("2.5.29.14","subjectKeyIdentifier"),i("2.5.29.15","keyUsage"),a("2.5.29.16","privateKeyUsagePeriod"),i("2.5.29.17","subjectAltName"),i("2.5.29.18","issuerAltName"),i("2.5.29.19","basicConstraints"),a("2.5.29.20","cRLNumber"),a("2.5.29.21","cRLReason"),a("2.5.29.22","expirationDate"),a("2.5.29.23","instructionCode"),a("2.5.29.24","invalidityDate"),a("2.5.29.25","cRLDistributionPoints"),a("2.5.29.26","issuingDistributionPoint"),a("2.5.29.27","deltaCRLIndicator"),a("2.5.29.28","issuingDistributionPoint"),a("2.5.29.29","certificateIssuer"),a("2.5.29.30","nameConstraints"),i("2.5.29.31","cRLDistributionPoints"),i("2.5.29.32","certificatePolicies"),a("2.5.29.33","policyMappings"),a("2.5.29.34","policyConstraints"),i("2.5.29.35","authorityKeyIdentifier"),a("2.5.29.36","policyConstraints"),i("2.5.29.37","extKeyUsage"),a("2.5.29.46","freshestCRL"),a("2.5.29.54","inhibitAnyPolicy"),i("1.3.6.1.4.1.11129.2.4.2","timestampList"),i("1.3.6.1.5.5.7.1.1","authorityInfoAccess"),i("1.3.6.1.5.5.7.3.1","serverAuth"),i("1.3.6.1.5.5.7.3.2","clientAuth"),i("1.3.6.1.5.5.7.3.3","codeSigning"),i("1.3.6.1.5.5.7.3.4","emailProtection"),i("1.3.6.1.5.5.7.3.8","timeStamping")}}),$o=Qt({"../../node_modules/node-forge/lib/asn1.js"(t,e){var r=er();wr(),Gl();var n=e.exports=r.asn1=r.asn1||{};n.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192},n.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30},n.create=function(u,l,c,f,d){if(r.util.isArray(f)){for(var h=[],y=0;y<f.length;++y)f[y]!==void 0&&h.push(f[y]);f=h}var w={tagClass:u,type:l,constructed:c,composed:c||r.util.isArray(f),value:f};return d&&"bitStringContents"in d&&(w.bitStringContents=d.bitStringContents,w.original=n.copy(w)),w},n.copy=function(u,l){var c;if(r.util.isArray(u)){c=[];for(var f=0;f<u.length;++f)c.push(n.copy(u[f],l));return c}return typeof u=="string"?u:(c={tagClass:u.tagClass,type:u.type,constructed:u.constructed,composed:u.composed,value:n.copy(u.value,l)},l&&!l.excludeBitStringContents&&(c.bitStringContents=u.bitStringContents),c)},n.equals=function(u,l,c){if(r.util.isArray(u)){if(!r.util.isArray(l)||u.length!==l.length)return!1;for(var f=0;f<u.length;++f)if(!n.equals(u[f],l[f]))return!1;return!0}if(typeof u!=typeof l)return!1;if(typeof u=="string")return u===l;var d=u.tagClass===l.tagClass&&u.type===l.type&&u.constructed===l.constructed&&u.composed===l.composed&&n.equals(u.value,l.value);return c&&c.includeBitStringContents&&(d=d&&u.bitStringContents===l.bitStringContents),d},n.getBerValueLength=function(u){var l=u.getByte();if(l!==128){var c,f=l&128;return f?c=u.getInt((l&127)<<3):c=l,c}};function i(u,l,c){if(c>l){var f=new Error("Too few bytes to parse DER.");throw f.available=u.length(),f.remaining=l,f.requested=c,f}}var a=function(u,l){var c=u.getByte();if(l--,c!==128){var f,d=c&128;if(!d)f=c;else{var h=c&127;i(u,l,h),f=u.getInt(h<<3)}if(f<0)throw new Error("Negative length: "+f);return f}};n.fromDer=function(u,l){l===void 0&&(l={strict:!0,parseAllBytes:!0,decodeBitStrings:!0}),typeof l=="boolean"&&(l={strict:l,parseAllBytes:!0,decodeBitStrings:!0}),"strict"in l||(l.strict=!0),"parseAllBytes"in l||(l.parseAllBytes=!0),"decodeBitStrings"in l||(l.decodeBitStrings=!0),typeof u=="string"&&(u=r.util.createBuffer(u));var c=u.length(),f=o(u,u.length(),0,l);if(l.parseAllBytes&&u.length()!==0){var d=new Error("Unparsed DER bytes remain after ASN.1 parsing.");throw d.byteCount=c,d.remaining=u.length(),d}return f};function o(u,l,c,f){var d;i(u,l,2);var h=u.getByte();l--;var y=h&192,w=h&31;d=u.length();var _=a(u,l);if(l-=d-u.length(),_!==void 0&&_>l){if(f.strict){var E=new Error("Too few bytes to read ASN.1 value.");throw E.available=u.length(),E.remaining=l,E.requested=_,E}_=l}var p,m,S=(h&32)===32;if(S)if(p=[],_===void 0)for(;;){if(i(u,l,2),u.bytes(2)==="\0\0"){u.getBytes(2),l-=2;break}d=u.length(),p.push(o(u,l,c+1,f)),l-=d-u.length()}else for(;_>0;)d=u.length(),p.push(o(u,_,c+1,f)),l-=d-u.length(),_-=d-u.length();if(p===void 0&&y===n.Class.UNIVERSAL&&w===n.Type.BITSTRING&&(m=u.bytes(_)),p===void 0&&f.decodeBitStrings&&y===n.Class.UNIVERSAL&&w===n.Type.BITSTRING&&_>1){var F=u.read,I=l,v=0;if(w===n.Type.BITSTRING&&(i(u,l,1),v=u.getByte(),l--),v===0)try{d=u.length();var A={strict:!0,decodeBitStrings:!0},D=o(u,l,c+1,A),L=d-u.length();l-=L,w==n.Type.BITSTRING&&L++;var j=D.tagClass;L===_&&(j===n.Class.UNIVERSAL||j===n.Class.CONTEXT_SPECIFIC)&&(p=[D])}catch{}p===void 0&&(u.read=F,l=I)}if(p===void 0){if(_===void 0){if(f.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");_=l}if(w===n.Type.BMPSTRING)for(p="";_>0;_-=2)i(u,l,2),p+=String.fromCharCode(u.getInt16()),l-=2;else p=u.getBytes(_),l-=_}var Y=m===void 0?null:{bitStringContents:m};return n.create(y,w,S,p,Y)}n.toDer=function(u){var l=r.util.createBuffer(),c=u.tagClass|u.type,f=r.util.createBuffer(),d=!1;if("bitStringContents"in u&&(d=!0,u.original&&(d=n.equals(u,u.original))),d)f.putBytes(u.bitStringContents);else if(u.composed){u.constructed?c|=32:f.putByte(0);for(var h=0;h<u.value.length;++h)u.value[h]!==void 0&&f.putBuffer(n.toDer(u.value[h]))}else if(u.type===n.Type.BMPSTRING)for(var h=0;h<u.value.length;++h)f.putInt16(u.value.charCodeAt(h));else u.type===n.Type.INTEGER&&u.value.length>1&&(u.value.charCodeAt(0)===0&&!(u.value.charCodeAt(1)&128)||u.value.charCodeAt(0)===255&&(u.value.charCodeAt(1)&128)===128)?f.putBytes(u.value.substr(1)):f.putBytes(u.value);if(l.putByte(c),f.length()<=127)l.putByte(f.length()&127);else{var y=f.length(),w="";do w+=String.fromCharCode(y&255),y=y>>>8;while(y>0);l.putByte(w.length|128);for(var h=w.length-1;h>=0;--h)l.putByte(w.charCodeAt(h))}return l.putBuffer(f),l},n.oidToDer=function(u){var l=u.split("."),c=r.util.createBuffer();c.putByte(40*parseInt(l[0],10)+parseInt(l[1],10));for(var f,d,h,y,w=2;w<l.length;++w){f=!0,d=[],h=parseInt(l[w],10);do y=h&127,h=h>>>7,f||(y|=128),d.push(y),f=!1;while(h>0);for(var _=d.length-1;_>=0;--_)c.putByte(d[_])}return c},n.derToOid=function(u){var l;typeof u=="string"&&(u=r.util.createBuffer(u));var c=u.getByte();l=Math.floor(c/40)+"."+c%40;for(var f=0;u.length()>0;)c=u.getByte(),f=f<<7,c&128?f+=c&127:(l+="."+(f+c),f=0);return l},n.utcTimeToDate=function(u){var l=new Date,c=parseInt(u.substr(0,2),10);c=c>=50?1900+c:2e3+c;var f=parseInt(u.substr(2,2),10)-1,d=parseInt(u.substr(4,2),10),h=parseInt(u.substr(6,2),10),y=parseInt(u.substr(8,2),10),w=0;if(u.length>11){var _=u.charAt(10),E=10;_!=="+"&&_!=="-"&&(w=parseInt(u.substr(10,2),10),E+=2)}if(l.setUTCFullYear(c,f,d),l.setUTCHours(h,y,w,0),E&&(_=u.charAt(E),_==="+"||_==="-")){var p=parseInt(u.substr(E+1,2),10),m=parseInt(u.substr(E+4,2),10),S=p*60+m;S*=6e4,_==="+"?l.setTime(+l-S):l.setTime(+l+S)}return l},n.generalizedTimeToDate=function(u){var l=new Date,c=parseInt(u.substr(0,4),10),f=parseInt(u.substr(4,2),10)-1,d=parseInt(u.substr(6,2),10),h=parseInt(u.substr(8,2),10),y=parseInt(u.substr(10,2),10),w=parseInt(u.substr(12,2),10),_=0,E=0,p=!1;u.charAt(u.length-1)==="Z"&&(p=!0);var m=u.length-5,S=u.charAt(m);if(S==="+"||S==="-"){var F=parseInt(u.substr(m+1,2),10),I=parseInt(u.substr(m+4,2),10);E=F*60+I,E*=6e4,S==="+"&&(E*=-1),p=!0}return u.charAt(14)==="."&&(_=parseFloat(u.substr(14),10)*1e3),p?(l.setUTCFullYear(c,f,d),l.setUTCHours(h,y,w,_),l.setTime(+l+E)):(l.setFullYear(c,f,d),l.setHours(h,y,w,_)),l},n.dateToUtcTime=function(u){if(typeof u=="string")return u;var l="",c=[];c.push((""+u.getUTCFullYear()).substr(2)),c.push(""+(u.getUTCMonth()+1)),c.push(""+u.getUTCDate()),c.push(""+u.getUTCHours()),c.push(""+u.getUTCMinutes()),c.push(""+u.getUTCSeconds());for(var f=0;f<c.length;++f)c[f].length<2&&(l+="0"),l+=c[f];return l+="Z",l},n.dateToGeneralizedTime=function(u){if(typeof u=="string")return u;var l="",c=[];c.push(""+u.getUTCFullYear()),c.push(""+(u.getUTCMonth()+1)),c.push(""+u.getUTCDate()),c.push(""+u.getUTCHours()),c.push(""+u.getUTCMinutes()),c.push(""+u.getUTCSeconds());for(var f=0;f<c.length;++f)c[f].length<2&&(l+="0"),l+=c[f];return l+="Z",l},n.integerToDer=function(u){var l=r.util.createBuffer();if(u>=-128&&u<128)return l.putSignedInt(u,8);if(u>=-32768&&u<32768)return l.putSignedInt(u,16);if(u>=-8388608&&u<8388608)return l.putSignedInt(u,24);if(u>=-2147483648&&u<2147483648)return l.putSignedInt(u,32);var c=new Error("Integer too large; max is 32-bits.");throw c.integer=u,c},n.derToInteger=function(u){typeof u=="string"&&(u=r.util.createBuffer(u));var l=u.length()*8;if(l>32)throw new Error("Integer too large; max is 32-bits.");return u.getSignedInt(l)},n.validate=function(u,l,c,f){var d=!1;if((u.tagClass===l.tagClass||typeof l.tagClass>"u")&&(u.type===l.type||typeof l.type>"u"))if(u.constructed===l.constructed||typeof l.constructed>"u"){if(d=!0,l.value&&r.util.isArray(l.value))for(var h=0,y=0;d&&y<l.value.length;++y)d=l.value[y].optional||!1,u.value[h]&&(d=n.validate(u.value[h],l.value[y],c,f),d?++h:l.value[y].optional&&(d=!0)),!d&&f&&f.push("["+l.name+'] Tag class "'+l.tagClass+'", type "'+l.type+'" expected value length "'+l.value.length+'", got "'+u.value.length+'"');if(d&&c&&(l.capture&&(c[l.capture]=u.value),l.captureAsn1&&(c[l.captureAsn1]=u),l.captureBitStringContents&&"bitStringContents"in u&&(c[l.captureBitStringContents]=u.bitStringContents),l.captureBitStringValue&&"bitStringContents"in u))if(u.bitStringContents.length<2)c[l.captureBitStringValue]="";else{var w=u.bitStringContents.charCodeAt(0);if(w!==0)throw new Error("captureBitStringValue only supported for zero unused bits");c[l.captureBitStringValue]=u.bitStringContents.slice(1)}}else f&&f.push("["+l.name+'] Expected constructed "'+l.constructed+'", got "'+u.constructed+'"');else f&&(u.tagClass!==l.tagClass&&f.push("["+l.name+'] Expected tag class "'+l.tagClass+'", got "'+u.tagClass+'"'),u.type!==l.type&&f.push("["+l.name+'] Expected type "'+l.type+'", got "'+u.type+'"'));return d};var s=/[^\\u0000-\\u00ff]/;n.prettyPrint=function(u,l,c){var f="";l=l||0,c=c||2,l>0&&(f+=`
`);for(var d="",h=0;h<l*c;++h)d+=" ";switch(f+=d+"Tag: ",u.tagClass){case n.Class.UNIVERSAL:f+="Universal:";break;case n.Class.APPLICATION:f+="Application:";break;case n.Class.CONTEXT_SPECIFIC:f+="Context-Specific:";break;case n.Class.PRIVATE:f+="Private:";break}if(u.tagClass===n.Class.UNIVERSAL)switch(f+=u.type,u.type){case n.Type.NONE:f+=" (None)";break;case n.Type.BOOLEAN:f+=" (Boolean)";break;case n.Type.INTEGER:f+=" (Integer)";break;case n.Type.BITSTRING:f+=" (Bit string)";break;case n.Type.OCTETSTRING:f+=" (Octet string)";break;case n.Type.NULL:f+=" (Null)";break;case n.Type.OID:f+=" (Object Identifier)";break;case n.Type.ODESC:f+=" (Object Descriptor)";break;case n.Type.EXTERNAL:f+=" (External or Instance of)";break;case n.Type.REAL:f+=" (Real)";break;case n.Type.ENUMERATED:f+=" (Enumerated)";break;case n.Type.EMBEDDED:f+=" (Embedded PDV)";break;case n.Type.UTF8:f+=" (UTF8)";break;case n.Type.ROID:f+=" (Relative Object Identifier)";break;case n.Type.SEQUENCE:f+=" (Sequence)";break;case n.Type.SET:f+=" (Set)";break;case n.Type.PRINTABLESTRING:f+=" (Printable String)";break;case n.Type.IA5String:f+=" (IA5String (ASCII))";break;case n.Type.UTCTIME:f+=" (UTC time)";break;case n.Type.GENERALIZEDTIME:f+=" (Generalized time)";break;case n.Type.BMPSTRING:f+=" (BMP String)";break}else f+=u.type;if(f+=`
`,f+=d+"Constructed: "+u.constructed+`
`,u.composed){for(var y=0,w="",h=0;h<u.value.length;++h)u.value[h]!==void 0&&(y+=1,w+=n.prettyPrint(u.value[h],l+1,c),h+1<u.value.length&&(w+=","));f+=d+"Sub values: "+y+w}else{if(f+=d+"Value: ",u.type===n.Type.OID){var _=n.derToOid(u.value);f+=_,r.pki&&r.pki.oids&&_ in r.pki.oids&&(f+=" ("+r.pki.oids[_]+") ")}if(u.type===n.Type.INTEGER)try{f+=n.derToInteger(u.value)}catch{f+="0x"+r.util.bytesToHex(u.value)}else if(u.type===n.Type.BITSTRING){if(u.value.length>1?f+="0x"+r.util.bytesToHex(u.value.slice(1)):f+="(none)",u.value.length>0){var E=u.value.charCodeAt(0);E==1?f+=" (1 unused bit shown)":E>1&&(f+=" ("+E+" unused bits shown)")}}else if(u.type===n.Type.OCTETSTRING)s.test(u.value)||(f+="("+u.value+") "),f+="0x"+r.util.bytesToHex(u.value);else if(u.type===n.Type.UTF8)try{f+=r.util.decodeUtf8(u.value)}catch(p){if(p.message==="URI malformed")f+="0x"+r.util.bytesToHex(u.value)+" (malformed UTF8)";else throw p}else u.type===n.Type.PRINTABLESTRING||u.type===n.Type.IA5String?f+=u.value:s.test(u.value)?f+="0x"+r.util.bytesToHex(u.value):u.value.length===0?f+="[null]":f+=u.value}return f}}}),Ms=Qt({"../../node_modules/node-forge/lib/md.js"(t,e){var r=er();e.exports=r.md=r.md||{},r.md.algorithms=r.md.algorithms||{}}}),Qd=Qt({"../../node_modules/node-forge/lib/hmac.js"(t,e){var r=er();Ms(),wr();var n=e.exports=r.hmac=r.hmac||{};n.create=function(){var i=null,a=null,o=null,s=null,u={};return u.start=function(l,c){if(l!==null)if(typeof l=="string")if(l=l.toLowerCase(),l in r.md.algorithms)a=r.md.algorithms[l].create();else throw new Error('Unknown hash algorithm "'+l+'"');else a=l;if(c===null)c=i;else{if(typeof c=="string")c=r.util.createBuffer(c);else if(r.util.isArray(c)){var f=c;c=r.util.createBuffer();for(var d=0;d<f.length;++d)c.putByte(f[d])}var h=c.length();h>a.blockLength&&(a.start(),a.update(c.bytes()),c=a.digest()),o=r.util.createBuffer(),s=r.util.createBuffer(),h=c.length();for(var d=0;d<h;++d){var f=c.at(d);o.putByte(54^f),s.putByte(92^f)}if(h<a.blockLength)for(var f=a.blockLength-h,d=0;d<f;++d)o.putByte(54),s.putByte(92);i=c,o=o.bytes(),s=s.bytes()}a.start(),a.update(o)},u.update=function(l){a.update(l)},u.getMac=function(){var l=a.digest().bytes();return a.start(),a.update(s),a.update(l),a.digest()},u.digest=u.getMac,u}}}),$8=Qt({"../../node_modules/node-forge/lib/md5.js"(t,e){var r=er();Ms(),wr();var n=e.exports=r.md5=r.md5||{};r.md.md5=r.md.algorithms.md5=n,n.create=function(){u||l();var f=null,d=r.util.createBuffer(),h=new Array(16),y={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8};return y.start=function(){y.messageLength=0,y.fullMessageLength=y.messageLength64=[];for(var w=y.messageLengthSize/4,_=0;_<w;++_)y.fullMessageLength.push(0);return d=r.util.createBuffer(),f={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},y},y.start(),y.update=function(w,_){_==="utf8"&&(w=r.util.encodeUtf8(w));var E=w.length;y.messageLength+=E,E=[E/4294967296>>>0,E>>>0];for(var p=y.fullMessageLength.length-1;p>=0;--p)y.fullMessageLength[p]+=E[1],E[1]=E[0]+(y.fullMessageLength[p]/4294967296>>>0),y.fullMessageLength[p]=y.fullMessageLength[p]>>>0,E[0]=E[1]/4294967296>>>0;return d.putBytes(w),c(f,h,d),(d.read>2048||d.length()===0)&&d.compact(),y},y.digest=function(){var w=r.util.createBuffer();w.putBytes(d.bytes());var _=y.fullMessageLength[y.fullMessageLength.length-1]+y.messageLengthSize,E=_&y.blockLength-1;w.putBytes(i.substr(0,y.blockLength-E));for(var p,m=0,S=y.fullMessageLength.length-1;S>=0;--S)p=y.fullMessageLength[S]*8+m,m=p/4294967296>>>0,w.putInt32Le(p>>>0);var F={h0:f.h0,h1:f.h1,h2:f.h2,h3:f.h3};c(F,h,w);var I=r.util.createBuffer();return I.putInt32Le(F.h0),I.putInt32Le(F.h1),I.putInt32Le(F.h2),I.putInt32Le(F.h3),I},y};var i=null,a=null,o=null,s=null,u=!1;function l(){i="",i+=r.util.fillString("\0",64),a=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],o=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],s=new Array(64);for(var f=0;f<64;++f)s[f]=Math.floor(Math.abs(Math.sin(f+1))*4294967296);u=!0}function c(f,d,h){for(var y,w,_,E,p,m,S,F,I=h.length();I>=64;){for(w=f.h0,_=f.h1,E=f.h2,p=f.h3,F=0;F<16;++F)d[F]=h.getInt32Le(),m=p^_&(E^p),y=w+m+s[F]+d[F],S=o[F],w=p,p=E,E=_,_+=y<<S|y>>>32-S;for(;F<32;++F)m=E^p&(_^E),y=w+m+s[F]+d[a[F]],S=o[F],w=p,p=E,E=_,_+=y<<S|y>>>32-S;for(;F<48;++F)m=_^E^p,y=w+m+s[F]+d[a[F]],S=o[F],w=p,p=E,E=_,_+=y<<S|y>>>32-S;for(;F<64;++F)m=E^(_|~p),y=w+m+s[F]+d[a[F]],S=o[F],w=p,p=E,E=_,_+=y<<S|y>>>32-S;f.h0=f.h0+w|0,f.h1=f.h1+_|0,f.h2=f.h2+E|0,f.h3=f.h3+p|0,I-=64}}}}),wu=Qt({"../../node_modules/node-forge/lib/pem.js"(t,e){var r=er();wr();var n=e.exports=r.pem=r.pem||{};n.encode=function(o,s){s=s||{};var u="-----BEGIN "+o.type+`-----\r
`,l;if(o.procType&&(l={name:"Proc-Type",values:[String(o.procType.version),o.procType.type]},u+=i(l)),o.contentDomain&&(l={name:"Content-Domain",values:[o.contentDomain]},u+=i(l)),o.dekInfo&&(l={name:"DEK-Info",values:[o.dekInfo.algorithm]},o.dekInfo.parameters&&l.values.push(o.dekInfo.parameters),u+=i(l)),o.headers)for(var c=0;c<o.headers.length;++c)u+=i(o.headers[c]);return o.procType&&(u+=`\r
`),u+=r.util.encode64(o.body,s.maxline||64)+`\r
`,u+="-----END "+o.type+`-----\r
`,u},n.decode=function(o){for(var s=[],u=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,l=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,c=/\r?\n/,f;f=u.exec(o),!!f;){var d=f[1];d==="NEW CERTIFICATE REQUEST"&&(d="CERTIFICATE REQUEST");var h={type:d,procType:null,contentDomain:null,dekInfo:null,headers:[],body:r.util.decode64(f[3])};if(s.push(h),!!f[2]){for(var y=f[2].split(c),w=0;f&&w<y.length;){for(var _=y[w].replace(/\s+$/,""),E=w+1;E<y.length;++E){var p=y[E];if(!/\s/.test(p[0]))break;_+=p,w=E}if(f=_.match(l),f){for(var m={name:f[1],values:[]},S=f[2].split(","),F=0;F<S.length;++F)m.values.push(a(S[F]));if(h.procType)if(!h.contentDomain&&m.name==="Content-Domain")h.contentDomain=S[0]||"";else if(!h.dekInfo&&m.name==="DEK-Info"){if(m.values.length===0)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');h.dekInfo={algorithm:S[0],parameters:S[1]||null}}else h.headers.push(m);else{if(m.name!=="Proc-Type")throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(m.values.length!==2)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');h.procType={version:S[0],type:S[1]}}}++w}if(h.procType==="ENCRYPTED"&&!h.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(s.length===0)throw new Error("Invalid PEM formatted message.");return s};function i(o){for(var s=o.name+": ",u=[],l=function(y,w){return" "+w},c=0;c<o.values.length;++c)u.push(o.values[c].replace(/^(\S+\r\n)/,l));s+=u.join(",")+`\r
`;for(var f=0,d=-1,c=0;c<s.length;++c,++f)if(f>65&&d!==-1){var h=s[d];h===","?(++d,s=s.substr(0,d)+`\r
 `+s.substr(d)):s=s.substr(0,d)+`\r
`+h+s.substr(d+1),f=c-d-1,d=-1,++c}else(s[c]===" "||s[c]==="	"||s[c]===",")&&(d=c);return s}function a(o){return o.replace(/^\s+/,"")}}}),Ap=Qt({"../../node_modules/node-forge/lib/des.js"(t,e){var r=er();j8(),kB(),wr(),e.exports=r.des=r.des||{},r.des.startEncrypting=function(w,_,E,p){var m=y({key:w,output:E,decrypt:!1,mode:p||(_===null?"ECB":"CBC")});return m.start(_),m},r.des.createEncryptionCipher=function(w,_){return y({key:w,output:null,decrypt:!1,mode:_})},r.des.startDecrypting=function(w,_,E,p){var m=y({key:w,output:E,decrypt:!0,mode:p||(_===null?"ECB":"CBC")});return m.start(_),m},r.des.createDecryptionCipher=function(w,_){return y({key:w,output:null,decrypt:!0,mode:_})},r.des.Algorithm=function(w,_){var E=this;E.name=w,E.mode=new _({blockSize:8,cipher:{encrypt:function(p,m){return h(E._keys,p,m,!1)},decrypt:function(p,m){return h(E._keys,p,m,!0)}}}),E._init=!1},r.des.Algorithm.prototype.initialize=function(w){if(!this._init){var _=r.util.createBuffer(w.key);if(this.name.indexOf("3DES")===0&&_.length()!==24)throw new Error("Invalid Triple-DES key size: "+_.length()*8);this._keys=d(_),this._init=!0}},n("DES-ECB",r.cipher.modes.ecb),n("DES-CBC",r.cipher.modes.cbc),n("DES-CFB",r.cipher.modes.cfb),n("DES-OFB",r.cipher.modes.ofb),n("DES-CTR",r.cipher.modes.ctr),n("3DES-ECB",r.cipher.modes.ecb),n("3DES-CBC",r.cipher.modes.cbc),n("3DES-CFB",r.cipher.modes.cfb),n("3DES-OFB",r.cipher.modes.ofb),n("3DES-CTR",r.cipher.modes.ctr);function n(w,_){var E=function(){return new r.des.Algorithm(w,_)};r.cipher.registerAlgorithm(w,E)}var i=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],a=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],o=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],s=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],u=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],l=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],c=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],f=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function d(w){for(var _=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],E=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],p=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],m=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],S=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],F=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],I=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],v=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],A=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],D=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],L=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],j=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],Y=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],O=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],B=w.length()>8?3:1,C=[],N=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],U=0,G,$=0;$<B;$++){var Z=w.getInt32(),W=w.getInt32();G=(Z>>>4^W)&252645135,W^=G,Z^=G<<4,G=(W>>>-16^Z)&65535,Z^=G,W^=G<<-16,G=(Z>>>2^W)&858993459,W^=G,Z^=G<<2,G=(W>>>-16^Z)&65535,Z^=G,W^=G<<-16,G=(Z>>>1^W)&1431655765,W^=G,Z^=G<<1,G=(W>>>8^Z)&16711935,Z^=G,W^=G<<8,G=(Z>>>1^W)&1431655765,W^=G,Z^=G<<1,G=Z<<8|W>>>20&240,Z=W<<24|W<<8&16711680|W>>>8&65280|W>>>24&240,W=G;for(var P=0;P<N.length;++P){N[P]?(Z=Z<<2|Z>>>26,W=W<<2|W>>>26):(Z=Z<<1|Z>>>27,W=W<<1|W>>>27),Z&=-15,W&=-15;var R=_[Z>>>28]|E[Z>>>24&15]|p[Z>>>20&15]|m[Z>>>16&15]|S[Z>>>12&15]|F[Z>>>8&15]|I[Z>>>4&15],re=v[W>>>28]|A[W>>>24&15]|D[W>>>20&15]|L[W>>>16&15]|j[W>>>12&15]|Y[W>>>8&15]|O[W>>>4&15];G=(re>>>16^R)&65535,C[U++]=R^G,C[U++]=re^G<<16}}return C}function h(w,_,E,p){var m=w.length===32?3:9,S;m===3?S=p?[30,-2,-2]:[0,32,2]:S=p?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var F,I=_[0],v=_[1];F=(I>>>4^v)&252645135,v^=F,I^=F<<4,F=(I>>>16^v)&65535,v^=F,I^=F<<16,F=(v>>>2^I)&858993459,I^=F,v^=F<<2,F=(v>>>8^I)&16711935,I^=F,v^=F<<8,F=(I>>>1^v)&1431655765,v^=F,I^=F<<1,I=I<<1|I>>>31,v=v<<1|v>>>31;for(var A=0;A<m;A+=3){for(var D=S[A+1],L=S[A+2],j=S[A];j!=D;j+=L){var Y=v^w[j],O=(v>>>4|v<<28)^w[j+1];F=I,I=v,v=F^(a[Y>>>24&63]|s[Y>>>16&63]|l[Y>>>8&63]|f[Y&63]|i[O>>>24&63]|o[O>>>16&63]|u[O>>>8&63]|c[O&63])}F=I,I=v,v=F}I=I>>>1|I<<31,v=v>>>1|v<<31,F=(I>>>1^v)&1431655765,v^=F,I^=F<<1,F=(v>>>8^I)&16711935,I^=F,v^=F<<8,F=(v>>>2^I)&858993459,I^=F,v^=F<<2,F=(I>>>16^v)&65535,v^=F,I^=F<<16,F=(I>>>4^v)&252645135,v^=F,I^=F<<4,E[0]=I,E[1]=v}function y(w){w=w||{};var _=(w.mode||"CBC").toUpperCase(),E="DES-"+_,p;w.decrypt?p=r.cipher.createDecipher(E,w.key):p=r.cipher.createCipher(E,w.key);var m=p.start;return p.start=function(S,F){var I=null;F instanceof r.util.ByteBuffer&&(I=F,F={}),F=F||{},F.output=I,F.iv=S,m.call(p,F)},p}}}),W8=Qt({"../../node_modules/node-forge/lib/pbkdf2.js"(t,e){var r=er();Qd(),Ms(),wr();var n=r.pkcs5=r.pkcs5||{},i;r.util.isNodejs&&!r.options.usePureJavaScript&&(i=O0),e.exports=r.pbkdf2=n.pbkdf2=function(a,o,s,u,l,c){if(typeof l=="function"&&(c=l,l=null),r.util.isNodejs&&!r.options.usePureJavaScript&&i.pbkdf2&&(l===null||typeof l!="object")&&(i.pbkdf2Sync.length>4||!l||l==="sha1"))return typeof l!="string"&&(l="sha1"),a=Buffer.from(a,"binary"),o=Buffer.from(o,"binary"),c?i.pbkdf2Sync.length===4?i.pbkdf2(a,o,s,u,function(A,D){if(A)return c(A);c(null,D.toString("binary"))}):i.pbkdf2(a,o,s,u,l,function(A,D){if(A)return c(A);c(null,D.toString("binary"))}):i.pbkdf2Sync.length===4?i.pbkdf2Sync(a,o,s,u).toString("binary"):i.pbkdf2Sync(a,o,s,u,l).toString("binary");if((typeof l>"u"||l===null)&&(l="sha1"),typeof l=="string"){if(!(l in r.md.algorithms))throw new Error("Unknown hash algorithm: "+l);l=r.md[l].create()}var f=l.digestLength;if(u>4294967295*f){var d=new Error("Derived key is too long.");if(c)return c(d);throw d}var h=Math.ceil(u/f),y=u-(h-1)*f,w=r.hmac.create();w.start(l,a);var _="",E,p,m;if(!c){for(var S=1;S<=h;++S){w.start(null,null),w.update(o),w.update(r.util.int32ToBytes(S)),E=m=w.digest().getBytes();for(var F=2;F<=s;++F)w.start(null,null),w.update(m),p=w.digest().getBytes(),E=r.util.xorBytes(E,p,f),m=p;_+=S<h?E:E.substr(0,y)}return _}var S=1,F;function I(){if(S>h)return c(null,_);w.start(null,null),w.update(o),w.update(r.util.int32ToBytes(S)),E=m=w.digest().getBytes(),F=2,v()}function v(){if(F<=s)return w.start(null,null),w.update(m),p=w.digest().getBytes(),E=r.util.xorBytes(E,p,f),m=p,++F,r.util.setImmediate(v);_+=S<h?E:E.substr(0,y),++S,I()}I()}}}),NB=Qt({"../../node_modules/node-forge/lib/sha256.js"(t,e){var r=er();Ms(),wr();var n=e.exports=r.sha256=r.sha256||{};r.md.sha256=r.md.algorithms.sha256=n,n.create=function(){a||s();var l=null,c=r.util.createBuffer(),f=new Array(64),d={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8};return d.start=function(){d.messageLength=0,d.fullMessageLength=d.messageLength64=[];for(var h=d.messageLengthSize/4,y=0;y<h;++y)d.fullMessageLength.push(0);return c=r.util.createBuffer(),l={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},d},d.start(),d.update=function(h,y){y==="utf8"&&(h=r.util.encodeUtf8(h));var w=h.length;d.messageLength+=w,w=[w/4294967296>>>0,w>>>0];for(var _=d.fullMessageLength.length-1;_>=0;--_)d.fullMessageLength[_]+=w[1],w[1]=w[0]+(d.fullMessageLength[_]/4294967296>>>0),d.fullMessageLength[_]=d.fullMessageLength[_]>>>0,w[0]=w[1]/4294967296>>>0;return c.putBytes(h),u(l,f,c),(c.read>2048||c.length()===0)&&c.compact(),d},d.digest=function(){var h=r.util.createBuffer();h.putBytes(c.bytes());var y=d.fullMessageLength[d.fullMessageLength.length-1]+d.messageLengthSize,w=y&d.blockLength-1;h.putBytes(i.substr(0,d.blockLength-w));for(var _,E,p=d.fullMessageLength[0]*8,m=0;m<d.fullMessageLength.length-1;++m)_=d.fullMessageLength[m+1]*8,E=_/4294967296>>>0,p+=E,h.putInt32(p>>>0),p=_>>>0;h.putInt32(p);var S={h0:l.h0,h1:l.h1,h2:l.h2,h3:l.h3,h4:l.h4,h5:l.h5,h6:l.h6,h7:l.h7};u(S,f,h);var F=r.util.createBuffer();return F.putInt32(S.h0),F.putInt32(S.h1),F.putInt32(S.h2),F.putInt32(S.h3),F.putInt32(S.h4),F.putInt32(S.h5),F.putInt32(S.h6),F.putInt32(S.h7),F},d};var i=null,a=!1,o=null;function s(){i="",i+=r.util.fillString("\0",64),o=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],a=!0}function u(l,c,f){for(var d,h,y,w,_,E,p,m,S,F,I,v,A,D,L,j=f.length();j>=64;){for(p=0;p<16;++p)c[p]=f.getInt32();for(;p<64;++p)d=c[p-2],d=(d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10,h=c[p-15],h=(h>>>7|h<<25)^(h>>>18|h<<14)^h>>>3,c[p]=d+c[p-7]+h+c[p-16]|0;for(m=l.h0,S=l.h1,F=l.h2,I=l.h3,v=l.h4,A=l.h5,D=l.h6,L=l.h7,p=0;p<64;++p)w=(v>>>6|v<<26)^(v>>>11|v<<21)^(v>>>25|v<<7),_=D^v&(A^D),y=(m>>>2|m<<30)^(m>>>13|m<<19)^(m>>>22|m<<10),E=m&S|F&(m^S),d=L+w+_+o[p]+c[p],h=y+E,L=D,D=A,A=v,v=I+d>>>0,I=F,F=S,S=m,m=d+h>>>0;l.h0=l.h0+m|0,l.h1=l.h1+S|0,l.h2=l.h2+F|0,l.h3=l.h3+I|0,l.h4=l.h4+v|0,l.h5=l.h5+A|0,l.h6=l.h6+D|0,l.h7=l.h7+L|0,j-=64}}}}),PB=Qt({"../../node_modules/node-forge/lib/prng.js"(t,e){var r=er();wr();var n=null;r.util.isNodejs&&!r.options.usePureJavaScript&&!process.versions["node-webkit"]&&(n=O0);var i=e.exports=r.prng=r.prng||{};i.create=function(a){for(var o={plugin:a,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},s=a.md,u=new Array(32),l=0;l<32;++l)u[l]=s.create();o.pools=u,o.pool=0,o.generate=function(y,w){if(!w)return o.generateSync(y);var _=o.plugin.cipher,E=o.plugin.increment,p=o.plugin.formatKey,m=o.plugin.formatSeed,S=r.util.createBuffer();o.key=null,F();function F(I){if(I)return w(I);if(S.length()>=y)return w(null,S.getBytes(y));if(o.generated>1048575&&(o.key=null),o.key===null)return r.util.nextTick(function(){c(F)});var v=_(o.key,o.seed);o.generated+=v.length,S.putBytes(v),o.key=p(_(o.key,E(o.seed))),o.seed=m(_(o.key,o.seed)),r.util.setImmediate(F)}},o.generateSync=function(y){var w=o.plugin.cipher,_=o.plugin.increment,E=o.plugin.formatKey,p=o.plugin.formatSeed;o.key=null;for(var m=r.util.createBuffer();m.length()<y;){o.generated>1048575&&(o.key=null),o.key===null&&f();var S=w(o.key,o.seed);o.generated+=S.length,m.putBytes(S),o.key=E(w(o.key,_(o.seed))),o.seed=p(w(o.key,o.seed))}return m.getBytes(y)};function c(y){if(o.pools[0].messageLength>=32)return d(),y();var w=32-o.pools[0].messageLength<<5;o.seedFile(w,function(_,E){if(_)return y(_);o.collect(E),d(),y()})}function f(){if(o.pools[0].messageLength>=32)return d();var y=32-o.pools[0].messageLength<<5;o.collect(o.seedFileSync(y)),d()}function d(){o.reseeds=o.reseeds===4294967295?0:o.reseeds+1;var y=o.plugin.md.create();y.update(o.keyBytes);for(var w=1,_=0;_<32;++_)o.reseeds%w===0&&(y.update(o.pools[_].digest().getBytes()),o.pools[_].start()),w=w<<1;o.keyBytes=y.digest().getBytes(),y.start(),y.update(o.keyBytes);var E=y.digest().getBytes();o.key=o.plugin.formatKey(o.keyBytes),o.seed=o.plugin.formatSeed(E),o.generated=0}function h(y){var w=null,_=r.util.globalScope,E=_.crypto||_.msCrypto;E&&E.getRandomValues&&(w=function(L){return E.getRandomValues(L)});var p=r.util.createBuffer();if(w)for(;p.length()<y;){var m=Math.max(1,Math.min(y-p.length(),65536)/4),S=new Uint32Array(Math.floor(m));try{w(S);for(var F=0;F<S.length;++F)p.putInt32(S[F])}catch(L){if(!(typeof QuotaExceededError<"u"&&L instanceof QuotaExceededError))throw L}}if(p.length()<y)for(var I,v,A,D=Math.floor(Math.random()*65536);p.length()<y;){v=16807*(D&65535),I=16807*(D>>16),v+=(I&32767)<<16,v+=I>>15,v=(v&2147483647)+(v>>31),D=v&4294967295;for(var F=0;F<3;++F)A=D>>>(F<<3),A^=Math.floor(Math.random()*256),p.putByte(A&255)}return p.getBytes(y)}return n?(o.seedFile=function(y,w){n.randomBytes(y,function(_,E){if(_)return w(_);w(null,E.toString())})},o.seedFileSync=function(y){return n.randomBytes(y).toString()}):(o.seedFile=function(y,w){try{w(null,h(y))}catch(_){w(_)}},o.seedFileSync=h),o.collect=function(y){for(var w=y.length,_=0;_<w;++_)o.pools[o.pool].update(y.substr(_,1)),o.pool=o.pool===31?0:o.pool+1},o.collectInt=function(y,w){for(var _="",E=0;E<w;E+=8)_+=String.fromCharCode(y>>E&255);o.collect(_)},o.registerWorker=function(y){if(y===self)o.seedFile=function(_,E){function p(m){var S=m.data;S.forge&&S.forge.prng&&(self.removeEventListener("message",p),E(S.forge.prng.err,S.forge.prng.bytes))}self.addEventListener("message",p),self.postMessage({forge:{prng:{needed:_}}})};else{var w=function(_){var E=_.data;E.forge&&E.forge.prng&&o.seedFile(E.forge.prng.needed,function(p,m){y.postMessage({forge:{prng:{err:p,bytes:m}}})})};y.addEventListener("message",w)}},o}}}),uo=Qt({"../../node_modules/node-forge/lib/random.js"(t,e){var r=er();Vl(),NB(),PB(),wr(),function(){if(r.random&&r.random.getBytes){e.exports=r.random;return}(function(n){var i={},a=new Array(4),o=r.util.createBuffer();i.formatKey=function(y){var w=r.util.createBuffer(y);return y=new Array(4),y[0]=w.getInt32(),y[1]=w.getInt32(),y[2]=w.getInt32(),y[3]=w.getInt32(),r.aes._expandKey(y,!1)},i.formatSeed=function(y){var w=r.util.createBuffer(y);return y=new Array(4),y[0]=w.getInt32(),y[1]=w.getInt32(),y[2]=w.getInt32(),y[3]=w.getInt32(),y},i.cipher=function(y,w){return r.aes._updateBlock(y,w,a,!1),o.putInt32(a[0]),o.putInt32(a[1]),o.putInt32(a[2]),o.putInt32(a[3]),o.getBytes()},i.increment=function(y){return++y[3],y},i.md=r.md.sha256;function s(){var y=r.prng.create(i);return y.getBytes=function(w,_){return y.generate(w,_)},y.getBytesSync=function(w){return y.generate(w)},y}var u=s(),l=null,c=r.util.globalScope,f=c.crypto||c.msCrypto;if(f&&f.getRandomValues&&(l=function(y){return f.getRandomValues(y)}),r.options.usePureJavaScript||!r.util.isNodejs&&!l){if(u.collectInt(+new Date,32),typeof navigator<"u"){var d="";for(var h in navigator)try{typeof navigator[h]=="string"&&(d+=navigator[h])}catch{}u.collect(d),d=null}n&&(n().mousemove(function(y){u.collectInt(y.clientX,16),u.collectInt(y.clientY,16)}),n().keypress(function(y){u.collectInt(y.charCode,8)}))}if(!r.random)r.random=u;else for(var h in u)r.random[h]=u[h];r.random.createInstance=s,e.exports=r.random})(typeof jQuery<"u"?jQuery:null)}()}}),RB=Qt({"../../node_modules/node-forge/lib/rc2.js"(t,e){var r=er();wr();var n=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],i=[1,2,3,5],a=function(u,l){return u<<l&65535|(u&65535)>>16-l},o=function(u,l){return(u&65535)>>l|u<<16-l&65535};e.exports=r.rc2=r.rc2||{},r.rc2.expandKey=function(u,l){typeof u=="string"&&(u=r.util.createBuffer(u)),l=l||128;var c=u,f=u.length(),d=l,h=Math.ceil(d/8),y=255>>(d&7),w;for(w=f;w<128;w++)c.putByte(n[c.at(w-1)+c.at(w-f)&255]);for(c.setAt(128-h,n[c.at(128-h)&y]),w=127-h;w>=0;w--)c.setAt(w,n[c.at(w+1)^c.at(w+h)]);return c};var s=function(u,l,c){var f=!1,d=null,h=null,y=null,w,_,E,p,m=[];for(u=r.rc2.expandKey(u,l),E=0;E<64;E++)m.push(u.getInt16Le());c?(w=function(I){for(E=0;E<4;E++)I[E]+=m[p]+(I[(E+3)%4]&I[(E+2)%4])+(~I[(E+3)%4]&I[(E+1)%4]),I[E]=a(I[E],i[E]),p++},_=function(I){for(E=0;E<4;E++)I[E]+=m[I[(E+3)%4]&63]}):(w=function(I){for(E=3;E>=0;E--)I[E]=o(I[E],i[E]),I[E]-=m[p]+(I[(E+3)%4]&I[(E+2)%4])+(~I[(E+3)%4]&I[(E+1)%4]),p--},_=function(I){for(E=3;E>=0;E--)I[E]-=m[I[(E+3)%4]&63]});var S=function(I){var v=[];for(E=0;E<4;E++){var A=d.getInt16Le();y!==null&&(c?A^=y.getInt16Le():y.putInt16Le(A)),v.push(A&65535)}p=c?0:63;for(var D=0;D<I.length;D++)for(var L=0;L<I[D][0];L++)I[D][1](v);for(E=0;E<4;E++)y!==null&&(c?y.putInt16Le(v[E]):v[E]^=y.getInt16Le()),h.putInt16Le(v[E])},F=null;return F={start:function(I,v){I&&typeof I=="string"&&(I=r.util.createBuffer(I)),f=!1,d=r.util.createBuffer(),h=v||new r.util.createBuffer,y=I,F.output=h},update:function(I){for(f||d.putBuffer(I);d.length()>=8;)S([[5,w],[1,_],[6,w],[1,_],[5,w]])},finish:function(I){var v=!0;if(c)if(I)v=I(8,d,!c);else{var A=d.length()===8?8:8-d.length();d.fillWithByte(A,A)}if(v&&(f=!0,F.update()),!c&&(v=d.length()===0,v))if(I)v=I(8,h,!c);else{var D=h.length(),L=h.at(D-1);L>D?v=!1:h.truncate(L)}return v}},F};r.rc2.startEncrypting=function(u,l,c){var f=r.rc2.createEncryptionCipher(u,128);return f.start(l,c),f},r.rc2.createEncryptionCipher=function(u,l){return s(u,l,!0)},r.rc2.startDecrypting=function(u,l,c){var f=r.rc2.createDecryptionCipher(u,128);return f.start(l,c),f},r.rc2.createDecryptionCipher=function(u,l){return s(u,l,!1)}}}),wp=Qt({"../../node_modules/node-forge/lib/jsbn.js"(t,e){var r=er();e.exports=r.jsbn=r.jsbn||{};var n;function i(ue,ee,ae){this.data=[],ue!=null&&(typeof ue=="number"?this.fromNumber(ue,ee,ae):ee==null&&typeof ue!="string"?this.fromString(ue,256):this.fromString(ue,ee))}r.jsbn.BigInteger=i;function a(){return new i(null)}function o(ue,ee,ae,se,Ee,Be){for(;--Be>=0;){var be=ee*this.data[ue++]+ae.data[se]+Ee;Ee=Math.floor(be/67108864),ae.data[se++]=be&67108863}return Ee}function s(ue,ee,ae,se,Ee,Be){for(var be=ee&32767,Ne=ee>>15;--Be>=0;){var Ye=this.data[ue]&32767,rt=this.data[ue++]>>15,ot=Ne*Ye+rt*be;Ye=be*Ye+((ot&32767)<<15)+ae.data[se]+(Ee&1073741823),Ee=(Ye>>>30)+(ot>>>15)+Ne*rt+(Ee>>>30),ae.data[se++]=Ye&1073741823}return Ee}function u(ue,ee,ae,se,Ee,Be){for(var be=ee&16383,Ne=ee>>14;--Be>=0;){var Ye=this.data[ue]&16383,rt=this.data[ue++]>>14,ot=Ne*Ye+rt*be;Ye=be*Ye+((ot&16383)<<14)+ae.data[se]+Ee,Ee=(Ye>>28)+(ot>>14)+Ne*rt,ae.data[se++]=Ye&268435455}return Ee}typeof navigator>"u"?(i.prototype.am=u,n=28):navigator.appName=="Microsoft Internet Explorer"?(i.prototype.am=s,n=30):navigator.appName!="Netscape"?(i.prototype.am=o,n=26):(i.prototype.am=u,n=28),i.prototype.DB=n,i.prototype.DM=(1<<n)-1,i.prototype.DV=1<<n;var l=52;i.prototype.FV=Math.pow(2,l),i.prototype.F1=l-n,i.prototype.F2=2*n-l;var c="0123456789abcdefghijklmnopqrstuvwxyz",f=new Array,d,h;for(d=48,h=0;h<=9;++h)f[d++]=h;for(d=97,h=10;h<36;++h)f[d++]=h;for(d=65,h=10;h<36;++h)f[d++]=h;function y(ue){return c.charAt(ue)}function w(ue,ee){var ae=f[ue.charCodeAt(ee)];return ae??-1}function _(ue){for(var ee=this.t-1;ee>=0;--ee)ue.data[ee]=this.data[ee];ue.t=this.t,ue.s=this.s}function E(ue){this.t=1,this.s=ue<0?-1:0,ue>0?this.data[0]=ue:ue<-1?this.data[0]=ue+this.DV:this.t=0}function p(ue){var ee=a();return ee.fromInt(ue),ee}function m(ue,ee){var ae;if(ee==16)ae=4;else if(ee==8)ae=3;else if(ee==256)ae=8;else if(ee==2)ae=1;else if(ee==32)ae=5;else if(ee==4)ae=2;else{this.fromRadix(ue,ee);return}this.t=0,this.s=0;for(var se=ue.length,Ee=!1,Be=0;--se>=0;){var be=ae==8?ue[se]&255:w(ue,se);if(be<0){ue.charAt(se)=="-"&&(Ee=!0);continue}Ee=!1,Be==0?this.data[this.t++]=be:Be+ae>this.DB?(this.data[this.t-1]|=(be&(1<<this.DB-Be)-1)<<Be,this.data[this.t++]=be>>this.DB-Be):this.data[this.t-1]|=be<<Be,Be+=ae,Be>=this.DB&&(Be-=this.DB)}ae==8&&ue[0]&128&&(this.s=-1,Be>0&&(this.data[this.t-1]|=(1<<this.DB-Be)-1<<Be)),this.clamp(),Ee&&i.ZERO.subTo(this,this)}function S(){for(var ue=this.s&this.DM;this.t>0&&this.data[this.t-1]==ue;)--this.t}function F(ue){if(this.s<0)return"-"+this.negate().toString(ue);var ee;if(ue==16)ee=4;else if(ue==8)ee=3;else if(ue==2)ee=1;else if(ue==32)ee=5;else if(ue==4)ee=2;else return this.toRadix(ue);var ae=(1<<ee)-1,se,Ee=!1,Be="",be=this.t,Ne=this.DB-be*this.DB%ee;if(be-- >0)for(Ne<this.DB&&(se=this.data[be]>>Ne)>0&&(Ee=!0,Be=y(se));be>=0;)Ne<ee?(se=(this.data[be]&(1<<Ne)-1)<<ee-Ne,se|=this.data[--be]>>(Ne+=this.DB-ee)):(se=this.data[be]>>(Ne-=ee)&ae,Ne<=0&&(Ne+=this.DB,--be)),se>0&&(Ee=!0),Ee&&(Be+=y(se));return Ee?Be:"0"}function I(){var ue=a();return i.ZERO.subTo(this,ue),ue}function v(){return this.s<0?this.negate():this}function A(ue){var ee=this.s-ue.s;if(ee!=0)return ee;var ae=this.t;if(ee=ae-ue.t,ee!=0)return this.s<0?-ee:ee;for(;--ae>=0;)if((ee=this.data[ae]-ue.data[ae])!=0)return ee;return 0}function D(ue){var ee=1,ae;return(ae=ue>>>16)!=0&&(ue=ae,ee+=16),(ae=ue>>8)!=0&&(ue=ae,ee+=8),(ae=ue>>4)!=0&&(ue=ae,ee+=4),(ae=ue>>2)!=0&&(ue=ae,ee+=2),(ae=ue>>1)!=0&&(ue=ae,ee+=1),ee}function L(){return this.t<=0?0:this.DB*(this.t-1)+D(this.data[this.t-1]^this.s&this.DM)}function j(ue,ee){var ae;for(ae=this.t-1;ae>=0;--ae)ee.data[ae+ue]=this.data[ae];for(ae=ue-1;ae>=0;--ae)ee.data[ae]=0;ee.t=this.t+ue,ee.s=this.s}function Y(ue,ee){for(var ae=ue;ae<this.t;++ae)ee.data[ae-ue]=this.data[ae];ee.t=Math.max(this.t-ue,0),ee.s=this.s}function O(ue,ee){var ae=ue%this.DB,se=this.DB-ae,Ee=(1<<se)-1,Be=Math.floor(ue/this.DB),be=this.s<<ae&this.DM,Ne;for(Ne=this.t-1;Ne>=0;--Ne)ee.data[Ne+Be+1]=this.data[Ne]>>se|be,be=(this.data[Ne]&Ee)<<ae;for(Ne=Be-1;Ne>=0;--Ne)ee.data[Ne]=0;ee.data[Be]=be,ee.t=this.t+Be+1,ee.s=this.s,ee.clamp()}function B(ue,ee){ee.s=this.s;var ae=Math.floor(ue/this.DB);if(ae>=this.t){ee.t=0;return}var se=ue%this.DB,Ee=this.DB-se,Be=(1<<se)-1;ee.data[0]=this.data[ae]>>se;for(var be=ae+1;be<this.t;++be)ee.data[be-ae-1]|=(this.data[be]&Be)<<Ee,ee.data[be-ae]=this.data[be]>>se;se>0&&(ee.data[this.t-ae-1]|=(this.s&Be)<<Ee),ee.t=this.t-ae,ee.clamp()}function C(ue,ee){for(var ae=0,se=0,Ee=Math.min(ue.t,this.t);ae<Ee;)se+=this.data[ae]-ue.data[ae],ee.data[ae++]=se&this.DM,se>>=this.DB;if(ue.t<this.t){for(se-=ue.s;ae<this.t;)se+=this.data[ae],ee.data[ae++]=se&this.DM,se>>=this.DB;se+=this.s}else{for(se+=this.s;ae<ue.t;)se-=ue.data[ae],ee.data[ae++]=se&this.DM,se>>=this.DB;se-=ue.s}ee.s=se<0?-1:0,se<-1?ee.data[ae++]=this.DV+se:se>0&&(ee.data[ae++]=se),ee.t=ae,ee.clamp()}function N(ue,ee){var ae=this.abs(),se=ue.abs(),Ee=ae.t;for(ee.t=Ee+se.t;--Ee>=0;)ee.data[Ee]=0;for(Ee=0;Ee<se.t;++Ee)ee.data[Ee+ae.t]=ae.am(0,se.data[Ee],ee,Ee,0,ae.t);ee.s=0,ee.clamp(),this.s!=ue.s&&i.ZERO.subTo(ee,ee)}function U(ue){for(var ee=this.abs(),ae=ue.t=2*ee.t;--ae>=0;)ue.data[ae]=0;for(ae=0;ae<ee.t-1;++ae){var se=ee.am(ae,ee.data[ae],ue,2*ae,0,1);(ue.data[ae+ee.t]+=ee.am(ae+1,2*ee.data[ae],ue,2*ae+1,se,ee.t-ae-1))>=ee.DV&&(ue.data[ae+ee.t]-=ee.DV,ue.data[ae+ee.t+1]=1)}ue.t>0&&(ue.data[ue.t-1]+=ee.am(ae,ee.data[ae],ue,2*ae,0,1)),ue.s=0,ue.clamp()}function G(ue,ee,ae){var se=ue.abs();if(!(se.t<=0)){var Ee=this.abs();if(Ee.t<se.t){ee!=null&&ee.fromInt(0),ae!=null&&this.copyTo(ae);return}ae==null&&(ae=a());var Be=a(),be=this.s,Ne=ue.s,Ye=this.DB-D(se.data[se.t-1]);Ye>0?(se.lShiftTo(Ye,Be),Ee.lShiftTo(Ye,ae)):(se.copyTo(Be),Ee.copyTo(ae));var rt=Be.t,ot=Be.data[rt-1];if(ot!=0){var lt=ot*(1<<this.F1)+(rt>1?Be.data[rt-2]>>this.F2:0),Ct=this.FV/lt,Ht=(1<<this.F1)/lt,Wt=1<<this.F2,Yt=ae.t,Or=Yt-rt,Sr=ee??a();for(Be.dlShiftTo(Or,Sr),ae.compareTo(Sr)>=0&&(ae.data[ae.t++]=1,ae.subTo(Sr,ae)),i.ONE.dlShiftTo(rt,Sr),Sr.subTo(Be,Be);Be.t<rt;)Be.data[Be.t++]=0;for(;--Or>=0;){var Xn=ae.data[--Yt]==ot?this.DM:Math.floor(ae.data[Yt]*Ct+(ae.data[Yt-1]+Wt)*Ht);if((ae.data[Yt]+=Be.am(0,Xn,ae,Or,0,rt))<Xn)for(Be.dlShiftTo(Or,Sr),ae.subTo(Sr,ae);ae.data[Yt]<--Xn;)ae.subTo(Sr,ae)}ee!=null&&(ae.drShiftTo(rt,ee),be!=Ne&&i.ZERO.subTo(ee,ee)),ae.t=rt,ae.clamp(),Ye>0&&ae.rShiftTo(Ye,ae),be<0&&i.ZERO.subTo(ae,ae)}}}function $(ue){var ee=a();return this.abs().divRemTo(ue,null,ee),this.s<0&&ee.compareTo(i.ZERO)>0&&ue.subTo(ee,ee),ee}function Z(ue){this.m=ue}function W(ue){return ue.s<0||ue.compareTo(this.m)>=0?ue.mod(this.m):ue}function P(ue){return ue}function R(ue){ue.divRemTo(this.m,null,ue)}function re(ue,ee,ae){ue.multiplyTo(ee,ae),this.reduce(ae)}function T(ue,ee){ue.squareTo(ee),this.reduce(ee)}Z.prototype.convert=W,Z.prototype.revert=P,Z.prototype.reduce=R,Z.prototype.mulTo=re,Z.prototype.sqrTo=T;function x(){if(this.t<1)return 0;var ue=this.data[0];if(!(ue&1))return 0;var ee=ue&3;return ee=ee*(2-(ue&15)*ee)&15,ee=ee*(2-(ue&255)*ee)&255,ee=ee*(2-((ue&65535)*ee&65535))&65535,ee=ee*(2-ue*ee%this.DV)%this.DV,ee>0?this.DV-ee:-ee}function z(ue){this.m=ue,this.mp=ue.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<ue.DB-15)-1,this.mt2=2*ue.t}function b(ue){var ee=a();return ue.abs().dlShiftTo(this.m.t,ee),ee.divRemTo(this.m,null,ee),ue.s<0&&ee.compareTo(i.ZERO)>0&&this.m.subTo(ee,ee),ee}function J(ue){var ee=a();return ue.copyTo(ee),this.reduce(ee),ee}function V(ue){for(;ue.t<=this.mt2;)ue.data[ue.t++]=0;for(var ee=0;ee<this.m.t;++ee){var ae=ue.data[ee]&32767,se=ae*this.mpl+((ae*this.mph+(ue.data[ee]>>15)*this.mpl&this.um)<<15)&ue.DM;for(ae=ee+this.m.t,ue.data[ae]+=this.m.am(0,se,ue,ee,0,this.m.t);ue.data[ae]>=ue.DV;)ue.data[ae]-=ue.DV,ue.data[++ae]++}ue.clamp(),ue.drShiftTo(this.m.t,ue),ue.compareTo(this.m)>=0&&ue.subTo(this.m,ue)}function g(ue,ee){ue.squareTo(ee),this.reduce(ee)}function M(ue,ee,ae){ue.multiplyTo(ee,ae),this.reduce(ae)}z.prototype.convert=b,z.prototype.revert=J,z.prototype.reduce=V,z.prototype.mulTo=M,z.prototype.sqrTo=g;function Q(){return(this.t>0?this.data[0]&1:this.s)==0}function k(ue,ee){if(ue>4294967295||ue<1)return i.ONE;var ae=a(),se=a(),Ee=ee.convert(this),Be=D(ue)-1;for(Ee.copyTo(ae);--Be>=0;)if(ee.sqrTo(ae,se),(ue&1<<Be)>0)ee.mulTo(se,Ee,ae);else{var be=ae;ae=se,se=be}return ee.revert(ae)}function K(ue,ee){var ae;return ue<256||ee.isEven()?ae=new Z(ee):ae=new z(ee),this.exp(ue,ae)}i.prototype.copyTo=_,i.prototype.fromInt=E,i.prototype.fromString=m,i.prototype.clamp=S,i.prototype.dlShiftTo=j,i.prototype.drShiftTo=Y,i.prototype.lShiftTo=O,i.prototype.rShiftTo=B,i.prototype.subTo=C,i.prototype.multiplyTo=N,i.prototype.squareTo=U,i.prototype.divRemTo=G,i.prototype.invDigit=x,i.prototype.isEven=Q,i.prototype.exp=k,i.prototype.toString=F,i.prototype.negate=I,i.prototype.abs=v,i.prototype.compareTo=A,i.prototype.bitLength=L,i.prototype.mod=$,i.prototype.modPowInt=K,i.ZERO=p(0),i.ONE=p(1);function ie(){var ue=a();return this.copyTo(ue),ue}function ne(){if(this.s<0){if(this.t==1)return this.data[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this.data[0];if(this.t==0)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]}function le(){return this.t==0?this.s:this.data[0]<<24>>24}function he(){return this.t==0?this.s:this.data[0]<<16>>16}function fe(ue){return Math.floor(Math.LN2*this.DB/Math.log(ue))}function ce(){return this.s<0?-1:this.t<=0||this.t==1&&this.data[0]<=0?0:1}function Ae(ue){if(ue==null&&(ue=10),this.signum()==0||ue<2||ue>36)return"0";var ee=this.chunkSize(ue),ae=Math.pow(ue,ee),se=p(ae),Ee=a(),Be=a(),be="";for(this.divRemTo(se,Ee,Be);Ee.signum()>0;)be=(ae+Be.intValue()).toString(ue).substr(1)+be,Ee.divRemTo(se,Ee,Be);return Be.intValue().toString(ue)+be}function Fe(ue,ee){this.fromInt(0),ee==null&&(ee=10);for(var ae=this.chunkSize(ee),se=Math.pow(ee,ae),Ee=!1,Be=0,be=0,Ne=0;Ne<ue.length;++Ne){var Ye=w(ue,Ne);if(Ye<0){ue.charAt(Ne)=="-"&&this.signum()==0&&(Ee=!0);continue}be=ee*be+Ye,++Be>=ae&&(this.dMultiply(se),this.dAddOffset(be,0),Be=0,be=0)}Be>0&&(this.dMultiply(Math.pow(ee,Be)),this.dAddOffset(be,0)),Ee&&i.ZERO.subTo(this,this)}function Me(ue,ee,ae){if(typeof ee=="number")if(ue<2)this.fromInt(1);else for(this.fromNumber(ue,ae),this.testBit(ue-1)||this.bitwiseTo(i.ONE.shiftLeft(ue-1),Se,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(ee);)this.dAddOffset(2,0),this.bitLength()>ue&&this.subTo(i.ONE.shiftLeft(ue-1),this);else{var se=new Array,Ee=ue&7;se.length=(ue>>3)+1,ee.nextBytes(se),Ee>0?se[0]&=(1<<Ee)-1:se[0]=0,this.fromString(se,256)}}function Ke(){var ue=this.t,ee=new Array;ee[0]=this.s;var ae=this.DB-ue*this.DB%8,se,Ee=0;if(ue-- >0)for(ae<this.DB&&(se=this.data[ue]>>ae)!=(this.s&this.DM)>>ae&&(ee[Ee++]=se|this.s<<this.DB-ae);ue>=0;)ae<8?(se=(this.data[ue]&(1<<ae)-1)<<8-ae,se|=this.data[--ue]>>(ae+=this.DB-8)):(se=this.data[ue]>>(ae-=8)&255,ae<=0&&(ae+=this.DB,--ue)),se&128&&(se|=-256),Ee==0&&(this.s&128)!=(se&128)&&++Ee,(Ee>0||se!=this.s)&&(ee[Ee++]=se);return ee}function $e(ue){return this.compareTo(ue)==0}function oe(ue){return this.compareTo(ue)<0?this:ue}function X(ue){return this.compareTo(ue)>0?this:ue}function te(ue,ee,ae){var se,Ee,Be=Math.min(ue.t,this.t);for(se=0;se<Be;++se)ae.data[se]=ee(this.data[se],ue.data[se]);if(ue.t<this.t){for(Ee=ue.s&this.DM,se=Be;se<this.t;++se)ae.data[se]=ee(this.data[se],Ee);ae.t=this.t}else{for(Ee=this.s&this.DM,se=Be;se<ue.t;++se)ae.data[se]=ee(Ee,ue.data[se]);ae.t=ue.t}ae.s=ee(this.s,ue.s),ae.clamp()}function de(ue,ee){return ue&ee}function Ce(ue){var ee=a();return this.bitwiseTo(ue,de,ee),ee}function Se(ue,ee){return ue|ee}function ge(ue){var ee=a();return this.bitwiseTo(ue,Se,ee),ee}function q(ue,ee){return ue^ee}function H(ue){var ee=a();return this.bitwiseTo(ue,q,ee),ee}function ye(ue,ee){return ue&~ee}function _e(ue){var ee=a();return this.bitwiseTo(ue,ye,ee),ee}function ve(){for(var ue=a(),ee=0;ee<this.t;++ee)ue.data[ee]=this.DM&~this.data[ee];return ue.t=this.t,ue.s=~this.s,ue}function Ie(ue){var ee=a();return ue<0?this.rShiftTo(-ue,ee):this.lShiftTo(ue,ee),ee}function Le(ue){var ee=a();return ue<0?this.lShiftTo(-ue,ee):this.rShiftTo(ue,ee),ee}function Pe(ue){if(ue==0)return-1;var ee=0;return ue&65535||(ue>>=16,ee+=16),ue&255||(ue>>=8,ee+=8),ue&15||(ue>>=4,ee+=4),ue&3||(ue>>=2,ee+=2),ue&1||++ee,ee}function Re(){for(var ue=0;ue<this.t;++ue)if(this.data[ue]!=0)return ue*this.DB+Pe(this.data[ue]);return this.s<0?this.t*this.DB:-1}function Oe(ue){for(var ee=0;ue!=0;)ue&=ue-1,++ee;return ee}function Ue(){for(var ue=0,ee=this.s&this.DM,ae=0;ae<this.t;++ae)ue+=Oe(this.data[ae]^ee);return ue}function Ge(ue){var ee=Math.floor(ue/this.DB);return ee>=this.t?this.s!=0:(this.data[ee]&1<<ue%this.DB)!=0}function et(ue,ee){var ae=i.ONE.shiftLeft(ue);return this.bitwiseTo(ae,ee,ae),ae}function We(ue){return this.changeBit(ue,Se)}function Ve(ue){return this.changeBit(ue,ye)}function Xe(ue){return this.changeBit(ue,q)}function Je(ue,ee){for(var ae=0,se=0,Ee=Math.min(ue.t,this.t);ae<Ee;)se+=this.data[ae]+ue.data[ae],ee.data[ae++]=se&this.DM,se>>=this.DB;if(ue.t<this.t){for(se+=ue.s;ae<this.t;)se+=this.data[ae],ee.data[ae++]=se&this.DM,se>>=this.DB;se+=this.s}else{for(se+=this.s;ae<ue.t;)se+=ue.data[ae],ee.data[ae++]=se&this.DM,se>>=this.DB;se+=ue.s}ee.s=se<0?-1:0,se>0?ee.data[ae++]=se:se<-1&&(ee.data[ae++]=this.DV+se),ee.t=ae,ee.clamp()}function Ze(ue){var ee=a();return this.addTo(ue,ee),ee}function tt(ue){var ee=a();return this.subTo(ue,ee),ee}function nt(ue){var ee=a();return this.multiplyTo(ue,ee),ee}function Qe(ue){var ee=a();return this.divRemTo(ue,ee,null),ee}function ft(ue){var ee=a();return this.divRemTo(ue,null,ee),ee}function Et(ue){var ee=a(),ae=a();return this.divRemTo(ue,ee,ae),new Array(ee,ae)}function dt(ue){this.data[this.t]=this.am(0,ue-1,this,0,0,this.t),++this.t,this.clamp()}function Lt(ue,ee){if(ue!=0){for(;this.t<=ee;)this.data[this.t++]=0;for(this.data[ee]+=ue;this.data[ee]>=this.DV;)this.data[ee]-=this.DV,++ee>=this.t&&(this.data[this.t++]=0),++this.data[ee]}}function wt(){}function xt(ue){return ue}function Ft(ue,ee,ae){ue.multiplyTo(ee,ae)}function bt(ue,ee){ue.squareTo(ee)}wt.prototype.convert=xt,wt.prototype.revert=xt,wt.prototype.mulTo=Ft,wt.prototype.sqrTo=bt;function Bt(ue){return this.exp(ue,new wt)}function Gt(ue,ee,ae){var se=Math.min(this.t+ue.t,ee);for(ae.s=0,ae.t=se;se>0;)ae.data[--se]=0;var Ee;for(Ee=ae.t-this.t;se<Ee;++se)ae.data[se+this.t]=this.am(0,ue.data[se],ae,se,0,this.t);for(Ee=Math.min(ue.t,ee);se<Ee;++se)this.am(0,ue.data[se],ae,se,0,ee-se);ae.clamp()}function _r(ue,ee,ae){--ee;var se=ae.t=this.t+ue.t-ee;for(ae.s=0;--se>=0;)ae.data[se]=0;for(se=Math.max(ee-this.t,0);se<ue.t;++se)ae.data[this.t+se-ee]=this.am(ee-se,ue.data[se],ae,0,0,this.t+se-ee);ae.clamp(),ae.drShiftTo(1,ae)}function ir(ue){this.r2=a(),this.q3=a(),i.ONE.dlShiftTo(2*ue.t,this.r2),this.mu=this.r2.divide(ue),this.m=ue}function Dr(ue){if(ue.s<0||ue.t>2*this.m.t)return ue.mod(this.m);if(ue.compareTo(this.m)<0)return ue;var ee=a();return ue.copyTo(ee),this.reduce(ee),ee}function Pr(ue){return ue}function Yn(ue){for(ue.drShiftTo(this.m.t-1,this.r2),ue.t>this.m.t+1&&(ue.t=this.m.t+1,ue.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);ue.compareTo(this.r2)<0;)ue.dAddOffset(1,this.m.t+1);for(ue.subTo(this.r2,ue);ue.compareTo(this.m)>=0;)ue.subTo(this.m,ue)}function ca(ue,ee){ue.squareTo(ee),this.reduce(ee)}function ui(ue,ee,ae){ue.multiplyTo(ee,ae),this.reduce(ae)}ir.prototype.convert=Dr,ir.prototype.revert=Pr,ir.prototype.reduce=Yn,ir.prototype.mulTo=ui,ir.prototype.sqrTo=ca;function ua(ue,ee){var ae=ue.bitLength(),se,Ee=p(1),Be;if(ae<=0)return Ee;ae<18?se=1:ae<48?se=3:ae<144?se=4:ae<768?se=5:se=6,ae<8?Be=new Z(ee):ee.isEven()?Be=new ir(ee):Be=new z(ee);var be=new Array,Ne=3,Ye=se-1,rt=(1<<se)-1;if(be[1]=Be.convert(this),se>1){var ot=a();for(Be.sqrTo(be[1],ot);Ne<=rt;)be[Ne]=a(),Be.mulTo(ot,be[Ne-2],be[Ne]),Ne+=2}var lt=ue.t-1,Ct,Ht=!0,Wt=a(),Yt;for(ae=D(ue.data[lt])-1;lt>=0;){for(ae>=Ye?Ct=ue.data[lt]>>ae-Ye&rt:(Ct=(ue.data[lt]&(1<<ae+1)-1)<<Ye-ae,lt>0&&(Ct|=ue.data[lt-1]>>this.DB+ae-Ye)),Ne=se;!(Ct&1);)Ct>>=1,--Ne;if((ae-=Ne)<0&&(ae+=this.DB,--lt),Ht)be[Ct].copyTo(Ee),Ht=!1;else{for(;Ne>1;)Be.sqrTo(Ee,Wt),Be.sqrTo(Wt,Ee),Ne-=2;Ne>0?Be.sqrTo(Ee,Wt):(Yt=Ee,Ee=Wt,Wt=Yt),Be.mulTo(Wt,be[Ct],Ee)}for(;lt>=0&&!(ue.data[lt]&1<<ae);)Be.sqrTo(Ee,Wt),Yt=Ee,Ee=Wt,Wt=Yt,--ae<0&&(ae=this.DB-1,--lt)}return Be.revert(Ee)}function Zn(ue){var ee=this.s<0?this.negate():this.clone(),ae=ue.s<0?ue.negate():ue.clone();if(ee.compareTo(ae)<0){var se=ee;ee=ae,ae=se}var Ee=ee.getLowestSetBit(),Be=ae.getLowestSetBit();if(Be<0)return ee;for(Ee<Be&&(Be=Ee),Be>0&&(ee.rShiftTo(Be,ee),ae.rShiftTo(Be,ae));ee.signum()>0;)(Ee=ee.getLowestSetBit())>0&&ee.rShiftTo(Ee,ee),(Ee=ae.getLowestSetBit())>0&&ae.rShiftTo(Ee,ae),ee.compareTo(ae)>=0?(ee.subTo(ae,ee),ee.rShiftTo(1,ee)):(ae.subTo(ee,ae),ae.rShiftTo(1,ae));return Be>0&&ae.lShiftTo(Be,ae),ae}function Ra(ue){if(ue<=0)return 0;var ee=this.DV%ue,ae=this.s<0?ue-1:0;if(this.t>0)if(ee==0)ae=this.data[0]%ue;else for(var se=this.t-1;se>=0;--se)ae=(ee*ae+this.data[se])%ue;return ae}function Si(ue){var ee=ue.isEven();if(this.isEven()&&ee||ue.signum()==0)return i.ZERO;for(var ae=ue.clone(),se=this.clone(),Ee=p(1),Be=p(0),be=p(0),Ne=p(1);ae.signum()!=0;){for(;ae.isEven();)ae.rShiftTo(1,ae),ee?((!Ee.isEven()||!Be.isEven())&&(Ee.addTo(this,Ee),Be.subTo(ue,Be)),Ee.rShiftTo(1,Ee)):Be.isEven()||Be.subTo(ue,Be),Be.rShiftTo(1,Be);for(;se.isEven();)se.rShiftTo(1,se),ee?((!be.isEven()||!Ne.isEven())&&(be.addTo(this,be),Ne.subTo(ue,Ne)),be.rShiftTo(1,be)):Ne.isEven()||Ne.subTo(ue,Ne),Ne.rShiftTo(1,Ne);ae.compareTo(se)>=0?(ae.subTo(se,ae),ee&&Ee.subTo(be,Ee),Be.subTo(Ne,Be)):(se.subTo(ae,se),ee&&be.subTo(Ee,be),Ne.subTo(Be,Ne))}if(se.compareTo(i.ONE)!=0)return i.ZERO;if(Ne.compareTo(ue)>=0)return Ne.subtract(ue);if(Ne.signum()<0)Ne.addTo(ue,Ne);else return Ne;return Ne.signum()<0?Ne.add(ue):Ne}var Jr=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],Ma=(1<<26)/Jr[Jr.length-1];function Ua(ue){var ee,ae=this.abs();if(ae.t==1&&ae.data[0]<=Jr[Jr.length-1]){for(ee=0;ee<Jr.length;++ee)if(ae.data[0]==Jr[ee])return!0;return!1}if(ae.isEven())return!1;for(ee=1;ee<Jr.length;){for(var se=Jr[ee],Ee=ee+1;Ee<Jr.length&&se<Ma;)se*=Jr[Ee++];for(se=ae.modInt(se);ee<Ee;)if(se%Jr[ee++]==0)return!1}return ae.millerRabin(ue)}function Ki(ue){var ee=this.subtract(i.ONE),ae=ee.getLowestSetBit();if(ae<=0)return!1;for(var se=ee.shiftRight(ae),Ee=Oa(),Be,be=0;be<ue;++be){do Be=new i(this.bitLength(),Ee);while(Be.compareTo(i.ONE)<=0||Be.compareTo(ee)>=0);var Ne=Be.modPow(se,this);if(Ne.compareTo(i.ONE)!=0&&Ne.compareTo(ee)!=0){for(var Ye=1;Ye++<ae&&Ne.compareTo(ee)!=0;)if(Ne=Ne.modPowInt(2,this),Ne.compareTo(i.ONE)==0)return!1;if(Ne.compareTo(ee)!=0)return!1}}return!0}function Oa(){return{nextBytes:function(ue){for(var ee=0;ee<ue.length;++ee)ue[ee]=Math.floor(Math.random()*256)}}}i.prototype.chunkSize=fe,i.prototype.toRadix=Ae,i.prototype.fromRadix=Fe,i.prototype.fromNumber=Me,i.prototype.bitwiseTo=te,i.prototype.changeBit=et,i.prototype.addTo=Je,i.prototype.dMultiply=dt,i.prototype.dAddOffset=Lt,i.prototype.multiplyLowerTo=Gt,i.prototype.multiplyUpperTo=_r,i.prototype.modInt=Ra,i.prototype.millerRabin=Ki,i.prototype.clone=ie,i.prototype.intValue=ne,i.prototype.byteValue=le,i.prototype.shortValue=he,i.prototype.signum=ce,i.prototype.toByteArray=Ke,i.prototype.equals=$e,i.prototype.min=oe,i.prototype.max=X,i.prototype.and=Ce,i.prototype.or=ge,i.prototype.xor=H,i.prototype.andNot=_e,i.prototype.not=ve,i.prototype.shiftLeft=Ie,i.prototype.shiftRight=Le,i.prototype.getLowestSetBit=Re,i.prototype.bitCount=Ue,i.prototype.testBit=Ge,i.prototype.setBit=We,i.prototype.clearBit=Ve,i.prototype.flipBit=Xe,i.prototype.add=Ze,i.prototype.subtract=tt,i.prototype.multiply=nt,i.prototype.divide=Qe,i.prototype.remainder=ft,i.prototype.divideAndRemainder=Et,i.prototype.modPow=ua,i.prototype.modInverse=Si,i.prototype.pow=Bt,i.prototype.gcd=Zn,i.prototype.isProbablePrime=Ua}}),Hd=Qt({"../../node_modules/node-forge/lib/sha1.js"(t,e){var r=er();Ms(),wr();var n=e.exports=r.sha1=r.sha1||{};r.md.sha1=r.md.algorithms.sha1=n,n.create=function(){a||o();var u=null,l=r.util.createBuffer(),c=new Array(80),f={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8};return f.start=function(){f.messageLength=0,f.fullMessageLength=f.messageLength64=[];for(var d=f.messageLengthSize/4,h=0;h<d;++h)f.fullMessageLength.push(0);return l=r.util.createBuffer(),u={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},f},f.start(),f.update=function(d,h){h==="utf8"&&(d=r.util.encodeUtf8(d));var y=d.length;f.messageLength+=y,y=[y/4294967296>>>0,y>>>0];for(var w=f.fullMessageLength.length-1;w>=0;--w)f.fullMessageLength[w]+=y[1],y[1]=y[0]+(f.fullMessageLength[w]/4294967296>>>0),f.fullMessageLength[w]=f.fullMessageLength[w]>>>0,y[0]=y[1]/4294967296>>>0;return l.putBytes(d),s(u,c,l),(l.read>2048||l.length()===0)&&l.compact(),f},f.digest=function(){var d=r.util.createBuffer();d.putBytes(l.bytes());var h=f.fullMessageLength[f.fullMessageLength.length-1]+f.messageLengthSize,y=h&f.blockLength-1;d.putBytes(i.substr(0,f.blockLength-y));for(var w,_,E=f.fullMessageLength[0]*8,p=0;p<f.fullMessageLength.length-1;++p)w=f.fullMessageLength[p+1]*8,_=w/4294967296>>>0,E+=_,d.putInt32(E>>>0),E=w>>>0;d.putInt32(E);var m={h0:u.h0,h1:u.h1,h2:u.h2,h3:u.h3,h4:u.h4};s(m,c,d);var S=r.util.createBuffer();return S.putInt32(m.h0),S.putInt32(m.h1),S.putInt32(m.h2),S.putInt32(m.h3),S.putInt32(m.h4),S},f};var i=null,a=!1;function o(){i="",i+=r.util.fillString("\0",64),a=!0}function s(u,l,c){for(var f,d,h,y,w,_,E,p,m=c.length();m>=64;){for(d=u.h0,h=u.h1,y=u.h2,w=u.h3,_=u.h4,p=0;p<16;++p)f=c.getInt32(),l[p]=f,E=w^h&(y^w),f=(d<<5|d>>>27)+E+_+1518500249+f,_=w,w=y,y=(h<<30|h>>>2)>>>0,h=d,d=f;for(;p<20;++p)f=l[p-3]^l[p-8]^l[p-14]^l[p-16],f=f<<1|f>>>31,l[p]=f,E=w^h&(y^w),f=(d<<5|d>>>27)+E+_+1518500249+f,_=w,w=y,y=(h<<30|h>>>2)>>>0,h=d,d=f;for(;p<32;++p)f=l[p-3]^l[p-8]^l[p-14]^l[p-16],f=f<<1|f>>>31,l[p]=f,E=h^y^w,f=(d<<5|d>>>27)+E+_+1859775393+f,_=w,w=y,y=(h<<30|h>>>2)>>>0,h=d,d=f;for(;p<40;++p)f=l[p-6]^l[p-16]^l[p-28]^l[p-32],f=f<<2|f>>>30,l[p]=f,E=h^y^w,f=(d<<5|d>>>27)+E+_+1859775393+f,_=w,w=y,y=(h<<30|h>>>2)>>>0,h=d,d=f;for(;p<60;++p)f=l[p-6]^l[p-16]^l[p-28]^l[p-32],f=f<<2|f>>>30,l[p]=f,E=h&y|w&(h^y),f=(d<<5|d>>>27)+E+_+2400959708+f,_=w,w=y,y=(h<<30|h>>>2)>>>0,h=d,d=f;for(;p<80;++p)f=l[p-6]^l[p-16]^l[p-28]^l[p-32],f=f<<2|f>>>30,l[p]=f,E=h^y^w,f=(d<<5|d>>>27)+E+_+3395469782+f,_=w,w=y,y=(h<<30|h>>>2)>>>0,h=d,d=f;u.h0=u.h0+d|0,u.h1=u.h1+h|0,u.h2=u.h2+y|0,u.h3=u.h3+w|0,u.h4=u.h4+_|0,m-=64}}}}),MB=Qt({"../../node_modules/node-forge/lib/pkcs1.js"(t,e){var r=er();wr(),uo(),Hd();var n=e.exports=r.pkcs1=r.pkcs1||{};n.encode_rsa_oaep=function(a,o,s){var u,l,c,f;typeof s=="string"?(u=s,l=arguments[3]||void 0,c=arguments[4]||void 0):s&&(u=s.label||void 0,l=s.seed||void 0,c=s.md||void 0,s.mgf1&&s.mgf1.md&&(f=s.mgf1.md)),c?c.start():c=r.md.sha1.create(),f||(f=c);var d=Math.ceil(a.n.bitLength()/8),h=d-2*c.digestLength-2;if(o.length>h){var y=new Error("RSAES-OAEP input message length is too long.");throw y.length=o.length,y.maxLength=h,y}u||(u=""),c.update(u,"raw");for(var w=c.digest(),_="",E=h-o.length,p=0;p<E;p++)_+="\0";var m=w.getBytes()+_+""+o;if(!l)l=r.random.getBytes(c.digestLength);else if(l.length!==c.digestLength){var y=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.");throw y.seedLength=l.length,y.digestLength=c.digestLength,y}var S=i(l,d-c.digestLength-1,f),F=r.util.xorBytes(m,S,m.length),I=i(F,c.digestLength,f),v=r.util.xorBytes(l,I,l.length);return"\0"+v+F},n.decode_rsa_oaep=function(a,o,s){var u,l,c;typeof s=="string"?(u=s,l=arguments[3]||void 0):s&&(u=s.label||void 0,l=s.md||void 0,s.mgf1&&s.mgf1.md&&(c=s.mgf1.md));var f=Math.ceil(a.n.bitLength()/8);if(o.length!==f){var F=new Error("RSAES-OAEP encoded message length is invalid.");throw F.length=o.length,F.expectedLength=f,F}if(l===void 0?l=r.md.sha1.create():l.start(),c||(c=l),f<2*l.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");u||(u=""),l.update(u,"raw");for(var d=l.digest().getBytes(),h=o.charAt(0),y=o.substring(1,l.digestLength+1),w=o.substring(1+l.digestLength),_=i(w,l.digestLength,c),E=r.util.xorBytes(y,_,y.length),p=i(E,f-l.digestLength-1,c),m=r.util.xorBytes(w,p,w.length),S=m.substring(0,l.digestLength),F=h!=="\0",I=0;I<l.digestLength;++I)F|=d.charAt(I)!==S.charAt(I);for(var v=1,A=l.digestLength,D=l.digestLength;D<m.length;D++){var L=m.charCodeAt(D),j=L&1^1,Y=v?65534:0;F|=L&Y,v=v&j,A+=v}if(F||m.charCodeAt(A)!==1)throw new Error("Invalid RSAES-OAEP padding.");return m.substring(A+1)};function i(a,o,s){s||(s=r.md.sha1.create());for(var u="",l=Math.ceil(o/s.digestLength),c=0;c<l;++c){var f=String.fromCharCode(c>>24&255,c>>16&255,c>>8&255,c&255);s.start(),s.update(a+f),u+=s.digest().getBytes()}return u.substring(0,o)}}}),UB=Qt({"../../node_modules/node-forge/lib/prime.js"(t,e){var r=er();wr(),wp(),uo(),function(){if(r.prime){e.exports=r.prime;return}var n=e.exports=r.prime=r.prime||{},i=r.jsbn.BigInteger,a=[6,4,2,4,2,4,6,2],o=new i(null);o.fromInt(30);var s=function(y,w){return y|w};n.generateProbablePrime=function(y,w,_){typeof w=="function"&&(_=w,w={}),w=w||{};var E=w.algorithm||"PRIMEINC";typeof E=="string"&&(E={name:E}),E.options=E.options||{};var p=w.prng||r.random,m={nextBytes:function(S){for(var F=p.getBytesSync(S.length),I=0;I<S.length;++I)S[I]=F.charCodeAt(I)}};if(E.name==="PRIMEINC")return u(y,m,E.options,_);throw new Error("Invalid prime generation algorithm: "+E.name)};function u(y,w,_,E){return"workers"in _?f(y,w,_,E):l(y,w,_,E)}function l(y,w,_,E){var p=d(y,w),m=0,S=h(p.bitLength());"millerRabinTests"in _&&(S=_.millerRabinTests);var F=10;"maxBlockTime"in _&&(F=_.maxBlockTime),c(p,y,w,m,S,F,E)}function c(y,w,_,E,p,m,S){var F=+new Date;do{if(y.bitLength()>w&&(y=d(w,_)),y.isProbablePrime(p))return S(null,y);y.dAddOffset(a[E++%8],0)}while(m<0||+new Date-F<m);r.util.setImmediate(function(){c(y,w,_,E,p,m,S)})}function f(y,w,_,E){if(typeof Worker>"u")return l(y,w,_,E);var p=d(y,w),m=_.workers,S=_.workLoad||100,F=S*30/8,I=_.workerScript||"forge/prime.worker.js";if(m===-1)return r.util.estimateCores(function(A,D){A&&(D=2),m=D-1,v()});v();function v(){m=Math.max(1,m);for(var A=[],D=0;D<m;++D)A[D]=new Worker(I);for(var D=0;D<m;++D)A[D].addEventListener("message",j);var L=!1;function j(Y){if(!L){var O=Y.data;if(O.found){for(var B=0;B<A.length;++B)A[B].terminate();return L=!0,E(null,new i(O.prime,16))}p.bitLength()>y&&(p=d(y,w));var C=p.toString(16);Y.target.postMessage({hex:C,workLoad:S}),p.dAddOffset(F,0)}}}}function d(y,w){var _=new i(y,w),E=y-1;return _.testBit(E)||_.bitwiseTo(i.ONE.shiftLeft(E),s,_),_.dAddOffset(31-_.mod(o).byteValue(),0),_}function h(y){return y<=100?27:y<=150?18:y<=200?15:y<=250?12:y<=300?9:y<=350?8:y<=400?7:y<=500?6:y<=600?5:y<=800?4:y<=1250?3:2}}()}}),_p=Qt({"../../node_modules/node-forge/lib/rsa.js"(t,e){var r=er();$o(),wp(),Gl(),MB(),UB(),uo(),wr(),typeof n>"u"&&(n=r.jsbn.BigInteger);var n,i=r.util.isNodejs?O0:null,a=r.asn1,o=r.util;r.pki=r.pki||{},e.exports=r.pki.rsa=r.rsa=r.rsa||{};var s=r.pki,u=[6,4,2,4,2,4,6,2],l={name:"PrivateKeyInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},c={name:"RSAPrivateKey",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},f={name:"RSAPublicKey",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},d=r.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:a.Class.UNIVERSAL,type:a.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},h={name:"DigestInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm.algorithmIdentifier",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"algorithmIdentifier"},{name:"DigestInfo.DigestAlgorithm.parameters",tagClass:a.Class.UNIVERSAL,type:a.Type.NULL,capture:"parameters",optional:!0,constructed:!1}]},{name:"DigestInfo.digest",tagClass:a.Class.UNIVERSAL,type:a.Type.OCTETSTRING,constructed:!1,capture:"digest"}]},y=function(D){var L;if(D.algorithm in s.oids)L=s.oids[D.algorithm];else{var j=new Error("Unknown message digest algorithm.");throw j.algorithm=D.algorithm,j}var Y=a.oidToDer(L).getBytes(),O=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[]),B=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[]);B.value.push(a.create(a.Class.UNIVERSAL,a.Type.OID,!1,Y)),B.value.push(a.create(a.Class.UNIVERSAL,a.Type.NULL,!1,""));var C=a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,D.digest().getBytes());return O.value.push(B),O.value.push(C),a.toDer(O).getBytes()},w=function(D,L,j){if(j)return D.modPow(L.e,L.n);if(!L.p||!L.q)return D.modPow(L.d,L.n);L.dP||(L.dP=L.d.mod(L.p.subtract(n.ONE))),L.dQ||(L.dQ=L.d.mod(L.q.subtract(n.ONE))),L.qInv||(L.qInv=L.q.modInverse(L.p));var Y;do Y=new n(r.util.bytesToHex(r.random.getBytes(L.n.bitLength()/8)),16);while(Y.compareTo(L.n)>=0||!Y.gcd(L.n).equals(n.ONE));D=D.multiply(Y.modPow(L.e,L.n)).mod(L.n);for(var O=D.mod(L.p).modPow(L.dP,L.p),B=D.mod(L.q).modPow(L.dQ,L.q);O.compareTo(B)<0;)O=O.add(L.p);var C=O.subtract(B).multiply(L.qInv).mod(L.p).multiply(L.q).add(B);return C=C.multiply(Y.modInverse(L.n)).mod(L.n),C};s.rsa.encrypt=function(D,L,j){var Y=j,O,B=Math.ceil(L.n.bitLength()/8);j!==!1&&j!==!0?(Y=j===2,O=_(D,L,j)):(O=r.util.createBuffer(),O.putBytes(D));for(var C=new n(O.toHex(),16),N=w(C,L,Y),U=N.toString(16),G=r.util.createBuffer(),$=B-Math.ceil(U.length/2);$>0;)G.putByte(0),--$;return G.putBytes(r.util.hexToBytes(U)),G.getBytes()},s.rsa.decrypt=function(D,L,j,Y){var O=Math.ceil(L.n.bitLength()/8);if(D.length!==O){var B=new Error("Encrypted message length is invalid.");throw B.length=D.length,B.expected=O,B}var C=new n(r.util.createBuffer(D).toHex(),16);if(C.compareTo(L.n)>=0)throw new Error("Encrypted message is invalid.");for(var N=w(C,L,j),U=N.toString(16),G=r.util.createBuffer(),$=O-Math.ceil(U.length/2);$>0;)G.putByte(0),--$;return G.putBytes(r.util.hexToBytes(U)),Y!==!1?E(G.getBytes(),L,j):G.getBytes()},s.rsa.createKeyPairGenerationState=function(D,L,j){typeof D=="string"&&(D=parseInt(D,10)),D=D||2048,j=j||{};var Y=j.prng||r.random,O={nextBytes:function(N){for(var U=Y.getBytesSync(N.length),G=0;G<N.length;++G)N[G]=U.charCodeAt(G)}},B=j.algorithm||"PRIMEINC",C;if(B==="PRIMEINC")C={algorithm:B,state:0,bits:D,rng:O,eInt:L||65537,e:new n(null),p:null,q:null,qBits:D>>1,pBits:D-(D>>1),pqState:0,num:null,keys:null},C.e.fromInt(C.eInt);else throw new Error("Invalid key generation algorithm: "+B);return C},s.rsa.stepKeyPairGenerationState=function(D,L){"algorithm"in D||(D.algorithm="PRIMEINC");var j=new n(null);j.fromInt(30);for(var Y=0,O=function(Z,W){return Z|W},B=+new Date,C,N=0;D.keys===null&&(L<=0||N<L);){if(D.state===0){var U=D.p===null?D.pBits:D.qBits,G=U-1;D.pqState===0?(D.num=new n(U,D.rng),D.num.testBit(G)||D.num.bitwiseTo(n.ONE.shiftLeft(G),O,D.num),D.num.dAddOffset(31-D.num.mod(j).byteValue(),0),Y=0,++D.pqState):D.pqState===1?D.num.bitLength()>U?D.pqState=0:D.num.isProbablePrime(S(D.num.bitLength()))?++D.pqState:D.num.dAddOffset(u[Y++%8],0):D.pqState===2?D.pqState=D.num.subtract(n.ONE).gcd(D.e).compareTo(n.ONE)===0?3:0:D.pqState===3&&(D.pqState=0,D.p===null?D.p=D.num:D.q=D.num,D.p!==null&&D.q!==null&&++D.state,D.num=null)}else if(D.state===1)D.p.compareTo(D.q)<0&&(D.num=D.p,D.p=D.q,D.q=D.num),++D.state;else if(D.state===2)D.p1=D.p.subtract(n.ONE),D.q1=D.q.subtract(n.ONE),D.phi=D.p1.multiply(D.q1),++D.state;else if(D.state===3)D.phi.gcd(D.e).compareTo(n.ONE)===0?++D.state:(D.p=null,D.q=null,D.state=0);else if(D.state===4)D.n=D.p.multiply(D.q),D.n.bitLength()===D.bits?++D.state:(D.q=null,D.state=0);else if(D.state===5){var $=D.e.modInverse(D.phi);D.keys={privateKey:s.rsa.setPrivateKey(D.n,D.e,$,D.p,D.q,$.mod(D.p1),$.mod(D.q1),D.q.modInverse(D.p)),publicKey:s.rsa.setPublicKey(D.n,D.e)}}C=+new Date,N+=C-B,B=C}return D.keys!==null},s.rsa.generateKeyPair=function(D,L,j,Y){if(arguments.length===1?typeof D=="object"?(j=D,D=void 0):typeof D=="function"&&(Y=D,D=void 0):arguments.length===2?typeof D=="number"?typeof L=="function"?(Y=L,L=void 0):typeof L!="number"&&(j=L,L=void 0):(j=D,Y=L,D=void 0,L=void 0):arguments.length===3&&(typeof L=="number"?typeof j=="function"&&(Y=j,j=void 0):(Y=j,j=L,L=void 0)),j=j||{},D===void 0&&(D=j.bits||2048),L===void 0&&(L=j.e||65537),!r.options.usePureJavaScript&&!j.prng&&D>=256&&D<=16384&&(L===65537||L===3)){if(Y){if(F("generateKeyPair"))return i.generateKeyPair("rsa",{modulusLength:D,publicExponent:L,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(N,U,G){if(N)return Y(N);Y(null,{privateKey:s.privateKeyFromPem(G),publicKey:s.publicKeyFromPem(U)})});if(I("generateKey")&&I("exportKey"))return o.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:D,publicExponent:A(L),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(N){return o.globalScope.crypto.subtle.exportKey("pkcs8",N.privateKey)}).then(void 0,function(N){Y(N)}).then(function(N){if(N){var U=s.privateKeyFromAsn1(a.fromDer(r.util.createBuffer(N)));Y(null,{privateKey:U,publicKey:s.setRsaPublicKey(U.n,U.e)})}});if(v("generateKey")&&v("exportKey")){var O=o.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:D,publicExponent:A(L),hash:{name:"SHA-256"}},!0,["sign","verify"]);O.oncomplete=function(N){var U=N.target.result,G=o.globalScope.msCrypto.subtle.exportKey("pkcs8",U.privateKey);G.oncomplete=function($){var Z=$.target.result,W=s.privateKeyFromAsn1(a.fromDer(r.util.createBuffer(Z)));Y(null,{privateKey:W,publicKey:s.setRsaPublicKey(W.n,W.e)})},G.onerror=function($){Y($)}},O.onerror=function(N){Y(N)};return}}else if(F("generateKeyPairSync")){var B=i.generateKeyPairSync("rsa",{modulusLength:D,publicExponent:L,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:s.privateKeyFromPem(B.privateKey),publicKey:s.publicKeyFromPem(B.publicKey)}}}var C=s.rsa.createKeyPairGenerationState(D,L,j);if(!Y)return s.rsa.stepKeyPairGenerationState(C,0),C.keys;p(C,j,Y)},s.setRsaPublicKey=s.rsa.setPublicKey=function(D,L){var j={n:D,e:L};return j.encrypt=function(Y,O,B){if(typeof O=="string"?O=O.toUpperCase():O===void 0&&(O="RSAES-PKCS1-V1_5"),O==="RSAES-PKCS1-V1_5")O={encode:function(N,U,G){return _(N,U,2).getBytes()}};else if(O==="RSA-OAEP"||O==="RSAES-OAEP")O={encode:function(N,U){return r.pkcs1.encode_rsa_oaep(U,N,B)}};else if(["RAW","NONE","NULL",null].indexOf(O)!==-1)O={encode:function(N){return N}};else if(typeof O=="string")throw new Error('Unsupported encryption scheme: "'+O+'".');var C=O.encode(Y,j,!0);return s.rsa.encrypt(C,j,!0)},j.verify=function(Y,O,B,C){typeof B=="string"?B=B.toUpperCase():B===void 0&&(B="RSASSA-PKCS1-V1_5"),C===void 0&&(C={_parseAllDigestBytes:!0}),"_parseAllDigestBytes"in C||(C._parseAllDigestBytes=!0),B==="RSASSA-PKCS1-V1_5"?B={verify:function(U,G){G=E(G,j,!0);var $=a.fromDer(G,{parseAllBytes:C._parseAllDigestBytes}),Z={},W=[];if(!a.validate($,h,Z,W)){var P=new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value.");throw P.errors=W,P}var R=a.derToOid(Z.algorithmIdentifier);if(!(R===r.oids.md2||R===r.oids.md5||R===r.oids.sha1||R===r.oids.sha224||R===r.oids.sha256||R===r.oids.sha384||R===r.oids.sha512||R===r.oids["sha512-224"]||R===r.oids["sha512-256"])){var P=new Error("Unknown RSASSA-PKCS1-v1_5 DigestAlgorithm identifier.");throw P.oid=R,P}if((R===r.oids.md2||R===r.oids.md5)&&!("parameters"in Z))throw new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value. Missing algorithm identifer NULL parameters.");return U===Z.digest}}:(B==="NONE"||B==="NULL"||B===null)&&(B={verify:function(U,G){return G=E(G,j,!0),U===G}});var N=s.rsa.decrypt(O,j,!0,!1);return B.verify(Y,N,j.n.bitLength())},j},s.setRsaPrivateKey=s.rsa.setPrivateKey=function(D,L,j,Y,O,B,C,N){var U={n:D,e:L,d:j,p:Y,q:O,dP:B,dQ:C,qInv:N};return U.decrypt=function(G,$,Z){typeof $=="string"?$=$.toUpperCase():$===void 0&&($="RSAES-PKCS1-V1_5");var W=s.rsa.decrypt(G,U,!1,!1);if($==="RSAES-PKCS1-V1_5")$={decode:E};else if($==="RSA-OAEP"||$==="RSAES-OAEP")$={decode:function(P,R){return r.pkcs1.decode_rsa_oaep(R,P,Z)}};else if(["RAW","NONE","NULL",null].indexOf($)!==-1)$={decode:function(P){return P}};else throw new Error('Unsupported encryption scheme: "'+$+'".');return $.decode(W,U,!1)},U.sign=function(G,$){var Z=!1;typeof $=="string"&&($=$.toUpperCase()),$===void 0||$==="RSASSA-PKCS1-V1_5"?($={encode:y},Z=1):($==="NONE"||$==="NULL"||$===null)&&($={encode:function(){return G}},Z=1);var W=$.encode(G,U.n.bitLength());return s.rsa.encrypt(W,U,Z)},U},s.wrapRsaPrivateKey=function(D){return a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,a.integerToDer(0).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(s.oids.rsaEncryption).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.NULL,!1,"")]),a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,a.toDer(D).getBytes())])},s.privateKeyFromAsn1=function(D){var L={},j=[];if(a.validate(D,l,L,j)&&(D=a.fromDer(r.util.createBuffer(L.privateKey))),L={},j=[],!a.validate(D,c,L,j)){var Y=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw Y.errors=j,Y}var O,B,C,N,U,G,$,Z;return O=r.util.createBuffer(L.privateKeyModulus).toHex(),B=r.util.createBuffer(L.privateKeyPublicExponent).toHex(),C=r.util.createBuffer(L.privateKeyPrivateExponent).toHex(),N=r.util.createBuffer(L.privateKeyPrime1).toHex(),U=r.util.createBuffer(L.privateKeyPrime2).toHex(),G=r.util.createBuffer(L.privateKeyExponent1).toHex(),$=r.util.createBuffer(L.privateKeyExponent2).toHex(),Z=r.util.createBuffer(L.privateKeyCoefficient).toHex(),s.setRsaPrivateKey(new n(O,16),new n(B,16),new n(C,16),new n(N,16),new n(U,16),new n(G,16),new n($,16),new n(Z,16))},s.privateKeyToAsn1=s.privateKeyToRSAPrivateKey=function(D){return a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,a.integerToDer(0).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,m(D.n)),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,m(D.e)),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,m(D.d)),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,m(D.p)),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,m(D.q)),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,m(D.dP)),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,m(D.dQ)),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,m(D.qInv))])},s.publicKeyFromAsn1=function(D){var L={},j=[];if(a.validate(D,d,L,j)){var Y=a.derToOid(L.publicKeyOid);if(Y!==s.oids.rsaEncryption){var O=new Error("Cannot read public key. Unknown OID.");throw O.oid=Y,O}D=L.rsaPublicKey}if(j=[],!a.validate(D,f,L,j)){var O=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.");throw O.errors=j,O}var B=r.util.createBuffer(L.publicKeyModulus).toHex(),C=r.util.createBuffer(L.publicKeyExponent).toHex();return s.setRsaPublicKey(new n(B,16),new n(C,16))},s.publicKeyToAsn1=s.publicKeyToSubjectPublicKeyInfo=function(D){return a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(s.oids.rsaEncryption).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.NULL,!1,"")]),a.create(a.Class.UNIVERSAL,a.Type.BITSTRING,!1,[s.publicKeyToRSAPublicKey(D)])])},s.publicKeyToRSAPublicKey=function(D){return a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,m(D.n)),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,m(D.e))])};function _(D,L,j){var Y=r.util.createBuffer(),O=Math.ceil(L.n.bitLength()/8);if(D.length>O-11){var B=new Error("Message is too long for PKCS#1 v1.5 padding.");throw B.length=D.length,B.max=O-11,B}Y.putByte(0),Y.putByte(j);var C=O-3-D.length,N;if(j===0||j===1){N=j===0?0:255;for(var U=0;U<C;++U)Y.putByte(N)}else for(;C>0;){for(var G=0,$=r.random.getBytes(C),U=0;U<C;++U)N=$.charCodeAt(U),N===0?++G:Y.putByte(N);C=G}return Y.putByte(0),Y.putBytes(D),Y}function E(D,L,j,Y){var O=Math.ceil(L.n.bitLength()/8),B=r.util.createBuffer(D),C=B.getByte(),N=B.getByte();if(C!==0||j&&N!==0&&N!==1||!j&&N!=2||j&&N===0&&typeof Y>"u")throw new Error("Encryption block is invalid.");var U=0;if(N===0){U=O-3-Y;for(var G=0;G<U;++G)if(B.getByte()!==0)throw new Error("Encryption block is invalid.")}else if(N===1)for(U=0;B.length()>1;){if(B.getByte()!==255){--B.read;break}++U}else if(N===2)for(U=0;B.length()>1;){if(B.getByte()===0){--B.read;break}++U}var $=B.getByte();if($!==0||U!==O-3-B.length())throw new Error("Encryption block is invalid.");return B.getBytes()}function p(D,L,j){typeof L=="function"&&(j=L,L={}),L=L||{};var Y={algorithm:{name:L.algorithm||"PRIMEINC",options:{workers:L.workers||2,workLoad:L.workLoad||100,workerScript:L.workerScript}}};"prng"in L&&(Y.prng=L.prng),O();function O(){B(D.pBits,function(N,U){if(N)return j(N);if(D.p=U,D.q!==null)return C(N,D.q);B(D.qBits,C)})}function B(N,U){r.prime.generateProbablePrime(N,Y,U)}function C(N,U){if(N)return j(N);if(D.q=U,D.p.compareTo(D.q)<0){var G=D.p;D.p=D.q,D.q=G}if(D.p.subtract(n.ONE).gcd(D.e).compareTo(n.ONE)!==0){D.p=null,O();return}if(D.q.subtract(n.ONE).gcd(D.e).compareTo(n.ONE)!==0){D.q=null,B(D.qBits,C);return}if(D.p1=D.p.subtract(n.ONE),D.q1=D.q.subtract(n.ONE),D.phi=D.p1.multiply(D.q1),D.phi.gcd(D.e).compareTo(n.ONE)!==0){D.p=D.q=null,O();return}if(D.n=D.p.multiply(D.q),D.n.bitLength()!==D.bits){D.q=null,B(D.qBits,C);return}var $=D.e.modInverse(D.phi);D.keys={privateKey:s.rsa.setPrivateKey(D.n,D.e,$,D.p,D.q,$.mod(D.p1),$.mod(D.q1),D.q.modInverse(D.p)),publicKey:s.rsa.setPublicKey(D.n,D.e)},j(null,D.keys)}}function m(D){var L=D.toString(16);L[0]>="8"&&(L="00"+L);var j=r.util.hexToBytes(L);return j.length>1&&(j.charCodeAt(0)===0&&!(j.charCodeAt(1)&128)||j.charCodeAt(0)===255&&(j.charCodeAt(1)&128)===128)?j.substr(1):j}function S(D){return D<=100?27:D<=150?18:D<=200?15:D<=250?12:D<=300?9:D<=350?8:D<=400?7:D<=500?6:D<=600?5:D<=800?4:D<=1250?3:2}function F(D){return r.util.isNodejs&&typeof i[D]=="function"}function I(D){return typeof o.globalScope<"u"&&typeof o.globalScope.crypto=="object"&&typeof o.globalScope.crypto.subtle=="object"&&typeof o.globalScope.crypto.subtle[D]=="function"}function v(D){return typeof o.globalScope<"u"&&typeof o.globalScope.msCrypto=="object"&&typeof o.globalScope.msCrypto.subtle=="object"&&typeof o.globalScope.msCrypto.subtle[D]=="function"}function A(D){for(var L=r.util.hexToBytes(D.toString(16)),j=new Uint8Array(L.length),Y=0;Y<L.length;++Y)j[Y]=L.charCodeAt(Y);return j}}}),OB=Qt({"../../node_modules/node-forge/lib/pbe.js"(t,e){var r=er();Vl(),$o(),Ap(),Ms(),Gl(),W8(),wu(),uo(),RB(),_p(),wr(),typeof n>"u"&&(n=r.jsbn.BigInteger);var n,i=r.asn1,a=r.pki=r.pki||{};e.exports=a.pbe=r.pbe=r.pbe||{};var o=a.oids,s={name:"EncryptedPrivateKeyInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},u={name:"PBES2Algorithms",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},l={name:"pkcs-12PbeParams",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"iterations"}]};a.encryptPrivateKeyInfo=function(y,w,_){_=_||{},_.saltSize=_.saltSize||8,_.count=_.count||2048,_.algorithm=_.algorithm||"aes128",_.prfAlgorithm=_.prfAlgorithm||"sha1";var E=r.random.getBytesSync(_.saltSize),p=_.count,m=i.integerToDer(p),S,F,I;if(_.algorithm.indexOf("aes")===0||_.algorithm==="des"){var v,A,D;switch(_.algorithm){case"aes128":S=16,v=16,A=o["aes128-CBC"],D=r.aes.createEncryptionCipher;break;case"aes192":S=24,v=16,A=o["aes192-CBC"],D=r.aes.createEncryptionCipher;break;case"aes256":S=32,v=16,A=o["aes256-CBC"],D=r.aes.createEncryptionCipher;break;case"des":S=8,v=8,A=o.desCBC,D=r.des.createEncryptionCipher;break;default:var L=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw L.algorithm=_.algorithm,L}var j="hmacWith"+_.prfAlgorithm.toUpperCase(),Y=d(j),O=r.pkcs5.pbkdf2(w,E,p,S,Y),B=r.random.getBytesSync(v),C=D(O);C.start(B),C.update(i.toDer(y)),C.finish(),I=C.output.getBytes();var N=h(E,m,S,j);F=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o.pkcs5PBES2).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o.pkcs5PBKDF2).getBytes()),N]),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(A).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,B)])])])}else if(_.algorithm==="3des"){S=24;var U=new r.util.ByteBuffer(E),O=a.pbe.generatePkcs12Key(w,U,1,p,S),B=a.pbe.generatePkcs12Key(w,U,2,p,S),C=r.des.createEncryptionCipher(O);C.start(B),C.update(i.toDer(y)),C.finish(),I=C.output.getBytes(),F=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,E),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,m.getBytes())])])}else{var L=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw L.algorithm=_.algorithm,L}var G=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[F,i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,I)]);return G},a.decryptPrivateKeyInfo=function(y,w){var _=null,E={},p=[];if(!i.validate(y,s,E,p)){var m=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw m.errors=p,m}var S=i.derToOid(E.encryptionOid),F=a.pbe.getCipher(S,E.encryptionParams,w),I=r.util.createBuffer(E.encryptedData);return F.update(I),F.finish()&&(_=i.fromDer(F.output)),_},a.encryptedPrivateKeyToPem=function(y,w){var _={type:"ENCRYPTED PRIVATE KEY",body:i.toDer(y).getBytes()};return r.pem.encode(_,{maxline:w})},a.encryptedPrivateKeyFromPem=function(y){var w=r.pem.decode(y)[0];if(w.type!=="ENCRYPTED PRIVATE KEY"){var _=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw _.headerType=w.type,_}if(w.procType&&w.procType.type==="ENCRYPTED")throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return i.fromDer(w.body)},a.encryptRsaPrivateKey=function(y,w,_){if(_=_||{},!_.legacy){var E=a.wrapRsaPrivateKey(a.privateKeyToAsn1(y));return E=a.encryptPrivateKeyInfo(E,w,_),a.encryptedPrivateKeyToPem(E)}var p,m,S,F;switch(_.algorithm){case"aes128":p="AES-128-CBC",S=16,m=r.random.getBytesSync(16),F=r.aes.createEncryptionCipher;break;case"aes192":p="AES-192-CBC",S=24,m=r.random.getBytesSync(16),F=r.aes.createEncryptionCipher;break;case"aes256":p="AES-256-CBC",S=32,m=r.random.getBytesSync(16),F=r.aes.createEncryptionCipher;break;case"3des":p="DES-EDE3-CBC",S=24,m=r.random.getBytesSync(8),F=r.des.createEncryptionCipher;break;case"des":p="DES-CBC",S=8,m=r.random.getBytesSync(8),F=r.des.createEncryptionCipher;break;default:var I=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+_.algorithm+'".');throw I.algorithm=_.algorithm,I}var v=r.pbe.opensslDeriveBytes(w,m.substr(0,8),S),A=F(v);A.start(m),A.update(i.toDer(a.privateKeyToAsn1(y))),A.finish();var D={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:p,parameters:r.util.bytesToHex(m).toUpperCase()},body:A.output.getBytes()};return r.pem.encode(D)},a.decryptRsaPrivateKey=function(y,w){var _=null,E=r.pem.decode(y)[0];if(E.type!=="ENCRYPTED PRIVATE KEY"&&E.type!=="PRIVATE KEY"&&E.type!=="RSA PRIVATE KEY"){var p=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".');throw p.headerType=p,p}if(E.procType&&E.procType.type==="ENCRYPTED"){var m,S;switch(E.dekInfo.algorithm){case"DES-CBC":m=8,S=r.des.createDecryptionCipher;break;case"DES-EDE3-CBC":m=24,S=r.des.createDecryptionCipher;break;case"AES-128-CBC":m=16,S=r.aes.createDecryptionCipher;break;case"AES-192-CBC":m=24,S=r.aes.createDecryptionCipher;break;case"AES-256-CBC":m=32,S=r.aes.createDecryptionCipher;break;case"RC2-40-CBC":m=5,S=function(D){return r.rc2.createDecryptionCipher(D,40)};break;case"RC2-64-CBC":m=8,S=function(D){return r.rc2.createDecryptionCipher(D,64)};break;case"RC2-128-CBC":m=16,S=function(D){return r.rc2.createDecryptionCipher(D,128)};break;default:var p=new Error('Could not decrypt private key; unsupported encryption algorithm "'+E.dekInfo.algorithm+'".');throw p.algorithm=E.dekInfo.algorithm,p}var F=r.util.hexToBytes(E.dekInfo.parameters),I=r.pbe.opensslDeriveBytes(w,F.substr(0,8),m),v=S(I);if(v.start(F),v.update(r.util.createBuffer(E.body)),v.finish())_=v.output.getBytes();else return _}else _=E.body;return E.type==="ENCRYPTED PRIVATE KEY"?_=a.decryptPrivateKeyInfo(i.fromDer(_),w):_=i.fromDer(_),_!==null&&(_=a.privateKeyFromAsn1(_)),_},a.pbe.generatePkcs12Key=function(y,w,_,E,p,m){var S,F;if(typeof m>"u"||m===null){if(!("sha1"in r.md))throw new Error('"sha1" hash algorithm unavailable.');m=r.md.sha1.create()}var I=m.digestLength,v=m.blockLength,A=new r.util.ByteBuffer,D=new r.util.ByteBuffer;if(y!=null){for(F=0;F<y.length;F++)D.putInt16(y.charCodeAt(F));D.putInt16(0)}var L=D.length(),j=w.length(),Y=new r.util.ByteBuffer;Y.fillWithByte(_,v);var O=v*Math.ceil(j/v),B=new r.util.ByteBuffer;for(F=0;F<O;F++)B.putByte(w.at(F%j));var C=v*Math.ceil(L/v),N=new r.util.ByteBuffer;for(F=0;F<C;F++)N.putByte(D.at(F%L));var U=B;U.putBuffer(N);for(var G=Math.ceil(p/I),$=1;$<=G;$++){var Z=new r.util.ByteBuffer;Z.putBytes(Y.bytes()),Z.putBytes(U.bytes());for(var W=0;W<E;W++)m.start(),m.update(Z.getBytes()),Z=m.digest();var P=new r.util.ByteBuffer;for(F=0;F<v;F++)P.putByte(Z.at(F%I));var R=Math.ceil(j/v)+Math.ceil(L/v),re=new r.util.ByteBuffer;for(S=0;S<R;S++){var T=new r.util.ByteBuffer(U.getBytes(v)),x=511;for(F=P.length()-1;F>=0;F--)x=x>>8,x+=P.at(F)+T.at(F),T.setAt(F,x&255);re.putBuffer(T)}U=re,A.putBuffer(Z)}return A.truncate(A.length()-p),A},a.pbe.getCipher=function(y,w,_){switch(y){case a.oids.pkcs5PBES2:return a.pbe.getCipherForPBES2(y,w,_);case a.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case a.oids["pbewithSHAAnd40BitRC2-CBC"]:return a.pbe.getCipherForPKCS12PBE(y,w,_);default:var E=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw E.oid=y,E.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],E}},a.pbe.getCipherForPBES2=function(y,w,_){var E={},p=[];if(!i.validate(w,u,E,p)){var m=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw m.errors=p,m}if(y=i.derToOid(E.kdfOid),y!==a.oids.pkcs5PBKDF2){var m=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.");throw m.oid=y,m.supportedOids=["pkcs5PBKDF2"],m}if(y=i.derToOid(E.encOid),y!==a.oids["aes128-CBC"]&&y!==a.oids["aes192-CBC"]&&y!==a.oids["aes256-CBC"]&&y!==a.oids["des-EDE3-CBC"]&&y!==a.oids.desCBC){var m=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.");throw m.oid=y,m.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],m}var S=E.kdfSalt,F=r.util.createBuffer(E.kdfIterationCount);F=F.getInt(F.length()<<3);var I,v;switch(a.oids[y]){case"aes128-CBC":I=16,v=r.aes.createDecryptionCipher;break;case"aes192-CBC":I=24,v=r.aes.createDecryptionCipher;break;case"aes256-CBC":I=32,v=r.aes.createDecryptionCipher;break;case"des-EDE3-CBC":I=24,v=r.des.createDecryptionCipher;break;case"desCBC":I=8,v=r.des.createDecryptionCipher;break}var A=f(E.prfOid),D=r.pkcs5.pbkdf2(_,S,F,I,A),L=E.encIv,j=v(D);return j.start(L),j},a.pbe.getCipherForPKCS12PBE=function(y,w,_){var E={},p=[];if(!i.validate(w,l,E,p)){var m=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw m.errors=p,m}var S=r.util.createBuffer(E.salt),F=r.util.createBuffer(E.iterations);F=F.getInt(F.length()<<3);var I,v,A;switch(y){case a.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:I=24,v=8,A=r.des.startDecrypting;break;case a.oids["pbewithSHAAnd40BitRC2-CBC"]:I=5,v=8,A=function(O,B){var C=r.rc2.createDecryptionCipher(O,40);return C.start(B,null),C};break;default:var m=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.");throw m.oid=y,m}var D=f(E.prfOid),L=a.pbe.generatePkcs12Key(_,S,1,F,I,D);D.start();var j=a.pbe.generatePkcs12Key(_,S,2,F,v,D);return A(L,j)},a.pbe.opensslDeriveBytes=function(y,w,_,E){if(typeof E>"u"||E===null){if(!("md5"in r.md))throw new Error('"md5" hash algorithm unavailable.');E=r.md.md5.create()}w===null&&(w="");for(var p=[c(E,y+w)],m=16,S=1;m<_;++S,m+=16)p.push(c(E,p[S-1]+y+w));return p.join("").substr(0,_)};function c(y,w){return y.start().update(w).digest().getBytes()}function f(y){var w;if(!y)w="hmacWithSHA1";else if(w=a.oids[i.derToOid(y)],!w){var _=new Error("Unsupported PRF OID.");throw _.oid=y,_.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],_}return d(w)}function d(y){var w=r.md;switch(y){case"hmacWithSHA224":w=r.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":y=y.substr(8).toLowerCase();break;default:var _=new Error("Unsupported PRF algorithm.");throw _.algorithm=y,_.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],_}if(!w||!(y in w))throw new Error("Unknown hash algorithm: "+y);return w[y].create()}function h(y,w,_,E){var p=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,y),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,w.getBytes())]);return E!=="hmacWithSHA1"&&p.value.push(i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,r.util.hexToBytes(_.toString(16))),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(a.oids[E]).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")])),p}}}),VB=Qt({"../../node_modules/node-forge/lib/pkcs7asn1.js"(t,e){var r=er();$o(),wr();var n=r.asn1,i=e.exports=r.pkcs7asn1=r.pkcs7asn1||{};r.pkcs7=r.pkcs7||{},r.pkcs7.asn1=i;var a={name:"ContentInfo",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:n.Class.UNIVERSAL,type:n.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:n.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};i.contentInfoValidator=a;var o={name:"EncryptedContentInfo",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:n.Class.UNIVERSAL,type:n.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:n.Class.UNIVERSAL,type:n.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:n.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:n.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};i.envelopedDataValidator={name:"EnvelopedData",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:n.Class.UNIVERSAL,type:n.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(o)},i.encryptedDataValidator={name:"EncryptedData",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"version"}].concat(o)};var s={name:"SignerInfo",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:n.Class.UNIVERSAL,type:n.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:n.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:n.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:n.Class.UNIVERSAL,type:n.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:n.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]};i.signedDataValidator={name:"SignedData",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:n.Class.UNIVERSAL,type:n.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},a,{name:"SignedData.Certificates",tagClass:n.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:n.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:n.Class.UNIVERSAL,type:n.Type.SET,capture:"signerInfos",optional:!0,value:[s]}]},i.recipientInfoValidator={name:"RecipientInfo",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:n.Class.UNIVERSAL,type:n.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:n.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter",optional:!0}]},{name:"RecipientInfo.encryptedKey",tagClass:n.Class.UNIVERSAL,type:n.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]}}}),GB=Qt({"../../node_modules/node-forge/lib/mgf1.js"(t,e){var r=er();wr(),r.mgf=r.mgf||{};var n=e.exports=r.mgf.mgf1=r.mgf1=r.mgf1||{};n.create=function(i){var a={generate:function(o,s){for(var u=new r.util.ByteBuffer,l=Math.ceil(s/i.digestLength),c=0;c<l;c++){var f=new r.util.ByteBuffer;f.putInt32(c),i.start(),i.update(o+f.getBytes()),u.putBuffer(i.digest())}return u.truncate(u.length()-s),u.getBytes()}};return a}}}),QU=Qt({"../../node_modules/node-forge/lib/mgf.js"(t,e){var r=er();GB(),e.exports=r.mgf=r.mgf||{},r.mgf.mgf1=r.mgf1}}),Y8=Qt({"../../node_modules/node-forge/lib/pss.js"(t,e){var r=er();uo(),wr();var n=e.exports=r.pss=r.pss||{};n.create=function(i){arguments.length===3&&(i={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var a=i.md,o=i.mgf,s=a.digestLength,u=i.salt||null;typeof u=="string"&&(u=r.util.createBuffer(u));var l;if("saltLength"in i)l=i.saltLength;else if(u!==null)l=u.length();else throw new Error("Salt length not specified or specific salt not given.");if(u!==null&&u.length()!==l)throw new Error("Given salt length does not match length of given salt.");var c=i.prng||r.random,f={};return f.encode=function(d,h){var y,w=h-1,_=Math.ceil(w/8),E=d.digest().getBytes();if(_<s+l+2)throw new Error("Message is too long to encrypt.");var p;u===null?p=c.getBytesSync(l):p=u.bytes();var m=new r.util.ByteBuffer;m.fillWithByte(0,8),m.putBytes(E),m.putBytes(p),a.start(),a.update(m.getBytes());var S=a.digest().getBytes(),F=new r.util.ByteBuffer;F.fillWithByte(0,_-l-s-2),F.putByte(1),F.putBytes(p);var I=F.getBytes(),v=_-s-1,A=o.generate(S,v),D="";for(y=0;y<v;y++)D+=String.fromCharCode(I.charCodeAt(y)^A.charCodeAt(y));var L=65280>>8*_-w&255;return D=String.fromCharCode(D.charCodeAt(0)&~L)+D.substr(1),D+S+"¼"},f.verify=function(d,h,y){var w,_=y-1,E=Math.ceil(_/8);if(h=h.substr(-E),E<s+l+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(h.charCodeAt(E-1)!==188)throw new Error("Encoded message does not end in 0xBC.");var p=E-s-1,m=h.substr(0,p),S=h.substr(p,s),F=65280>>8*E-_&255;if(m.charCodeAt(0)&F)throw new Error("Bits beyond keysize not zero as expected.");var I=o.generate(S,p),v="";for(w=0;w<p;w++)v+=String.fromCharCode(m.charCodeAt(w)^I.charCodeAt(w));v=String.fromCharCode(v.charCodeAt(0)&~F)+v.substr(1);var A=E-s-l-2;for(w=0;w<A;w++)if(v.charCodeAt(w)!==0)throw new Error("Leftmost octets not zero as expected");if(v.charCodeAt(A)!==1)throw new Error("Inconsistent PSS signature, 0x01 marker not found");var D=v.substr(-l),L=new r.util.ByteBuffer;L.fillWithByte(0,8),L.putBytes(d),L.putBytes(D),a.start(),a.update(L.getBytes());var j=a.digest().getBytes();return S===j},f}}}),Z8=Qt({"../../node_modules/node-forge/lib/x509.js"(t,e){var r=er();Vl(),$o(),Ap(),Ms(),QU(),Gl(),wu(),Y8(),_p(),wr();var n=r.asn1,i=e.exports=r.pki=r.pki||{},a=i.oids,o={};o.CN=a.commonName,o.commonName="CN",o.C=a.countryName,o.countryName="C",o.L=a.localityName,o.localityName="L",o.ST=a.stateOrProvinceName,o.stateOrProvinceName="ST",o.O=a.organizationName,o.organizationName="O",o.OU=a.organizationalUnitName,o.organizationalUnitName="OU",o.E=a.emailAddress,o.emailAddress="E";var s=r.pki.rsa.publicKeyValidator,u={name:"Certificate",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:n.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:n.Class.UNIVERSAL,type:n.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:n.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:n.Class.UNIVERSAL,type:n.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:n.Class.UNIVERSAL,type:n.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:n.Class.UNIVERSAL,type:n.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:n.Class.UNIVERSAL,type:n.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},s,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:n.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:n.Class.UNIVERSAL,type:n.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:n.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:n.Class.UNIVERSAL,type:n.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:n.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:n.Class.UNIVERSAL,type:n.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:n.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:n.Class.UNIVERSAL,type:n.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},l={name:"rsapss",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:n.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:n.Class.UNIVERSAL,type:n.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:n.Class.UNIVERSAL,type:n.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:n.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:n.Class.UNIVERSAL,type:n.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:n.Class.UNIVERSAL,type:n.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:n.Class.UNIVERSAL,type:n.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:n.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:n.Class.UNIVERSAL,type:n.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:n.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:n.Class.UNIVERSAL,type:n.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},c={name:"CertificationRequestInfo",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},s,{name:"CertificationRequestInfo.attributes",tagClass:n.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:n.Class.UNIVERSAL,type:n.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:n.Class.UNIVERSAL,type:n.Type.SET,constructed:!0}]}]}]},f={name:"CertificationRequest",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[c,{name:"CertificationRequest.signatureAlgorithm",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:n.Class.UNIVERSAL,type:n.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:n.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:n.Class.UNIVERSAL,type:n.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};i.RDNAttributesAsArray=function(A,D){for(var L=[],j,Y,O,B=0;B<A.value.length;++B){j=A.value[B];for(var C=0;C<j.value.length;++C)O={},Y=j.value[C],O.type=n.derToOid(Y.value[0].value),O.value=Y.value[1].value,O.valueTagClass=Y.value[1].type,O.type in a&&(O.name=a[O.type],O.name in o&&(O.shortName=o[O.name])),D&&(D.update(O.type),D.update(O.value)),L.push(O)}return L},i.CRIAttributesAsArray=function(A){for(var D=[],L=0;L<A.length;++L)for(var j=A[L],Y=n.derToOid(j.value[0].value),O=j.value[1].value,B=0;B<O.length;++B){var C={};if(C.type=Y,C.value=O[B].value,C.valueTagClass=O[B].type,C.type in a&&(C.name=a[C.type],C.name in o&&(C.shortName=o[C.name])),C.type===a.extensionRequest){C.extensions=[];for(var N=0;N<C.value.length;++N)C.extensions.push(i.certificateExtensionFromAsn1(C.value[N]))}D.push(C)}return D};function d(A,D){typeof D=="string"&&(D={shortName:D});for(var L=null,j,Y=0;L===null&&Y<A.attributes.length;++Y)j=A.attributes[Y],(D.type&&D.type===j.type||D.name&&D.name===j.name||D.shortName&&D.shortName===j.shortName)&&(L=j);return L}var h=function(A,D,L){var j={};if(A!==a["RSASSA-PSS"])return j;L&&(j={hash:{algorithmOid:a.sha1},mgf:{algorithmOid:a.mgf1,hash:{algorithmOid:a.sha1}},saltLength:20});var Y={},O=[];if(!n.validate(D,l,Y,O)){var B=new Error("Cannot read RSASSA-PSS parameter block.");throw B.errors=O,B}return Y.hashOid!==void 0&&(j.hash=j.hash||{},j.hash.algorithmOid=n.derToOid(Y.hashOid)),Y.maskGenOid!==void 0&&(j.mgf=j.mgf||{},j.mgf.algorithmOid=n.derToOid(Y.maskGenOid),j.mgf.hash=j.mgf.hash||{},j.mgf.hash.algorithmOid=n.derToOid(Y.maskGenHashOid)),Y.saltLength!==void 0&&(j.saltLength=Y.saltLength.charCodeAt(0)),j},y=function(A){switch(a[A.signatureOid]){case"sha1WithRSAEncryption":case"sha1WithRSASignature":return r.md.sha1.create();case"md5WithRSAEncryption":return r.md.md5.create();case"sha256WithRSAEncryption":return r.md.sha256.create();case"sha384WithRSAEncryption":return r.md.sha384.create();case"sha512WithRSAEncryption":return r.md.sha512.create();case"RSASSA-PSS":return r.md.sha256.create();default:var D=new Error("Could not compute "+A.type+" digest. Unknown signature OID.");throw D.signatureOid=A.signatureOid,D}},w=function(A){var D=A.certificate,L;switch(D.signatureOid){case a.sha1WithRSAEncryption:case a.sha1WithRSASignature:break;case a["RSASSA-PSS"]:var j,Y;if(j=a[D.signatureParameters.mgf.hash.algorithmOid],j===void 0||r.md[j]===void 0){var O=new Error("Unsupported MGF hash function.");throw O.oid=D.signatureParameters.mgf.hash.algorithmOid,O.name=j,O}if(Y=a[D.signatureParameters.mgf.algorithmOid],Y===void 0||r.mgf[Y]===void 0){var O=new Error("Unsupported MGF function.");throw O.oid=D.signatureParameters.mgf.algorithmOid,O.name=Y,O}if(Y=r.mgf[Y].create(r.md[j].create()),j=a[D.signatureParameters.hash.algorithmOid],j===void 0||r.md[j]===void 0){var O=new Error("Unsupported RSASSA-PSS hash function.");throw O.oid=D.signatureParameters.hash.algorithmOid,O.name=j,O}L=r.pss.create(r.md[j].create(),Y,D.signatureParameters.saltLength);break}return D.publicKey.verify(A.md.digest().getBytes(),A.signature,L)};i.certificateFromPem=function(A,D,L){var j=r.pem.decode(A)[0];if(j.type!=="CERTIFICATE"&&j.type!=="X509 CERTIFICATE"&&j.type!=="TRUSTED CERTIFICATE"){var Y=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw Y.headerType=j.type,Y}if(j.procType&&j.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var O=n.fromDer(j.body,L);return i.certificateFromAsn1(O,D)},i.certificateToPem=function(A,D){var L={type:"CERTIFICATE",body:n.toDer(i.certificateToAsn1(A)).getBytes()};return r.pem.encode(L,{maxline:D})},i.publicKeyFromPem=function(A){var D=r.pem.decode(A)[0];if(D.type!=="PUBLIC KEY"&&D.type!=="RSA PUBLIC KEY"){var L=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw L.headerType=D.type,L}if(D.procType&&D.procType.type==="ENCRYPTED")throw new Error("Could not convert public key from PEM; PEM is encrypted.");var j=n.fromDer(D.body);return i.publicKeyFromAsn1(j)},i.publicKeyToPem=function(A,D){var L={type:"PUBLIC KEY",body:n.toDer(i.publicKeyToAsn1(A)).getBytes()};return r.pem.encode(L,{maxline:D})},i.publicKeyToRSAPublicKeyPem=function(A,D){var L={type:"RSA PUBLIC KEY",body:n.toDer(i.publicKeyToRSAPublicKey(A)).getBytes()};return r.pem.encode(L,{maxline:D})},i.getPublicKeyFingerprint=function(A,D){D=D||{};var L=D.md||r.md.sha1.create(),j=D.type||"RSAPublicKey",Y;switch(j){case"RSAPublicKey":Y=n.toDer(i.publicKeyToRSAPublicKey(A)).getBytes();break;case"SubjectPublicKeyInfo":Y=n.toDer(i.publicKeyToAsn1(A)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+D.type+'".')}L.start(),L.update(Y);var O=L.digest();if(D.encoding==="hex"){var B=O.toHex();return D.delimiter?B.match(/.{2}/g).join(D.delimiter):B}else{if(D.encoding==="binary")return O.getBytes();if(D.encoding)throw new Error('Unknown encoding "'+D.encoding+'".')}return O},i.certificationRequestFromPem=function(A,D,L){var j=r.pem.decode(A)[0];if(j.type!=="CERTIFICATE REQUEST"){var Y=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw Y.headerType=j.type,Y}if(j.procType&&j.procType.type==="ENCRYPTED")throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var O=n.fromDer(j.body,L);return i.certificationRequestFromAsn1(O,D)},i.certificationRequestToPem=function(A,D){var L={type:"CERTIFICATE REQUEST",body:n.toDer(i.certificationRequestToAsn1(A)).getBytes()};return r.pem.encode(L,{maxline:D})},i.createCertificate=function(){var A={};return A.version=2,A.serialNumber="00",A.signatureOid=null,A.signature=null,A.siginfo={},A.siginfo.algorithmOid=null,A.validity={},A.validity.notBefore=new Date,A.validity.notAfter=new Date,A.issuer={},A.issuer.getField=function(D){return d(A.issuer,D)},A.issuer.addField=function(D){E([D]),A.issuer.attributes.push(D)},A.issuer.attributes=[],A.issuer.hash=null,A.subject={},A.subject.getField=function(D){return d(A.subject,D)},A.subject.addField=function(D){E([D]),A.subject.attributes.push(D)},A.subject.attributes=[],A.subject.hash=null,A.extensions=[],A.publicKey=null,A.md=null,A.setSubject=function(D,L){E(D),A.subject.attributes=D,delete A.subject.uniqueId,L&&(A.subject.uniqueId=L),A.subject.hash=null},A.setIssuer=function(D,L){E(D),A.issuer.attributes=D,delete A.issuer.uniqueId,L&&(A.issuer.uniqueId=L),A.issuer.hash=null},A.setExtensions=function(D){for(var L=0;L<D.length;++L)p(D[L],{cert:A});A.extensions=D},A.getExtension=function(D){typeof D=="string"&&(D={name:D});for(var L=null,j,Y=0;L===null&&Y<A.extensions.length;++Y)j=A.extensions[Y],(D.id&&j.id===D.id||D.name&&j.name===D.name)&&(L=j);return L},A.sign=function(D,L){A.md=L||r.md.sha1.create();var j=a[A.md.algorithm+"WithRSAEncryption"];if(!j){var Y=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw Y.algorithm=A.md.algorithm,Y}A.signatureOid=A.siginfo.algorithmOid=j,A.tbsCertificate=i.getTBSCertificate(A);var O=n.toDer(A.tbsCertificate);A.md.update(O.getBytes()),A.signature=D.sign(A.md)},A.verify=function(D){var L=!1;if(!A.issued(D)){var j=D.issuer,Y=A.subject,O=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.");throw O.expectedIssuer=Y.attributes,O.actualIssuer=j.attributes,O}var B=D.md;if(B===null){B=y({signatureOid:D.signatureOid,type:"certificate"});var C=D.tbsCertificate||i.getTBSCertificate(D),N=n.toDer(C);B.update(N.getBytes())}return B!==null&&(L=w({certificate:A,md:B,signature:D.signature})),L},A.isIssuer=function(D){var L=!1,j=A.issuer,Y=D.subject;if(j.hash&&Y.hash)L=j.hash===Y.hash;else if(j.attributes.length===Y.attributes.length){L=!0;for(var O,B,C=0;L&&C<j.attributes.length;++C)O=j.attributes[C],B=Y.attributes[C],(O.type!==B.type||O.value!==B.value)&&(L=!1)}return L},A.issued=function(D){return D.isIssuer(A)},A.generateSubjectKeyIdentifier=function(){return i.getPublicKeyFingerprint(A.publicKey,{type:"RSAPublicKey"})},A.verifySubjectKeyIdentifier=function(){for(var D=a.subjectKeyIdentifier,L=0;L<A.extensions.length;++L){var j=A.extensions[L];if(j.id===D){var Y=A.generateSubjectKeyIdentifier().getBytes();return r.util.hexToBytes(j.subjectKeyIdentifier)===Y}}return!1},A},i.certificateFromAsn1=function(A,D){var L={},j=[];if(!n.validate(A,u,L,j)){var Y=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.");throw Y.errors=j,Y}var O=n.derToOid(L.publicKeyOid);if(O!==i.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var B=i.createCertificate();B.version=L.certVersion?L.certVersion.charCodeAt(0):0;var C=r.util.createBuffer(L.certSerialNumber);B.serialNumber=C.toHex(),B.signatureOid=r.asn1.derToOid(L.certSignatureOid),B.signatureParameters=h(B.signatureOid,L.certSignatureParams,!0),B.siginfo.algorithmOid=r.asn1.derToOid(L.certinfoSignatureOid),B.siginfo.parameters=h(B.siginfo.algorithmOid,L.certinfoSignatureParams,!1),B.signature=L.certSignature;var N=[];if(L.certValidity1UTCTime!==void 0&&N.push(n.utcTimeToDate(L.certValidity1UTCTime)),L.certValidity2GeneralizedTime!==void 0&&N.push(n.generalizedTimeToDate(L.certValidity2GeneralizedTime)),L.certValidity3UTCTime!==void 0&&N.push(n.utcTimeToDate(L.certValidity3UTCTime)),L.certValidity4GeneralizedTime!==void 0&&N.push(n.generalizedTimeToDate(L.certValidity4GeneralizedTime)),N.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(N.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(B.validity.notBefore=N[0],B.validity.notAfter=N[1],B.tbsCertificate=L.tbsCertificate,D){B.md=y({signatureOid:B.signatureOid,type:"certificate"});var U=n.toDer(B.tbsCertificate);B.md.update(U.getBytes())}var G=r.md.sha1.create(),$=n.toDer(L.certIssuer);G.update($.getBytes()),B.issuer.getField=function(P){return d(B.issuer,P)},B.issuer.addField=function(P){E([P]),B.issuer.attributes.push(P)},B.issuer.attributes=i.RDNAttributesAsArray(L.certIssuer),L.certIssuerUniqueId&&(B.issuer.uniqueId=L.certIssuerUniqueId),B.issuer.hash=G.digest().toHex();var Z=r.md.sha1.create(),W=n.toDer(L.certSubject);return Z.update(W.getBytes()),B.subject.getField=function(P){return d(B.subject,P)},B.subject.addField=function(P){E([P]),B.subject.attributes.push(P)},B.subject.attributes=i.RDNAttributesAsArray(L.certSubject),L.certSubjectUniqueId&&(B.subject.uniqueId=L.certSubjectUniqueId),B.subject.hash=Z.digest().toHex(),L.certExtensions?B.extensions=i.certificateExtensionsFromAsn1(L.certExtensions):B.extensions=[],B.publicKey=i.publicKeyFromAsn1(L.subjectPublicKeyInfo),B},i.certificateExtensionsFromAsn1=function(A){for(var D=[],L=0;L<A.value.length;++L)for(var j=A.value[L],Y=0;Y<j.value.length;++Y)D.push(i.certificateExtensionFromAsn1(j.value[Y]));return D},i.certificateExtensionFromAsn1=function(A){var D={};if(D.id=n.derToOid(A.value[0].value),D.critical=!1,A.value[1].type===n.Type.BOOLEAN?(D.critical=A.value[1].value.charCodeAt(0)!==0,D.value=A.value[2].value):D.value=A.value[1].value,D.id in a){if(D.name=a[D.id],D.name==="keyUsage"){var L=n.fromDer(D.value),j=0,Y=0;L.value.length>1&&(j=L.value.charCodeAt(1),Y=L.value.length>2?L.value.charCodeAt(2):0),D.digitalSignature=(j&128)===128,D.nonRepudiation=(j&64)===64,D.keyEncipherment=(j&32)===32,D.dataEncipherment=(j&16)===16,D.keyAgreement=(j&8)===8,D.keyCertSign=(j&4)===4,D.cRLSign=(j&2)===2,D.encipherOnly=(j&1)===1,D.decipherOnly=(Y&128)===128}else if(D.name==="basicConstraints"){var L=n.fromDer(D.value);L.value.length>0&&L.value[0].type===n.Type.BOOLEAN?D.cA=L.value[0].value.charCodeAt(0)!==0:D.cA=!1;var O=null;L.value.length>0&&L.value[0].type===n.Type.INTEGER?O=L.value[0].value:L.value.length>1&&(O=L.value[1].value),O!==null&&(D.pathLenConstraint=n.derToInteger(O))}else if(D.name==="extKeyUsage")for(var L=n.fromDer(D.value),B=0;B<L.value.length;++B){var C=n.derToOid(L.value[B].value);C in a?D[a[C]]=!0:D[C]=!0}else if(D.name==="nsCertType"){var L=n.fromDer(D.value),j=0;L.value.length>1&&(j=L.value.charCodeAt(1)),D.client=(j&128)===128,D.server=(j&64)===64,D.email=(j&32)===32,D.objsign=(j&16)===16,D.reserved=(j&8)===8,D.sslCA=(j&4)===4,D.emailCA=(j&2)===2,D.objCA=(j&1)===1}else if(D.name==="subjectAltName"||D.name==="issuerAltName"){D.altNames=[];for(var N,L=n.fromDer(D.value),U=0;U<L.value.length;++U){N=L.value[U];var G={type:N.type,value:N.value};switch(D.altNames.push(G),N.type){case 1:case 2:case 6:break;case 7:G.ip=r.util.bytesToIP(N.value);break;case 8:G.oid=n.derToOid(N.value);break}}}else if(D.name==="subjectKeyIdentifier"){var L=n.fromDer(D.value);D.subjectKeyIdentifier=r.util.bytesToHex(L.value)}}return D},i.certificationRequestFromAsn1=function(A,D){var L={},j=[];if(!n.validate(A,f,L,j)){var Y=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.");throw Y.errors=j,Y}var O=n.derToOid(L.publicKeyOid);if(O!==i.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var B=i.createCertificationRequest();if(B.version=L.csrVersion?L.csrVersion.charCodeAt(0):0,B.signatureOid=r.asn1.derToOid(L.csrSignatureOid),B.signatureParameters=h(B.signatureOid,L.csrSignatureParams,!0),B.siginfo.algorithmOid=r.asn1.derToOid(L.csrSignatureOid),B.siginfo.parameters=h(B.siginfo.algorithmOid,L.csrSignatureParams,!1),B.signature=L.csrSignature,B.certificationRequestInfo=L.certificationRequestInfo,D){B.md=y({signatureOid:B.signatureOid,type:"certification request"});var C=n.toDer(B.certificationRequestInfo);B.md.update(C.getBytes())}var N=r.md.sha1.create();return B.subject.getField=function(U){return d(B.subject,U)},B.subject.addField=function(U){E([U]),B.subject.attributes.push(U)},B.subject.attributes=i.RDNAttributesAsArray(L.certificationRequestInfoSubject,N),B.subject.hash=N.digest().toHex(),B.publicKey=i.publicKeyFromAsn1(L.subjectPublicKeyInfo),B.getAttribute=function(U){return d(B,U)},B.addAttribute=function(U){E([U]),B.attributes.push(U)},B.attributes=i.CRIAttributesAsArray(L.certificationRequestInfoAttributes||[]),B},i.createCertificationRequest=function(){var A={};return A.version=0,A.signatureOid=null,A.signature=null,A.siginfo={},A.siginfo.algorithmOid=null,A.subject={},A.subject.getField=function(D){return d(A.subject,D)},A.subject.addField=function(D){E([D]),A.subject.attributes.push(D)},A.subject.attributes=[],A.subject.hash=null,A.publicKey=null,A.attributes=[],A.getAttribute=function(D){return d(A,D)},A.addAttribute=function(D){E([D]),A.attributes.push(D)},A.md=null,A.setSubject=function(D){E(D),A.subject.attributes=D,A.subject.hash=null},A.setAttributes=function(D){E(D),A.attributes=D},A.sign=function(D,L){A.md=L||r.md.sha1.create();var j=a[A.md.algorithm+"WithRSAEncryption"];if(!j){var Y=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw Y.algorithm=A.md.algorithm,Y}A.signatureOid=A.siginfo.algorithmOid=j,A.certificationRequestInfo=i.getCertificationRequestInfo(A);var O=n.toDer(A.certificationRequestInfo);A.md.update(O.getBytes()),A.signature=D.sign(A.md)},A.verify=function(){var D=!1,L=A.md;if(L===null){L=y({signatureOid:A.signatureOid,type:"certification request"});var j=A.certificationRequestInfo||i.getCertificationRequestInfo(A),Y=n.toDer(j);L.update(Y.getBytes())}return L!==null&&(D=w({certificate:A,md:L,signature:A.signature})),D},A};function _(A){for(var D=n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[]),L,j,Y=A.attributes,O=0;O<Y.length;++O){L=Y[O];var B=L.value,C=n.Type.PRINTABLESTRING;"valueTagClass"in L&&(C=L.valueTagClass,C===n.Type.UTF8&&(B=r.util.encodeUtf8(B))),j=n.create(n.Class.UNIVERSAL,n.Type.SET,!0,[n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(L.type).getBytes()),n.create(n.Class.UNIVERSAL,C,!1,B)])]),D.value.push(j)}return D}function E(A){for(var D,L=0;L<A.length;++L){if(D=A[L],typeof D.name>"u"&&(D.type&&D.type in i.oids?D.name=i.oids[D.type]:D.shortName&&D.shortName in o&&(D.name=i.oids[o[D.shortName]])),typeof D.type>"u")if(D.name&&D.name in i.oids)D.type=i.oids[D.name];else{var j=new Error("Attribute type not specified.");throw j.attribute=D,j}if(typeof D.shortName>"u"&&D.name&&D.name in o&&(D.shortName=o[D.name]),D.type===a.extensionRequest&&(D.valueConstructed=!0,D.valueTagClass=n.Type.SEQUENCE,!D.value&&D.extensions)){D.value=[];for(var Y=0;Y<D.extensions.length;++Y)D.value.push(i.certificateExtensionToAsn1(p(D.extensions[Y])))}if(typeof D.value>"u"){var j=new Error("Attribute value not specified.");throw j.attribute=D,j}}}function p(A,D){if(D=D||{},typeof A.name>"u"&&A.id&&A.id in i.oids&&(A.name=i.oids[A.id]),typeof A.id>"u")if(A.name&&A.name in i.oids)A.id=i.oids[A.name];else{var L=new Error("Extension ID not specified.");throw L.extension=A,L}if(typeof A.value<"u")return A;if(A.name==="keyUsage"){var j=0,Y=0,O=0;A.digitalSignature&&(Y|=128,j=7),A.nonRepudiation&&(Y|=64,j=6),A.keyEncipherment&&(Y|=32,j=5),A.dataEncipherment&&(Y|=16,j=4),A.keyAgreement&&(Y|=8,j=3),A.keyCertSign&&(Y|=4,j=2),A.cRLSign&&(Y|=2,j=1),A.encipherOnly&&(Y|=1,j=0),A.decipherOnly&&(O|=128,j=7);var B=String.fromCharCode(j);O!==0?B+=String.fromCharCode(Y)+String.fromCharCode(O):Y!==0&&(B+=String.fromCharCode(Y)),A.value=n.create(n.Class.UNIVERSAL,n.Type.BITSTRING,!1,B)}else if(A.name==="basicConstraints")A.value=n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[]),A.cA&&A.value.value.push(n.create(n.Class.UNIVERSAL,n.Type.BOOLEAN,!1,"ÿ")),"pathLenConstraint"in A&&A.value.value.push(n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,n.integerToDer(A.pathLenConstraint).getBytes()));else if(A.name==="extKeyUsage"){A.value=n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[]);var C=A.value.value;for(var N in A)A[N]===!0&&(N in a?C.push(n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(a[N]).getBytes())):N.indexOf(".")!==-1&&C.push(n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(N).getBytes())))}else if(A.name==="nsCertType"){var j=0,Y=0;A.client&&(Y|=128,j=7),A.server&&(Y|=64,j=6),A.email&&(Y|=32,j=5),A.objsign&&(Y|=16,j=4),A.reserved&&(Y|=8,j=3),A.sslCA&&(Y|=4,j=2),A.emailCA&&(Y|=2,j=1),A.objCA&&(Y|=1,j=0);var B=String.fromCharCode(j);Y!==0&&(B+=String.fromCharCode(Y)),A.value=n.create(n.Class.UNIVERSAL,n.Type.BITSTRING,!1,B)}else if(A.name==="subjectAltName"||A.name==="issuerAltName"){A.value=n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[]);for(var U,G=0;G<A.altNames.length;++G){U=A.altNames[G];var B=U.value;if(U.type===7&&U.ip){if(B=r.util.bytesFromIP(U.ip),B===null){var L=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw L.extension=A,L}}else U.type===8&&(U.oid?B=n.oidToDer(n.oidToDer(U.oid)):B=n.oidToDer(B));A.value.value.push(n.create(n.Class.CONTEXT_SPECIFIC,U.type,!1,B))}}else if(A.name==="nsComment"&&D.cert){if(!/^[\x00-\x7F]*$/.test(A.comment)||A.comment.length<1||A.comment.length>128)throw new Error('Invalid "nsComment" content.');A.value=n.create(n.Class.UNIVERSAL,n.Type.IA5STRING,!1,A.comment)}else if(A.name==="subjectKeyIdentifier"&&D.cert){var $=D.cert.generateSubjectKeyIdentifier();A.subjectKeyIdentifier=$.toHex(),A.value=n.create(n.Class.UNIVERSAL,n.Type.OCTETSTRING,!1,$.getBytes())}else if(A.name==="authorityKeyIdentifier"&&D.cert){A.value=n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[]);var C=A.value.value;if(A.keyIdentifier){var Z=A.keyIdentifier===!0?D.cert.generateSubjectKeyIdentifier().getBytes():A.keyIdentifier;C.push(n.create(n.Class.CONTEXT_SPECIFIC,0,!1,Z))}if(A.authorityCertIssuer){var W=[n.create(n.Class.CONTEXT_SPECIFIC,4,!0,[_(A.authorityCertIssuer===!0?D.cert.issuer:A.authorityCertIssuer)])];C.push(n.create(n.Class.CONTEXT_SPECIFIC,1,!0,W))}if(A.serialNumber){var P=r.util.hexToBytes(A.serialNumber===!0?D.cert.serialNumber:A.serialNumber);C.push(n.create(n.Class.CONTEXT_SPECIFIC,2,!1,P))}}else if(A.name==="cRLDistributionPoints"){A.value=n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[]);for(var C=A.value.value,R=n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[]),re=n.create(n.Class.CONTEXT_SPECIFIC,0,!0,[]),U,G=0;G<A.altNames.length;++G){U=A.altNames[G];var B=U.value;if(U.type===7&&U.ip){if(B=r.util.bytesFromIP(U.ip),B===null){var L=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw L.extension=A,L}}else U.type===8&&(U.oid?B=n.oidToDer(n.oidToDer(U.oid)):B=n.oidToDer(B));re.value.push(n.create(n.Class.CONTEXT_SPECIFIC,U.type,!1,B))}R.value.push(n.create(n.Class.CONTEXT_SPECIFIC,0,!0,[re])),C.push(R)}if(typeof A.value>"u"){var L=new Error("Extension value not specified.");throw L.extension=A,L}return A}function m(A,D){switch(A){case a["RSASSA-PSS"]:var L=[];return D.hash.algorithmOid!==void 0&&L.push(n.create(n.Class.CONTEXT_SPECIFIC,0,!0,[n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(D.hash.algorithmOid).getBytes()),n.create(n.Class.UNIVERSAL,n.Type.NULL,!1,"")])])),D.mgf.algorithmOid!==void 0&&L.push(n.create(n.Class.CONTEXT_SPECIFIC,1,!0,[n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(D.mgf.algorithmOid).getBytes()),n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(D.mgf.hash.algorithmOid).getBytes()),n.create(n.Class.UNIVERSAL,n.Type.NULL,!1,"")])])])),D.saltLength!==void 0&&L.push(n.create(n.Class.CONTEXT_SPECIFIC,2,!0,[n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,n.integerToDer(D.saltLength).getBytes())])),n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,L);default:return n.create(n.Class.UNIVERSAL,n.Type.NULL,!1,"")}}function S(A){var D=n.create(n.Class.CONTEXT_SPECIFIC,0,!0,[]);if(A.attributes.length===0)return D;for(var L=A.attributes,j=0;j<L.length;++j){var Y=L[j],O=Y.value,B=n.Type.UTF8;"valueTagClass"in Y&&(B=Y.valueTagClass),B===n.Type.UTF8&&(O=r.util.encodeUtf8(O));var C=!1;"valueConstructed"in Y&&(C=Y.valueConstructed);var N=n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(Y.type).getBytes()),n.create(n.Class.UNIVERSAL,n.Type.SET,!0,[n.create(n.Class.UNIVERSAL,B,C,O)])]);D.value.push(N)}return D}var F=new Date("1950-01-01T00:00:00Z"),I=new Date("2050-01-01T00:00:00Z");function v(A){return A>=F&&A<I?n.create(n.Class.UNIVERSAL,n.Type.UTCTIME,!1,n.dateToUtcTime(A)):n.create(n.Class.UNIVERSAL,n.Type.GENERALIZEDTIME,!1,n.dateToGeneralizedTime(A))}i.getTBSCertificate=function(A){var D=v(A.validity.notBefore),L=v(A.validity.notAfter),j=n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.CONTEXT_SPECIFIC,0,!0,[n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,n.integerToDer(A.version).getBytes())]),n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,r.util.hexToBytes(A.serialNumber)),n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(A.siginfo.algorithmOid).getBytes()),m(A.siginfo.algorithmOid,A.siginfo.parameters)]),_(A.issuer),n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[D,L]),_(A.subject),i.publicKeyToAsn1(A.publicKey)]);return A.issuer.uniqueId&&j.value.push(n.create(n.Class.CONTEXT_SPECIFIC,1,!0,[n.create(n.Class.UNIVERSAL,n.Type.BITSTRING,!1,"\0"+A.issuer.uniqueId)])),A.subject.uniqueId&&j.value.push(n.create(n.Class.CONTEXT_SPECIFIC,2,!0,[n.create(n.Class.UNIVERSAL,n.Type.BITSTRING,!1,"\0"+A.subject.uniqueId)])),A.extensions.length>0&&j.value.push(i.certificateExtensionsToAsn1(A.extensions)),j},i.getCertificationRequestInfo=function(A){var D=n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,n.integerToDer(A.version).getBytes()),_(A.subject),i.publicKeyToAsn1(A.publicKey),S(A)]);return D},i.distinguishedNameToAsn1=function(A){return _(A)},i.certificateToAsn1=function(A){var D=A.tbsCertificate||i.getTBSCertificate(A);return n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[D,n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(A.signatureOid).getBytes()),m(A.signatureOid,A.signatureParameters)]),n.create(n.Class.UNIVERSAL,n.Type.BITSTRING,!1,"\0"+A.signature)])},i.certificateExtensionsToAsn1=function(A){var D=n.create(n.Class.CONTEXT_SPECIFIC,3,!0,[]),L=n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[]);D.value.push(L);for(var j=0;j<A.length;++j)L.value.push(i.certificateExtensionToAsn1(A[j]));return D},i.certificateExtensionToAsn1=function(A){var D=n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[]);D.value.push(n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(A.id).getBytes())),A.critical&&D.value.push(n.create(n.Class.UNIVERSAL,n.Type.BOOLEAN,!1,"ÿ"));var L=A.value;return typeof A.value!="string"&&(L=n.toDer(L).getBytes()),D.value.push(n.create(n.Class.UNIVERSAL,n.Type.OCTETSTRING,!1,L)),D},i.certificationRequestToAsn1=function(A){var D=A.certificationRequestInfo||i.getCertificationRequestInfo(A);return n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[D,n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(A.signatureOid).getBytes()),m(A.signatureOid,A.signatureParameters)]),n.create(n.Class.UNIVERSAL,n.Type.BITSTRING,!1,"\0"+A.signature)])},i.createCaStore=function(A){var D={certs:{}};D.getIssuer=function(B){var C=L(B.issuer);return C},D.addCertificate=function(B){if(typeof B=="string"&&(B=r.pki.certificateFromPem(B)),j(B.subject),!D.hasCertificate(B))if(B.subject.hash in D.certs){var C=D.certs[B.subject.hash];r.util.isArray(C)||(C=[C]),C.push(B),D.certs[B.subject.hash]=C}else D.certs[B.subject.hash]=B},D.hasCertificate=function(B){typeof B=="string"&&(B=r.pki.certificateFromPem(B));var C=L(B.subject);if(!C)return!1;r.util.isArray(C)||(C=[C]);for(var N=n.toDer(i.certificateToAsn1(B)).getBytes(),U=0;U<C.length;++U){var G=n.toDer(i.certificateToAsn1(C[U])).getBytes();if(N===G)return!0}return!1},D.listAllCertificates=function(){var B=[];for(var C in D.certs)if(D.certs.hasOwnProperty(C)){var N=D.certs[C];if(!r.util.isArray(N))B.push(N);else for(var U=0;U<N.length;++U)B.push(N[U])}return B},D.removeCertificate=function(B){var C;if(typeof B=="string"&&(B=r.pki.certificateFromPem(B)),j(B.subject),!D.hasCertificate(B))return null;var N=L(B.subject);if(!r.util.isArray(N))return C=D.certs[B.subject.hash],delete D.certs[B.subject.hash],C;for(var U=n.toDer(i.certificateToAsn1(B)).getBytes(),G=0;G<N.length;++G){var $=n.toDer(i.certificateToAsn1(N[G])).getBytes();U===$&&(C=N[G],N.splice(G,1))}return N.length===0&&delete D.certs[B.subject.hash],C};function L(B){return j(B),D.certs[B.hash]||null}function j(B){if(!B.hash){var C=r.md.sha1.create();B.attributes=i.RDNAttributesAsArray(_(B),C),B.hash=C.digest().toHex()}}if(A)for(var Y=0;Y<A.length;++Y){var O=A[Y];D.addCertificate(O)}return D},i.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"},i.verifyCertificateChain=function(A,D,L){typeof L=="function"&&(L={verify:L}),L=L||{},D=D.slice(0);var j=D.slice(0),Y=L.validityCheckDate;typeof Y>"u"&&(Y=new Date);var O=!0,B=null,C=0;do{var N=D.shift(),U=null,G=!1;if(Y&&(Y<N.validity.notBefore||Y>N.validity.notAfter)&&(B={message:"Certificate is not valid yet or has expired.",error:i.certificateError.certificate_expired,notBefore:N.validity.notBefore,notAfter:N.validity.notAfter,now:Y}),B===null){if(U=D[0]||A.getIssuer(N),U===null&&N.isIssuer(N)&&(G=!0,U=N),U){var $=U;r.util.isArray($)||($=[$]);for(var Z=!1;!Z&&$.length>0;){U=$.shift();try{Z=U.verify(N)}catch{}}Z||(B={message:"Certificate signature is invalid.",error:i.certificateError.bad_certificate})}B===null&&(!U||G)&&!A.hasCertificate(N)&&(B={message:"Certificate is not trusted.",error:i.certificateError.unknown_ca})}if(B===null&&U&&!N.isIssuer(U)&&(B={message:"Certificate issuer is invalid.",error:i.certificateError.bad_certificate}),B===null)for(var W={keyUsage:!0,basicConstraints:!0},P=0;B===null&&P<N.extensions.length;++P){var R=N.extensions[P];R.critical&&!(R.name in W)&&(B={message:"Certificate has an unsupported critical extension.",error:i.certificateError.unsupported_certificate})}if(B===null&&(!O||D.length===0&&(!U||G))){var re=N.getExtension("basicConstraints"),T=N.getExtension("keyUsage");if(T!==null&&(!T.keyCertSign||re===null)&&(B={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:i.certificateError.bad_certificate}),B===null&&re!==null&&!re.cA&&(B={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:i.certificateError.bad_certificate}),B===null&&T!==null&&"pathLenConstraint"in re){var x=C-1;x>re.pathLenConstraint&&(B={message:"Certificate basicConstraints pathLenConstraint violated.",error:i.certificateError.bad_certificate})}}var z=B===null?!0:B.error,b=L.verify?L.verify(z,C,j):z;if(b===!0)B=null;else throw z===!0&&(B={message:"The application rejected the certificate.",error:i.certificateError.bad_certificate}),(b||b===0)&&(typeof b=="object"&&!r.util.isArray(b)?(b.message&&(B.message=b.message),b.error&&(B.error=b.error)):typeof b=="string"&&(B.error=b)),B;O=!1,++C}while(D.length>0);return!0}}}),zB=Qt({"../../node_modules/node-forge/lib/pkcs12.js"(t,e){var r=er();$o(),Qd(),Gl(),VB(),OB(),uo(),_p(),Hd(),wr(),Z8();var n=r.asn1,i=r.pki,a=e.exports=r.pkcs12=r.pkcs12||{},o={name:"ContentInfo",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:n.Class.UNIVERSAL,type:n.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:n.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},s={name:"PFX",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"version"},o,{name:"PFX.macData",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:n.Class.UNIVERSAL,type:n.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:n.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:n.Class.UNIVERSAL,type:n.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:n.Class.UNIVERSAL,type:n.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},u={name:"SafeBag",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:n.Class.UNIVERSAL,type:n.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:n.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:n.Class.UNIVERSAL,type:n.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},l={name:"Attribute",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:n.Class.UNIVERSAL,type:n.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:n.Class.UNIVERSAL,type:n.Type.SET,constructed:!0,capture:"values"}]},c={name:"CertBag",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:n.Class.UNIVERSAL,type:n.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:n.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:n.Class.UNIVERSAL,type:n.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};function f(E,p,m,S){for(var F=[],I=0;I<E.length;I++)for(var v=0;v<E[I].safeBags.length;v++){var A=E[I].safeBags[v];if(!(S!==void 0&&A.type!==S)){if(p===null){F.push(A);continue}A.attributes[p]!==void 0&&A.attributes[p].indexOf(m)>=0&&F.push(A)}}return F}a.pkcs12FromAsn1=function(E,p,m){typeof p=="string"?(m=p,p=!0):p===void 0&&(p=!0);var S={},F=[];if(!n.validate(E,s,S,F)){var I=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.");throw I.errors=I,I}var v={version:S.version.charCodeAt(0),safeContents:[],getBags:function(U){var G={},$;return"localKeyId"in U?$=U.localKeyId:"localKeyIdHex"in U&&($=r.util.hexToBytes(U.localKeyIdHex)),$===void 0&&!("friendlyName"in U)&&"bagType"in U&&(G[U.bagType]=f(v.safeContents,null,null,U.bagType)),$!==void 0&&(G.localKeyId=f(v.safeContents,"localKeyId",$,U.bagType)),"friendlyName"in U&&(G.friendlyName=f(v.safeContents,"friendlyName",U.friendlyName,U.bagType)),G},getBagsByFriendlyName:function(U,G){return f(v.safeContents,"friendlyName",U,G)},getBagsByLocalKeyId:function(U,G){return f(v.safeContents,"localKeyId",U,G)}};if(S.version.charCodeAt(0)!==3){var I=new Error("PKCS#12 PFX of version other than 3 not supported.");throw I.version=S.version.charCodeAt(0),I}if(n.derToOid(S.contentType)!==i.oids.data){var I=new Error("Only PKCS#12 PFX in password integrity mode supported.");throw I.oid=n.derToOid(S.contentType),I}var A=S.content.value[0];if(A.tagClass!==n.Class.UNIVERSAL||A.type!==n.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(A=d(A),S.mac){var D=null,L=0,j=n.derToOid(S.macAlgorithm);switch(j){case i.oids.sha1:D=r.md.sha1.create(),L=20;break;case i.oids.sha256:D=r.md.sha256.create(),L=32;break;case i.oids.sha384:D=r.md.sha384.create(),L=48;break;case i.oids.sha512:D=r.md.sha512.create(),L=64;break;case i.oids.md5:D=r.md.md5.create(),L=16;break}if(D===null)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+j);var Y=new r.util.ByteBuffer(S.macSalt),O="macIterations"in S?parseInt(r.util.bytesToHex(S.macIterations),16):1,B=a.generateKey(m,Y,3,O,L,D),C=r.hmac.create();C.start(D,B),C.update(A.value);var N=C.getMac();if(N.getBytes()!==S.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}return h(v,A.value,p,m),v};function d(E){if(E.composed||E.constructed){for(var p=r.util.createBuffer(),m=0;m<E.value.length;++m)p.putBytes(E.value[m].value);E.composed=E.constructed=!1,E.value=p.getBytes()}return E}function h(E,p,m,S){if(p=n.fromDer(p,m),p.tagClass!==n.Class.UNIVERSAL||p.type!==n.Type.SEQUENCE||p.constructed!==!0)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var F=0;F<p.value.length;F++){var I=p.value[F],v={},A=[];if(!n.validate(I,o,v,A)){var D=new Error("Cannot read ContentInfo.");throw D.errors=A,D}var L={encrypted:!1},j=null,Y=v.content.value[0];switch(n.derToOid(v.contentType)){case i.oids.data:if(Y.tagClass!==n.Class.UNIVERSAL||Y.type!==n.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");j=d(Y).value;break;case i.oids.encryptedData:j=y(Y,S),L.encrypted=!0;break;default:var D=new Error("Unsupported PKCS#12 contentType.");throw D.contentType=n.derToOid(v.contentType),D}L.safeBags=w(j,m,S),E.safeContents.push(L)}}function y(E,p){var m={},S=[];if(!n.validate(E,r.pkcs7.asn1.encryptedDataValidator,m,S)){var F=new Error("Cannot read EncryptedContentInfo.");throw F.errors=S,F}var I=n.derToOid(m.contentType);if(I!==i.oids.data){var F=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.");throw F.oid=I,F}I=n.derToOid(m.encAlgorithm);var v=i.pbe.getCipher(I,m.encParameter,p),A=d(m.encryptedContentAsn1),D=r.util.createBuffer(A.value);if(v.update(D),!v.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return v.output.getBytes()}function w(E,p,m){if(!p&&E.length===0)return[];if(E=n.fromDer(E,p),E.tagClass!==n.Class.UNIVERSAL||E.type!==n.Type.SEQUENCE||E.constructed!==!0)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var S=[],F=0;F<E.value.length;F++){var I=E.value[F],v={},A=[];if(!n.validate(I,u,v,A)){var D=new Error("Cannot read SafeBag.");throw D.errors=A,D}var L={type:n.derToOid(v.bagId),attributes:_(v.bagAttributes)};S.push(L);var j,Y,O=v.bagValue.value[0];switch(L.type){case i.oids.pkcs8ShroudedKeyBag:if(O=i.decryptPrivateKeyInfo(O,m),O===null)throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case i.oids.keyBag:try{L.key=i.privateKeyFromAsn1(O)}catch{L.key=null,L.asn1=O}continue;case i.oids.certBag:j=c,Y=function(){if(n.derToOid(v.certId)!==i.oids.x509Certificate){var C=new Error("Unsupported certificate type, only X.509 supported.");throw C.oid=n.derToOid(v.certId),C}var N=n.fromDer(v.cert,p);try{L.cert=i.certificateFromAsn1(N,!0)}catch{L.cert=null,L.asn1=N}};break;default:var D=new Error("Unsupported PKCS#12 SafeBag type.");throw D.oid=L.type,D}if(j!==void 0&&!n.validate(O,j,v,A)){var D=new Error("Cannot read PKCS#12 "+j.name);throw D.errors=A,D}Y()}return S}function _(E){var p={};if(E!==void 0)for(var m=0;m<E.length;++m){var S={},F=[];if(!n.validate(E[m],l,S,F)){var I=new Error("Cannot read PKCS#12 BagAttribute.");throw I.errors=F,I}var v=n.derToOid(S.oid);if(i.oids[v]!==void 0){p[i.oids[v]]=[];for(var A=0;A<S.values.length;++A)p[i.oids[v]].push(S.values[A].value)}}return p}a.toPkcs12Asn1=function(E,p,m,S){S=S||{},S.saltSize=S.saltSize||8,S.count=S.count||2048,S.algorithm=S.algorithm||S.encAlgorithm||"aes128","useMac"in S||(S.useMac=!0),"localKeyId"in S||(S.localKeyId=null),"generateLocalKeyId"in S||(S.generateLocalKeyId=!0);var F=S.localKeyId,I;if(F!==null)F=r.util.hexToBytes(F);else if(S.generateLocalKeyId)if(p){var v=r.util.isArray(p)?p[0]:p;typeof v=="string"&&(v=i.certificateFromPem(v));var A=r.md.sha1.create();A.update(n.toDer(i.certificateToAsn1(v)).getBytes()),F=A.digest().getBytes()}else F=r.random.getBytes(20);var D=[];F!==null&&D.push(n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(i.oids.localKeyId).getBytes()),n.create(n.Class.UNIVERSAL,n.Type.SET,!0,[n.create(n.Class.UNIVERSAL,n.Type.OCTETSTRING,!1,F)])])),"friendlyName"in S&&D.push(n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(i.oids.friendlyName).getBytes()),n.create(n.Class.UNIVERSAL,n.Type.SET,!0,[n.create(n.Class.UNIVERSAL,n.Type.BMPSTRING,!1,S.friendlyName)])])),D.length>0&&(I=n.create(n.Class.UNIVERSAL,n.Type.SET,!0,D));var L=[],j=[];p!==null&&(r.util.isArray(p)?j=p:j=[p]);for(var Y=[],O=0;O<j.length;++O){p=j[O],typeof p=="string"&&(p=i.certificateFromPem(p));var B=O===0?I:void 0,C=i.certificateToAsn1(p),N=n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(i.oids.certBag).getBytes()),n.create(n.Class.CONTEXT_SPECIFIC,0,!0,[n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(i.oids.x509Certificate).getBytes()),n.create(n.Class.CONTEXT_SPECIFIC,0,!0,[n.create(n.Class.UNIVERSAL,n.Type.OCTETSTRING,!1,n.toDer(C).getBytes())])])]),B]);Y.push(N)}if(Y.length>0){var U=n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,Y),G=n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(i.oids.data).getBytes()),n.create(n.Class.CONTEXT_SPECIFIC,0,!0,[n.create(n.Class.UNIVERSAL,n.Type.OCTETSTRING,!1,n.toDer(U).getBytes())])]);L.push(G)}var $=null;if(E!==null){var Z=i.wrapRsaPrivateKey(i.privateKeyToAsn1(E));m===null?$=n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(i.oids.keyBag).getBytes()),n.create(n.Class.CONTEXT_SPECIFIC,0,!0,[Z]),I]):$=n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(i.oids.pkcs8ShroudedKeyBag).getBytes()),n.create(n.Class.CONTEXT_SPECIFIC,0,!0,[i.encryptPrivateKeyInfo(Z,m,S)]),I]);var W=n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[$]),P=n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(i.oids.data).getBytes()),n.create(n.Class.CONTEXT_SPECIFIC,0,!0,[n.create(n.Class.UNIVERSAL,n.Type.OCTETSTRING,!1,n.toDer(W).getBytes())])]);L.push(P)}var R=n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,L),re;if(S.useMac){var A=r.md.sha1.create(),T=new r.util.ByteBuffer(r.random.getBytes(S.saltSize)),x=S.count,E=a.generateKey(m,T,3,x,20),z=r.hmac.create();z.start(A,E),z.update(n.toDer(R).getBytes());var b=z.getMac();re=n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(i.oids.sha1).getBytes()),n.create(n.Class.UNIVERSAL,n.Type.NULL,!1,"")]),n.create(n.Class.UNIVERSAL,n.Type.OCTETSTRING,!1,b.getBytes())]),n.create(n.Class.UNIVERSAL,n.Type.OCTETSTRING,!1,T.getBytes()),n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,n.integerToDer(x).getBytes())])}return n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,n.integerToDer(3).getBytes()),n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(i.oids.data).getBytes()),n.create(n.Class.CONTEXT_SPECIFIC,0,!0,[n.create(n.Class.UNIVERSAL,n.Type.OCTETSTRING,!1,n.toDer(R).getBytes())])]),re])},a.generateKey=r.pbe.generatePkcs12Key}}),KB=Qt({"../../node_modules/node-forge/lib/pki.js"(t,e){var r=er();$o(),Gl(),OB(),wu(),W8(),zB(),Y8(),_p(),wr(),Z8();var n=r.asn1,i=e.exports=r.pki=r.pki||{};i.pemToDer=function(a){var o=r.pem.decode(a)[0];if(o.procType&&o.procType.type==="ENCRYPTED")throw new Error("Could not convert PEM to DER; PEM is encrypted.");return r.util.createBuffer(o.body)},i.privateKeyFromPem=function(a){var o=r.pem.decode(a)[0];if(o.type!=="PRIVATE KEY"&&o.type!=="RSA PRIVATE KEY"){var s=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw s.headerType=o.type,s}if(o.procType&&o.procType.type==="ENCRYPTED")throw new Error("Could not convert private key from PEM; PEM is encrypted.");var u=n.fromDer(o.body);return i.privateKeyFromAsn1(u)},i.privateKeyToPem=function(a,o){var s={type:"RSA PRIVATE KEY",body:n.toDer(i.privateKeyToAsn1(a)).getBytes()};return r.pem.encode(s,{maxline:o})},i.privateKeyInfoToPem=function(a,o){var s={type:"PRIVATE KEY",body:n.toDer(a).getBytes()};return r.pem.encode(s,{maxline:o})}}}),qB=Qt({"../../node_modules/node-forge/lib/tls.js"(t,e){var r=er();$o(),Qd(),$8(),wu(),KB(),uo(),Hd(),wr();var n=function(g,M,Q,k){var K=r.util.createBuffer(),ie=g.length>>1,ne=ie+(g.length&1),le=g.substr(0,ne),he=g.substr(ie,ne),fe=r.util.createBuffer(),ce=r.hmac.create();Q=M+Q;var Ae=Math.ceil(k/16),Fe=Math.ceil(k/20);ce.start("MD5",le);var Me=r.util.createBuffer();fe.putBytes(Q);for(var Ke=0;Ke<Ae;++Ke)ce.start(null,null),ce.update(fe.getBytes()),fe.putBuffer(ce.digest()),ce.start(null,null),ce.update(fe.bytes()+Q),Me.putBuffer(ce.digest());ce.start("SHA1",he);var $e=r.util.createBuffer();fe.clear(),fe.putBytes(Q);for(var Ke=0;Ke<Fe;++Ke)ce.start(null,null),ce.update(fe.getBytes()),fe.putBuffer(ce.digest()),ce.start(null,null),ce.update(fe.bytes()+Q),$e.putBuffer(ce.digest());return K.putBytes(r.util.xorBytes(Me.getBytes(),$e.getBytes(),k)),K},i=function(g,M,Q){var k=r.hmac.create();k.start("SHA1",g);var K=r.util.createBuffer();return K.putInt32(M[0]),K.putInt32(M[1]),K.putByte(Q.type),K.putByte(Q.version.major),K.putByte(Q.version.minor),K.putInt16(Q.length),K.putBytes(Q.fragment.bytes()),k.update(K.getBytes()),k.digest().getBytes()},a=function(g,M,Q){var k=!1;try{var K=g.deflate(M.fragment.getBytes());M.fragment=r.util.createBuffer(K),M.length=K.length,k=!0}catch{}return k},o=function(g,M,Q){var k=!1;try{var K=g.inflate(M.fragment.getBytes());M.fragment=r.util.createBuffer(K),M.length=K.length,k=!0}catch{}return k},s=function(g,M){var Q=0;switch(M){case 1:Q=g.getByte();break;case 2:Q=g.getInt16();break;case 3:Q=g.getInt24();break;case 4:Q=g.getInt32();break}return r.util.createBuffer(g.getBytes(Q))},u=function(g,M,Q){g.putInt(Q.length(),M<<3),g.putBuffer(Q)},l={};l.Versions={TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}},l.SupportedVersions=[l.Versions.TLS_1_1,l.Versions.TLS_1_0],l.Version=l.SupportedVersions[0],l.MaxFragment=15360,l.ConnectionEnd={server:0,client:1},l.PRFAlgorithm={tls_prf_sha256:0},l.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2},l.CipherType={stream:0,block:1,aead:2},l.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4},l.CompressionMethod={none:0,deflate:1},l.ContentType={change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24},l.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20},l.Alert={},l.Alert.Level={warning:1,fatal:2},l.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100},l.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2},l.CipherSuites={},l.getCipherSuite=function(g){var M=null;for(var Q in l.CipherSuites){var k=l.CipherSuites[Q];if(k.id[0]===g.charCodeAt(0)&&k.id[1]===g.charCodeAt(1)){M=k;break}}return M},l.handleUnexpected=function(g,M){var Q=!g.open&&g.entity===l.ConnectionEnd.client;Q||g.error(g,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.unexpected_message}})},l.handleHelloRequest=function(g,M,Q){!g.handshaking&&g.handshakes>0&&(l.queue(g,l.createAlert(g,{level:l.Alert.Level.warning,description:l.Alert.Description.no_renegotiation})),l.flush(g)),g.process()},l.parseHelloMessage=function(g,M,Q){var k=null,K=g.entity===l.ConnectionEnd.client;if(Q<38)g.error(g,{message:K?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.illegal_parameter}});else{var ie=M.fragment,ne=ie.length();if(k={version:{major:ie.getByte(),minor:ie.getByte()},random:r.util.createBuffer(ie.getBytes(32)),session_id:s(ie,1),extensions:[]},K?(k.cipher_suite=ie.getBytes(2),k.compression_method=ie.getByte()):(k.cipher_suites=s(ie,2),k.compression_methods=s(ie,1)),ne=Q-(ne-ie.length()),ne>0){for(var le=s(ie,2);le.length()>0;)k.extensions.push({type:[le.getByte(),le.getByte()],data:s(le,2)});if(!K)for(var he=0;he<k.extensions.length;++he){var fe=k.extensions[he];if(fe.type[0]===0&&fe.type[1]===0)for(var ce=s(fe.data,2);ce.length()>0;){var Ae=ce.getByte();if(Ae!==0)break;g.session.extensions.server_name.serverNameList.push(s(ce,2).getBytes())}}}if(g.session.version&&(k.version.major!==g.session.version.major||k.version.minor!==g.session.version.minor))return g.error(g,{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.protocol_version}});if(K)g.session.cipherSuite=l.getCipherSuite(k.cipher_suite);else for(var Fe=r.util.createBuffer(k.cipher_suites.bytes());Fe.length()>0&&(g.session.cipherSuite=l.getCipherSuite(Fe.getBytes(2)),g.session.cipherSuite===null););if(g.session.cipherSuite===null)return g.error(g,{message:"No cipher suites in common.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.handshake_failure},cipherSuite:r.util.bytesToHex(k.cipher_suite)});K?g.session.compressionMethod=k.compression_method:g.session.compressionMethod=l.CompressionMethod.none}return k},l.createSecurityParameters=function(g,M){var Q=g.entity===l.ConnectionEnd.client,k=M.random.bytes(),K=Q?g.session.sp.client_random:k,ie=Q?k:l.createRandom().getBytes();g.session.sp={entity:g.entity,prf_algorithm:l.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:g.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:K,server_random:ie}},l.handleServerHello=function(g,M,Q){var k=l.parseHelloMessage(g,M,Q);if(!g.fail){if(k.version.minor<=g.version.minor)g.version.minor=k.version.minor;else return g.error(g,{message:"Incompatible TLS version.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.protocol_version}});g.session.version=g.version;var K=k.session_id.bytes();K.length>0&&K===g.session.id?(g.expect=w,g.session.resuming=!0,g.session.sp.server_random=k.random.bytes()):(g.expect=f,g.session.resuming=!1,l.createSecurityParameters(g,k)),g.session.id=K,g.process()}},l.handleClientHello=function(g,M,Q){var k=l.parseHelloMessage(g,M,Q);if(!g.fail){var K=k.session_id.bytes(),ie=null;if(g.sessionCache&&(ie=g.sessionCache.getSession(K),ie===null?K="":(ie.version.major!==k.version.major||ie.version.minor>k.version.minor)&&(ie=null,K="")),K.length===0&&(K=r.random.getBytes(32)),g.session.id=K,g.session.clientHelloVersion=k.version,g.session.sp={},ie)g.version=g.session.version=ie.version,g.session.sp=ie.sp;else{for(var ne,le=1;le<l.SupportedVersions.length&&(ne=l.SupportedVersions[le],!(ne.minor<=k.version.minor));++le);g.version={major:ne.major,minor:ne.minor},g.session.version=g.version}ie!==null?(g.expect=v,g.session.resuming=!0,g.session.sp.client_random=k.random.bytes()):(g.expect=g.verifyClient!==!1?S:F,g.session.resuming=!1,l.createSecurityParameters(g,k)),g.open=!0,l.queue(g,l.createRecord(g,{type:l.ContentType.handshake,data:l.createServerHello(g)})),g.session.resuming?(l.queue(g,l.createRecord(g,{type:l.ContentType.change_cipher_spec,data:l.createChangeCipherSpec()})),g.state.pending=l.createConnectionState(g),g.state.current.write=g.state.pending.write,l.queue(g,l.createRecord(g,{type:l.ContentType.handshake,data:l.createFinished(g)}))):(l.queue(g,l.createRecord(g,{type:l.ContentType.handshake,data:l.createCertificate(g)})),g.fail||(l.queue(g,l.createRecord(g,{type:l.ContentType.handshake,data:l.createServerKeyExchange(g)})),g.verifyClient!==!1&&l.queue(g,l.createRecord(g,{type:l.ContentType.handshake,data:l.createCertificateRequest(g)})),l.queue(g,l.createRecord(g,{type:l.ContentType.handshake,data:l.createServerHelloDone(g)})))),l.flush(g),g.process()}},l.handleCertificate=function(g,M,Q){if(Q<3)return g.error(g,{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.illegal_parameter}});var k=M.fragment,K={certificate_list:s(k,3)},ie,ne,le=[];try{for(;K.certificate_list.length()>0;)ie=s(K.certificate_list,3),ne=r.asn1.fromDer(ie),ie=r.pki.certificateFromAsn1(ne,!0),le.push(ie)}catch(fe){return g.error(g,{message:"Could not parse certificate list.",cause:fe,send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.bad_certificate}})}var he=g.entity===l.ConnectionEnd.client;(he||g.verifyClient===!0)&&le.length===0?g.error(g,{message:he?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.illegal_parameter}}):le.length===0?g.expect=he?d:F:(he?g.session.serverCertificate=le[0]:g.session.clientCertificate=le[0],l.verifyCertificateChain(g,le)&&(g.expect=he?d:F)),g.process()},l.handleServerKeyExchange=function(g,M,Q){if(Q>0)return g.error(g,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.unsupported_certificate}});g.expect=h,g.process()},l.handleClientKeyExchange=function(g,M,Q){if(Q<48)return g.error(g,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.unsupported_certificate}});var k=M.fragment,K={enc_pre_master_secret:s(k,2).getBytes()},ie=null;if(g.getPrivateKey)try{ie=g.getPrivateKey(g,g.session.serverCertificate),ie=r.pki.privateKeyFromPem(ie)}catch(he){g.error(g,{message:"Could not get private key.",cause:he,send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.internal_error}})}if(ie===null)return g.error(g,{message:"No private key set.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.internal_error}});try{var ne=g.session.sp;ne.pre_master_secret=ie.decrypt(K.enc_pre_master_secret);var le=g.session.clientHelloVersion;if(le.major!==ne.pre_master_secret.charCodeAt(0)||le.minor!==ne.pre_master_secret.charCodeAt(1))throw new Error("TLS version rollback attack detected.")}catch{ne.pre_master_secret=r.random.getBytes(48)}g.expect=v,g.session.clientCertificate!==null&&(g.expect=I),g.process()},l.handleCertificateRequest=function(g,M,Q){if(Q<3)return g.error(g,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.illegal_parameter}});var k=M.fragment,K={certificate_types:s(k,1),certificate_authorities:s(k,2)};g.session.certificateRequest=K,g.expect=y,g.process()},l.handleCertificateVerify=function(g,M,Q){if(Q<2)return g.error(g,{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.illegal_parameter}});var k=M.fragment;k.read-=4;var K=k.bytes();k.read+=4;var ie={signature:s(k,2).getBytes()},ne=r.util.createBuffer();ne.putBuffer(g.session.md5.digest()),ne.putBuffer(g.session.sha1.digest()),ne=ne.getBytes();try{var le=g.session.clientCertificate;if(!le.publicKey.verify(ne,ie.signature,"NONE"))throw new Error("CertificateVerify signature does not match.");g.session.md5.update(K),g.session.sha1.update(K)}catch{return g.error(g,{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.handshake_failure}})}g.expect=v,g.process()},l.handleServerHelloDone=function(g,M,Q){if(Q>0)return g.error(g,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.record_overflow}});if(g.serverCertificate===null){var k={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.insufficient_security}},K=0,ie=g.verify(g,k.alert.description,K,[]);if(ie!==!0)return(ie||ie===0)&&(typeof ie=="object"&&!r.util.isArray(ie)?(ie.message&&(k.message=ie.message),ie.alert&&(k.alert.description=ie.alert)):typeof ie=="number"&&(k.alert.description=ie)),g.error(g,k)}g.session.certificateRequest!==null&&(M=l.createRecord(g,{type:l.ContentType.handshake,data:l.createCertificate(g)}),l.queue(g,M)),M=l.createRecord(g,{type:l.ContentType.handshake,data:l.createClientKeyExchange(g)}),l.queue(g,M),g.expect=p;var ne=function(le,he){le.session.certificateRequest!==null&&le.session.clientCertificate!==null&&l.queue(le,l.createRecord(le,{type:l.ContentType.handshake,data:l.createCertificateVerify(le,he)})),l.queue(le,l.createRecord(le,{type:l.ContentType.change_cipher_spec,data:l.createChangeCipherSpec()})),le.state.pending=l.createConnectionState(le),le.state.current.write=le.state.pending.write,l.queue(le,l.createRecord(le,{type:l.ContentType.handshake,data:l.createFinished(le)})),le.expect=w,l.flush(le),le.process()};if(g.session.certificateRequest===null||g.session.clientCertificate===null)return ne(g,null);l.getClientSignature(g,ne)},l.handleChangeCipherSpec=function(g,M){if(M.fragment.getByte()!==1)return g.error(g,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.illegal_parameter}});var Q=g.entity===l.ConnectionEnd.client;(g.session.resuming&&Q||!g.session.resuming&&!Q)&&(g.state.pending=l.createConnectionState(g)),g.state.current.read=g.state.pending.read,(!g.session.resuming&&Q||g.session.resuming&&!Q)&&(g.state.pending=null),g.expect=Q?_:A,g.process()},l.handleFinished=function(g,M,Q){var k=M.fragment;k.read-=4;var K=k.bytes();k.read+=4;var ie=M.fragment.getBytes();k=r.util.createBuffer(),k.putBuffer(g.session.md5.digest()),k.putBuffer(g.session.sha1.digest());var ne=g.entity===l.ConnectionEnd.client,le=ne?"server finished":"client finished",he=g.session.sp,fe=12,ce=n;if(k=ce(he.master_secret,le,k.getBytes(),fe),k.getBytes()!==ie)return g.error(g,{message:"Invalid verify_data in Finished message.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.decrypt_error}});g.session.md5.update(K),g.session.sha1.update(K),(g.session.resuming&&ne||!g.session.resuming&&!ne)&&(l.queue(g,l.createRecord(g,{type:l.ContentType.change_cipher_spec,data:l.createChangeCipherSpec()})),g.state.current.write=g.state.pending.write,g.state.pending=null,l.queue(g,l.createRecord(g,{type:l.ContentType.handshake,data:l.createFinished(g)}))),g.expect=ne?E:D,g.handshaking=!1,++g.handshakes,g.peerCertificate=ne?g.session.serverCertificate:g.session.clientCertificate,l.flush(g),g.isConnected=!0,g.connected(g),g.process()},l.handleAlert=function(g,M){var Q=M.fragment,k={level:Q.getByte(),description:Q.getByte()},K;switch(k.description){case l.Alert.Description.close_notify:K="Connection closed.";break;case l.Alert.Description.unexpected_message:K="Unexpected message.";break;case l.Alert.Description.bad_record_mac:K="Bad record MAC.";break;case l.Alert.Description.decryption_failed:K="Decryption failed.";break;case l.Alert.Description.record_overflow:K="Record overflow.";break;case l.Alert.Description.decompression_failure:K="Decompression failed.";break;case l.Alert.Description.handshake_failure:K="Handshake failure.";break;case l.Alert.Description.bad_certificate:K="Bad certificate.";break;case l.Alert.Description.unsupported_certificate:K="Unsupported certificate.";break;case l.Alert.Description.certificate_revoked:K="Certificate revoked.";break;case l.Alert.Description.certificate_expired:K="Certificate expired.";break;case l.Alert.Description.certificate_unknown:K="Certificate unknown.";break;case l.Alert.Description.illegal_parameter:K="Illegal parameter.";break;case l.Alert.Description.unknown_ca:K="Unknown certificate authority.";break;case l.Alert.Description.access_denied:K="Access denied.";break;case l.Alert.Description.decode_error:K="Decode error.";break;case l.Alert.Description.decrypt_error:K="Decrypt error.";break;case l.Alert.Description.export_restriction:K="Export restriction.";break;case l.Alert.Description.protocol_version:K="Unsupported protocol version.";break;case l.Alert.Description.insufficient_security:K="Insufficient security.";break;case l.Alert.Description.internal_error:K="Internal error.";break;case l.Alert.Description.user_canceled:K="User canceled.";break;case l.Alert.Description.no_renegotiation:K="Renegotiation not supported.";break;default:K="Unknown error.";break}if(k.description===l.Alert.Description.close_notify)return g.close();g.error(g,{message:K,send:!1,origin:g.entity===l.ConnectionEnd.client?"server":"client",alert:k}),g.process()},l.handleHandshake=function(g,M){var Q=M.fragment,k=Q.getByte(),K=Q.getInt24();if(K>Q.length())return g.fragmented=M,M.fragment=r.util.createBuffer(),Q.read-=4,g.process();g.fragmented=null,Q.read-=4;var ie=Q.bytes(K+4);Q.read+=4,k in re[g.entity][g.expect]?(g.entity===l.ConnectionEnd.server&&!g.open&&!g.fail&&(g.handshaking=!0,g.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:r.md.md5.create(),sha1:r.md.sha1.create()}),k!==l.HandshakeType.hello_request&&k!==l.HandshakeType.certificate_verify&&k!==l.HandshakeType.finished&&(g.session.md5.update(ie),g.session.sha1.update(ie)),re[g.entity][g.expect][k](g,M,K)):l.handleUnexpected(g,M)},l.handleApplicationData=function(g,M){g.data.putBuffer(M.fragment),g.dataReady(g),g.process()},l.handleHeartbeat=function(g,M){var Q=M.fragment,k=Q.getByte(),K=Q.getInt16(),ie=Q.getBytes(K);if(k===l.HeartbeatMessageType.heartbeat_request){if(g.handshaking||K>ie.length)return g.process();l.queue(g,l.createRecord(g,{type:l.ContentType.heartbeat,data:l.createHeartbeat(l.HeartbeatMessageType.heartbeat_response,ie)})),l.flush(g)}else if(k===l.HeartbeatMessageType.heartbeat_response){if(ie!==g.expectedHeartbeatPayload)return g.process();g.heartbeatReceived&&g.heartbeatReceived(g,r.util.createBuffer(ie))}g.process()};var c=0,f=1,d=2,h=3,y=4,w=5,_=6,E=7,p=8,m=0,S=1,F=2,I=3,v=4,A=5,D=6,L=l.handleUnexpected,j=l.handleChangeCipherSpec,Y=l.handleAlert,O=l.handleHandshake,B=l.handleApplicationData,C=l.handleHeartbeat,N=[];N[l.ConnectionEnd.client]=[[L,Y,O,L,C],[L,Y,O,L,C],[L,Y,O,L,C],[L,Y,O,L,C],[L,Y,O,L,C],[j,Y,L,L,C],[L,Y,O,L,C],[L,Y,O,B,C],[L,Y,O,L,C]],N[l.ConnectionEnd.server]=[[L,Y,O,L,C],[L,Y,O,L,C],[L,Y,O,L,C],[L,Y,O,L,C],[j,Y,L,L,C],[L,Y,O,L,C],[L,Y,O,B,C],[L,Y,O,L,C]];var U=l.handleHelloRequest,G=l.handleServerHello,$=l.handleCertificate,Z=l.handleServerKeyExchange,W=l.handleCertificateRequest,P=l.handleServerHelloDone,R=l.handleFinished,re=[];re[l.ConnectionEnd.client]=[[L,L,G,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L],[U,L,L,L,L,L,L,L,L,L,L,$,Z,W,P,L,L,L,L,L,L],[U,L,L,L,L,L,L,L,L,L,L,L,Z,W,P,L,L,L,L,L,L],[U,L,L,L,L,L,L,L,L,L,L,L,L,W,P,L,L,L,L,L,L],[U,L,L,L,L,L,L,L,L,L,L,L,L,L,P,L,L,L,L,L,L],[U,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L],[U,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,R],[U,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L],[U,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L]];var T=l.handleClientHello,x=l.handleClientKeyExchange,z=l.handleCertificateVerify;re[l.ConnectionEnd.server]=[[L,T,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L],[L,L,L,L,L,L,L,L,L,L,L,$,L,L,L,L,L,L,L,L,L],[L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,x,L,L,L,L],[L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,z,L,L,L,L,L],[L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L],[L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,R],[L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L],[L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L]],l.generateKeys=function(g,M){var Q=n,k=M.client_random+M.server_random;g.session.resuming||(M.master_secret=Q(M.pre_master_secret,"master secret",k,48).bytes(),M.pre_master_secret=null),k=M.server_random+M.client_random;var K=2*M.mac_key_length+2*M.enc_key_length,ie=g.version.major===l.Versions.TLS_1_0.major&&g.version.minor===l.Versions.TLS_1_0.minor;ie&&(K+=2*M.fixed_iv_length);var ne=Q(M.master_secret,"key expansion",k,K),le={client_write_MAC_key:ne.getBytes(M.mac_key_length),server_write_MAC_key:ne.getBytes(M.mac_key_length),client_write_key:ne.getBytes(M.enc_key_length),server_write_key:ne.getBytes(M.enc_key_length)};return ie&&(le.client_write_IV=ne.getBytes(M.fixed_iv_length),le.server_write_IV=ne.getBytes(M.fixed_iv_length)),le},l.createConnectionState=function(g){var M=g.entity===l.ConnectionEnd.client,Q=function(){var ie={sequenceNumber:[0,0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:function(ne){return!0},compressionState:null,compressFunction:function(ne){return!0},updateSequenceNumber:function(){ie.sequenceNumber[1]===4294967295?(ie.sequenceNumber[1]=0,++ie.sequenceNumber[0]):++ie.sequenceNumber[1]}};return ie},k={read:Q(),write:Q()};if(k.read.update=function(ie,ne){return k.read.cipherFunction(ne,k.read)?k.read.compressFunction(ie,ne,k.read)||ie.error(ie,{message:"Could not decompress record.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.decompression_failure}}):ie.error(ie,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.bad_record_mac}}),!ie.fail},k.write.update=function(ie,ne){return k.write.compressFunction(ie,ne,k.write)?k.write.cipherFunction(ne,k.write)||ie.error(ie,{message:"Could not encrypt record.",send:!1,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.internal_error}}):ie.error(ie,{message:"Could not compress record.",send:!1,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.internal_error}}),!ie.fail},g.session){var K=g.session.sp;switch(g.session.cipherSuite.initSecurityParameters(K),K.keys=l.generateKeys(g,K),k.read.macKey=M?K.keys.server_write_MAC_key:K.keys.client_write_MAC_key,k.write.macKey=M?K.keys.client_write_MAC_key:K.keys.server_write_MAC_key,g.session.cipherSuite.initConnectionState(k,g,K),K.compression_algorithm){case l.CompressionMethod.none:break;case l.CompressionMethod.deflate:k.read.compressFunction=o,k.write.compressFunction=a;break;default:throw new Error("Unsupported compression algorithm.")}}return k},l.createRandom=function(){var g=new Date,M=+g+g.getTimezoneOffset()*6e4,Q=r.util.createBuffer();return Q.putInt32(M),Q.putBytes(r.random.getBytes(28)),Q},l.createRecord=function(g,M){if(!M.data)return null;var Q={type:M.type,version:{major:g.version.major,minor:g.version.minor},length:M.data.length(),fragment:M.data};return Q},l.createAlert=function(g,M){var Q=r.util.createBuffer();return Q.putByte(M.level),Q.putByte(M.description),l.createRecord(g,{type:l.ContentType.alert,data:Q})},l.createClientHello=function(g){g.session.clientHelloVersion={major:g.version.major,minor:g.version.minor};for(var M=r.util.createBuffer(),Q=0;Q<g.cipherSuites.length;++Q){var k=g.cipherSuites[Q];M.putByte(k.id[0]),M.putByte(k.id[1])}var K=M.length(),ie=r.util.createBuffer();ie.putByte(l.CompressionMethod.none);var ne=ie.length(),le=r.util.createBuffer();if(g.virtualHost){var he=r.util.createBuffer();he.putByte(0),he.putByte(0);var fe=r.util.createBuffer();fe.putByte(0),u(fe,2,r.util.createBuffer(g.virtualHost));var ce=r.util.createBuffer();u(ce,2,fe),u(he,2,ce),le.putBuffer(he)}var Ae=le.length();Ae>0&&(Ae+=2);var Fe=g.session.id,Me=Fe.length+1+2+4+28+2+K+1+ne+Ae,Ke=r.util.createBuffer();return Ke.putByte(l.HandshakeType.client_hello),Ke.putInt24(Me),Ke.putByte(g.version.major),Ke.putByte(g.version.minor),Ke.putBytes(g.session.sp.client_random),u(Ke,1,r.util.createBuffer(Fe)),u(Ke,2,M),u(Ke,1,ie),Ae>0&&u(Ke,2,le),Ke},l.createServerHello=function(g){var M=g.session.id,Q=M.length+1+2+4+28+2+1,k=r.util.createBuffer();return k.putByte(l.HandshakeType.server_hello),k.putInt24(Q),k.putByte(g.version.major),k.putByte(g.version.minor),k.putBytes(g.session.sp.server_random),u(k,1,r.util.createBuffer(M)),k.putByte(g.session.cipherSuite.id[0]),k.putByte(g.session.cipherSuite.id[1]),k.putByte(g.session.compressionMethod),k},l.createCertificate=function(g){var M=g.entity===l.ConnectionEnd.client,Q=null;if(g.getCertificate){var k;M?k=g.session.certificateRequest:k=g.session.extensions.server_name.serverNameList,Q=g.getCertificate(g,k)}var K=r.util.createBuffer();if(Q!==null)try{r.util.isArray(Q)||(Q=[Q]);for(var ie=null,ne=0;ne<Q.length;++ne){var le=r.pem.decode(Q[ne])[0];if(le.type!=="CERTIFICATE"&&le.type!=="X509 CERTIFICATE"&&le.type!=="TRUSTED CERTIFICATE"){var he=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw he.headerType=le.type,he}if(le.procType&&le.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var fe=r.util.createBuffer(le.body);ie===null&&(ie=r.asn1.fromDer(fe.bytes(),!1));var ce=r.util.createBuffer();u(ce,3,fe),K.putBuffer(ce)}Q=r.pki.certificateFromAsn1(ie),M?g.session.clientCertificate=Q:g.session.serverCertificate=Q}catch(Me){return g.error(g,{message:"Could not send certificate list.",cause:Me,send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.bad_certificate}})}var Ae=3+K.length(),Fe=r.util.createBuffer();return Fe.putByte(l.HandshakeType.certificate),Fe.putInt24(Ae),u(Fe,3,K),Fe},l.createClientKeyExchange=function(g){var M=r.util.createBuffer();M.putByte(g.session.clientHelloVersion.major),M.putByte(g.session.clientHelloVersion.minor),M.putBytes(r.random.getBytes(46));var Q=g.session.sp;Q.pre_master_secret=M.getBytes();var k=g.session.serverCertificate.publicKey;M=k.encrypt(Q.pre_master_secret);var K=M.length+2,ie=r.util.createBuffer();return ie.putByte(l.HandshakeType.client_key_exchange),ie.putInt24(K),ie.putInt16(M.length),ie.putBytes(M),ie},l.createServerKeyExchange=function(g){var M=r.util.createBuffer();return M},l.getClientSignature=function(g,M){var Q=r.util.createBuffer();Q.putBuffer(g.session.md5.digest()),Q.putBuffer(g.session.sha1.digest()),Q=Q.getBytes(),g.getSignature=g.getSignature||function(k,K,ie){var ne=null;if(k.getPrivateKey)try{ne=k.getPrivateKey(k,k.session.clientCertificate),ne=r.pki.privateKeyFromPem(ne)}catch(le){k.error(k,{message:"Could not get private key.",cause:le,send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.internal_error}})}ne===null?k.error(k,{message:"No private key set.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.internal_error}}):K=ne.sign(K,null),ie(k,K)},g.getSignature(g,Q,M)},l.createCertificateVerify=function(g,M){var Q=M.length+2,k=r.util.createBuffer();return k.putByte(l.HandshakeType.certificate_verify),k.putInt24(Q),k.putInt16(M.length),k.putBytes(M),k},l.createCertificateRequest=function(g){var M=r.util.createBuffer();M.putByte(1);var Q=r.util.createBuffer();for(var k in g.caStore.certs){var K=g.caStore.certs[k],ie=r.pki.distinguishedNameToAsn1(K.subject),ne=r.asn1.toDer(ie);Q.putInt16(ne.length()),Q.putBuffer(ne)}var le=1+M.length()+2+Q.length(),he=r.util.createBuffer();return he.putByte(l.HandshakeType.certificate_request),he.putInt24(le),u(he,1,M),u(he,2,Q),he},l.createServerHelloDone=function(g){var M=r.util.createBuffer();return M.putByte(l.HandshakeType.server_hello_done),M.putInt24(0),M},l.createChangeCipherSpec=function(){var g=r.util.createBuffer();return g.putByte(1),g},l.createFinished=function(g){var M=r.util.createBuffer();M.putBuffer(g.session.md5.digest()),M.putBuffer(g.session.sha1.digest());var Q=g.entity===l.ConnectionEnd.client,k=g.session.sp,K=12,ie=n,ne=Q?"client finished":"server finished";M=ie(k.master_secret,ne,M.getBytes(),K);var le=r.util.createBuffer();return le.putByte(l.HandshakeType.finished),le.putInt24(M.length()),le.putBuffer(M),le},l.createHeartbeat=function(g,M,Q){typeof Q>"u"&&(Q=M.length);var k=r.util.createBuffer();k.putByte(g),k.putInt16(Q),k.putBytes(M);var K=k.length(),ie=Math.max(16,K-Q-3);return k.putBytes(r.random.getBytes(ie)),k},l.queue=function(g,M){if(M&&!(M.fragment.length()===0&&(M.type===l.ContentType.handshake||M.type===l.ContentType.alert||M.type===l.ContentType.change_cipher_spec))){if(M.type===l.ContentType.handshake){var Q=M.fragment.bytes();g.session.md5.update(Q),g.session.sha1.update(Q),Q=null}var k;if(M.fragment.length()<=l.MaxFragment)k=[M];else{k=[];for(var K=M.fragment.bytes();K.length>l.MaxFragment;)k.push(l.createRecord(g,{type:M.type,data:r.util.createBuffer(K.slice(0,l.MaxFragment))})),K=K.slice(l.MaxFragment);K.length>0&&k.push(l.createRecord(g,{type:M.type,data:r.util.createBuffer(K)}))}for(var ie=0;ie<k.length&&!g.fail;++ie){var ne=k[ie],le=g.state.current.write;le.update(g,ne)&&g.records.push(ne)}}},l.flush=function(g){for(var M=0;M<g.records.length;++M){var Q=g.records[M];g.tlsData.putByte(Q.type),g.tlsData.putByte(Q.version.major),g.tlsData.putByte(Q.version.minor),g.tlsData.putInt16(Q.fragment.length()),g.tlsData.putBuffer(g.records[M].fragment)}return g.records=[],g.tlsDataReady(g)};var b=function(g){switch(g){case!0:return!0;case r.pki.certificateError.bad_certificate:return l.Alert.Description.bad_certificate;case r.pki.certificateError.unsupported_certificate:return l.Alert.Description.unsupported_certificate;case r.pki.certificateError.certificate_revoked:return l.Alert.Description.certificate_revoked;case r.pki.certificateError.certificate_expired:return l.Alert.Description.certificate_expired;case r.pki.certificateError.certificate_unknown:return l.Alert.Description.certificate_unknown;case r.pki.certificateError.unknown_ca:return l.Alert.Description.unknown_ca;default:return l.Alert.Description.bad_certificate}},J=function(g){switch(g){case!0:return!0;case l.Alert.Description.bad_certificate:return r.pki.certificateError.bad_certificate;case l.Alert.Description.unsupported_certificate:return r.pki.certificateError.unsupported_certificate;case l.Alert.Description.certificate_revoked:return r.pki.certificateError.certificate_revoked;case l.Alert.Description.certificate_expired:return r.pki.certificateError.certificate_expired;case l.Alert.Description.certificate_unknown:return r.pki.certificateError.certificate_unknown;case l.Alert.Description.unknown_ca:return r.pki.certificateError.unknown_ca;default:return r.pki.certificateError.bad_certificate}};l.verifyCertificateChain=function(g,M){try{var Q={};for(var k in g.verifyOptions)Q[k]=g.verifyOptions[k];Q.verify=function(ie,ne,le){var he=b(ie),fe=g.verify(g,ie,ne,le);if(fe!==!0){if(typeof fe=="object"&&!r.util.isArray(fe)){var ce=new Error("The application rejected the certificate.");throw ce.send=!0,ce.alert={level:l.Alert.Level.fatal,description:l.Alert.Description.bad_certificate},fe.message&&(ce.message=fe.message),fe.alert&&(ce.alert.description=fe.alert),ce}fe!==ie&&(fe=J(fe))}return fe},r.pki.verifyCertificateChain(g.caStore,M,Q)}catch(ie){var K=ie;(typeof K!="object"||r.util.isArray(K))&&(K={send:!0,alert:{level:l.Alert.Level.fatal,description:b(ie)}}),"send"in K||(K.send=!0),"alert"in K||(K.alert={level:l.Alert.Level.fatal,description:b(K.error)}),g.error(g,K)}return!g.fail},l.createSessionCache=function(g,M){var Q=null;if(g&&g.getSession&&g.setSession&&g.order)Q=g;else{Q={},Q.cache=g||{},Q.capacity=Math.max(M||100,1),Q.order=[];for(var k in g)Q.order.length<=M?Q.order.push(k):delete g[k];Q.getSession=function(K){var ie=null,ne=null;if(K?ne=r.util.bytesToHex(K):Q.order.length>0&&(ne=Q.order[0]),ne!==null&&ne in Q.cache){ie=Q.cache[ne],delete Q.cache[ne];for(var le in Q.order)if(Q.order[le]===ne){Q.order.splice(le,1);break}}return ie},Q.setSession=function(K,ie){if(Q.order.length===Q.capacity){var ne=Q.order.shift();delete Q.cache[ne]}var ne=r.util.bytesToHex(K);Q.order.push(ne),Q.cache[ne]=ie}}return Q},l.createConnection=function(g){var M=null;g.caStore?r.util.isArray(g.caStore)?M=r.pki.createCaStore(g.caStore):M=g.caStore:M=r.pki.createCaStore();var Q=g.cipherSuites||null;if(Q===null){Q=[];for(var k in l.CipherSuites)Q.push(l.CipherSuites[k])}var K=g.server?l.ConnectionEnd.server:l.ConnectionEnd.client,ie=g.sessionCache?l.createSessionCache(g.sessionCache):null,ne={version:{major:l.Version.major,minor:l.Version.minor},entity:K,sessionId:g.sessionId,caStore:M,sessionCache:ie,cipherSuites:Q,connected:g.connected,virtualHost:g.virtualHost||null,verifyClient:g.verifyClient||!1,verify:g.verify||function(ce,Ae,Fe,Me){return Ae},verifyOptions:g.verifyOptions||{},getCertificate:g.getCertificate||null,getPrivateKey:g.getPrivateKey||null,getSignature:g.getSignature||null,input:r.util.createBuffer(),tlsData:r.util.createBuffer(),data:r.util.createBuffer(),tlsDataReady:g.tlsDataReady,dataReady:g.dataReady,heartbeatReceived:g.heartbeatReceived,closed:g.closed,error:function(ce,Ae){Ae.origin=Ae.origin||(ce.entity===l.ConnectionEnd.client?"client":"server"),Ae.send&&(l.queue(ce,l.createAlert(ce,Ae.alert)),l.flush(ce));var Fe=Ae.fatal!==!1;Fe&&(ce.fail=!0),g.error(ce,Ae),Fe&&ce.close(!1)},deflate:g.deflate||null,inflate:g.inflate||null};ne.reset=function(ce){ne.version={major:l.Version.major,minor:l.Version.minor},ne.record=null,ne.session=null,ne.peerCertificate=null,ne.state={pending:null,current:null},ne.expect=ne.entity===l.ConnectionEnd.client?c:m,ne.fragmented=null,ne.records=[],ne.open=!1,ne.handshakes=0,ne.handshaking=!1,ne.isConnected=!1,ne.fail=!(ce||typeof ce>"u"),ne.input.clear(),ne.tlsData.clear(),ne.data.clear(),ne.state.current=l.createConnectionState(ne)},ne.reset();var le=function(ce,Ae){var Fe=Ae.type-l.ContentType.change_cipher_spec,Me=N[ce.entity][ce.expect];Fe in Me?Me[Fe](ce,Ae):l.handleUnexpected(ce,Ae)},he=function(ce){var Ae=0,Fe=ce.input,Me=Fe.length();if(Me<5)Ae=5-Me;else{ce.record={type:Fe.getByte(),version:{major:Fe.getByte(),minor:Fe.getByte()},length:Fe.getInt16(),fragment:r.util.createBuffer(),ready:!1};var Ke=ce.record.version.major===ce.version.major;Ke&&ce.session&&ce.session.version&&(Ke=ce.record.version.minor===ce.version.minor),Ke||ce.error(ce,{message:"Incompatible TLS version.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.protocol_version}})}return Ae},fe=function(ce){var Ae=0,Fe=ce.input,Me=Fe.length();if(Me<ce.record.length)Ae=ce.record.length-Me;else{ce.record.fragment.putBytes(Fe.getBytes(ce.record.length)),Fe.compact();var Ke=ce.state.current.read;Ke.update(ce,ce.record)&&(ce.fragmented!==null&&(ce.fragmented.type===ce.record.type?(ce.fragmented.fragment.putBuffer(ce.record.fragment),ce.record=ce.fragmented):ce.error(ce,{message:"Invalid fragmented record.",send:!0,alert:{level:l.Alert.Level.fatal,description:l.Alert.Description.unexpected_message}})),ce.record.ready=!0)}return Ae};return ne.handshake=function(ce){if(ne.entity!==l.ConnectionEnd.client)ne.error(ne,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(ne.handshaking)ne.error(ne,{message:"Handshake already in progress.",fatal:!1});else{ne.fail&&!ne.open&&ne.handshakes===0&&(ne.fail=!1),ne.handshaking=!0,ce=ce||"";var Ae=null;ce.length>0&&(ne.sessionCache&&(Ae=ne.sessionCache.getSession(ce)),Ae===null&&(ce="")),ce.length===0&&ne.sessionCache&&(Ae=ne.sessionCache.getSession(),Ae!==null&&(ce=Ae.id)),ne.session={id:ce,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:r.md.md5.create(),sha1:r.md.sha1.create()},Ae&&(ne.version=Ae.version,ne.session.sp=Ae.sp),ne.session.sp.client_random=l.createRandom().getBytes(),ne.open=!0,l.queue(ne,l.createRecord(ne,{type:l.ContentType.handshake,data:l.createClientHello(ne)})),l.flush(ne)}},ne.process=function(ce){var Ae=0;return ce&&ne.input.putBytes(ce),ne.fail||(ne.record!==null&&ne.record.ready&&ne.record.fragment.isEmpty()&&(ne.record=null),ne.record===null&&(Ae=he(ne)),!ne.fail&&ne.record!==null&&!ne.record.ready&&(Ae=fe(ne)),!ne.fail&&ne.record!==null&&ne.record.ready&&le(ne,ne.record)),Ae},ne.prepare=function(ce){return l.queue(ne,l.createRecord(ne,{type:l.ContentType.application_data,data:r.util.createBuffer(ce)})),l.flush(ne)},ne.prepareHeartbeatRequest=function(ce,Ae){return ce instanceof r.util.ByteBuffer&&(ce=ce.bytes()),typeof Ae>"u"&&(Ae=ce.length),ne.expectedHeartbeatPayload=ce,l.queue(ne,l.createRecord(ne,{type:l.ContentType.heartbeat,data:l.createHeartbeat(l.HeartbeatMessageType.heartbeat_request,ce,Ae)})),l.flush(ne)},ne.close=function(ce){if(!ne.fail&&ne.sessionCache&&ne.session){var Ae={id:ne.session.id,version:ne.session.version,sp:ne.session.sp};Ae.sp.keys=null,ne.sessionCache.setSession(Ae.id,Ae)}ne.open&&(ne.open=!1,ne.input.clear(),(ne.isConnected||ne.handshaking)&&(ne.isConnected=ne.handshaking=!1,l.queue(ne,l.createAlert(ne,{level:l.Alert.Level.warning,description:l.Alert.Description.close_notify})),l.flush(ne)),ne.closed(ne)),ne.reset(ce)},ne},e.exports=r.tls=r.tls||{};for(V in l)typeof l[V]!="function"&&(r.tls[V]=l[V]);var V;r.tls.prf_tls1=n,r.tls.hmac_sha1=i,r.tls.createSessionCache=l.createSessionCache,r.tls.createConnection=l.createConnection}}),HU=Qt({"../../node_modules/node-forge/lib/aesCipherSuites.js"(t,e){var r=er();Vl(),qB();var n=e.exports=r.tls;n.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:function(c){c.bulk_cipher_algorithm=n.BulkCipherAlgorithm.aes,c.cipher_type=n.CipherType.block,c.enc_key_length=16,c.block_length=16,c.fixed_iv_length=16,c.record_iv_length=16,c.mac_algorithm=n.MACAlgorithm.hmac_sha1,c.mac_length=20,c.mac_key_length=20},initConnectionState:i},n.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:function(c){c.bulk_cipher_algorithm=n.BulkCipherAlgorithm.aes,c.cipher_type=n.CipherType.block,c.enc_key_length=32,c.block_length=16,c.fixed_iv_length=16,c.record_iv_length=16,c.mac_algorithm=n.MACAlgorithm.hmac_sha1,c.mac_length=20,c.mac_key_length=20},initConnectionState:i};function i(c,f,d){var h=f.entity===r.tls.ConnectionEnd.client;c.read.cipherState={init:!1,cipher:r.cipher.createDecipher("AES-CBC",h?d.keys.server_write_key:d.keys.client_write_key),iv:h?d.keys.server_write_IV:d.keys.client_write_IV},c.write.cipherState={init:!1,cipher:r.cipher.createCipher("AES-CBC",h?d.keys.client_write_key:d.keys.server_write_key),iv:h?d.keys.client_write_IV:d.keys.server_write_IV},c.read.cipherFunction=u,c.write.cipherFunction=a,c.read.macLength=c.write.macLength=d.mac_length,c.read.macFunction=c.write.macFunction=n.hmac_sha1}function a(c,f){var d=!1,h=f.macFunction(f.macKey,f.sequenceNumber,c);c.fragment.putBytes(h),f.updateSequenceNumber();var y;c.version.minor===n.Versions.TLS_1_0.minor?y=f.cipherState.init?null:f.cipherState.iv:y=r.random.getBytesSync(16),f.cipherState.init=!0;var w=f.cipherState.cipher;return w.start({iv:y}),c.version.minor>=n.Versions.TLS_1_1.minor&&w.output.putBytes(y),w.update(c.fragment),w.finish(o)&&(c.fragment=w.output,c.length=c.fragment.length(),d=!0),d}function o(c,f,d){if(!d){var h=c-f.length()%c;f.fillWithByte(h-1,h)}return!0}function s(c,f,d){var h=!0;if(d){for(var y=f.length(),w=f.last(),_=y-1-w;_<y-1;++_)h=h&&f.at(_)==w;h&&f.truncate(w+1)}return h}function u(c,f){var d=!1,h;c.version.minor===n.Versions.TLS_1_0.minor?h=f.cipherState.init?null:f.cipherState.iv:h=c.fragment.getBytes(16),f.cipherState.init=!0;var y=f.cipherState.cipher;y.start({iv:h}),y.update(c.fragment),d=y.finish(s);var w=f.macLength,_=r.random.getBytesSync(w),E=y.output.length();E>=w?(c.fragment=y.output.getBytes(E-w),_=y.output.getBytes(w)):c.fragment=y.output.getBytes(),c.fragment=r.util.createBuffer(c.fragment),c.length=c.fragment.length();var p=f.macFunction(f.macKey,f.sequenceNumber,c);return f.updateSequenceNumber(),d=l(f.macKey,_,p)&&d,d}function l(c,f,d){var h=r.hmac.create();return h.start("SHA1",c),h.update(f),f=h.digest().getBytes(),h.start(null,null),h.update(d),d=h.digest().getBytes(),f===d}}}),QB=Qt({"../../node_modules/node-forge/lib/sha512.js"(t,e){var r=er();Ms(),wr();var n=e.exports=r.sha512=r.sha512||{};r.md.sha512=r.md.algorithms.sha512=n;var i=r.sha384=r.sha512.sha384=r.sha512.sha384||{};i.create=function(){return n.create("SHA-384")},r.md.sha384=r.md.algorithms.sha384=i,r.sha512.sha256=r.sha512.sha256||{create:function(){return n.create("SHA-512/256")}},r.md["sha512/256"]=r.md.algorithms["sha512/256"]=r.sha512.sha256,r.sha512.sha224=r.sha512.sha224||{create:function(){return n.create("SHA-512/224")}},r.md["sha512/224"]=r.md.algorithms["sha512/224"]=r.sha512.sha224,n.create=function(f){if(o||l(),typeof f>"u"&&(f="SHA-512"),!(f in u))throw new Error("Invalid SHA-512 algorithm: "+f);for(var d=u[f],h=null,y=r.util.createBuffer(),w=new Array(80),_=0;_<80;++_)w[_]=new Array(2);var E=64;switch(f){case"SHA-384":E=48;break;case"SHA-512/256":E=32;break;case"SHA-512/224":E=28;break}var p={algorithm:f.replace("-","").toLowerCase(),blockLength:128,digestLength:E,messageLength:0,fullMessageLength:null,messageLengthSize:16};return p.start=function(){p.messageLength=0,p.fullMessageLength=p.messageLength128=[];for(var m=p.messageLengthSize/4,S=0;S<m;++S)p.fullMessageLength.push(0);y=r.util.createBuffer(),h=new Array(d.length);for(var S=0;S<d.length;++S)h[S]=d[S].slice(0);return p},p.start(),p.update=function(m,S){S==="utf8"&&(m=r.util.encodeUtf8(m));var F=m.length;p.messageLength+=F,F=[F/4294967296>>>0,F>>>0];for(var I=p.fullMessageLength.length-1;I>=0;--I)p.fullMessageLength[I]+=F[1],F[1]=F[0]+(p.fullMessageLength[I]/4294967296>>>0),p.fullMessageLength[I]=p.fullMessageLength[I]>>>0,F[0]=F[1]/4294967296>>>0;return y.putBytes(m),c(h,w,y),(y.read>2048||y.length()===0)&&y.compact(),p},p.digest=function(){var m=r.util.createBuffer();m.putBytes(y.bytes());var S=p.fullMessageLength[p.fullMessageLength.length-1]+p.messageLengthSize,F=S&p.blockLength-1;m.putBytes(a.substr(0,p.blockLength-F));for(var I,v,A=p.fullMessageLength[0]*8,D=0;D<p.fullMessageLength.length-1;++D)I=p.fullMessageLength[D+1]*8,v=I/4294967296>>>0,A+=v,m.putInt32(A>>>0),A=I>>>0;m.putInt32(A);for(var L=new Array(h.length),D=0;D<h.length;++D)L[D]=h[D].slice(0);c(L,w,m);var j=r.util.createBuffer(),Y;f==="SHA-512"?Y=L.length:f==="SHA-384"?Y=L.length-2:Y=L.length-4;for(var D=0;D<Y;++D)j.putInt32(L[D][0]),(D!==Y-1||f!=="SHA-512/224")&&j.putInt32(L[D][1]);return j},p};var a=null,o=!1,s=null,u=null;function l(){a="",a+=r.util.fillString("\0",128),s=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],u={},u["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],u["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],u["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],u["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],o=!0}function c(f,d,h){for(var y,w,_,E,p,m,S,F,I,v,A,D,L,j,Y,O,B,C,N,U,G,$,Z,W,P,R,re,T,x,z,b,J,V,g,M,Q=h.length();Q>=128;){for(x=0;x<16;++x)d[x][0]=h.getInt32()>>>0,d[x][1]=h.getInt32()>>>0;for(;x<80;++x)J=d[x-2],z=J[0],b=J[1],y=((z>>>19|b<<13)^(b>>>29|z<<3)^z>>>6)>>>0,w=((z<<13|b>>>19)^(b<<3|z>>>29)^(z<<26|b>>>6))>>>0,g=d[x-15],z=g[0],b=g[1],_=((z>>>1|b<<31)^(z>>>8|b<<24)^z>>>7)>>>0,E=((z<<31|b>>>1)^(z<<24|b>>>8)^(z<<25|b>>>7))>>>0,V=d[x-7],M=d[x-16],b=w+V[1]+E+M[1],d[x][0]=y+V[0]+_+M[0]+(b/4294967296>>>0)>>>0,d[x][1]=b>>>0;for(L=f[0][0],j=f[0][1],Y=f[1][0],O=f[1][1],B=f[2][0],C=f[2][1],N=f[3][0],U=f[3][1],G=f[4][0],$=f[4][1],Z=f[5][0],W=f[5][1],P=f[6][0],R=f[6][1],re=f[7][0],T=f[7][1],x=0;x<80;++x)S=((G>>>14|$<<18)^(G>>>18|$<<14)^($>>>9|G<<23))>>>0,F=((G<<18|$>>>14)^(G<<14|$>>>18)^($<<23|G>>>9))>>>0,I=(P^G&(Z^P))>>>0,v=(R^$&(W^R))>>>0,p=((L>>>28|j<<4)^(j>>>2|L<<30)^(j>>>7|L<<25))>>>0,m=((L<<4|j>>>28)^(j<<30|L>>>2)^(j<<25|L>>>7))>>>0,A=(L&Y|B&(L^Y))>>>0,D=(j&O|C&(j^O))>>>0,b=T+F+v+s[x][1]+d[x][1],y=re+S+I+s[x][0]+d[x][0]+(b/4294967296>>>0)>>>0,w=b>>>0,b=m+D,_=p+A+(b/4294967296>>>0)>>>0,E=b>>>0,re=P,T=R,P=Z,R=W,Z=G,W=$,b=U+w,G=N+y+(b/4294967296>>>0)>>>0,$=b>>>0,N=B,U=C,B=Y,C=O,Y=L,O=j,b=w+E,L=y+_+(b/4294967296>>>0)>>>0,j=b>>>0;b=f[0][1]+j,f[0][0]=f[0][0]+L+(b/4294967296>>>0)>>>0,f[0][1]=b>>>0,b=f[1][1]+O,f[1][0]=f[1][0]+Y+(b/4294967296>>>0)>>>0,f[1][1]=b>>>0,b=f[2][1]+C,f[2][0]=f[2][0]+B+(b/4294967296>>>0)>>>0,f[2][1]=b>>>0,b=f[3][1]+U,f[3][0]=f[3][0]+N+(b/4294967296>>>0)>>>0,f[3][1]=b>>>0,b=f[4][1]+$,f[4][0]=f[4][0]+G+(b/4294967296>>>0)>>>0,f[4][1]=b>>>0,b=f[5][1]+W,f[5][0]=f[5][0]+Z+(b/4294967296>>>0)>>>0,f[5][1]=b>>>0,b=f[6][1]+R,f[6][0]=f[6][0]+P+(b/4294967296>>>0)>>>0,f[6][1]=b>>>0,b=f[7][1]+T,f[7][0]=f[7][0]+re+(b/4294967296>>>0)>>>0,f[7][1]=b>>>0,Q-=128}}}}),jU=Qt({"../../node_modules/node-forge/lib/asn1-validator.js"(t){var e=er();$o();var r=e.asn1;t.privateKeyValidator={name:"PrivateKeyInfo",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:r.Class.UNIVERSAL,type:r.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},t.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:r.Class.UNIVERSAL,type:r.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]}}}),$U=Qt({"../../node_modules/node-forge/lib/ed25519.js"(t,e){var r=er();wp(),uo(),QB(),wr();var n=jU(),i=n.publicKeyValidator,a=n.privateKeyValidator;typeof o>"u"&&(o=r.jsbn.BigInteger);var o,s=r.util.ByteBuffer,u=typeof Buffer>"u"?Uint8Array:Buffer;r.pki=r.pki||{},e.exports=r.pki.ed25519=r.ed25519=r.ed25519||{};var l=r.ed25519;l.constants={},l.constants.PUBLIC_KEY_BYTE_LENGTH=32,l.constants.PRIVATE_KEY_BYTE_LENGTH=64,l.constants.SEED_BYTE_LENGTH=32,l.constants.SIGN_BYTE_LENGTH=64,l.constants.HASH_BYTE_LENGTH=64,l.generateKeyPair=function(g){g=g||{};var M=g.seed;if(M===void 0)M=r.random.getBytesSync(l.constants.SEED_BYTE_LENGTH);else if(typeof M=="string"){if(M.length!==l.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+l.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(M instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');M=c({message:M,encoding:"binary"});for(var Q=new u(l.constants.PUBLIC_KEY_BYTE_LENGTH),k=new u(l.constants.PRIVATE_KEY_BYTE_LENGTH),K=0;K<32;++K)k[K]=M[K];return S(Q,k),{publicKey:Q,privateKey:k}},l.privateKeyFromAsn1=function(g){var M={},Q=[],k=r.asn1.validate(g,a,M,Q);if(!k){var K=new Error("Invalid Key.");throw K.errors=Q,K}var ie=r.asn1.derToOid(M.privateKeyOid),ne=r.oids.EdDSA25519;if(ie!==ne)throw new Error('Invalid OID "'+ie+'"; OID must be "'+ne+'".');var le=M.privateKey,he=c({message:r.asn1.fromDer(le).value,encoding:"binary"});return{privateKeyBytes:he}},l.publicKeyFromAsn1=function(g){var M={},Q=[],k=r.asn1.validate(g,i,M,Q);if(!k){var K=new Error("Invalid Key.");throw K.errors=Q,K}var ie=r.asn1.derToOid(M.publicKeyOid),ne=r.oids.EdDSA25519;if(ie!==ne)throw new Error('Invalid OID "'+ie+'"; OID must be "'+ne+'".');var le=M.ed25519PublicKey;if(le.length!==l.constants.PUBLIC_KEY_BYTE_LENGTH)throw new Error("Key length is invalid.");return c({message:le,encoding:"binary"})},l.publicKeyFromPrivateKey=function(g){g=g||{};var M=c({message:g.privateKey,encoding:"binary"});if(M.length!==l.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+l.constants.PRIVATE_KEY_BYTE_LENGTH);for(var Q=new u(l.constants.PUBLIC_KEY_BYTE_LENGTH),k=0;k<Q.length;++k)Q[k]=M[32+k];return Q},l.sign=function(g){g=g||{};var M=c(g),Q=c({message:g.privateKey,encoding:"binary"});if(Q.length===l.constants.SEED_BYTE_LENGTH){var k=l.generateKeyPair({seed:Q});Q=k.privateKey}else if(Q.length!==l.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+l.constants.SEED_BYTE_LENGTH+" or "+l.constants.PRIVATE_KEY_BYTE_LENGTH);var K=new u(l.constants.SIGN_BYTE_LENGTH+M.length);F(K,M,M.length,Q);for(var ie=new u(l.constants.SIGN_BYTE_LENGTH),ne=0;ne<ie.length;++ne)ie[ne]=K[ne];return ie},l.verify=function(g){g=g||{};var M=c(g);if(g.signature===void 0)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var Q=c({message:g.signature,encoding:"binary"});if(Q.length!==l.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+l.constants.SIGN_BYTE_LENGTH);var k=c({message:g.publicKey,encoding:"binary"});if(k.length!==l.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+l.constants.PUBLIC_KEY_BYTE_LENGTH);var K=new u(l.constants.SIGN_BYTE_LENGTH+M.length),ie=new u(l.constants.SIGN_BYTE_LENGTH+M.length),ne;for(ne=0;ne<l.constants.SIGN_BYTE_LENGTH;++ne)K[ne]=Q[ne];for(ne=0;ne<M.length;++ne)K[ne+l.constants.SIGN_BYTE_LENGTH]=M[ne];return I(ie,K,K.length,k)>=0};function c(g){var M=g.message;if(M instanceof Uint8Array||M instanceof u)return M;var Q=g.encoding;if(M===void 0)if(g.md)M=g.md.digest().getBytes(),Q="binary";else throw new TypeError('"options.message" or "options.md" not specified.');if(typeof M=="string"&&!Q)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if(typeof M=="string"){if(typeof Buffer<"u")return Buffer.from(M,Q);M=new s(M,Q)}else if(!(M instanceof s))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var k=new u(M.length()),K=0;K<k.length;++K)k[K]=M.at(K);return k}var f=x(),d=x([1]),h=x([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),y=x([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),w=x([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),_=x([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),E=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),p=x([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function m(g,M){var Q=r.md.sha512.create(),k=new s(g);Q.update(k.getBytes(M),"binary");var K=Q.digest().getBytes();if(typeof Buffer<"u")return Buffer.from(K,"binary");for(var ie=new u(l.constants.HASH_BYTE_LENGTH),ne=0;ne<64;++ne)ie[ne]=K.charCodeAt(ne);return ie}function S(g,M){var Q=[x(),x(),x(),x()],k,K=m(M,32);for(K[0]&=248,K[31]&=127,K[31]|=64,W(Q,K),j(g,Q),k=0;k<32;++k)M[k+32]=g[k];return 0}function F(g,M,Q,k){var K,ie,ne=new Float64Array(64),le=[x(),x(),x(),x()],he=m(k,32);he[0]&=248,he[31]&=127,he[31]|=64;var fe=Q+64;for(K=0;K<Q;++K)g[64+K]=M[K];for(K=0;K<32;++K)g[32+K]=he[32+K];var ce=m(g.subarray(32),Q+32);for(A(ce),W(le,ce),j(g,le),K=32;K<64;++K)g[K]=k[K];var Ae=m(g,Q+64);for(A(Ae),K=32;K<64;++K)ne[K]=0;for(K=0;K<32;++K)ne[K]=ce[K];for(K=0;K<32;++K)for(ie=0;ie<32;ie++)ne[K+ie]+=Ae[K]*he[ie];return v(g.subarray(32),ne),fe}function I(g,M,Q,k){var K,ie,ne=new u(32),le=[x(),x(),x(),x()],he=[x(),x(),x(),x()];if(ie=-1,Q<64||O(he,k))return-1;for(K=0;K<Q;++K)g[K]=M[K];for(K=0;K<32;++K)g[K+32]=k[K];var fe=m(g,Q);if(A(fe),Z(le,he,fe),W(he,M.subarray(32)),D(le,he),j(ne,le),Q-=64,U(M,0,ne,0)){for(K=0;K<Q;++K)g[K]=0;return-1}for(K=0;K<Q;++K)g[K]=M[K+64];return ie=Q,ie}function v(g,M){var Q,k,K,ie;for(k=63;k>=32;--k){for(Q=0,K=k-32,ie=k-12;K<ie;++K)M[K]+=Q-16*M[k]*E[K-(k-32)],Q=M[K]+128>>8,M[K]-=Q*256;M[K]+=Q,M[k]=0}for(Q=0,K=0;K<32;++K)M[K]+=Q-(M[31]>>4)*E[K],Q=M[K]>>8,M[K]&=255;for(K=0;K<32;++K)M[K]-=Q*E[K];for(k=0;k<32;++k)M[k+1]+=M[k]>>8,g[k]=M[k]&255}function A(g){for(var M=new Float64Array(64),Q=0;Q<64;++Q)M[Q]=g[Q],g[Q]=0;v(g,M)}function D(g,M){var Q=x(),k=x(),K=x(),ie=x(),ne=x(),le=x(),he=x(),fe=x(),ce=x();b(Q,g[1],g[0]),b(ce,M[1],M[0]),V(Q,Q,ce),z(k,g[0],g[1]),z(ce,M[0],M[1]),V(k,k,ce),V(K,g[3],M[3]),V(K,K,y),V(ie,g[2],M[2]),z(ie,ie,ie),b(ne,k,Q),b(le,ie,K),z(he,ie,K),z(fe,k,Q),V(g[0],ne,le),V(g[1],fe,he),V(g[2],he,le),V(g[3],ne,fe)}function L(g,M,Q){for(var k=0;k<4;++k)T(g[k],M[k],Q)}function j(g,M){var Q=x(),k=x(),K=x();R(K,M[2]),V(Q,M[0],K),V(k,M[1],K),Y(g,k),g[31]^=$(Q)<<7}function Y(g,M){var Q,k,K,ie=x(),ne=x();for(Q=0;Q<16;++Q)ne[Q]=M[Q];for(re(ne),re(ne),re(ne),k=0;k<2;++k){for(ie[0]=ne[0]-65517,Q=1;Q<15;++Q)ie[Q]=ne[Q]-65535-(ie[Q-1]>>16&1),ie[Q-1]&=65535;ie[15]=ne[15]-32767-(ie[14]>>16&1),K=ie[15]>>16&1,ie[14]&=65535,T(ne,ie,1-K)}for(Q=0;Q<16;Q++)g[2*Q]=ne[Q]&255,g[2*Q+1]=ne[Q]>>8}function O(g,M){var Q=x(),k=x(),K=x(),ie=x(),ne=x(),le=x(),he=x();return P(g[2],d),B(g[1],M),J(K,g[1]),V(ie,K,h),b(K,K,g[2]),z(ie,g[2],ie),J(ne,ie),J(le,ne),V(he,le,ne),V(Q,he,K),V(Q,Q,ie),C(Q,Q),V(Q,Q,K),V(Q,Q,ie),V(Q,Q,ie),V(g[0],Q,ie),J(k,g[0]),V(k,k,ie),N(k,K)&&V(g[0],g[0],p),J(k,g[0]),V(k,k,ie),N(k,K)?-1:($(g[0])===M[31]>>7&&b(g[0],f,g[0]),V(g[3],g[0],g[1]),0)}function B(g,M){var Q;for(Q=0;Q<16;++Q)g[Q]=M[2*Q]+(M[2*Q+1]<<8);g[15]&=32767}function C(g,M){var Q=x(),k;for(k=0;k<16;++k)Q[k]=M[k];for(k=250;k>=0;--k)J(Q,Q),k!==1&&V(Q,Q,M);for(k=0;k<16;++k)g[k]=Q[k]}function N(g,M){var Q=new u(32),k=new u(32);return Y(Q,g),Y(k,M),U(Q,0,k,0)}function U(g,M,Q,k){return G(g,M,Q,k,32)}function G(g,M,Q,k,K){var ie,ne=0;for(ie=0;ie<K;++ie)ne|=g[M+ie]^Q[k+ie];return(1&ne-1>>>8)-1}function $(g){var M=new u(32);return Y(M,g),M[0]&1}function Z(g,M,Q){var k,K;for(P(g[0],f),P(g[1],d),P(g[2],d),P(g[3],f),K=255;K>=0;--K)k=Q[K/8|0]>>(K&7)&1,L(g,M,k),D(M,g),D(g,g),L(g,M,k)}function W(g,M){var Q=[x(),x(),x(),x()];P(Q[0],w),P(Q[1],_),P(Q[2],d),V(Q[3],w,_),Z(g,Q,M)}function P(g,M){var Q;for(Q=0;Q<16;Q++)g[Q]=M[Q]|0}function R(g,M){var Q=x(),k;for(k=0;k<16;++k)Q[k]=M[k];for(k=253;k>=0;--k)J(Q,Q),k!==2&&k!==4&&V(Q,Q,M);for(k=0;k<16;++k)g[k]=Q[k]}function re(g){var M,Q,k=1;for(M=0;M<16;++M)Q=g[M]+k+65535,k=Math.floor(Q/65536),g[M]=Q-k*65536;g[0]+=k-1+37*(k-1)}function T(g,M,Q){for(var k,K=~(Q-1),ie=0;ie<16;++ie)k=K&(g[ie]^M[ie]),g[ie]^=k,M[ie]^=k}function x(g){var M,Q=new Float64Array(16);if(g)for(M=0;M<g.length;++M)Q[M]=g[M];return Q}function z(g,M,Q){for(var k=0;k<16;++k)g[k]=M[k]+Q[k]}function b(g,M,Q){for(var k=0;k<16;++k)g[k]=M[k]-Q[k]}function J(g,M){V(g,M,M)}function V(g,M,Q){var k,K,ie=0,ne=0,le=0,he=0,fe=0,ce=0,Ae=0,Fe=0,Me=0,Ke=0,$e=0,oe=0,X=0,te=0,de=0,Ce=0,Se=0,ge=0,q=0,H=0,ye=0,_e=0,ve=0,Ie=0,Le=0,Pe=0,Re=0,Oe=0,Ue=0,Ge=0,et=0,We=Q[0],Ve=Q[1],Xe=Q[2],Je=Q[3],Ze=Q[4],tt=Q[5],nt=Q[6],Qe=Q[7],ft=Q[8],Et=Q[9],dt=Q[10],Lt=Q[11],wt=Q[12],xt=Q[13],Ft=Q[14],bt=Q[15];k=M[0],ie+=k*We,ne+=k*Ve,le+=k*Xe,he+=k*Je,fe+=k*Ze,ce+=k*tt,Ae+=k*nt,Fe+=k*Qe,Me+=k*ft,Ke+=k*Et,$e+=k*dt,oe+=k*Lt,X+=k*wt,te+=k*xt,de+=k*Ft,Ce+=k*bt,k=M[1],ne+=k*We,le+=k*Ve,he+=k*Xe,fe+=k*Je,ce+=k*Ze,Ae+=k*tt,Fe+=k*nt,Me+=k*Qe,Ke+=k*ft,$e+=k*Et,oe+=k*dt,X+=k*Lt,te+=k*wt,de+=k*xt,Ce+=k*Ft,Se+=k*bt,k=M[2],le+=k*We,he+=k*Ve,fe+=k*Xe,ce+=k*Je,Ae+=k*Ze,Fe+=k*tt,Me+=k*nt,Ke+=k*Qe,$e+=k*ft,oe+=k*Et,X+=k*dt,te+=k*Lt,de+=k*wt,Ce+=k*xt,Se+=k*Ft,ge+=k*bt,k=M[3],he+=k*We,fe+=k*Ve,ce+=k*Xe,Ae+=k*Je,Fe+=k*Ze,Me+=k*tt,Ke+=k*nt,$e+=k*Qe,oe+=k*ft,X+=k*Et,te+=k*dt,de+=k*Lt,Ce+=k*wt,Se+=k*xt,ge+=k*Ft,q+=k*bt,k=M[4],fe+=k*We,ce+=k*Ve,Ae+=k*Xe,Fe+=k*Je,Me+=k*Ze,Ke+=k*tt,$e+=k*nt,oe+=k*Qe,X+=k*ft,te+=k*Et,de+=k*dt,Ce+=k*Lt,Se+=k*wt,ge+=k*xt,q+=k*Ft,H+=k*bt,k=M[5],ce+=k*We,Ae+=k*Ve,Fe+=k*Xe,Me+=k*Je,Ke+=k*Ze,$e+=k*tt,oe+=k*nt,X+=k*Qe,te+=k*ft,de+=k*Et,Ce+=k*dt,Se+=k*Lt,ge+=k*wt,q+=k*xt,H+=k*Ft,ye+=k*bt,k=M[6],Ae+=k*We,Fe+=k*Ve,Me+=k*Xe,Ke+=k*Je,$e+=k*Ze,oe+=k*tt,X+=k*nt,te+=k*Qe,de+=k*ft,Ce+=k*Et,Se+=k*dt,ge+=k*Lt,q+=k*wt,H+=k*xt,ye+=k*Ft,_e+=k*bt,k=M[7],Fe+=k*We,Me+=k*Ve,Ke+=k*Xe,$e+=k*Je,oe+=k*Ze,X+=k*tt,te+=k*nt,de+=k*Qe,Ce+=k*ft,Se+=k*Et,ge+=k*dt,q+=k*Lt,H+=k*wt,ye+=k*xt,_e+=k*Ft,ve+=k*bt,k=M[8],Me+=k*We,Ke+=k*Ve,$e+=k*Xe,oe+=k*Je,X+=k*Ze,te+=k*tt,de+=k*nt,Ce+=k*Qe,Se+=k*ft,ge+=k*Et,q+=k*dt,H+=k*Lt,ye+=k*wt,_e+=k*xt,ve+=k*Ft,Ie+=k*bt,k=M[9],Ke+=k*We,$e+=k*Ve,oe+=k*Xe,X+=k*Je,te+=k*Ze,de+=k*tt,Ce+=k*nt,Se+=k*Qe,ge+=k*ft,q+=k*Et,H+=k*dt,ye+=k*Lt,_e+=k*wt,ve+=k*xt,Ie+=k*Ft,Le+=k*bt,k=M[10],$e+=k*We,oe+=k*Ve,X+=k*Xe,te+=k*Je,de+=k*Ze,Ce+=k*tt,Se+=k*nt,ge+=k*Qe,q+=k*ft,H+=k*Et,ye+=k*dt,_e+=k*Lt,ve+=k*wt,Ie+=k*xt,Le+=k*Ft,Pe+=k*bt,k=M[11],oe+=k*We,X+=k*Ve,te+=k*Xe,de+=k*Je,Ce+=k*Ze,Se+=k*tt,ge+=k*nt,q+=k*Qe,H+=k*ft,ye+=k*Et,_e+=k*dt,ve+=k*Lt,Ie+=k*wt,Le+=k*xt,Pe+=k*Ft,Re+=k*bt,k=M[12],X+=k*We,te+=k*Ve,de+=k*Xe,Ce+=k*Je,Se+=k*Ze,ge+=k*tt,q+=k*nt,H+=k*Qe,ye+=k*ft,_e+=k*Et,ve+=k*dt,Ie+=k*Lt,Le+=k*wt,Pe+=k*xt,Re+=k*Ft,Oe+=k*bt,k=M[13],te+=k*We,de+=k*Ve,Ce+=k*Xe,Se+=k*Je,ge+=k*Ze,q+=k*tt,H+=k*nt,ye+=k*Qe,_e+=k*ft,ve+=k*Et,Ie+=k*dt,Le+=k*Lt,Pe+=k*wt,Re+=k*xt,Oe+=k*Ft,Ue+=k*bt,k=M[14],de+=k*We,Ce+=k*Ve,Se+=k*Xe,ge+=k*Je,q+=k*Ze,H+=k*tt,ye+=k*nt,_e+=k*Qe,ve+=k*ft,Ie+=k*Et,Le+=k*dt,Pe+=k*Lt,Re+=k*wt,Oe+=k*xt,Ue+=k*Ft,Ge+=k*bt,k=M[15],Ce+=k*We,Se+=k*Ve,ge+=k*Xe,q+=k*Je,H+=k*Ze,ye+=k*tt,_e+=k*nt,ve+=k*Qe,Ie+=k*ft,Le+=k*Et,Pe+=k*dt,Re+=k*Lt,Oe+=k*wt,Ue+=k*xt,Ge+=k*Ft,et+=k*bt,ie+=38*Se,ne+=38*ge,le+=38*q,he+=38*H,fe+=38*ye,ce+=38*_e,Ae+=38*ve,Fe+=38*Ie,Me+=38*Le,Ke+=38*Pe,$e+=38*Re,oe+=38*Oe,X+=38*Ue,te+=38*Ge,de+=38*et,K=1,k=ie+K+65535,K=Math.floor(k/65536),ie=k-K*65536,k=ne+K+65535,K=Math.floor(k/65536),ne=k-K*65536,k=le+K+65535,K=Math.floor(k/65536),le=k-K*65536,k=he+K+65535,K=Math.floor(k/65536),he=k-K*65536,k=fe+K+65535,K=Math.floor(k/65536),fe=k-K*65536,k=ce+K+65535,K=Math.floor(k/65536),ce=k-K*65536,k=Ae+K+65535,K=Math.floor(k/65536),Ae=k-K*65536,k=Fe+K+65535,K=Math.floor(k/65536),Fe=k-K*65536,k=Me+K+65535,K=Math.floor(k/65536),Me=k-K*65536,k=Ke+K+65535,K=Math.floor(k/65536),Ke=k-K*65536,k=$e+K+65535,K=Math.floor(k/65536),$e=k-K*65536,k=oe+K+65535,K=Math.floor(k/65536),oe=k-K*65536,k=X+K+65535,K=Math.floor(k/65536),X=k-K*65536,k=te+K+65535,K=Math.floor(k/65536),te=k-K*65536,k=de+K+65535,K=Math.floor(k/65536),de=k-K*65536,k=Ce+K+65535,K=Math.floor(k/65536),Ce=k-K*65536,ie+=K-1+37*(K-1),K=1,k=ie+K+65535,K=Math.floor(k/65536),ie=k-K*65536,k=ne+K+65535,K=Math.floor(k/65536),ne=k-K*65536,k=le+K+65535,K=Math.floor(k/65536),le=k-K*65536,k=he+K+65535,K=Math.floor(k/65536),he=k-K*65536,k=fe+K+65535,K=Math.floor(k/65536),fe=k-K*65536,k=ce+K+65535,K=Math.floor(k/65536),ce=k-K*65536,k=Ae+K+65535,K=Math.floor(k/65536),Ae=k-K*65536,k=Fe+K+65535,K=Math.floor(k/65536),Fe=k-K*65536,k=Me+K+65535,K=Math.floor(k/65536),Me=k-K*65536,k=Ke+K+65535,K=Math.floor(k/65536),Ke=k-K*65536,k=$e+K+65535,K=Math.floor(k/65536),$e=k-K*65536,k=oe+K+65535,K=Math.floor(k/65536),oe=k-K*65536,k=X+K+65535,K=Math.floor(k/65536),X=k-K*65536,k=te+K+65535,K=Math.floor(k/65536),te=k-K*65536,k=de+K+65535,K=Math.floor(k/65536),de=k-K*65536,k=Ce+K+65535,K=Math.floor(k/65536),Ce=k-K*65536,ie+=K-1+37*(K-1),g[0]=ie,g[1]=ne,g[2]=le,g[3]=he,g[4]=fe,g[5]=ce,g[6]=Ae,g[7]=Fe,g[8]=Me,g[9]=Ke,g[10]=$e,g[11]=oe,g[12]=X,g[13]=te,g[14]=de,g[15]=Ce}}}),WU=Qt({"../../node_modules/node-forge/lib/kem.js"(t,e){var r=er();wr(),uo(),wp(),e.exports=r.kem=r.kem||{};var n=r.jsbn.BigInteger;r.kem.rsa={},r.kem.rsa.create=function(a,o){o=o||{};var s=o.prng||r.random,u={};return u.encrypt=function(l,c){var f=Math.ceil(l.n.bitLength()/8),d;do d=new n(r.util.bytesToHex(s.getBytesSync(f)),16).mod(l.n);while(d.compareTo(n.ONE)<=0);d=r.util.hexToBytes(d.toString(16));var h=f-d.length;h>0&&(d=r.util.fillString("\0",h)+d);var y=l.encrypt(d,"NONE"),w=a.generate(d,c);return{encapsulation:y,key:w}},u.decrypt=function(l,c,f){var d=l.decrypt(c,"NONE");return a.generate(d,f)},u},r.kem.kdf1=function(a,o){i(this,a,0,o||a.digestLength)},r.kem.kdf2=function(a,o){i(this,a,1,o||a.digestLength)};function i(a,o,s,u){a.generate=function(l,c){for(var f=new r.util.ByteBuffer,d=Math.ceil(c/u)+s,h=new r.util.ByteBuffer,y=s;y<d;++y){h.putInt32(y),o.start(),o.update(l+h.getBytes());var w=o.digest();f.putBytes(w.getBytes(u))}return f.truncate(f.length()-c),f.getBytes()}}}}),YU=Qt({"../../node_modules/node-forge/lib/log.js"(t,e){var r=er();wr(),e.exports=r.log=r.log||{},r.log.levels=["none","error","warning","info","debug","verbose","max"];var n={},i=[],a=null;for(r.log.LEVEL_LOCKED=2,r.log.NO_LEVEL_CHECK=4,r.log.INTERPOLATE=8,u=0;u<r.log.levels.length;++u)o=r.log.levels[u],n[o]={index:u,name:o.toUpperCase()};var o,u;for(r.log.logMessage=function(y){for(var w=n[y.level].index,_=0;_<i.length;++_){var E=i[_];if(E.flags&r.log.NO_LEVEL_CHECK)E.f(y);else{var p=n[E.level].index;w<=p&&E.f(E,y)}}},r.log.prepareStandard=function(y){"standard"in y||(y.standard=n[y.level].name+" ["+y.category+"] "+y.message)},r.log.prepareFull=function(y){if(!("full"in y)){var w=[y.message];w=w.concat([]),y.full=r.util.format.apply(this,w)}},r.log.prepareStandardFull=function(y){"standardFull"in y||(r.log.prepareStandard(y),y.standardFull=y.standard)},s=["error","warning","info","debug","verbose"],u=0;u<s.length;++u)(function(y){r.log[y]=function(w,_){var E=Array.prototype.slice.call(arguments).slice(2),p={timestamp:new Date,level:y,category:w,message:_,arguments:E};r.log.logMessage(p)}})(s[u]);var s,u;r.log.makeLogger=function(y){var w={flags:0,f:y};return r.log.setLevel(w,"none"),w},r.log.setLevel=function(y,w){var _=!1;if(y&&!(y.flags&r.log.LEVEL_LOCKED))for(var E=0;E<r.log.levels.length;++E){var p=r.log.levels[E];if(w==p){y.level=w,_=!0;break}}return _},r.log.lock=function(y,w){typeof w>"u"||w?y.flags|=r.log.LEVEL_LOCKED:y.flags&=~r.log.LEVEL_LOCKED},r.log.addLogger=function(y){i.push(y)},typeof console<"u"&&"log"in console?(console.error&&console.warn&&console.info&&console.debug?(c={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug},f=function(y,w){r.log.prepareStandard(w);var _=c[w.level],E=[w.standard];E=E.concat(w.arguments.slice()),_.apply(console,E)},l=r.log.makeLogger(f)):(f=function(y,w){r.log.prepareStandardFull(w),console.log(w.standardFull)},l=r.log.makeLogger(f)),r.log.setLevel(l,"debug"),r.log.addLogger(l),a=l):console={log:function(){}};var l,c,f;a!==null&&typeof window<"u"&&window.location&&(d=new URL(window.location.href).searchParams,d.has("console.level")&&r.log.setLevel(a,d.get("console.level").slice(-1)[0]),d.has("console.lock")&&(h=d.get("console.lock").slice(-1)[0],h=="true"&&r.log.lock(a)));var d,h;r.log.consoleLogger=a}}),ZU=Qt({"../../node_modules/node-forge/lib/md.all.js"(t,e){e.exports=Ms(),$8(),Hd(),NB(),QB()}}),XU=Qt({"../../node_modules/node-forge/lib/pkcs7.js"(t,e){var r=er();Vl(),$o(),Ap(),Gl(),wu(),VB(),uo(),wr(),Z8();var n=r.asn1,i=e.exports=r.pkcs7=r.pkcs7||{};i.messageFromPem=function(w){var _=r.pem.decode(w)[0];if(_.type!=="PKCS7"){var E=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw E.headerType=_.type,E}if(_.procType&&_.procType.type==="ENCRYPTED")throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var p=n.fromDer(_.body);return i.messageFromAsn1(p)},i.messageToPem=function(w,_){var E={type:"PKCS7",body:n.toDer(w.toAsn1()).getBytes()};return r.pem.encode(E,{maxline:_})},i.messageFromAsn1=function(w){var _={},E=[];if(!n.validate(w,i.asn1.contentInfoValidator,_,E)){var p=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw p.errors=E,p}var m=n.derToOid(_.contentType),S;switch(m){case r.pki.oids.envelopedData:S=i.createEnvelopedData();break;case r.pki.oids.encryptedData:S=i.createEncryptedData();break;case r.pki.oids.signedData:S=i.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+m+" is not (yet) supported.")}return S.fromAsn1(_.content.value[0]),S},i.createSignedData=function(){var w=null;return w={type:r.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(p){if(h(w,p,i.asn1.signedDataValidator),w.certificates=[],w.crls=[],w.digestAlgorithmIdentifiers=[],w.contentInfo=null,w.signerInfos=[],w.rawCapture.certificates)for(var m=w.rawCapture.certificates.value,S=0;S<m.length;++S)w.certificates.push(r.pki.certificateFromAsn1(m[S]))},toAsn1:function(){w.contentInfo||w.sign();for(var p=[],m=0;m<w.certificates.length;++m)p.push(r.pki.certificateToAsn1(w.certificates[m]));var S=[],F=n.create(n.Class.CONTEXT_SPECIFIC,0,!0,[n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,n.integerToDer(w.version).getBytes()),n.create(n.Class.UNIVERSAL,n.Type.SET,!0,w.digestAlgorithmIdentifiers),w.contentInfo])]);return p.length>0&&F.value[0].value.push(n.create(n.Class.CONTEXT_SPECIFIC,0,!0,p)),S.length>0&&F.value[0].value.push(n.create(n.Class.CONTEXT_SPECIFIC,1,!0,S)),F.value[0].value.push(n.create(n.Class.UNIVERSAL,n.Type.SET,!0,w.signerInfos)),n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(w.type).getBytes()),F])},addSigner:function(p){var m=p.issuer,S=p.serialNumber;if(p.certificate){var F=p.certificate;typeof F=="string"&&(F=r.pki.certificateFromPem(F)),m=F.issuer.attributes,S=F.serialNumber}var I=p.key;if(!I)throw new Error("Could not add PKCS#7 signer; no private key specified.");typeof I=="string"&&(I=r.pki.privateKeyFromPem(I));var v=p.digestAlgorithm||r.pki.oids.sha1;switch(v){case r.pki.oids.sha1:case r.pki.oids.sha256:case r.pki.oids.sha384:case r.pki.oids.sha512:case r.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+v)}var A=p.authenticatedAttributes||[];if(A.length>0){for(var D=!1,L=!1,j=0;j<A.length;++j){var Y=A[j];if(!D&&Y.type===r.pki.oids.contentType){if(D=!0,L)break;continue}if(!L&&Y.type===r.pki.oids.messageDigest){if(L=!0,D)break;continue}}if(!D||!L)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}w.signers.push({key:I,version:1,issuer:m,serialNumber:S,digestAlgorithm:v,signatureAlgorithm:r.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:A,unauthenticatedAttributes:[]})},sign:function(p){if(p=p||{},(typeof w.content!="object"||w.contentInfo===null)&&(w.contentInfo=n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(r.pki.oids.data).getBytes())]),"content"in w)){var m;w.content instanceof r.util.ByteBuffer?m=w.content.bytes():typeof w.content=="string"&&(m=r.util.encodeUtf8(w.content)),p.detached?w.detachedContent=n.create(n.Class.UNIVERSAL,n.Type.OCTETSTRING,!1,m):w.contentInfo.value.push(n.create(n.Class.CONTEXT_SPECIFIC,0,!0,[n.create(n.Class.UNIVERSAL,n.Type.OCTETSTRING,!1,m)]))}if(w.signers.length!==0){var S=_();E(S)}},verify:function(){throw new Error("PKCS#7 signature verification not yet implemented.")},addCertificate:function(p){typeof p=="string"&&(p=r.pki.certificateFromPem(p)),w.certificates.push(p)},addCertificateRevokationList:function(p){throw new Error("PKCS#7 CRL support not yet implemented.")}},w;function _(){for(var p={},m=0;m<w.signers.length;++m){var S=w.signers[m],F=S.digestAlgorithm;F in p||(p[F]=r.md[r.pki.oids[F]].create()),S.authenticatedAttributes.length===0?S.md=p[F]:S.md=r.md[r.pki.oids[F]].create()}w.digestAlgorithmIdentifiers=[];for(var F in p)w.digestAlgorithmIdentifiers.push(n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(F).getBytes()),n.create(n.Class.UNIVERSAL,n.Type.NULL,!1,"")]));return p}function E(p){var m;if(w.detachedContent?m=w.detachedContent:(m=w.contentInfo.value[1],m=m.value[0]),!m)throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var S=n.derToOid(w.contentInfo.value[0].value),F=n.toDer(m);F.getByte(),n.getBerValueLength(F),F=F.getBytes();for(var I in p)p[I].start().update(F);for(var v=new Date,A=0;A<w.signers.length;++A){var D=w.signers[A];if(D.authenticatedAttributes.length===0){if(S!==r.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{D.authenticatedAttributesAsn1=n.create(n.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var L=n.create(n.Class.UNIVERSAL,n.Type.SET,!0,[]),j=0;j<D.authenticatedAttributes.length;++j){var Y=D.authenticatedAttributes[j];Y.type===r.pki.oids.messageDigest?Y.value=p[D.digestAlgorithm].digest():Y.type===r.pki.oids.signingTime&&(Y.value||(Y.value=v)),L.value.push(f(Y)),D.authenticatedAttributesAsn1.value.push(f(Y))}F=n.toDer(L).getBytes(),D.md.start().update(F)}D.signature=D.key.sign(D.md,"RSASSA-PKCS1-V1_5")}w.signerInfos=c(w.signers)}},i.createEncryptedData=function(){var w=null;return w={type:r.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:r.pki.oids["aes256-CBC"]},fromAsn1:function(_){h(w,_,i.asn1.encryptedDataValidator)},decrypt:function(_){_!==void 0&&(w.encryptedContent.key=_),y(w)}},w},i.createEnvelopedData=function(){var w=null;return w={type:r.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:r.pki.oids["aes256-CBC"]},fromAsn1:function(_){var E=h(w,_,i.asn1.envelopedDataValidator);w.recipients=s(E.recipientInfos.value)},toAsn1:function(){return n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(w.type).getBytes()),n.create(n.Class.CONTEXT_SPECIFIC,0,!0,[n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,n.integerToDer(w.version).getBytes()),n.create(n.Class.UNIVERSAL,n.Type.SET,!0,u(w.recipients)),n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,d(w.encryptedContent))])])])},findRecipient:function(_){for(var E=_.issuer.attributes,p=0;p<w.recipients.length;++p){var m=w.recipients[p],S=m.issuer;if(m.serialNumber===_.serialNumber&&S.length===E.length){for(var F=!0,I=0;I<E.length;++I)if(S[I].type!==E[I].type||S[I].value!==E[I].value){F=!1;break}if(F)return m}}return null},decrypt:function(_,E){if(w.encryptedContent.key===void 0&&_!==void 0&&E!==void 0)switch(_.encryptedContent.algorithm){case r.pki.oids.rsaEncryption:case r.pki.oids.desCBC:var p=E.decrypt(_.encryptedContent.content);w.encryptedContent.key=r.util.createBuffer(p);break;default:throw new Error("Unsupported asymmetric cipher, OID "+_.encryptedContent.algorithm)}y(w)},addRecipient:function(_){w.recipients.push({version:0,issuer:_.issuer.attributes,serialNumber:_.serialNumber,encryptedContent:{algorithm:r.pki.oids.rsaEncryption,key:_.publicKey}})},encrypt:function(_,E){if(w.encryptedContent.content===void 0){E=E||w.encryptedContent.algorithm,_=_||w.encryptedContent.key;var p,m,S;switch(E){case r.pki.oids["aes128-CBC"]:p=16,m=16,S=r.aes.createEncryptionCipher;break;case r.pki.oids["aes192-CBC"]:p=24,m=16,S=r.aes.createEncryptionCipher;break;case r.pki.oids["aes256-CBC"]:p=32,m=16,S=r.aes.createEncryptionCipher;break;case r.pki.oids["des-EDE3-CBC"]:p=24,m=8,S=r.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+E)}if(_===void 0)_=r.util.createBuffer(r.random.getBytes(p));else if(_.length()!=p)throw new Error("Symmetric key has wrong length; got "+_.length()+" bytes, expected "+p+".");w.encryptedContent.algorithm=E,w.encryptedContent.key=_,w.encryptedContent.parameter=r.util.createBuffer(r.random.getBytes(m));var F=S(_);if(F.start(w.encryptedContent.parameter.copy()),F.update(w.content),!F.finish())throw new Error("Symmetric encryption failed.");w.encryptedContent.content=F.output}for(var I=0;I<w.recipients.length;++I){var v=w.recipients[I];if(v.encryptedContent.content===void 0)switch(v.encryptedContent.algorithm){case r.pki.oids.rsaEncryption:v.encryptedContent.content=v.encryptedContent.key.encrypt(w.encryptedContent.key.data);break;default:throw new Error("Unsupported asymmetric cipher, OID "+v.encryptedContent.algorithm)}}}},w};function a(w){var _={},E=[];if(!n.validate(w,i.asn1.recipientInfoValidator,_,E)){var p=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw p.errors=E,p}return{version:_.version.charCodeAt(0),issuer:r.pki.RDNAttributesAsArray(_.issuer),serialNumber:r.util.createBuffer(_.serial).toHex(),encryptedContent:{algorithm:n.derToOid(_.encAlgorithm),parameter:_.encParameter?_.encParameter.value:void 0,content:_.encKey}}}function o(w){return n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,n.integerToDer(w.version).getBytes()),n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[r.pki.distinguishedNameToAsn1({attributes:w.issuer}),n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,r.util.hexToBytes(w.serialNumber))]),n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(w.encryptedContent.algorithm).getBytes()),n.create(n.Class.UNIVERSAL,n.Type.NULL,!1,"")]),n.create(n.Class.UNIVERSAL,n.Type.OCTETSTRING,!1,w.encryptedContent.content)])}function s(w){for(var _=[],E=0;E<w.length;++E)_.push(a(w[E]));return _}function u(w){for(var _=[],E=0;E<w.length;++E)_.push(o(w[E]));return _}function l(w){var _=n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,n.integerToDer(w.version).getBytes()),n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[r.pki.distinguishedNameToAsn1({attributes:w.issuer}),n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,r.util.hexToBytes(w.serialNumber))]),n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(w.digestAlgorithm).getBytes()),n.create(n.Class.UNIVERSAL,n.Type.NULL,!1,"")])]);if(w.authenticatedAttributesAsn1&&_.value.push(w.authenticatedAttributesAsn1),_.value.push(n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(w.signatureAlgorithm).getBytes()),n.create(n.Class.UNIVERSAL,n.Type.NULL,!1,"")])),_.value.push(n.create(n.Class.UNIVERSAL,n.Type.OCTETSTRING,!1,w.signature)),w.unauthenticatedAttributes.length>0){for(var E=n.create(n.Class.CONTEXT_SPECIFIC,1,!0,[]),p=0;p<w.unauthenticatedAttributes.length;++p){var m=w.unauthenticatedAttributes[p];E.values.push(f(m))}_.value.push(E)}return _}function c(w){for(var _=[],E=0;E<w.length;++E)_.push(l(w[E]));return _}function f(w){var _;if(w.type===r.pki.oids.contentType)_=n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(w.value).getBytes());else if(w.type===r.pki.oids.messageDigest)_=n.create(n.Class.UNIVERSAL,n.Type.OCTETSTRING,!1,w.value.bytes());else if(w.type===r.pki.oids.signingTime){var E=new Date("1950-01-01T00:00:00Z"),p=new Date("2050-01-01T00:00:00Z"),m=w.value;if(typeof m=="string"){var S=Date.parse(m);isNaN(S)?m.length===13?m=n.utcTimeToDate(m):m=n.generalizedTimeToDate(m):m=new Date(S)}m>=E&&m<p?_=n.create(n.Class.UNIVERSAL,n.Type.UTCTIME,!1,n.dateToUtcTime(m)):_=n.create(n.Class.UNIVERSAL,n.Type.GENERALIZEDTIME,!1,n.dateToGeneralizedTime(m))}return n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(w.type).getBytes()),n.create(n.Class.UNIVERSAL,n.Type.SET,!0,[_])])}function d(w){return[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(r.pki.oids.data).getBytes()),n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(w.algorithm).getBytes()),w.parameter?n.create(n.Class.UNIVERSAL,n.Type.OCTETSTRING,!1,w.parameter.getBytes()):void 0]),n.create(n.Class.CONTEXT_SPECIFIC,0,!0,[n.create(n.Class.UNIVERSAL,n.Type.OCTETSTRING,!1,w.content.getBytes())])]}function h(w,_,E){var p={},m=[];if(!n.validate(_,E,p,m)){var S=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw S.errors=S,S}var F=n.derToOid(p.contentType);if(F!==r.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(p.encryptedContent){var I="";if(r.util.isArray(p.encryptedContent))for(var v=0;v<p.encryptedContent.length;++v){if(p.encryptedContent[v].type!==n.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");I+=p.encryptedContent[v].value}else I=p.encryptedContent;w.encryptedContent={algorithm:n.derToOid(p.encAlgorithm),parameter:r.util.createBuffer(p.encParameter.value),content:r.util.createBuffer(I)}}if(p.content){var I="";if(r.util.isArray(p.content))for(var v=0;v<p.content.length;++v){if(p.content[v].type!==n.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");I+=p.content[v].value}else I=p.content;w.content=r.util.createBuffer(I)}return w.version=p.version.charCodeAt(0),w.rawCapture=p,p}function y(w){if(w.encryptedContent.key===void 0)throw new Error("Symmetric key not available.");if(w.content===void 0){var _;switch(w.encryptedContent.algorithm){case r.pki.oids["aes128-CBC"]:case r.pki.oids["aes192-CBC"]:case r.pki.oids["aes256-CBC"]:_=r.aes.createDecryptionCipher(w.encryptedContent.key);break;case r.pki.oids.desCBC:case r.pki.oids["des-EDE3-CBC"]:_=r.des.createDecryptionCipher(w.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+w.encryptedContent.algorithm)}if(_.start(w.encryptedContent.parameter),_.update(w.encryptedContent.content),!_.finish())throw new Error("Symmetric decryption failed.");w.content=_.output}}}}),JU=Qt({"../../node_modules/node-forge/lib/ssh.js"(t,e){var r=er();Vl(),Qd(),$8(),Hd(),wr();var n=e.exports=r.ssh=r.ssh||{};n.privateKeyToPutty=function(s,u,l){l=l||"",u=u||"";var c="ssh-rsa",f=u===""?"none":"aes256-cbc",d="PuTTY-User-Key-File-2: "+c+`\r
`;d+="Encryption: "+f+`\r
`,d+="Comment: "+l+`\r
`;var h=r.util.createBuffer();a(h,c),i(h,s.e),i(h,s.n);var y=r.util.encode64(h.bytes(),64),w=Math.floor(y.length/66)+1;d+="Public-Lines: "+w+`\r
`,d+=y;var _=r.util.createBuffer();i(_,s.d),i(_,s.p),i(_,s.q),i(_,s.qInv);var E;if(!u)E=r.util.encode64(_.bytes(),64);else{var p=_.length()+16-1;p-=p%16;var m=o(_.bytes());m.truncate(m.length()-p+_.length()),_.putBuffer(m);var S=r.util.createBuffer();S.putBuffer(o("\0\0\0\0",u)),S.putBuffer(o("\0\0\0",u));var F=r.aes.createEncryptionCipher(S.truncate(8),"CBC");F.start(r.util.createBuffer().fillWithByte(0,16)),F.update(_.copy()),F.finish();var I=F.output;I.truncate(16),E=r.util.encode64(I.bytes(),64)}w=Math.floor(E.length/66)+1,d+=`\r
Private-Lines: `+w+`\r
`,d+=E;var v=o("putty-private-key-file-mac-key",u),A=r.util.createBuffer();a(A,c),a(A,f),a(A,l),A.putInt32(h.length()),A.putBuffer(h),A.putInt32(_.length()),A.putBuffer(_);var D=r.hmac.create();return D.start("sha1",v),D.update(A.bytes()),d+=`\r
Private-MAC: `+D.digest().toHex()+`\r
`,d},n.publicKeyToOpenSSH=function(s,u){var l="ssh-rsa";u=u||"";var c=r.util.createBuffer();return a(c,l),i(c,s.e),i(c,s.n),l+" "+r.util.encode64(c.bytes())+" "+u},n.privateKeyToOpenSSH=function(s,u){return u?r.pki.encryptRsaPrivateKey(s,u,{legacy:!0,algorithm:"aes128"}):r.pki.privateKeyToPem(s)},n.getPublicKeyFingerprint=function(s,u){u=u||{};var l=u.md||r.md.md5.create(),c="ssh-rsa",f=r.util.createBuffer();a(f,c),i(f,s.e),i(f,s.n),l.start(),l.update(f.getBytes());var d=l.digest();if(u.encoding==="hex"){var h=d.toHex();return u.delimiter?h.match(/.{2}/g).join(u.delimiter):h}else{if(u.encoding==="binary")return d.getBytes();if(u.encoding)throw new Error('Unknown encoding "'+u.encoding+'".')}return d};function i(s,u){var l=u.toString(16);l[0]>="8"&&(l="00"+l);var c=r.util.hexToBytes(l);s.putInt32(c.length),s.putBytes(c)}function a(s,u){s.putInt32(u.length),s.putString(u)}function o(){for(var s=r.md.sha1.create(),u=arguments.length,l=0;l<u;++l)s.update(arguments[l]);return s.digest()}}}),eO=Qt({"../../node_modules/node-forge/lib/index.js"(t,e){e.exports=er(),Vl(),HU(),$o(),j8(),Ap(),$U(),Qd(),WU(),YU(),ZU(),GB(),W8(),wu(),MB(),zB(),XU(),KB(),UB(),PB(),Y8(),uo(),RB(),JU(),qB(),wr()}}),tO=Qt({"../../node_modules/bn.js/lib/bn.js"(t,e){(function(r,n){function i(B,C){if(!B)throw new Error(C||"Assertion failed")}function a(B,C){B.super_=C;var N=function(){};N.prototype=C.prototype,B.prototype=new N,B.prototype.constructor=B}function o(B,C,N){if(o.isBN(B))return B;this.negative=0,this.words=null,this.length=0,this.red=null,B!==null&&((C==="le"||C==="be")&&(N=C,C=10),this._init(B||0,C||10,N||"be"))}typeof r=="object"?r.exports=o:n.BN=o,o.BN=o,o.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=dw().Buffer}catch{}o.isBN=function(C){return C instanceof o?!0:C!==null&&typeof C=="object"&&C.constructor.wordSize===o.wordSize&&Array.isArray(C.words)},o.max=function(C,N){return C.cmp(N)>0?C:N},o.min=function(C,N){return C.cmp(N)<0?C:N},o.prototype._init=function(C,N,U){if(typeof C=="number")return this._initNumber(C,N,U);if(typeof C=="object")return this._initArray(C,N,U);N==="hex"&&(N=16),i(N===(N|0)&&N>=2&&N<=36),C=C.toString().replace(/\s+/g,"");var G=0;C[0]==="-"&&(G++,this.negative=1),G<C.length&&(N===16?this._parseHex(C,G,U):(this._parseBase(C,N,G),U==="le"&&this._initArray(this.toArray(),N,U)))},o.prototype._initNumber=function(C,N,U){C<0&&(this.negative=1,C=-C),C<67108864?(this.words=[C&67108863],this.length=1):C<4503599627370496?(this.words=[C&67108863,C/67108864&67108863],this.length=2):(i(C<9007199254740992),this.words=[C&67108863,C/67108864&67108863,1],this.length=3),U==="le"&&this._initArray(this.toArray(),N,U)},o.prototype._initArray=function(C,N,U){if(i(typeof C.length=="number"),C.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(C.length/3),this.words=new Array(this.length);for(var G=0;G<this.length;G++)this.words[G]=0;var $,Z,W=0;if(U==="be")for(G=C.length-1,$=0;G>=0;G-=3)Z=C[G]|C[G-1]<<8|C[G-2]<<16,this.words[$]|=Z<<W&67108863,this.words[$+1]=Z>>>26-W&67108863,W+=24,W>=26&&(W-=26,$++);else if(U==="le")for(G=0,$=0;G<C.length;G+=3)Z=C[G]|C[G+1]<<8|C[G+2]<<16,this.words[$]|=Z<<W&67108863,this.words[$+1]=Z>>>26-W&67108863,W+=24,W>=26&&(W-=26,$++);return this._strip()};function u(B,C){var N=B.charCodeAt(C);if(N>=48&&N<=57)return N-48;if(N>=65&&N<=70)return N-55;if(N>=97&&N<=102)return N-87;i(!1,"Invalid character in "+B)}function l(B,C,N){var U=u(B,N);return N-1>=C&&(U|=u(B,N-1)<<4),U}o.prototype._parseHex=function(C,N,U){this.length=Math.ceil((C.length-N)/6),this.words=new Array(this.length);for(var G=0;G<this.length;G++)this.words[G]=0;var $=0,Z=0,W;if(U==="be")for(G=C.length-1;G>=N;G-=2)W=l(C,N,G)<<$,this.words[Z]|=W&67108863,$>=18?($-=18,Z+=1,this.words[Z]|=W>>>26):$+=8;else{var P=C.length-N;for(G=P%2===0?N+1:N;G<C.length;G+=2)W=l(C,N,G)<<$,this.words[Z]|=W&67108863,$>=18?($-=18,Z+=1,this.words[Z]|=W>>>26):$+=8}this._strip()};function c(B,C,N,U){for(var G=0,$=0,Z=Math.min(B.length,N),W=C;W<Z;W++){var P=B.charCodeAt(W)-48;G*=U,P>=49?$=P-49+10:P>=17?$=P-17+10:$=P,i(P>=0&&$<U,"Invalid character"),G+=$}return G}o.prototype._parseBase=function(C,N,U){this.words=[0],this.length=1;for(var G=0,$=1;$<=67108863;$*=N)G++;G--,$=$/N|0;for(var Z=C.length-U,W=Z%G,P=Math.min(Z,Z-W)+U,R=0,re=U;re<P;re+=G)R=c(C,re,re+G,N),this.imuln($),this.words[0]+R<67108864?this.words[0]+=R:this._iaddn(R);if(W!==0){var T=1;for(R=c(C,re,C.length,N),re=0;re<W;re++)T*=N;this.imuln(T),this.words[0]+R<67108864?this.words[0]+=R:this._iaddn(R)}this._strip()},o.prototype.copy=function(C){C.words=new Array(this.length);for(var N=0;N<this.length;N++)C.words[N]=this.words[N];C.length=this.length,C.negative=this.negative,C.red=this.red};function f(B,C){B.words=C.words,B.length=C.length,B.negative=C.negative,B.red=C.red}if(o.prototype._move=function(C){f(C,this)},o.prototype.clone=function(){var C=new o(null);return this.copy(C),C},o.prototype._expand=function(C){for(;this.length<C;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=d}catch{o.prototype.inspect=d}else o.prototype.inspect=d;function d(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],w=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(C,N){C=C||10,N=N|0||1;var U;if(C===16||C==="hex"){U="";for(var G=0,$=0,Z=0;Z<this.length;Z++){var W=this.words[Z],P=((W<<G|$)&16777215).toString(16);$=W>>>24-G&16777215,G+=2,G>=26&&(G-=26,Z--),$!==0||Z!==this.length-1?U=h[6-P.length]+P+U:U=P+U}for($!==0&&(U=$.toString(16)+U);U.length%N!==0;)U="0"+U;return this.negative!==0&&(U="-"+U),U}if(C===(C|0)&&C>=2&&C<=36){var R=y[C],re=w[C];U="";var T=this.clone();for(T.negative=0;!T.isZero();){var x=T.modrn(re).toString(C);T=T.idivn(re),T.isZero()?U=x+U:U=h[R-x.length]+x+U}for(this.isZero()&&(U="0"+U);U.length%N!==0;)U="0"+U;return this.negative!==0&&(U="-"+U),U}i(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var C=this.words[0];return this.length===2?C+=this.words[1]*67108864:this.length===3&&this.words[2]===1?C+=4503599627370496+this.words[1]*67108864:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-C:C},o.prototype.toJSON=function(){return this.toString(16,2)},s&&(o.prototype.toBuffer=function(C,N){return this.toArrayLike(s,C,N)}),o.prototype.toArray=function(C,N){return this.toArrayLike(Array,C,N)};var _=function(C,N){return C.allocUnsafe?C.allocUnsafe(N):new C(N)};o.prototype.toArrayLike=function(C,N,U){this._strip();var G=this.byteLength(),$=U||Math.max(1,G);i(G<=$,"byte array longer than desired length"),i($>0,"Requested array length <= 0");var Z=_(C,$),W=N==="le"?"LE":"BE";return this["_toArrayLike"+W](Z,G),Z},o.prototype._toArrayLikeLE=function(C,N){for(var U=0,G=0,$=0,Z=0;$<this.length;$++){var W=this.words[$]<<Z|G;C[U++]=W&255,U<C.length&&(C[U++]=W>>8&255),U<C.length&&(C[U++]=W>>16&255),Z===6?(U<C.length&&(C[U++]=W>>24&255),G=0,Z=0):(G=W>>>24,Z+=2)}if(U<C.length)for(C[U++]=G;U<C.length;)C[U++]=0},o.prototype._toArrayLikeBE=function(C,N){for(var U=C.length-1,G=0,$=0,Z=0;$<this.length;$++){var W=this.words[$]<<Z|G;C[U--]=W&255,U>=0&&(C[U--]=W>>8&255),U>=0&&(C[U--]=W>>16&255),Z===6?(U>=0&&(C[U--]=W>>24&255),G=0,Z=0):(G=W>>>24,Z+=2)}if(U>=0)for(C[U--]=G;U>=0;)C[U--]=0},Math.clz32?o.prototype._countBits=function(C){return 32-Math.clz32(C)}:o.prototype._countBits=function(C){var N=C,U=0;return N>=4096&&(U+=13,N>>>=13),N>=64&&(U+=7,N>>>=7),N>=8&&(U+=4,N>>>=4),N>=2&&(U+=2,N>>>=2),U+N},o.prototype._zeroBits=function(C){if(C===0)return 26;var N=C,U=0;return N&8191||(U+=13,N>>>=13),N&127||(U+=7,N>>>=7),N&15||(U+=4,N>>>=4),N&3||(U+=2,N>>>=2),N&1||U++,U},o.prototype.bitLength=function(){var C=this.words[this.length-1],N=this._countBits(C);return(this.length-1)*26+N};function E(B){for(var C=new Array(B.bitLength()),N=0;N<C.length;N++){var U=N/26|0,G=N%26;C[N]=B.words[U]>>>G&1}return C}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var C=0,N=0;N<this.length;N++){var U=this._zeroBits(this.words[N]);if(C+=U,U!==26)break}return C},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(C){return this.negative!==0?this.abs().inotn(C).iaddn(1):this.clone()},o.prototype.fromTwos=function(C){return this.testn(C-1)?this.notn(C).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(C){for(;this.length<C.length;)this.words[this.length++]=0;for(var N=0;N<C.length;N++)this.words[N]=this.words[N]|C.words[N];return this._strip()},o.prototype.ior=function(C){return i((this.negative|C.negative)===0),this.iuor(C)},o.prototype.or=function(C){return this.length>C.length?this.clone().ior(C):C.clone().ior(this)},o.prototype.uor=function(C){return this.length>C.length?this.clone().iuor(C):C.clone().iuor(this)},o.prototype.iuand=function(C){var N;this.length>C.length?N=C:N=this;for(var U=0;U<N.length;U++)this.words[U]=this.words[U]&C.words[U];return this.length=N.length,this._strip()},o.prototype.iand=function(C){return i((this.negative|C.negative)===0),this.iuand(C)},o.prototype.and=function(C){return this.length>C.length?this.clone().iand(C):C.clone().iand(this)},o.prototype.uand=function(C){return this.length>C.length?this.clone().iuand(C):C.clone().iuand(this)},o.prototype.iuxor=function(C){var N,U;this.length>C.length?(N=this,U=C):(N=C,U=this);for(var G=0;G<U.length;G++)this.words[G]=N.words[G]^U.words[G];if(this!==N)for(;G<N.length;G++)this.words[G]=N.words[G];return this.length=N.length,this._strip()},o.prototype.ixor=function(C){return i((this.negative|C.negative)===0),this.iuxor(C)},o.prototype.xor=function(C){return this.length>C.length?this.clone().ixor(C):C.clone().ixor(this)},o.prototype.uxor=function(C){return this.length>C.length?this.clone().iuxor(C):C.clone().iuxor(this)},o.prototype.inotn=function(C){i(typeof C=="number"&&C>=0);var N=Math.ceil(C/26)|0,U=C%26;this._expand(N),U>0&&N--;for(var G=0;G<N;G++)this.words[G]=~this.words[G]&67108863;return U>0&&(this.words[G]=~this.words[G]&67108863>>26-U),this._strip()},o.prototype.notn=function(C){return this.clone().inotn(C)},o.prototype.setn=function(C,N){i(typeof C=="number"&&C>=0);var U=C/26|0,G=C%26;return this._expand(U+1),N?this.words[U]=this.words[U]|1<<G:this.words[U]=this.words[U]&~(1<<G),this._strip()},o.prototype.iadd=function(C){var N;if(this.negative!==0&&C.negative===0)return this.negative=0,N=this.isub(C),this.negative^=1,this._normSign();if(this.negative===0&&C.negative!==0)return C.negative=0,N=this.isub(C),C.negative=1,N._normSign();var U,G;this.length>C.length?(U=this,G=C):(U=C,G=this);for(var $=0,Z=0;Z<G.length;Z++)N=(U.words[Z]|0)+(G.words[Z]|0)+$,this.words[Z]=N&67108863,$=N>>>26;for(;$!==0&&Z<U.length;Z++)N=(U.words[Z]|0)+$,this.words[Z]=N&67108863,$=N>>>26;if(this.length=U.length,$!==0)this.words[this.length]=$,this.length++;else if(U!==this)for(;Z<U.length;Z++)this.words[Z]=U.words[Z];return this},o.prototype.add=function(C){var N;return C.negative!==0&&this.negative===0?(C.negative=0,N=this.sub(C),C.negative^=1,N):C.negative===0&&this.negative!==0?(this.negative=0,N=C.sub(this),this.negative=1,N):this.length>C.length?this.clone().iadd(C):C.clone().iadd(this)},o.prototype.isub=function(C){if(C.negative!==0){C.negative=0;var N=this.iadd(C);return C.negative=1,N._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(C),this.negative=1,this._normSign();var U=this.cmp(C);if(U===0)return this.negative=0,this.length=1,this.words[0]=0,this;var G,$;U>0?(G=this,$=C):(G=C,$=this);for(var Z=0,W=0;W<$.length;W++)N=(G.words[W]|0)-($.words[W]|0)+Z,Z=N>>26,this.words[W]=N&67108863;for(;Z!==0&&W<G.length;W++)N=(G.words[W]|0)+Z,Z=N>>26,this.words[W]=N&67108863;if(Z===0&&W<G.length&&G!==this)for(;W<G.length;W++)this.words[W]=G.words[W];return this.length=Math.max(this.length,W),G!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(C){return this.clone().isub(C)};function p(B,C,N){N.negative=C.negative^B.negative;var U=B.length+C.length|0;N.length=U,U=U-1|0;var G=B.words[0]|0,$=C.words[0]|0,Z=G*$,W=Z&67108863,P=Z/67108864|0;N.words[0]=W;for(var R=1;R<U;R++){for(var re=P>>>26,T=P&67108863,x=Math.min(R,C.length-1),z=Math.max(0,R-B.length+1);z<=x;z++){var b=R-z|0;G=B.words[b]|0,$=C.words[z]|0,Z=G*$+T,re+=Z/67108864|0,T=Z&67108863}N.words[R]=T|0,P=re|0}return P!==0?N.words[R]=P|0:N.length--,N._strip()}var m=function(C,N,U){var G=C.words,$=N.words,Z=U.words,W=0,P,R,re,T=G[0]|0,x=T&8191,z=T>>>13,b=G[1]|0,J=b&8191,V=b>>>13,g=G[2]|0,M=g&8191,Q=g>>>13,k=G[3]|0,K=k&8191,ie=k>>>13,ne=G[4]|0,le=ne&8191,he=ne>>>13,fe=G[5]|0,ce=fe&8191,Ae=fe>>>13,Fe=G[6]|0,Me=Fe&8191,Ke=Fe>>>13,$e=G[7]|0,oe=$e&8191,X=$e>>>13,te=G[8]|0,de=te&8191,Ce=te>>>13,Se=G[9]|0,ge=Se&8191,q=Se>>>13,H=$[0]|0,ye=H&8191,_e=H>>>13,ve=$[1]|0,Ie=ve&8191,Le=ve>>>13,Pe=$[2]|0,Re=Pe&8191,Oe=Pe>>>13,Ue=$[3]|0,Ge=Ue&8191,et=Ue>>>13,We=$[4]|0,Ve=We&8191,Xe=We>>>13,Je=$[5]|0,Ze=Je&8191,tt=Je>>>13,nt=$[6]|0,Qe=nt&8191,ft=nt>>>13,Et=$[7]|0,dt=Et&8191,Lt=Et>>>13,wt=$[8]|0,xt=wt&8191,Ft=wt>>>13,bt=$[9]|0,Bt=bt&8191,Gt=bt>>>13;U.negative=C.negative^N.negative,U.length=19,P=Math.imul(x,ye),R=Math.imul(x,_e),R=R+Math.imul(z,ye)|0,re=Math.imul(z,_e);var _r=(W+P|0)+((R&8191)<<13)|0;W=(re+(R>>>13)|0)+(_r>>>26)|0,_r&=67108863,P=Math.imul(J,ye),R=Math.imul(J,_e),R=R+Math.imul(V,ye)|0,re=Math.imul(V,_e),P=P+Math.imul(x,Ie)|0,R=R+Math.imul(x,Le)|0,R=R+Math.imul(z,Ie)|0,re=re+Math.imul(z,Le)|0;var ir=(W+P|0)+((R&8191)<<13)|0;W=(re+(R>>>13)|0)+(ir>>>26)|0,ir&=67108863,P=Math.imul(M,ye),R=Math.imul(M,_e),R=R+Math.imul(Q,ye)|0,re=Math.imul(Q,_e),P=P+Math.imul(J,Ie)|0,R=R+Math.imul(J,Le)|0,R=R+Math.imul(V,Ie)|0,re=re+Math.imul(V,Le)|0,P=P+Math.imul(x,Re)|0,R=R+Math.imul(x,Oe)|0,R=R+Math.imul(z,Re)|0,re=re+Math.imul(z,Oe)|0;var Dr=(W+P|0)+((R&8191)<<13)|0;W=(re+(R>>>13)|0)+(Dr>>>26)|0,Dr&=67108863,P=Math.imul(K,ye),R=Math.imul(K,_e),R=R+Math.imul(ie,ye)|0,re=Math.imul(ie,_e),P=P+Math.imul(M,Ie)|0,R=R+Math.imul(M,Le)|0,R=R+Math.imul(Q,Ie)|0,re=re+Math.imul(Q,Le)|0,P=P+Math.imul(J,Re)|0,R=R+Math.imul(J,Oe)|0,R=R+Math.imul(V,Re)|0,re=re+Math.imul(V,Oe)|0,P=P+Math.imul(x,Ge)|0,R=R+Math.imul(x,et)|0,R=R+Math.imul(z,Ge)|0,re=re+Math.imul(z,et)|0;var Pr=(W+P|0)+((R&8191)<<13)|0;W=(re+(R>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,P=Math.imul(le,ye),R=Math.imul(le,_e),R=R+Math.imul(he,ye)|0,re=Math.imul(he,_e),P=P+Math.imul(K,Ie)|0,R=R+Math.imul(K,Le)|0,R=R+Math.imul(ie,Ie)|0,re=re+Math.imul(ie,Le)|0,P=P+Math.imul(M,Re)|0,R=R+Math.imul(M,Oe)|0,R=R+Math.imul(Q,Re)|0,re=re+Math.imul(Q,Oe)|0,P=P+Math.imul(J,Ge)|0,R=R+Math.imul(J,et)|0,R=R+Math.imul(V,Ge)|0,re=re+Math.imul(V,et)|0,P=P+Math.imul(x,Ve)|0,R=R+Math.imul(x,Xe)|0,R=R+Math.imul(z,Ve)|0,re=re+Math.imul(z,Xe)|0;var Yn=(W+P|0)+((R&8191)<<13)|0;W=(re+(R>>>13)|0)+(Yn>>>26)|0,Yn&=67108863,P=Math.imul(ce,ye),R=Math.imul(ce,_e),R=R+Math.imul(Ae,ye)|0,re=Math.imul(Ae,_e),P=P+Math.imul(le,Ie)|0,R=R+Math.imul(le,Le)|0,R=R+Math.imul(he,Ie)|0,re=re+Math.imul(he,Le)|0,P=P+Math.imul(K,Re)|0,R=R+Math.imul(K,Oe)|0,R=R+Math.imul(ie,Re)|0,re=re+Math.imul(ie,Oe)|0,P=P+Math.imul(M,Ge)|0,R=R+Math.imul(M,et)|0,R=R+Math.imul(Q,Ge)|0,re=re+Math.imul(Q,et)|0,P=P+Math.imul(J,Ve)|0,R=R+Math.imul(J,Xe)|0,R=R+Math.imul(V,Ve)|0,re=re+Math.imul(V,Xe)|0,P=P+Math.imul(x,Ze)|0,R=R+Math.imul(x,tt)|0,R=R+Math.imul(z,Ze)|0,re=re+Math.imul(z,tt)|0;var ca=(W+P|0)+((R&8191)<<13)|0;W=(re+(R>>>13)|0)+(ca>>>26)|0,ca&=67108863,P=Math.imul(Me,ye),R=Math.imul(Me,_e),R=R+Math.imul(Ke,ye)|0,re=Math.imul(Ke,_e),P=P+Math.imul(ce,Ie)|0,R=R+Math.imul(ce,Le)|0,R=R+Math.imul(Ae,Ie)|0,re=re+Math.imul(Ae,Le)|0,P=P+Math.imul(le,Re)|0,R=R+Math.imul(le,Oe)|0,R=R+Math.imul(he,Re)|0,re=re+Math.imul(he,Oe)|0,P=P+Math.imul(K,Ge)|0,R=R+Math.imul(K,et)|0,R=R+Math.imul(ie,Ge)|0,re=re+Math.imul(ie,et)|0,P=P+Math.imul(M,Ve)|0,R=R+Math.imul(M,Xe)|0,R=R+Math.imul(Q,Ve)|0,re=re+Math.imul(Q,Xe)|0,P=P+Math.imul(J,Ze)|0,R=R+Math.imul(J,tt)|0,R=R+Math.imul(V,Ze)|0,re=re+Math.imul(V,tt)|0,P=P+Math.imul(x,Qe)|0,R=R+Math.imul(x,ft)|0,R=R+Math.imul(z,Qe)|0,re=re+Math.imul(z,ft)|0;var ui=(W+P|0)+((R&8191)<<13)|0;W=(re+(R>>>13)|0)+(ui>>>26)|0,ui&=67108863,P=Math.imul(oe,ye),R=Math.imul(oe,_e),R=R+Math.imul(X,ye)|0,re=Math.imul(X,_e),P=P+Math.imul(Me,Ie)|0,R=R+Math.imul(Me,Le)|0,R=R+Math.imul(Ke,Ie)|0,re=re+Math.imul(Ke,Le)|0,P=P+Math.imul(ce,Re)|0,R=R+Math.imul(ce,Oe)|0,R=R+Math.imul(Ae,Re)|0,re=re+Math.imul(Ae,Oe)|0,P=P+Math.imul(le,Ge)|0,R=R+Math.imul(le,et)|0,R=R+Math.imul(he,Ge)|0,re=re+Math.imul(he,et)|0,P=P+Math.imul(K,Ve)|0,R=R+Math.imul(K,Xe)|0,R=R+Math.imul(ie,Ve)|0,re=re+Math.imul(ie,Xe)|0,P=P+Math.imul(M,Ze)|0,R=R+Math.imul(M,tt)|0,R=R+Math.imul(Q,Ze)|0,re=re+Math.imul(Q,tt)|0,P=P+Math.imul(J,Qe)|0,R=R+Math.imul(J,ft)|0,R=R+Math.imul(V,Qe)|0,re=re+Math.imul(V,ft)|0,P=P+Math.imul(x,dt)|0,R=R+Math.imul(x,Lt)|0,R=R+Math.imul(z,dt)|0,re=re+Math.imul(z,Lt)|0;var ua=(W+P|0)+((R&8191)<<13)|0;W=(re+(R>>>13)|0)+(ua>>>26)|0,ua&=67108863,P=Math.imul(de,ye),R=Math.imul(de,_e),R=R+Math.imul(Ce,ye)|0,re=Math.imul(Ce,_e),P=P+Math.imul(oe,Ie)|0,R=R+Math.imul(oe,Le)|0,R=R+Math.imul(X,Ie)|0,re=re+Math.imul(X,Le)|0,P=P+Math.imul(Me,Re)|0,R=R+Math.imul(Me,Oe)|0,R=R+Math.imul(Ke,Re)|0,re=re+Math.imul(Ke,Oe)|0,P=P+Math.imul(ce,Ge)|0,R=R+Math.imul(ce,et)|0,R=R+Math.imul(Ae,Ge)|0,re=re+Math.imul(Ae,et)|0,P=P+Math.imul(le,Ve)|0,R=R+Math.imul(le,Xe)|0,R=R+Math.imul(he,Ve)|0,re=re+Math.imul(he,Xe)|0,P=P+Math.imul(K,Ze)|0,R=R+Math.imul(K,tt)|0,R=R+Math.imul(ie,Ze)|0,re=re+Math.imul(ie,tt)|0,P=P+Math.imul(M,Qe)|0,R=R+Math.imul(M,ft)|0,R=R+Math.imul(Q,Qe)|0,re=re+Math.imul(Q,ft)|0,P=P+Math.imul(J,dt)|0,R=R+Math.imul(J,Lt)|0,R=R+Math.imul(V,dt)|0,re=re+Math.imul(V,Lt)|0,P=P+Math.imul(x,xt)|0,R=R+Math.imul(x,Ft)|0,R=R+Math.imul(z,xt)|0,re=re+Math.imul(z,Ft)|0;var Zn=(W+P|0)+((R&8191)<<13)|0;W=(re+(R>>>13)|0)+(Zn>>>26)|0,Zn&=67108863,P=Math.imul(ge,ye),R=Math.imul(ge,_e),R=R+Math.imul(q,ye)|0,re=Math.imul(q,_e),P=P+Math.imul(de,Ie)|0,R=R+Math.imul(de,Le)|0,R=R+Math.imul(Ce,Ie)|0,re=re+Math.imul(Ce,Le)|0,P=P+Math.imul(oe,Re)|0,R=R+Math.imul(oe,Oe)|0,R=R+Math.imul(X,Re)|0,re=re+Math.imul(X,Oe)|0,P=P+Math.imul(Me,Ge)|0,R=R+Math.imul(Me,et)|0,R=R+Math.imul(Ke,Ge)|0,re=re+Math.imul(Ke,et)|0,P=P+Math.imul(ce,Ve)|0,R=R+Math.imul(ce,Xe)|0,R=R+Math.imul(Ae,Ve)|0,re=re+Math.imul(Ae,Xe)|0,P=P+Math.imul(le,Ze)|0,R=R+Math.imul(le,tt)|0,R=R+Math.imul(he,Ze)|0,re=re+Math.imul(he,tt)|0,P=P+Math.imul(K,Qe)|0,R=R+Math.imul(K,ft)|0,R=R+Math.imul(ie,Qe)|0,re=re+Math.imul(ie,ft)|0,P=P+Math.imul(M,dt)|0,R=R+Math.imul(M,Lt)|0,R=R+Math.imul(Q,dt)|0,re=re+Math.imul(Q,Lt)|0,P=P+Math.imul(J,xt)|0,R=R+Math.imul(J,Ft)|0,R=R+Math.imul(V,xt)|0,re=re+Math.imul(V,Ft)|0,P=P+Math.imul(x,Bt)|0,R=R+Math.imul(x,Gt)|0,R=R+Math.imul(z,Bt)|0,re=re+Math.imul(z,Gt)|0;var Ra=(W+P|0)+((R&8191)<<13)|0;W=(re+(R>>>13)|0)+(Ra>>>26)|0,Ra&=67108863,P=Math.imul(ge,Ie),R=Math.imul(ge,Le),R=R+Math.imul(q,Ie)|0,re=Math.imul(q,Le),P=P+Math.imul(de,Re)|0,R=R+Math.imul(de,Oe)|0,R=R+Math.imul(Ce,Re)|0,re=re+Math.imul(Ce,Oe)|0,P=P+Math.imul(oe,Ge)|0,R=R+Math.imul(oe,et)|0,R=R+Math.imul(X,Ge)|0,re=re+Math.imul(X,et)|0,P=P+Math.imul(Me,Ve)|0,R=R+Math.imul(Me,Xe)|0,R=R+Math.imul(Ke,Ve)|0,re=re+Math.imul(Ke,Xe)|0,P=P+Math.imul(ce,Ze)|0,R=R+Math.imul(ce,tt)|0,R=R+Math.imul(Ae,Ze)|0,re=re+Math.imul(Ae,tt)|0,P=P+Math.imul(le,Qe)|0,R=R+Math.imul(le,ft)|0,R=R+Math.imul(he,Qe)|0,re=re+Math.imul(he,ft)|0,P=P+Math.imul(K,dt)|0,R=R+Math.imul(K,Lt)|0,R=R+Math.imul(ie,dt)|0,re=re+Math.imul(ie,Lt)|0,P=P+Math.imul(M,xt)|0,R=R+Math.imul(M,Ft)|0,R=R+Math.imul(Q,xt)|0,re=re+Math.imul(Q,Ft)|0,P=P+Math.imul(J,Bt)|0,R=R+Math.imul(J,Gt)|0,R=R+Math.imul(V,Bt)|0,re=re+Math.imul(V,Gt)|0;var Si=(W+P|0)+((R&8191)<<13)|0;W=(re+(R>>>13)|0)+(Si>>>26)|0,Si&=67108863,P=Math.imul(ge,Re),R=Math.imul(ge,Oe),R=R+Math.imul(q,Re)|0,re=Math.imul(q,Oe),P=P+Math.imul(de,Ge)|0,R=R+Math.imul(de,et)|0,R=R+Math.imul(Ce,Ge)|0,re=re+Math.imul(Ce,et)|0,P=P+Math.imul(oe,Ve)|0,R=R+Math.imul(oe,Xe)|0,R=R+Math.imul(X,Ve)|0,re=re+Math.imul(X,Xe)|0,P=P+Math.imul(Me,Ze)|0,R=R+Math.imul(Me,tt)|0,R=R+Math.imul(Ke,Ze)|0,re=re+Math.imul(Ke,tt)|0,P=P+Math.imul(ce,Qe)|0,R=R+Math.imul(ce,ft)|0,R=R+Math.imul(Ae,Qe)|0,re=re+Math.imul(Ae,ft)|0,P=P+Math.imul(le,dt)|0,R=R+Math.imul(le,Lt)|0,R=R+Math.imul(he,dt)|0,re=re+Math.imul(he,Lt)|0,P=P+Math.imul(K,xt)|0,R=R+Math.imul(K,Ft)|0,R=R+Math.imul(ie,xt)|0,re=re+Math.imul(ie,Ft)|0,P=P+Math.imul(M,Bt)|0,R=R+Math.imul(M,Gt)|0,R=R+Math.imul(Q,Bt)|0,re=re+Math.imul(Q,Gt)|0;var Jr=(W+P|0)+((R&8191)<<13)|0;W=(re+(R>>>13)|0)+(Jr>>>26)|0,Jr&=67108863,P=Math.imul(ge,Ge),R=Math.imul(ge,et),R=R+Math.imul(q,Ge)|0,re=Math.imul(q,et),P=P+Math.imul(de,Ve)|0,R=R+Math.imul(de,Xe)|0,R=R+Math.imul(Ce,Ve)|0,re=re+Math.imul(Ce,Xe)|0,P=P+Math.imul(oe,Ze)|0,R=R+Math.imul(oe,tt)|0,R=R+Math.imul(X,Ze)|0,re=re+Math.imul(X,tt)|0,P=P+Math.imul(Me,Qe)|0,R=R+Math.imul(Me,ft)|0,R=R+Math.imul(Ke,Qe)|0,re=re+Math.imul(Ke,ft)|0,P=P+Math.imul(ce,dt)|0,R=R+Math.imul(ce,Lt)|0,R=R+Math.imul(Ae,dt)|0,re=re+Math.imul(Ae,Lt)|0,P=P+Math.imul(le,xt)|0,R=R+Math.imul(le,Ft)|0,R=R+Math.imul(he,xt)|0,re=re+Math.imul(he,Ft)|0,P=P+Math.imul(K,Bt)|0,R=R+Math.imul(K,Gt)|0,R=R+Math.imul(ie,Bt)|0,re=re+Math.imul(ie,Gt)|0;var Ma=(W+P|0)+((R&8191)<<13)|0;W=(re+(R>>>13)|0)+(Ma>>>26)|0,Ma&=67108863,P=Math.imul(ge,Ve),R=Math.imul(ge,Xe),R=R+Math.imul(q,Ve)|0,re=Math.imul(q,Xe),P=P+Math.imul(de,Ze)|0,R=R+Math.imul(de,tt)|0,R=R+Math.imul(Ce,Ze)|0,re=re+Math.imul(Ce,tt)|0,P=P+Math.imul(oe,Qe)|0,R=R+Math.imul(oe,ft)|0,R=R+Math.imul(X,Qe)|0,re=re+Math.imul(X,ft)|0,P=P+Math.imul(Me,dt)|0,R=R+Math.imul(Me,Lt)|0,R=R+Math.imul(Ke,dt)|0,re=re+Math.imul(Ke,Lt)|0,P=P+Math.imul(ce,xt)|0,R=R+Math.imul(ce,Ft)|0,R=R+Math.imul(Ae,xt)|0,re=re+Math.imul(Ae,Ft)|0,P=P+Math.imul(le,Bt)|0,R=R+Math.imul(le,Gt)|0,R=R+Math.imul(he,Bt)|0,re=re+Math.imul(he,Gt)|0;var Ua=(W+P|0)+((R&8191)<<13)|0;W=(re+(R>>>13)|0)+(Ua>>>26)|0,Ua&=67108863,P=Math.imul(ge,Ze),R=Math.imul(ge,tt),R=R+Math.imul(q,Ze)|0,re=Math.imul(q,tt),P=P+Math.imul(de,Qe)|0,R=R+Math.imul(de,ft)|0,R=R+Math.imul(Ce,Qe)|0,re=re+Math.imul(Ce,ft)|0,P=P+Math.imul(oe,dt)|0,R=R+Math.imul(oe,Lt)|0,R=R+Math.imul(X,dt)|0,re=re+Math.imul(X,Lt)|0,P=P+Math.imul(Me,xt)|0,R=R+Math.imul(Me,Ft)|0,R=R+Math.imul(Ke,xt)|0,re=re+Math.imul(Ke,Ft)|0,P=P+Math.imul(ce,Bt)|0,R=R+Math.imul(ce,Gt)|0,R=R+Math.imul(Ae,Bt)|0,re=re+Math.imul(Ae,Gt)|0;var Ki=(W+P|0)+((R&8191)<<13)|0;W=(re+(R>>>13)|0)+(Ki>>>26)|0,Ki&=67108863,P=Math.imul(ge,Qe),R=Math.imul(ge,ft),R=R+Math.imul(q,Qe)|0,re=Math.imul(q,ft),P=P+Math.imul(de,dt)|0,R=R+Math.imul(de,Lt)|0,R=R+Math.imul(Ce,dt)|0,re=re+Math.imul(Ce,Lt)|0,P=P+Math.imul(oe,xt)|0,R=R+Math.imul(oe,Ft)|0,R=R+Math.imul(X,xt)|0,re=re+Math.imul(X,Ft)|0,P=P+Math.imul(Me,Bt)|0,R=R+Math.imul(Me,Gt)|0,R=R+Math.imul(Ke,Bt)|0,re=re+Math.imul(Ke,Gt)|0;var Oa=(W+P|0)+((R&8191)<<13)|0;W=(re+(R>>>13)|0)+(Oa>>>26)|0,Oa&=67108863,P=Math.imul(ge,dt),R=Math.imul(ge,Lt),R=R+Math.imul(q,dt)|0,re=Math.imul(q,Lt),P=P+Math.imul(de,xt)|0,R=R+Math.imul(de,Ft)|0,R=R+Math.imul(Ce,xt)|0,re=re+Math.imul(Ce,Ft)|0,P=P+Math.imul(oe,Bt)|0,R=R+Math.imul(oe,Gt)|0,R=R+Math.imul(X,Bt)|0,re=re+Math.imul(X,Gt)|0;var ue=(W+P|0)+((R&8191)<<13)|0;W=(re+(R>>>13)|0)+(ue>>>26)|0,ue&=67108863,P=Math.imul(ge,xt),R=Math.imul(ge,Ft),R=R+Math.imul(q,xt)|0,re=Math.imul(q,Ft),P=P+Math.imul(de,Bt)|0,R=R+Math.imul(de,Gt)|0,R=R+Math.imul(Ce,Bt)|0,re=re+Math.imul(Ce,Gt)|0;var ee=(W+P|0)+((R&8191)<<13)|0;W=(re+(R>>>13)|0)+(ee>>>26)|0,ee&=67108863,P=Math.imul(ge,Bt),R=Math.imul(ge,Gt),R=R+Math.imul(q,Bt)|0,re=Math.imul(q,Gt);var ae=(W+P|0)+((R&8191)<<13)|0;return W=(re+(R>>>13)|0)+(ae>>>26)|0,ae&=67108863,Z[0]=_r,Z[1]=ir,Z[2]=Dr,Z[3]=Pr,Z[4]=Yn,Z[5]=ca,Z[6]=ui,Z[7]=ua,Z[8]=Zn,Z[9]=Ra,Z[10]=Si,Z[11]=Jr,Z[12]=Ma,Z[13]=Ua,Z[14]=Ki,Z[15]=Oa,Z[16]=ue,Z[17]=ee,Z[18]=ae,W!==0&&(Z[19]=W,U.length++),U};Math.imul||(m=p);function S(B,C,N){N.negative=C.negative^B.negative,N.length=B.length+C.length;for(var U=0,G=0,$=0;$<N.length-1;$++){var Z=G;G=0;for(var W=U&67108863,P=Math.min($,C.length-1),R=Math.max(0,$-B.length+1);R<=P;R++){var re=$-R,T=B.words[re]|0,x=C.words[R]|0,z=T*x,b=z&67108863;Z=Z+(z/67108864|0)|0,b=b+W|0,W=b&67108863,Z=Z+(b>>>26)|0,G+=Z>>>26,Z&=67108863}N.words[$]=W,U=Z,Z=G}return U!==0?N.words[$]=U:N.length--,N._strip()}function F(B,C,N){return S(B,C,N)}o.prototype.mulTo=function(C,N){var U,G=this.length+C.length;return this.length===10&&C.length===10?U=m(this,C,N):G<63?U=p(this,C,N):G<1024?U=S(this,C,N):U=F(this,C,N),U},o.prototype.mul=function(C){var N=new o(null);return N.words=new Array(this.length+C.length),this.mulTo(C,N)},o.prototype.mulf=function(C){var N=new o(null);return N.words=new Array(this.length+C.length),F(this,C,N)},o.prototype.imul=function(C){return this.clone().mulTo(C,this)},o.prototype.imuln=function(C){var N=C<0;N&&(C=-C),i(typeof C=="number"),i(C<67108864);for(var U=0,G=0;G<this.length;G++){var $=(this.words[G]|0)*C,Z=($&67108863)+(U&67108863);U>>=26,U+=$/67108864|0,U+=Z>>>26,this.words[G]=Z&67108863}return U!==0&&(this.words[G]=U,this.length++),N?this.ineg():this},o.prototype.muln=function(C){return this.clone().imuln(C)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(C){var N=E(C);if(N.length===0)return new o(1);for(var U=this,G=0;G<N.length&&N[G]===0;G++,U=U.sqr());if(++G<N.length)for(var $=U.sqr();G<N.length;G++,$=$.sqr())N[G]!==0&&(U=U.mul($));return U},o.prototype.iushln=function(C){i(typeof C=="number"&&C>=0);var N=C%26,U=(C-N)/26,G=67108863>>>26-N<<26-N,$;if(N!==0){var Z=0;for($=0;$<this.length;$++){var W=this.words[$]&G,P=(this.words[$]|0)-W<<N;this.words[$]=P|Z,Z=W>>>26-N}Z&&(this.words[$]=Z,this.length++)}if(U!==0){for($=this.length-1;$>=0;$--)this.words[$+U]=this.words[$];for($=0;$<U;$++)this.words[$]=0;this.length+=U}return this._strip()},o.prototype.ishln=function(C){return i(this.negative===0),this.iushln(C)},o.prototype.iushrn=function(C,N,U){i(typeof C=="number"&&C>=0);var G;N?G=(N-N%26)/26:G=0;var $=C%26,Z=Math.min((C-$)/26,this.length),W=67108863^67108863>>>$<<$,P=U;if(G-=Z,G=Math.max(0,G),P){for(var R=0;R<Z;R++)P.words[R]=this.words[R];P.length=Z}if(Z!==0)if(this.length>Z)for(this.length-=Z,R=0;R<this.length;R++)this.words[R]=this.words[R+Z];else this.words[0]=0,this.length=1;var re=0;for(R=this.length-1;R>=0&&(re!==0||R>=G);R--){var T=this.words[R]|0;this.words[R]=re<<26-$|T>>>$,re=T&W}return P&&re!==0&&(P.words[P.length++]=re),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(C,N,U){return i(this.negative===0),this.iushrn(C,N,U)},o.prototype.shln=function(C){return this.clone().ishln(C)},o.prototype.ushln=function(C){return this.clone().iushln(C)},o.prototype.shrn=function(C){return this.clone().ishrn(C)},o.prototype.ushrn=function(C){return this.clone().iushrn(C)},o.prototype.testn=function(C){i(typeof C=="number"&&C>=0);var N=C%26,U=(C-N)/26,G=1<<N;if(this.length<=U)return!1;var $=this.words[U];return!!($&G)},o.prototype.imaskn=function(C){i(typeof C=="number"&&C>=0);var N=C%26,U=(C-N)/26;if(i(this.negative===0,"imaskn works only with positive numbers"),this.length<=U)return this;if(N!==0&&U++,this.length=Math.min(U,this.length),N!==0){var G=67108863^67108863>>>N<<N;this.words[this.length-1]&=G}return this._strip()},o.prototype.maskn=function(C){return this.clone().imaskn(C)},o.prototype.iaddn=function(C){return i(typeof C=="number"),i(C<67108864),C<0?this.isubn(-C):this.negative!==0?this.length===1&&(this.words[0]|0)<=C?(this.words[0]=C-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(C),this.negative=1,this):this._iaddn(C)},o.prototype._iaddn=function(C){this.words[0]+=C;for(var N=0;N<this.length&&this.words[N]>=67108864;N++)this.words[N]-=67108864,N===this.length-1?this.words[N+1]=1:this.words[N+1]++;return this.length=Math.max(this.length,N+1),this},o.prototype.isubn=function(C){if(i(typeof C=="number"),i(C<67108864),C<0)return this.iaddn(-C);if(this.negative!==0)return this.negative=0,this.iaddn(C),this.negative=1,this;if(this.words[0]-=C,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var N=0;N<this.length&&this.words[N]<0;N++)this.words[N]+=67108864,this.words[N+1]-=1;return this._strip()},o.prototype.addn=function(C){return this.clone().iaddn(C)},o.prototype.subn=function(C){return this.clone().isubn(C)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(C,N,U){var G=C.length+U,$;this._expand(G);var Z,W=0;for($=0;$<C.length;$++){Z=(this.words[$+U]|0)+W;var P=(C.words[$]|0)*N;Z-=P&67108863,W=(Z>>26)-(P/67108864|0),this.words[$+U]=Z&67108863}for(;$<this.length-U;$++)Z=(this.words[$+U]|0)+W,W=Z>>26,this.words[$+U]=Z&67108863;if(W===0)return this._strip();for(i(W===-1),W=0,$=0;$<this.length;$++)Z=-(this.words[$]|0)+W,W=Z>>26,this.words[$]=Z&67108863;return this.negative=1,this._strip()},o.prototype._wordDiv=function(C,N){var U=this.length-C.length,G=this.clone(),$=C,Z=$.words[$.length-1]|0,W=this._countBits(Z);U=26-W,U!==0&&($=$.ushln(U),G.iushln(U),Z=$.words[$.length-1]|0);var P=G.length-$.length,R;if(N!=="mod"){R=new o(null),R.length=P+1,R.words=new Array(R.length);for(var re=0;re<R.length;re++)R.words[re]=0}var T=G.clone()._ishlnsubmul($,1,P);T.negative===0&&(G=T,R&&(R.words[P]=1));for(var x=P-1;x>=0;x--){var z=(G.words[$.length+x]|0)*67108864+(G.words[$.length+x-1]|0);for(z=Math.min(z/Z|0,67108863),G._ishlnsubmul($,z,x);G.negative!==0;)z--,G.negative=0,G._ishlnsubmul($,1,x),G.isZero()||(G.negative^=1);R&&(R.words[x]=z)}return R&&R._strip(),G._strip(),N!=="div"&&U!==0&&G.iushrn(U),{div:R||null,mod:G}},o.prototype.divmod=function(C,N,U){if(i(!C.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var G,$,Z;return this.negative!==0&&C.negative===0?(Z=this.neg().divmod(C,N),N!=="mod"&&(G=Z.div.neg()),N!=="div"&&($=Z.mod.neg(),U&&$.negative!==0&&$.iadd(C)),{div:G,mod:$}):this.negative===0&&C.negative!==0?(Z=this.divmod(C.neg(),N),N!=="mod"&&(G=Z.div.neg()),{div:G,mod:Z.mod}):this.negative&C.negative?(Z=this.neg().divmod(C.neg(),N),N!=="div"&&($=Z.mod.neg(),U&&$.negative!==0&&$.isub(C)),{div:Z.div,mod:$}):C.length>this.length||this.cmp(C)<0?{div:new o(0),mod:this}:C.length===1?N==="div"?{div:this.divn(C.words[0]),mod:null}:N==="mod"?{div:null,mod:new o(this.modrn(C.words[0]))}:{div:this.divn(C.words[0]),mod:new o(this.modrn(C.words[0]))}:this._wordDiv(C,N)},o.prototype.div=function(C){return this.divmod(C,"div",!1).div},o.prototype.mod=function(C){return this.divmod(C,"mod",!1).mod},o.prototype.umod=function(C){return this.divmod(C,"mod",!0).mod},o.prototype.divRound=function(C){var N=this.divmod(C);if(N.mod.isZero())return N.div;var U=N.div.negative!==0?N.mod.isub(C):N.mod,G=C.ushrn(1),$=C.andln(1),Z=U.cmp(G);return Z<0||$===1&&Z===0?N.div:N.div.negative!==0?N.div.isubn(1):N.div.iaddn(1)},o.prototype.modrn=function(C){var N=C<0;N&&(C=-C),i(C<=67108863);for(var U=(1<<26)%C,G=0,$=this.length-1;$>=0;$--)G=(U*G+(this.words[$]|0))%C;return N?-G:G},o.prototype.modn=function(C){return this.modrn(C)},o.prototype.idivn=function(C){var N=C<0;N&&(C=-C),i(C<=67108863);for(var U=0,G=this.length-1;G>=0;G--){var $=(this.words[G]|0)+U*67108864;this.words[G]=$/C|0,U=$%C}return this._strip(),N?this.ineg():this},o.prototype.divn=function(C){return this.clone().idivn(C)},o.prototype.egcd=function(C){i(C.negative===0),i(!C.isZero());var N=this,U=C.clone();N.negative!==0?N=N.umod(C):N=N.clone();for(var G=new o(1),$=new o(0),Z=new o(0),W=new o(1),P=0;N.isEven()&&U.isEven();)N.iushrn(1),U.iushrn(1),++P;for(var R=U.clone(),re=N.clone();!N.isZero();){for(var T=0,x=1;!(N.words[0]&x)&&T<26;++T,x<<=1);if(T>0)for(N.iushrn(T);T-- >0;)(G.isOdd()||$.isOdd())&&(G.iadd(R),$.isub(re)),G.iushrn(1),$.iushrn(1);for(var z=0,b=1;!(U.words[0]&b)&&z<26;++z,b<<=1);if(z>0)for(U.iushrn(z);z-- >0;)(Z.isOdd()||W.isOdd())&&(Z.iadd(R),W.isub(re)),Z.iushrn(1),W.iushrn(1);N.cmp(U)>=0?(N.isub(U),G.isub(Z),$.isub(W)):(U.isub(N),Z.isub(G),W.isub($))}return{a:Z,b:W,gcd:U.iushln(P)}},o.prototype._invmp=function(C){i(C.negative===0),i(!C.isZero());var N=this,U=C.clone();N.negative!==0?N=N.umod(C):N=N.clone();for(var G=new o(1),$=new o(0),Z=U.clone();N.cmpn(1)>0&&U.cmpn(1)>0;){for(var W=0,P=1;!(N.words[0]&P)&&W<26;++W,P<<=1);if(W>0)for(N.iushrn(W);W-- >0;)G.isOdd()&&G.iadd(Z),G.iushrn(1);for(var R=0,re=1;!(U.words[0]&re)&&R<26;++R,re<<=1);if(R>0)for(U.iushrn(R);R-- >0;)$.isOdd()&&$.iadd(Z),$.iushrn(1);N.cmp(U)>=0?(N.isub(U),G.isub($)):(U.isub(N),$.isub(G))}var T;return N.cmpn(1)===0?T=G:T=$,T.cmpn(0)<0&&T.iadd(C),T},o.prototype.gcd=function(C){if(this.isZero())return C.abs();if(C.isZero())return this.abs();var N=this.clone(),U=C.clone();N.negative=0,U.negative=0;for(var G=0;N.isEven()&&U.isEven();G++)N.iushrn(1),U.iushrn(1);do{for(;N.isEven();)N.iushrn(1);for(;U.isEven();)U.iushrn(1);var $=N.cmp(U);if($<0){var Z=N;N=U,U=Z}else if($===0||U.cmpn(1)===0)break;N.isub(U)}while(!0);return U.iushln(G)},o.prototype.invm=function(C){return this.egcd(C).a.umod(C)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(C){return this.words[0]&C},o.prototype.bincn=function(C){i(typeof C=="number");var N=C%26,U=(C-N)/26,G=1<<N;if(this.length<=U)return this._expand(U+1),this.words[U]|=G,this;for(var $=G,Z=U;$!==0&&Z<this.length;Z++){var W=this.words[Z]|0;W+=$,$=W>>>26,W&=67108863,this.words[Z]=W}return $!==0&&(this.words[Z]=$,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(C){var N=C<0;if(this.negative!==0&&!N)return-1;if(this.negative===0&&N)return 1;this._strip();var U;if(this.length>1)U=1;else{N&&(C=-C),i(C<=67108863,"Number is too big");var G=this.words[0]|0;U=G===C?0:G<C?-1:1}return this.negative!==0?-U|0:U},o.prototype.cmp=function(C){if(this.negative!==0&&C.negative===0)return-1;if(this.negative===0&&C.negative!==0)return 1;var N=this.ucmp(C);return this.negative!==0?-N|0:N},o.prototype.ucmp=function(C){if(this.length>C.length)return 1;if(this.length<C.length)return-1;for(var N=0,U=this.length-1;U>=0;U--){var G=this.words[U]|0,$=C.words[U]|0;if(G!==$){G<$?N=-1:G>$&&(N=1);break}}return N},o.prototype.gtn=function(C){return this.cmpn(C)===1},o.prototype.gt=function(C){return this.cmp(C)===1},o.prototype.gten=function(C){return this.cmpn(C)>=0},o.prototype.gte=function(C){return this.cmp(C)>=0},o.prototype.ltn=function(C){return this.cmpn(C)===-1},o.prototype.lt=function(C){return this.cmp(C)===-1},o.prototype.lten=function(C){return this.cmpn(C)<=0},o.prototype.lte=function(C){return this.cmp(C)<=0},o.prototype.eqn=function(C){return this.cmpn(C)===0},o.prototype.eq=function(C){return this.cmp(C)===0},o.red=function(C){return new Y(C)},o.prototype.toRed=function(C){return i(!this.red,"Already a number in reduction context"),i(this.negative===0,"red works only with positives"),C.convertTo(this)._forceRed(C)},o.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(C){return this.red=C,this},o.prototype.forceRed=function(C){return i(!this.red,"Already a number in reduction context"),this._forceRed(C)},o.prototype.redAdd=function(C){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,C)},o.prototype.redIAdd=function(C){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,C)},o.prototype.redSub=function(C){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,C)},o.prototype.redISub=function(C){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,C)},o.prototype.redShl=function(C){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,C)},o.prototype.redMul=function(C){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,C),this.red.mul(this,C)},o.prototype.redIMul=function(C){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,C),this.red.imul(this,C)},o.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(C){return i(this.red&&!C.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,C)};var I={k256:null,p224:null,p192:null,p25519:null};function v(B,C){this.name=B,this.p=new o(C,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}v.prototype._tmp=function(){var C=new o(null);return C.words=new Array(Math.ceil(this.n/13)),C},v.prototype.ireduce=function(C){var N=C,U;do this.split(N,this.tmp),N=this.imulK(N),N=N.iadd(this.tmp),U=N.bitLength();while(U>this.n);var G=U<this.n?-1:N.ucmp(this.p);return G===0?(N.words[0]=0,N.length=1):G>0?N.isub(this.p):N.strip!==void 0?N.strip():N._strip(),N},v.prototype.split=function(C,N){C.iushrn(this.n,0,N)},v.prototype.imulK=function(C){return C.imul(this.k)};function A(){v.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}a(A,v),A.prototype.split=function(C,N){for(var U=4194303,G=Math.min(C.length,9),$=0;$<G;$++)N.words[$]=C.words[$];if(N.length=G,C.length<=9){C.words[0]=0,C.length=1;return}var Z=C.words[9];for(N.words[N.length++]=Z&U,$=10;$<C.length;$++){var W=C.words[$]|0;C.words[$-10]=(W&U)<<4|Z>>>22,Z=W}Z>>>=22,C.words[$-10]=Z,Z===0&&C.length>10?C.length-=10:C.length-=9},A.prototype.imulK=function(C){C.words[C.length]=0,C.words[C.length+1]=0,C.length+=2;for(var N=0,U=0;U<C.length;U++){var G=C.words[U]|0;N+=G*977,C.words[U]=N&67108863,N=G*64+(N/67108864|0)}return C.words[C.length-1]===0&&(C.length--,C.words[C.length-1]===0&&C.length--),C};function D(){v.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}a(D,v);function L(){v.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}a(L,v);function j(){v.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}a(j,v),j.prototype.imulK=function(C){for(var N=0,U=0;U<C.length;U++){var G=(C.words[U]|0)*19+N,$=G&67108863;G>>>=26,C.words[U]=$,N=G}return N!==0&&(C.words[C.length++]=N),C},o._prime=function(C){if(I[C])return I[C];var N;if(C==="k256")N=new A;else if(C==="p224")N=new D;else if(C==="p192")N=new L;else if(C==="p25519")N=new j;else throw new Error("Unknown prime "+C);return I[C]=N,N};function Y(B){if(typeof B=="string"){var C=o._prime(B);this.m=C.p,this.prime=C}else i(B.gtn(1),"modulus must be greater than 1"),this.m=B,this.prime=null}Y.prototype._verify1=function(C){i(C.negative===0,"red works only with positives"),i(C.red,"red works only with red numbers")},Y.prototype._verify2=function(C,N){i((C.negative|N.negative)===0,"red works only with positives"),i(C.red&&C.red===N.red,"red works only with red numbers")},Y.prototype.imod=function(C){return this.prime?this.prime.ireduce(C)._forceRed(this):(f(C,C.umod(this.m)._forceRed(this)),C)},Y.prototype.neg=function(C){return C.isZero()?C.clone():this.m.sub(C)._forceRed(this)},Y.prototype.add=function(C,N){this._verify2(C,N);var U=C.add(N);return U.cmp(this.m)>=0&&U.isub(this.m),U._forceRed(this)},Y.prototype.iadd=function(C,N){this._verify2(C,N);var U=C.iadd(N);return U.cmp(this.m)>=0&&U.isub(this.m),U},Y.prototype.sub=function(C,N){this._verify2(C,N);var U=C.sub(N);return U.cmpn(0)<0&&U.iadd(this.m),U._forceRed(this)},Y.prototype.isub=function(C,N){this._verify2(C,N);var U=C.isub(N);return U.cmpn(0)<0&&U.iadd(this.m),U},Y.prototype.shl=function(C,N){return this._verify1(C),this.imod(C.ushln(N))},Y.prototype.imul=function(C,N){return this._verify2(C,N),this.imod(C.imul(N))},Y.prototype.mul=function(C,N){return this._verify2(C,N),this.imod(C.mul(N))},Y.prototype.isqr=function(C){return this.imul(C,C.clone())},Y.prototype.sqr=function(C){return this.mul(C,C)},Y.prototype.sqrt=function(C){if(C.isZero())return C.clone();var N=this.m.andln(3);if(i(N%2===1),N===3){var U=this.m.add(new o(1)).iushrn(2);return this.pow(C,U)}for(var G=this.m.subn(1),$=0;!G.isZero()&&G.andln(1)===0;)$++,G.iushrn(1);i(!G.isZero());var Z=new o(1).toRed(this),W=Z.redNeg(),P=this.m.subn(1).iushrn(1),R=this.m.bitLength();for(R=new o(2*R*R).toRed(this);this.pow(R,P).cmp(W)!==0;)R.redIAdd(W);for(var re=this.pow(R,G),T=this.pow(C,G.addn(1).iushrn(1)),x=this.pow(C,G),z=$;x.cmp(Z)!==0;){for(var b=x,J=0;b.cmp(Z)!==0;J++)b=b.redSqr();i(J<z);var V=this.pow(re,new o(1).iushln(z-J-1));T=T.redMul(V),re=V.redSqr(),x=x.redMul(re),z=J}return T},Y.prototype.invm=function(C){var N=C._invmp(this.m);return N.negative!==0?(N.negative=0,this.imod(N).redNeg()):this.imod(N)},Y.prototype.pow=function(C,N){if(N.isZero())return new o(1).toRed(this);if(N.cmpn(1)===0)return C.clone();var U=4,G=new Array(1<<U);G[0]=new o(1).toRed(this),G[1]=C;for(var $=2;$<G.length;$++)G[$]=this.mul(G[$-1],C);var Z=G[0],W=0,P=0,R=N.bitLength()%26;for(R===0&&(R=26),$=N.length-1;$>=0;$--){for(var re=N.words[$],T=R-1;T>=0;T--){var x=re>>T&1;if(Z!==G[0]&&(Z=this.sqr(Z)),x===0&&W===0){P=0;continue}W<<=1,W|=x,P++,!(P!==U&&($!==0||T!==0))&&(Z=this.mul(Z,G[W]),P=0,W=0)}R=26}return Z},Y.prototype.convertTo=function(C){var N=C.umod(this.m);return N===C?N.clone():N},Y.prototype.convertFrom=function(C){var N=C.clone();return N.red=null,N},o.mont=function(C){return new O(C)};function O(B){Y.call(this,B),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}a(O,Y),O.prototype.convertTo=function(C){return this.imod(C.ushln(this.shift))},O.prototype.convertFrom=function(C){var N=this.imod(C.mul(this.rinv));return N.red=null,N},O.prototype.imul=function(C,N){if(C.isZero()||N.isZero())return C.words[0]=0,C.length=1,C;var U=C.imul(N),G=U.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),$=U.isub(G).iushrn(this.shift),Z=$;return $.cmp(this.m)>=0?Z=$.isub(this.m):$.cmpn(0)<0&&(Z=$.iadd(this.m)),Z._forceRed(this)},O.prototype.mul=function(C,N){if(C.isZero()||N.isZero())return new o(0)._forceRed(this);var U=C.mul(N),G=U.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),$=U.isub(G).iushrn(this.shift),Z=$;return $.cmp(this.m)>=0?Z=$.isub(this.m):$.cmpn(0)<0&&(Z=$.iadd(this.m)),Z._forceRed(this)},O.prototype.invm=function(C){var N=this.imod(C._invmp(this.m).mul(this.r2));return N._forceRed(this)}})(typeof e>"u"||e,t)}}),rO=Qt({"../../node_modules/js-sha3/src/sha3.js"(t,e){(function(){var r="input is invalid type",n="finalize already called",i=typeof window=="object",a=i?window:{};a.JS_SHA3_NO_WINDOW&&(i=!1);var o=!i&&typeof self=="object",s=!a.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;s?a=Kn:o&&(a=self);var u=!a.JS_SHA3_NO_COMMON_JS&&typeof e=="object"&&e.exports,l=!a.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",c="0123456789abcdef".split(""),f=[31,7936,2031616,520093696],d=[4,1024,262144,67108864],h=[1,256,65536,16777216],y=[6,1536,393216,100663296],w=[0,8,16,24],_=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],E=[224,256,384,512],p=[128,256],m=["hex","buffer","arrayBuffer","array","digest"],S={128:168,256:136};(a.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(x){return Object.prototype.toString.call(x)==="[object Array]"}),l&&(a.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(x){return typeof x=="object"&&x.buffer&&x.buffer.constructor===ArrayBuffer});for(var F=function(x,z,b){return function(J){return new R(x,z,x).update(J)[b]()}},I=function(x,z,b){return function(J,V){return new R(x,z,V).update(J)[b]()}},v=function(x,z,b){return function(J,V,g,M){return C["cshake"+x].update(J,V,g,M)[b]()}},A=function(x,z,b){return function(J,V,g,M){return C["kmac"+x].update(J,V,g,M)[b]()}},D=function(x,z,b,J){for(var V=0;V<m.length;++V){var g=m[V];x[g]=z(b,J,g)}return x},L=function(x,z){var b=F(x,z,"hex");return b.create=function(){return new R(x,z,x)},b.update=function(J){return b.create().update(J)},D(b,F,x,z)},j=function(x,z){var b=I(x,z,"hex");return b.create=function(J){return new R(x,z,J)},b.update=function(J,V){return b.create(V).update(J)},D(b,I,x,z)},Y=function(x,z){var b=S[x],J=v(x,z,"hex");return J.create=function(V,g,M){return!g&&!M?C["shake"+x].create(V):new R(x,z,V).bytepad([g,M],b)},J.update=function(V,g,M,Q){return J.create(g,M,Q).update(V)},D(J,v,x,z)},O=function(x,z){var b=S[x],J=A(x,z,"hex");return J.create=function(V,g,M){return new re(x,z,g).bytepad(["KMAC",M],b).bytepad([V],b)},J.update=function(V,g,M,Q){return J.create(V,M,Q).update(g)},D(J,A,x,z)},B=[{name:"keccak",padding:h,bits:E,createMethod:L},{name:"sha3",padding:y,bits:E,createMethod:L},{name:"shake",padding:f,bits:p,createMethod:j},{name:"cshake",padding:d,bits:p,createMethod:Y},{name:"kmac",padding:d,bits:p,createMethod:O}],C={},N=[],U=0;U<B.length;++U)for(var G=B[U],$=G.bits,Z=0;Z<$.length;++Z){var W=G.name+"_"+$[Z];if(N.push(W),C[W]=G.createMethod($[Z],G.padding),G.name!=="sha3"){var P=G.name+$[Z];N.push(P),C[P]=C[W]}}function R(x,z,b){this.blocks=[],this.s=[],this.padding=z,this.outputBits=b,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(x<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=b>>5,this.extraBytes=(b&31)>>3;for(var J=0;J<50;++J)this.s[J]=0}R.prototype.update=function(x){if(this.finalized)throw new Error(n);var z,b=typeof x;if(b!=="string"){if(b==="object"){if(x===null)throw new Error(r);if(l&&x.constructor===ArrayBuffer)x=new Uint8Array(x);else if(!Array.isArray(x)&&(!l||!ArrayBuffer.isView(x)))throw new Error(r)}else throw new Error(r);z=!0}for(var J=this.blocks,V=this.byteCount,g=x.length,M=this.blockCount,Q=0,k=this.s,K,ie;Q<g;){if(this.reset)for(this.reset=!1,J[0]=this.block,K=1;K<M+1;++K)J[K]=0;if(z)for(K=this.start;Q<g&&K<V;++Q)J[K>>2]|=x[Q]<<w[K++&3];else for(K=this.start;Q<g&&K<V;++Q)ie=x.charCodeAt(Q),ie<128?J[K>>2]|=ie<<w[K++&3]:ie<2048?(J[K>>2]|=(192|ie>>6)<<w[K++&3],J[K>>2]|=(128|ie&63)<<w[K++&3]):ie<55296||ie>=57344?(J[K>>2]|=(224|ie>>12)<<w[K++&3],J[K>>2]|=(128|ie>>6&63)<<w[K++&3],J[K>>2]|=(128|ie&63)<<w[K++&3]):(ie=65536+((ie&1023)<<10|x.charCodeAt(++Q)&1023),J[K>>2]|=(240|ie>>18)<<w[K++&3],J[K>>2]|=(128|ie>>12&63)<<w[K++&3],J[K>>2]|=(128|ie>>6&63)<<w[K++&3],J[K>>2]|=(128|ie&63)<<w[K++&3]);if(this.lastByteIndex=K,K>=V){for(this.start=K-V,this.block=J[M],K=0;K<M;++K)k[K]^=J[K];T(k),this.reset=!0}else this.start=K}return this},R.prototype.encode=function(x,z){var b=x&255,J=1,V=[b];for(x=x>>8,b=x&255;b>0;)V.unshift(b),x=x>>8,b=x&255,++J;return z?V.push(J):V.unshift(J),this.update(V),V.length},R.prototype.encodeString=function(x){var z,b=typeof x;if(b!=="string"){if(b==="object"){if(x===null)throw new Error(r);if(l&&x.constructor===ArrayBuffer)x=new Uint8Array(x);else if(!Array.isArray(x)&&(!l||!ArrayBuffer.isView(x)))throw new Error(r)}else throw new Error(r);z=!0}var J=0,V=x.length;if(z)J=V;else for(var g=0;g<x.length;++g){var M=x.charCodeAt(g);M<128?J+=1:M<2048?J+=2:M<55296||M>=57344?J+=3:(M=65536+((M&1023)<<10|x.charCodeAt(++g)&1023),J+=4)}return J+=this.encode(J*8),this.update(x),J},R.prototype.bytepad=function(x,z){for(var b=this.encode(z),J=0;J<x.length;++J)b+=this.encodeString(x[J]);var V=z-b%z,g=[];return g.length=V,this.update(g),this},R.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var x=this.blocks,z=this.lastByteIndex,b=this.blockCount,J=this.s;if(x[z>>2]|=this.padding[z&3],this.lastByteIndex===this.byteCount)for(x[0]=x[b],z=1;z<b+1;++z)x[z]=0;for(x[b-1]|=2147483648,z=0;z<b;++z)J[z]^=x[z];T(J)}},R.prototype.toString=R.prototype.hex=function(){this.finalize();for(var x=this.blockCount,z=this.s,b=this.outputBlocks,J=this.extraBytes,V=0,g=0,M="",Q;g<b;){for(V=0;V<x&&g<b;++V,++g)Q=z[V],M+=c[Q>>4&15]+c[Q&15]+c[Q>>12&15]+c[Q>>8&15]+c[Q>>20&15]+c[Q>>16&15]+c[Q>>28&15]+c[Q>>24&15];g%x===0&&(T(z),V=0)}return J&&(Q=z[V],M+=c[Q>>4&15]+c[Q&15],J>1&&(M+=c[Q>>12&15]+c[Q>>8&15]),J>2&&(M+=c[Q>>20&15]+c[Q>>16&15])),M},R.prototype.arrayBuffer=function(){this.finalize();var x=this.blockCount,z=this.s,b=this.outputBlocks,J=this.extraBytes,V=0,g=0,M=this.outputBits>>3,Q;J?Q=new ArrayBuffer(b+1<<2):Q=new ArrayBuffer(M);for(var k=new Uint32Array(Q);g<b;){for(V=0;V<x&&g<b;++V,++g)k[g]=z[V];g%x===0&&T(z)}return J&&(k[V]=z[V],Q=Q.slice(0,M)),Q},R.prototype.buffer=R.prototype.arrayBuffer,R.prototype.digest=R.prototype.array=function(){this.finalize();for(var x=this.blockCount,z=this.s,b=this.outputBlocks,J=this.extraBytes,V=0,g=0,M=[],Q,k;g<b;){for(V=0;V<x&&g<b;++V,++g)Q=g<<2,k=z[V],M[Q]=k&255,M[Q+1]=k>>8&255,M[Q+2]=k>>16&255,M[Q+3]=k>>24&255;g%x===0&&T(z)}return J&&(Q=g<<2,k=z[V],M[Q]=k&255,J>1&&(M[Q+1]=k>>8&255),J>2&&(M[Q+2]=k>>16&255)),M};function re(x,z,b){R.call(this,x,z,b)}re.prototype=new R,re.prototype.finalize=function(){return this.encode(this.outputBits,!0),R.prototype.finalize.call(this)};var T=function(x){var z,b,J,V,g,M,Q,k,K,ie,ne,le,he,fe,ce,Ae,Fe,Me,Ke,$e,oe,X,te,de,Ce,Se,ge,q,H,ye,_e,ve,Ie,Le,Pe,Re,Oe,Ue,Ge,et,We,Ve,Xe,Je,Ze,tt,nt,Qe,ft,Et,dt,Lt,wt,xt,Ft,bt,Bt,Gt,_r,ir,Dr,Pr,Yn;for(J=0;J<48;J+=2)V=x[0]^x[10]^x[20]^x[30]^x[40],g=x[1]^x[11]^x[21]^x[31]^x[41],M=x[2]^x[12]^x[22]^x[32]^x[42],Q=x[3]^x[13]^x[23]^x[33]^x[43],k=x[4]^x[14]^x[24]^x[34]^x[44],K=x[5]^x[15]^x[25]^x[35]^x[45],ie=x[6]^x[16]^x[26]^x[36]^x[46],ne=x[7]^x[17]^x[27]^x[37]^x[47],le=x[8]^x[18]^x[28]^x[38]^x[48],he=x[9]^x[19]^x[29]^x[39]^x[49],z=le^(M<<1|Q>>>31),b=he^(Q<<1|M>>>31),x[0]^=z,x[1]^=b,x[10]^=z,x[11]^=b,x[20]^=z,x[21]^=b,x[30]^=z,x[31]^=b,x[40]^=z,x[41]^=b,z=V^(k<<1|K>>>31),b=g^(K<<1|k>>>31),x[2]^=z,x[3]^=b,x[12]^=z,x[13]^=b,x[22]^=z,x[23]^=b,x[32]^=z,x[33]^=b,x[42]^=z,x[43]^=b,z=M^(ie<<1|ne>>>31),b=Q^(ne<<1|ie>>>31),x[4]^=z,x[5]^=b,x[14]^=z,x[15]^=b,x[24]^=z,x[25]^=b,x[34]^=z,x[35]^=b,x[44]^=z,x[45]^=b,z=k^(le<<1|he>>>31),b=K^(he<<1|le>>>31),x[6]^=z,x[7]^=b,x[16]^=z,x[17]^=b,x[26]^=z,x[27]^=b,x[36]^=z,x[37]^=b,x[46]^=z,x[47]^=b,z=ie^(V<<1|g>>>31),b=ne^(g<<1|V>>>31),x[8]^=z,x[9]^=b,x[18]^=z,x[19]^=b,x[28]^=z,x[29]^=b,x[38]^=z,x[39]^=b,x[48]^=z,x[49]^=b,fe=x[0],ce=x[1],tt=x[11]<<4|x[10]>>>28,nt=x[10]<<4|x[11]>>>28,q=x[20]<<3|x[21]>>>29,H=x[21]<<3|x[20]>>>29,ir=x[31]<<9|x[30]>>>23,Dr=x[30]<<9|x[31]>>>23,Ve=x[40]<<18|x[41]>>>14,Xe=x[41]<<18|x[40]>>>14,Le=x[2]<<1|x[3]>>>31,Pe=x[3]<<1|x[2]>>>31,Ae=x[13]<<12|x[12]>>>20,Fe=x[12]<<12|x[13]>>>20,Qe=x[22]<<10|x[23]>>>22,ft=x[23]<<10|x[22]>>>22,ye=x[33]<<13|x[32]>>>19,_e=x[32]<<13|x[33]>>>19,Pr=x[42]<<2|x[43]>>>30,Yn=x[43]<<2|x[42]>>>30,xt=x[5]<<30|x[4]>>>2,Ft=x[4]<<30|x[5]>>>2,Re=x[14]<<6|x[15]>>>26,Oe=x[15]<<6|x[14]>>>26,Me=x[25]<<11|x[24]>>>21,Ke=x[24]<<11|x[25]>>>21,Et=x[34]<<15|x[35]>>>17,dt=x[35]<<15|x[34]>>>17,ve=x[45]<<29|x[44]>>>3,Ie=x[44]<<29|x[45]>>>3,de=x[6]<<28|x[7]>>>4,Ce=x[7]<<28|x[6]>>>4,bt=x[17]<<23|x[16]>>>9,Bt=x[16]<<23|x[17]>>>9,Ue=x[26]<<25|x[27]>>>7,Ge=x[27]<<25|x[26]>>>7,$e=x[36]<<21|x[37]>>>11,oe=x[37]<<21|x[36]>>>11,Lt=x[47]<<24|x[46]>>>8,wt=x[46]<<24|x[47]>>>8,Je=x[8]<<27|x[9]>>>5,Ze=x[9]<<27|x[8]>>>5,Se=x[18]<<20|x[19]>>>12,ge=x[19]<<20|x[18]>>>12,Gt=x[29]<<7|x[28]>>>25,_r=x[28]<<7|x[29]>>>25,et=x[38]<<8|x[39]>>>24,We=x[39]<<8|x[38]>>>24,X=x[48]<<14|x[49]>>>18,te=x[49]<<14|x[48]>>>18,x[0]=fe^~Ae&Me,x[1]=ce^~Fe&Ke,x[10]=de^~Se&q,x[11]=Ce^~ge&H,x[20]=Le^~Re&Ue,x[21]=Pe^~Oe&Ge,x[30]=Je^~tt&Qe,x[31]=Ze^~nt&ft,x[40]=xt^~bt&Gt,x[41]=Ft^~Bt&_r,x[2]=Ae^~Me&$e,x[3]=Fe^~Ke&oe,x[12]=Se^~q&ye,x[13]=ge^~H&_e,x[22]=Re^~Ue&et,x[23]=Oe^~Ge&We,x[32]=tt^~Qe&Et,x[33]=nt^~ft&dt,x[42]=bt^~Gt&ir,x[43]=Bt^~_r&Dr,x[4]=Me^~$e&X,x[5]=Ke^~oe&te,x[14]=q^~ye&ve,x[15]=H^~_e&Ie,x[24]=Ue^~et&Ve,x[25]=Ge^~We&Xe,x[34]=Qe^~Et&Lt,x[35]=ft^~dt&wt,x[44]=Gt^~ir&Pr,x[45]=_r^~Dr&Yn,x[6]=$e^~X&fe,x[7]=oe^~te&ce,x[16]=ye^~ve&de,x[17]=_e^~Ie&Ce,x[26]=et^~Ve&Le,x[27]=We^~Xe&Pe,x[36]=Et^~Lt&Je,x[37]=dt^~wt&Ze,x[46]=ir^~Pr&xt,x[47]=Dr^~Yn&Ft,x[8]=X^~fe&Ae,x[9]=te^~ce&Fe,x[18]=ve^~de&Se,x[19]=Ie^~Ce&ge,x[28]=Ve^~Le&Re,x[29]=Xe^~Pe&Oe,x[38]=Lt^~Je&tt,x[39]=wt^~Ze&nt,x[48]=Pr^~xt&bt,x[49]=Yn^~Ft&Bt,x[0]^=_[J],x[1]^=_[J+1]};if(u)e.exports=C;else for(U=0;U<N.length;++U)a[N[U]]=C[N[U]]})()}}),HB={};zU(HB,{AnonAadhaarCore:()=>o7,AnonAadhaarCorePackage:()=>mO,AnonAadhaarTypeName:()=>Bp,ArtifactsOrigin:()=>jB,CIRCOM_FIELD_P:()=>n7,IdFields:()=>J8,ProverState:()=>$B,artifactUrls:()=>xO,compressByteArray:()=>p7,convertBigIntToByteArray:()=>ZB,convertByteArrayToBigInt:()=>m7,convertRevealBigIntToString:()=>T3,createCustomV2TestData:()=>TO,dateToUnixTimestamp:()=>NO,decompressByteArray:()=>XB,deserialize:()=>f7,extractFieldByIndex:()=>RO,extractPhoto:()=>JB,fetchPublicKey:()=>lO,fieldsLabel:()=>nO,generateArgs:()=>FO,getDisplayOptions:()=>d7,getEndIndex:()=>R3,getRandomBytes:()=>r7,handleError:()=>cx,hash:()=>P3,init:()=>s7,packGroth16Proof:()=>sO,productionPublicKeyHash:()=>i7,prove:()=>l7,rawDataToCompressedQR:()=>MO,readData:()=>cO,replaceBytesBetween:()=>Z0,retrieveFileExtension:()=>t7,returnFullId:()=>PO,returnNewDateString:()=>g7,searchZkeyChunks:()=>e7,serialize:()=>u7,splitToWords:()=>D3,testCertificateUrl:()=>pO,testPublicKeyHash:()=>a7,timestampToUTCUnix:()=>kO,verify:()=>c7});var Us=KU(HB),Bp="anon-aadhaar",jB=(t=>(t[t.server=0]="server",t[t.local=1]="local",t[t.chunked=2]="chunked",t))(jB||{}),$B=(t=>(t.Initializing="initializing",t.FetchingWasm="fetching-wasm",t.FetchingZkey="fetching-zkey",t.Proving="proving",t.Completed="completed",t.Error="error",t))($B||{}),nO=[{key:"revealAgeAbove18",label:"Age Above 18"},{key:"revealGender",label:"Gender"},{key:"revealPinCode",label:"PIN Code"},{key:"revealState",label:"State"}],iO=hw,aO=R_,WB=Ol(BR),oO=R_,z4=Ol(bR),X8={setItem(t,e){return Ci(this,null,function*(){return yield z4.default.setItem(t,e)})},getItem(t){return Ci(this,null,function*(){return yield z4.default.getItem(t)})}},YB=Ol(lo),cx=(t,e)=>{if(t instanceof Error)return t;let r=e;try{r=JSON.stringify(t)}catch{}return new Error(`This value was thrown as is, not through an Error: ${r}`)};function D3(t,e,r){let n=t;const i=[];for(let a=BigInt(0);a<r;++a){const o=BigInt(2);i.push(`${n%BigInt(Math.pow(Number(o),Number(e)))}`),n=BigInt(n/BigInt(Math.pow(Number(BigInt(2)),Number(e))))}if(n!=BigInt(0))throw`Number ${t} does not fit in ${(e*r).toString()} bits`;return i}function sO(t){return[t.pi_a[0],t.pi_a[1],t.pi_b[0][1],t.pi_b[0][0],t.pi_b[1][1],t.pi_b[1][0],t.pi_c[0],t.pi_c[1]]}var lO=t=>Ci(void 0,null,function*(){try{const e=yield fetch(`https://nodejs-serverless-function-express-eight-iota.vercel.app/api/get-public-key?url=${t}`);if(!e.ok)throw new Error("Failed to fetch public key from server");return(yield e.json()).publicKey||null}catch(e){return console.error("Error fetching public key:",e),null}});function ZB(t){const e=Math.max(1,Math.ceil(t.toString(2).length/8)),r=new Uint8Array(e);let n=0;for(;t>0;)r[n]=Number(t%BigInt(256)),t=t/BigInt(256),n+=1;return r.reverse()}function T3(t){typeof t=="string"&&(t=BigInt(t));let e="";for(;t>0;)e+=String.fromCharCode(Number(t%BigInt(256))),t=t/BigInt(256);return e}function XB(t){return YB.default.inflate(t)}var J8=(t=>(t[t.Email_mobile_present_bit_indicator_value=0]="Email_mobile_present_bit_indicator_value",t[t.ReferenceId=1]="ReferenceId",t[t.Name=2]="Name",t[t.DOB=3]="DOB",t[t.Gender=4]="Gender",t[t.CareOf=5]="CareOf",t[t.District=6]="District",t[t.Landmark=7]="Landmark",t[t.House=8]="House",t[t.Location=9]="Location",t[t.PinCode=10]="PinCode",t[t.PostOffice=11]="PostOffice",t[t.State=12]="State",t[t.Street=13]="Street",t[t.SubDistrict=14]="SubDistrict",t[t.VTC=15]="VTC",t[t.PhoneNumberLast4=16]="PhoneNumberLast4",t))(J8||{});function cO(t,e){let r=0,n=0,i=t.indexOf(255,n);for(;r!=e;)n=i+1,i=t.indexOf(255,n),r++;return t.slice(n,i)}function JB(t,e){let r=0;for(let n=0;n<18;++n)r=t.indexOf(255,r+1);return{begin:r,dataLength:e,bytes:t.slice(r+1,e)}}var e7=(t,...e)=>Ci(void 0,[t,...e],function*(r,n=X8){const i=[];for(let a=0;a<10;a++){const o=`circuit_final_${a}.zkey`;(yield n.getItem(o))||i.push(uO(r,a,o,n))}yield Promise.all(i)}),uO=(t,e,r,...n)=>Ci(void 0,[t,e,r,...n],function*(i,a,o,s=X8){try{const u=yield fetch(i+`/circuit_final_${a}.gz`);if(!u.ok)throw Error("Error while fetching compressed chunked zkey");const l=yield u.arrayBuffer(),c=YB.default.ungzip(l);yield s.setItem(o,c)}catch(u){cx(u,"Error while dowloading the zkey chunks")}}),t7=t=>{const e=new URL(t);return e.pathname.substring(e.pathname.lastIndexOf(".")+1)};function r7(t){const e=new Uint8Array(t);for(let r=0;r<t;r++)e[r]=Math.floor(Math.random()*256);return e}var fO=(t,...e)=>Ci(void 0,[t,...e],function*(r,n=X8){try{yield e7(r,n)}catch(u){cx(u,"Error while searching for the zkey chunks")}const i=[];try{for(let u=0;u<10;u++){const l=`circuit_final_${u}.zkey`,c=yield n.getItem(l);if(!c)throw Error(`${l} missing in LocalForage!`);i.push(c)}}catch(u){cx(u,"Error while retrieving zkey chunks from localforage")}const a=i.reduce((u,l)=>u+l.length,0),o=new Uint8Array(a);let s=0;for(const u of i)o.set(u,s),s+=u.length;return o});function dO(t,e=3){return Ci(this,null,function*(){let r=0;for(;r<e;)try{const n=yield fetch(t);if(!n.ok)throw new Error(`Error while fetching ${t7(t)} artifacts from prover: ${n.statusText}`);return yield n.arrayBuffer()}catch(n){if(r++,r>=e)throw n;yield new Promise(i=>setTimeout(i,1e3*r))}return t})}var K4=class{constructor(t,e){this.keyURL=t,this.artifactsOrigin=e}getKey(){return Ci(this,null,function*(){switch(this.artifactsOrigin){case 1:return this.keyURL;case 0:return yield dO(this.keyURL);case 2:return yield fO(this.keyURL)}})}},hO=class{constructor(t,e,r){this.wasm=new K4(t,r===2?0:r),this.zkey=new K4(e,r),this.proverType=r}proving(t,e){return Ci(this,null,function*(){let r,n;switch(this.proverType){case 1:e&&e("fetching-wasm"),r=yield this.wasm.getKey(),e&&e("fetching-zkey"),n=yield this.zkey.getKey();break;case 0:e&&e("fetching-wasm"),r=new Uint8Array(yield this.wasm.getKey()),e&&e("fetching-zkey"),n=new Uint8Array(yield this.zkey.getKey());break;case 2:e&&e("fetching-wasm"),r=new Uint8Array(yield this.wasm.getKey()),e&&e("fetching-zkey"),n=yield this.zkey.getKey();break}const i={qrDataPadded:t.qrDataPadded.value,qrDataPaddedLength:t.qrDataPaddedLength.value,delimiterIndices:t.delimiterIndices.value,signature:t.signature.value,pubKey:t.pubKey.value,nullifierSeed:t.nullifierSeed.value,signalHash:t.signalHash.value,revealAgeAbove18:t.revealAgeAbove18.value,revealGender:t.revealGender.value,revealPinCode:t.revealPinCode.value,revealState:t.revealState.value};e&&e("proving");let a;try{a=yield oO.groth16.fullProve(i,r,n)}catch(u){throw console.error(u),e&&e("error"),new Error("[AnonAAdhaarProver]: Error while generating the proof")}const o=a.proof,s=a.publicSignals;return e&&e("completed"),{groth16Proof:o,pubkeyHash:s[0],timestamp:s[2],nullifierSeed:t.nullifierSeed.value,nullifier:s[1],signalHash:t.signalHash.value,ageAbove18:s[3],gender:s[4],pincode:s[5],state:s[6]}})}},xO={V1:{wasm:"https://anon-aadhaar-artifacts.s3.eu-central-1.amazonaws.com/v1.0.0/aadhaar-verifier.wasm",zkey:"https://anon-aadhaar-artifacts.s3.eu-central-1.amazonaws.com/v1.0.0/circuit_final.zkey",vk:"https://anon-aadhaar-artifacts.s3.eu-central-1.amazonaws.com/v1.0.0/vkey.json",chunked:"https://anon-aadhaar-artifacts.s3.eu-central-1.amazonaws.com/v1.0.0/chunked_zkey"},v2:{wasm:"https://anon-aadhaar-artifacts.s3.eu-central-1.amazonaws.com/v2.0.0/aadhaar-verifier.wasm",zkey:"https://anon-aadhaar-artifacts.s3.eu-central-1.amazonaws.com/v2.0.0/circuit_final.zkey",vk:"https://anon-aadhaar-artifacts.s3.eu-central-1.amazonaws.com/v2.0.0/vkey.json",chunked:"https://anon-aadhaar-artifacts.s3.eu-central-1.amazonaws.com/v2.0.0/chunked_zkey"}},pO="https://anon-aadhaar.s3.ap-south-1.amazonaws.com/testCertificate.pem",n7=BigInt("21888242871839275222246405745257275088548364400416034343698204186575808495617"),i7="18063425702624337643644061197836918910810808173893535653269228433734128853484",a7="15134874015316324267425466444584014077184337590635665158241104437045239495873",o7=class{constructor(t,e,r){this.type=Bp,this.id=t,this.claim=e,this.proof=r}},Cs=void 0;function s7(t){return Ci(this,null,function*(){Cs=t})}function l7(t,e){return Ci(this,null,function*(){if(!Cs)throw new Error("cannot make Anon Aadhaar proof: init has not been called yet");if(!t.pubKey.value)throw new Error("Invalid pubKey argument");if(!t.signalHash.value)throw new Error("Invalid signalHash argument");if(!t.revealAgeAbove18.value)throw new Error("Invalid revealAgeAbove18 argument");const r=(0,iO.v4)(),i=yield new hO(Cs.wasmURL,Cs.zkeyURL,Cs.artifactsOrigin).proving(t,e),a={pubKey:t.pubKey.value,signalHash:t.signalHash.value,ageAbove18:t.revealAgeAbove18.value==="1"?i.ageAbove18==="1":null,gender:T3(i.gender)||null,pincode:i.pincode==="0"?null:i.pincode,state:T3(i.state)||null};return new o7(r,a,i)})}function gO(){return Ci(this,null,function*(){let t;if(!Cs)throw new Error("cannot make Anon Aadhaar proof: init has not been called yet");if(Cs.artifactsOrigin===1)t=df(Cs.vkeyURL);else{const e=yield fetch(Cs.vkeyURL);if(!e.ok)throw new Error("Failed to fetch the verify key from server");t=yield e.json()}return t})}function c7(t,e){return Ci(this,null,function*(){let r=i7;if(e&&(r=a7),t.proof.pubkeyHash!==r)throw new Error("VerificationError: public key mismatch.");const n=yield gO();return aO.groth16.verify(n,[t.proof.pubkeyHash,t.proof.nullifier,t.proof.timestamp,t.proof.ageAbove18,t.proof.gender,t.proof.pincode,t.proof.state,t.proof.nullifierSeed,t.proof.signalHash],t.proof.groth16Proof)})}function u7(t){return Promise.resolve({type:Bp,pcd:(0,WB.default)().stringify({type:t.type,id:t.id,claim:t.claim,proof:t.proof})})}function f7(t){return Ci(this,null,function*(){return(0,WB.default)().parse(t)})}function d7(t){return{header:"Anon Aadhaar Signature",displayName:"pcd-"+t.type}}var mO={name:Bp,getDisplayOptions:d7,prove:l7,init:s7,verify:c7,serialize:u7,deserialize:f7},q4=FB(),yO=RU(),vO=dw(),EO=Ol(eO()),Ga=MU(),CO=Ol(tO()),AO="logger/5.7.0",Q4=!1,H4=!1,d1={debug:1,default:2,info:2,warning:3,error:4,off:5},j4=d1.default,Ag=null;function wO(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("é".normalize("NFD")!=="é")throw new Error("broken implementation")}catch(t){return t.message}return null}var $4=wO(),k3;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(k3||(k3={}));var $a;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})($a||($a={}));var W4="0123456789abcdef",As=class An{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();d1[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(j4>d1[n])&&console.log.apply(console,r)}debug(...e){this._log(An.levels.DEBUG,e)}info(...e){this._log(An.levels.INFO,e)}warn(...e){this._log(An.levels.WARNING,e)}makeError(e,r,n){if(H4)return this.makeError("censored error",r,{});r||(r=An.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(u=>{const l=n[u];try{if(l instanceof Uint8Array){let c="";for(let f=0;f<l.length;f++)c+=W4[l[f]>>4],c+=W4[l[f]&15];i.push(u+"=Uint8Array(0x"+c+")")}else i.push(u+"="+JSON.stringify(l))}catch{i.push(u+"="+JSON.stringify(n[u].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const a=e;let o="";switch(r){case $a.NUMERIC_FAULT:{o="NUMERIC_FAULT";const u=e;switch(u){case"overflow":case"underflow":case"division-by-zero":o+="-"+u;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case $a.CALL_EXCEPTION:case $a.INSUFFICIENT_FUNDS:case $a.MISSING_NEW:case $a.NONCE_EXPIRED:case $a.REPLACEMENT_UNDERPRICED:case $a.TRANSACTION_REPLACED:case $a.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const s=new Error(e);return s.reason=a,s.code=r,Object.keys(n).forEach(function(u){s[u]=n[u]}),s}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,An.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){$4&&this.throwError("platform missing String.prototype.normalize",An.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:$4})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,An.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,An.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,An.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,An.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",An.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",An.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",An.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return Ag||(Ag=new An(AO)),Ag}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",An.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Q4){if(!e)return;this.globalLogger().throwError("error censorship permanent",An.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}H4=!!e,Q4=!!r}static setLogLevel(e){const r=d1[e.toLowerCase()];if(r==null){An.globalLogger().warn("invalid log level - "+e);return}j4=r}static from(e){return new An(e)}};As.errors=$a;As.levels=k3;var _O="bytes/5.7.0",pl=new As(_O);function h7(t){return!!t.toHexString}function Vf(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Vf(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function Y4(t){return typeof t=="number"&&t==t&&t%1===0}function ev(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!Y4(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!Y4(r)||r<0||r>=256)return!1}return!0}function x7(t,e){if(e||(e={}),typeof t=="number"){pl.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),Vf(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),h7(t)&&(t=t.toHexString()),ux(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":pl.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return Vf(new Uint8Array(n))}return ev(t)?Vf(new Uint8Array(t)):pl.throwArgumentError("invalid arrayify value","value",t)}function BO(t,e){t=x7(t),t.length>e&&pl.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(e);return r.set(t,e-t.length),Vf(r)}function ux(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/))}var wg="0123456789abcdef";function bO(t,e){if(e||(e={}),typeof t=="number"){pl.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=wg[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),h7(t))return t.toHexString();if(ux(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":pl.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(ev(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=wg[(i&240)>>4]+wg[i&15]}return r}return pl.throwArgumentError("invalid hexlify value","value",t)}var SO="bignumber/5.7.0",N3=CO.default.BN,os=new As(SO),_g={},Z4=9007199254740991,X4=!1,tv=class qa{constructor(e,r){e!==_g&&os.throwError("cannot call constructor directly; use BigNumber.from",As.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return Ii(cr(this).fromTwos(e))}toTwos(e){return Ii(cr(this).toTwos(e))}abs(){return this._hex[0]==="-"?qa.from(this._hex.substring(1)):this}add(e){return Ii(cr(this).add(cr(e)))}sub(e){return Ii(cr(this).sub(cr(e)))}div(e){return qa.from(e).isZero()&&fa("division-by-zero","div"),Ii(cr(this).div(cr(e)))}mul(e){return Ii(cr(this).mul(cr(e)))}mod(e){const r=cr(e);return r.isNeg()&&fa("division-by-zero","mod"),Ii(cr(this).umod(r))}pow(e){const r=cr(e);return r.isNeg()&&fa("negative-power","pow"),Ii(cr(this).pow(r))}and(e){const r=cr(e);return(this.isNegative()||r.isNeg())&&fa("unbound-bitwise-result","and"),Ii(cr(this).and(r))}or(e){const r=cr(e);return(this.isNegative()||r.isNeg())&&fa("unbound-bitwise-result","or"),Ii(cr(this).or(r))}xor(e){const r=cr(e);return(this.isNegative()||r.isNeg())&&fa("unbound-bitwise-result","xor"),Ii(cr(this).xor(r))}mask(e){return(this.isNegative()||e<0)&&fa("negative-width","mask"),Ii(cr(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&fa("negative-width","shl"),Ii(cr(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&fa("negative-width","shr"),Ii(cr(this).shrn(e))}eq(e){return cr(this).eq(cr(e))}lt(e){return cr(this).lt(cr(e))}lte(e){return cr(this).lte(cr(e))}gt(e){return cr(this).gt(cr(e))}gte(e){return cr(this).gte(cr(e))}isNegative(){return this._hex[0]==="-"}isZero(){return cr(this).isZero()}toNumber(){try{return cr(this).toNumber()}catch{fa("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return os.throwError("this platform does not support BigInt",As.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?X4||(X4=!0,os.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?os.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",As.errors.UNEXPECTED_ARGUMENT,{}):os.throwError("BigNumber.toString does not accept parameters",As.errors.UNEXPECTED_ARGUMENT,{})),cr(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof qa)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new qa(_g,md(e)):e.match(/^-?[0-9]+$/)?new qa(_g,md(new N3(e))):os.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&fa("underflow","BigNumber.from",e),(e>=Z4||e<=-Z4)&&fa("overflow","BigNumber.from",e),qa.from(String(e));const r=e;if(typeof r=="bigint")return qa.from(r.toString());if(ev(r))return qa.from(bO(r));if(r)if(r.toHexString){const n=r.toHexString();if(typeof n=="string")return qa.from(n)}else{let n=r._hex;if(n==null&&r.type==="BigNumber"&&(n=r.hex),typeof n=="string"&&(ux(n)||n[0]==="-"&&ux(n.substring(1))))return qa.from(n)}return os.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}};function md(t){if(typeof t!="string")return md(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&os.throwArgumentError("invalid hex","value",t),t=md(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function Ii(t){return tv.from(md(t))}function cr(t){const e=tv.from(t).toHexString();return e[0]==="-"?new N3("-"+e.substring(3),16):new N3(e.substring(2),16)}function fa(t,e,r){const n={fault:t,operation:e};return r!=null&&(n.value=r),os.throwError(t,As.errors.NUMERIC_FAULT,n)}var IO=Ol(rO());function LO(t){return"0x"+IO.default.keccak_256(x7(t))}function P3(t){return t=tv.from(t).toTwos(256).toHexString(),t=BO(t,32),(BigInt(LO(t))>>BigInt(3)).toString()}var FO=t=>Ci(void 0,[t],function*({qrData:e,certificateFile:r,nullifierSeed:n,fieldsToRevealArray:i,signal:a}){const o=BigInt(e),s=ZB(o),u=XB(s),l=u.slice(u.length-256,u.length),c=u.slice(0,u.length-256),d=EO.pki.certificateFromPem(r).publicKey.n.toString(16),h=BigInt("0x"+d),y=BigInt("0x"+(0,q4.bufferToHex)(vO.Buffer.from(l)).toString()),[w,_]=(0,yO.sha256Pad)(c,512*3),E=[];for(let I=0;I<w.length&&(w[I]===255&&E.push(I),E.length!==18);I++);i||(i=[]);const p={revealAgeAbove18:i.includes("revealAgeAbove18"),revealGender:i.includes("revealGender"),revealPinCode:i.includes("revealPinCode"),revealState:i.includes("revealState")},m=BigInt(n);if(m>n7)throw new Error("Nullifier seed is larger than the max field size");const S=P3(a||1);return{qrDataPadded:{argumentType:Ga.ArgumentTypeName.StringArray,value:(0,q4.Uint8ArrayToCharArray)(w)},qrDataPaddedLength:{argumentType:Ga.ArgumentTypeName.Number,value:_.toString()},delimiterIndices:{argumentType:Ga.ArgumentTypeName.StringArray,value:E.map(I=>I.toString())},signature:{argumentType:Ga.ArgumentTypeName.StringArray,value:D3(y,BigInt(121),BigInt(17))},pubKey:{argumentType:Ga.ArgumentTypeName.StringArray,value:D3(h,BigInt(121),BigInt(17))},nullifierSeed:{argumentType:Ga.ArgumentTypeName.String,value:m.toString()},signalHash:{argumentType:Ga.ArgumentTypeName.String,value:S},revealAgeAbove18:{argumentType:Ga.ArgumentTypeName.Number,value:p.revealAgeAbove18?"1":"0"},revealGender:{argumentType:Ga.ArgumentTypeName.Number,value:p.revealGender?"1":"0"},revealPinCode:{argumentType:Ga.ArgumentTypeName.Number,value:p.revealPinCode?"1":"0"},revealState:{argumentType:Ga.ArgumentTypeName.Number,value:p.revealState?"1":"0"}}}),DO=Ol(lo),TO=({signedData:t,dob:e,pincode:r,gender:n,state:i,photo:a})=>{const o=[],s=[];let u=0,l=[];for(let m=0;m<t.length&&u<16;m++)t[m]!==255?l.push(t[m]):(u+=1,o.push(l),s.push(m),l=[]);const c=g7(),f=new TextEncoder().encode(c);let h=Z0(t,f,6,5+f.length);if(e){const m=new TextEncoder().encode(e);h=Z0(h,m,s[2]+1,s[2]+o[3].length)}if(n){const m=new TextEncoder().encode(n);h=Z0(h,m,s[3]+1,s[3]+o[4].length)}if(r){const m=new TextEncoder().encode(r);h=Z0(h,m,s[9]+1,s[9]+o[10].length)}if(i){const m=new TextEncoder().encode(i);h=Z0(h,m,s[11]+1,s[11]+o[12].length)}if(a){const{begin:m,dataLength:S}=JB(Array.from(h),h.length),F=S-m;h=Z0(h,r7(F-1),m+1,m+F-1)}const y=new Uint8Array([86,50,255]),w=new Uint8Array([49,50,51,52,255]),_=new Uint8Array(h.slice(0,R3(h))),E=new Uint8Array(h.slice(R3(h))),p=new Uint8Array(y.length+_.length+w.length+E.length);return p.set(y,0),p.set(_,y.length),p.set(w,y.length+_.length),p.set(E,y.length+_.length+w.length),p};function kO(t){const e=new Uint8Array(10);for(let a=0;a<10;a++)e[a]=t[a+9];const r=Buffer.from(e).toString(),n=`${r.slice(0,4)}-${r.slice(4,6)}-${r.slice(6,8)}T${r.slice(8,10)}:00:00.000Z`,i=new Date(n);return i.setUTCHours(i.getUTCHours()-5),i.setUTCMinutes(i.getUTCMinutes()-30),Math.floor(i.getTime()/1e3)}function NO(t){const e=t.split("-"),r=parseInt(e[0],10),n=parseInt(e[1],10)-1,i=parseInt(e[2],10);return new Date(Date.UTC(i,n,r,0,0,0,0)).getTime()/1e3+19800}function PO(t){const e=[];let r=0,n=[];for(let a=0;a<t.length;a++)r<18&&(t[a]!==255?n.push(t[a]):(r+=1,e.push(n),n=[]));const i={};for(let a=0;a<e.length;a++){let o="";for(let s=0;s<e[a].length;s++)o+=String.fromCharCode(e[a][s]);i[J8[a-1]]=o}return i}function RO(t,e){let r=-1,n=t.length,i=-1;for(let a=0;a<t.length;a++)if(t[a]===255){if(i++,i===e)r=a;else if(i===e+1){n=a;break}}return r!==-1&&r<n?t.slice(r,n):new Uint8Array}function p7(t){const e=DO.default.deflate(t);return new Uint8Array(e)}function R3(t){let e=0,r=0;for(let n=0;n<t.length;n++)if(e<16){if(t[n]!==255)continue;e+=1}else{r=n;break}return r}function Z0(t,e,r,n){if(r<0||n>=t.length||r>n)return console.error("Invalid start or end index."),t;const i=t.subarray(0,r),a=t.subarray(n+1),o=new Uint8Array(i.length+e.length+a.length);return o.set(i,0),o.set(e,i.length),o.set(a,i.length+e.length),o}function g7(){const t=new Date,e=5,r=30;return t.setUTCHours(t.getUTCHours()+e),t.setUTCMinutes(t.getUTCMinutes()+r),t.getUTCFullYear().toString()+(t.getUTCMonth()+1).toString().padStart(2,"0")+t.getUTCDate().toString().padStart(2,"0")+t.getUTCHours().toString().padStart(2,"0")+t.getUTCMinutes().toString().padStart(2,"0")+t.getUTCSeconds().toString().padStart(2,"0")+t.getUTCMilliseconds().toString().padStart(3,"0")}function m7(t){let e=BigInt(0);for(let r=0;r<t.length;r++)e=e*BigInt(256)+BigInt(t[r]);return e}var MO=t=>{const e=p7(t);return m7(e)},y7={exports:{}};(function(t,e){(function(n,i){t.exports=i()})(typeof self<"u"?self:Kn,function(){return function(r){var n={};function i(a){if(n[a])return n[a].exports;var o=n[a]={i:a,l:!1,exports:{}};return r[a].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=r,i.c=n,i.d=function(a,o,s){i.o(a,o)||Object.defineProperty(a,o,{configurable:!1,enumerable:!0,get:s})},i.n=function(a){var o=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(o,"a",o),o},i.o=function(a,o){return Object.prototype.hasOwnProperty.call(a,o)},i.p="",i(i.s=3)}([function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function o(s,u){this.width=u,this.height=s.length/u,this.data=s}return o.createEmpty=function(s,u){return new o(new Uint8ClampedArray(s*u),s)},o.prototype.get=function(s,u){return s<0||s>=this.width||u<0||u>=this.height?!1:!!this.data[u*this.width+s]},o.prototype.set=function(s,u,l){this.data[u*this.width+s]=l?1:0},o.prototype.setRegion=function(s,u,l,c,f){for(var d=u;d<u+c;d++)for(var h=s;h<s+l;h++)this.set(h,d,!!f)},o}();n.BitMatrix=a},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(2);function o(u,l){return u^l}n.addOrSubtractGF=o;var s=function(){function u(l,c,f){this.primitive=l,this.size=c,this.generatorBase=f,this.expTable=new Array(this.size),this.logTable=new Array(this.size);for(var d=1,h=0;h<this.size;h++)this.expTable[h]=d,d=d*2,d>=this.size&&(d=(d^this.primitive)&this.size-1);for(var h=0;h<this.size-1;h++)this.logTable[this.expTable[h]]=h;this.zero=new a.default(this,Uint8ClampedArray.from([0])),this.one=new a.default(this,Uint8ClampedArray.from([1]))}return u.prototype.multiply=function(l,c){return l===0||c===0?0:this.expTable[(this.logTable[l]+this.logTable[c])%(this.size-1)]},u.prototype.inverse=function(l){if(l===0)throw new Error("Can't invert 0");return this.expTable[this.size-this.logTable[l]-1]},u.prototype.buildMonomial=function(l,c){if(l<0)throw new Error("Invalid monomial degree less than 0");if(c===0)return this.zero;var f=new Uint8ClampedArray(l+1);return f[0]=c,new a.default(this,f)},u.prototype.log=function(l){if(l===0)throw new Error("Can't take log(0)");return this.logTable[l]},u.prototype.exp=function(l){return this.expTable[l]},u}();n.default=s},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(1),o=function(){function s(u,l){if(l.length===0)throw new Error("No coefficients.");this.field=u;var c=l.length;if(c>1&&l[0]===0){for(var f=1;f<c&&l[f]===0;)f++;if(f===c)this.coefficients=u.zero.coefficients;else{this.coefficients=new Uint8ClampedArray(c-f);for(var d=0;d<this.coefficients.length;d++)this.coefficients[d]=l[f+d]}}else this.coefficients=l}return s.prototype.degree=function(){return this.coefficients.length-1},s.prototype.isZero=function(){return this.coefficients[0]===0},s.prototype.getCoefficient=function(u){return this.coefficients[this.coefficients.length-1-u]},s.prototype.addOrSubtract=function(u){var l;if(this.isZero())return u;if(u.isZero())return this;var c=this.coefficients,f=u.coefficients;c.length>f.length&&(l=[f,c],c=l[0],f=l[1]);for(var d=new Uint8ClampedArray(f.length),h=f.length-c.length,y=0;y<h;y++)d[y]=f[y];for(var y=h;y<f.length;y++)d[y]=a.addOrSubtractGF(c[y-h],f[y]);return new s(this.field,d)},s.prototype.multiply=function(u){if(u===0)return this.field.zero;if(u===1)return this;for(var l=this.coefficients.length,c=new Uint8ClampedArray(l),f=0;f<l;f++)c[f]=this.field.multiply(this.coefficients[f],u);return new s(this.field,c)},s.prototype.multiplyPoly=function(u){if(this.isZero()||u.isZero())return this.field.zero;for(var l=this.coefficients,c=l.length,f=u.coefficients,d=f.length,h=new Uint8ClampedArray(c+d-1),y=0;y<c;y++)for(var w=l[y],_=0;_<d;_++)h[y+_]=a.addOrSubtractGF(h[y+_],this.field.multiply(w,f[_]));return new s(this.field,h)},s.prototype.multiplyByMonomial=function(u,l){if(u<0)throw new Error("Invalid degree less than 0");if(l===0)return this.field.zero;for(var c=this.coefficients.length,f=new Uint8ClampedArray(c+u),d=0;d<c;d++)f[d]=this.field.multiply(this.coefficients[d],l);return new s(this.field,f)},s.prototype.evaluateAt=function(u){var l=0;if(u===0)return this.getCoefficient(0);var c=this.coefficients.length;if(u===1)return this.coefficients.forEach(function(d){l=a.addOrSubtractGF(l,d)}),l;l=this.coefficients[0];for(var f=1;f<c;f++)l=a.addOrSubtractGF(this.field.multiply(u,l),this.coefficients[f]);return l},s}();n.default=o},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(4),o=i(5),s=i(11),u=i(12);function l(d){var h=u.locate(d);if(!h)return null;for(var y=0,w=h;y<w.length;y++){var _=w[y],E=s.extract(d,_),p=o.decode(E.matrix);if(p)return{binaryData:p.bytes,data:p.text,chunks:p.chunks,version:p.version,location:{topRightCorner:E.mappingFunction(_.dimension,0),topLeftCorner:E.mappingFunction(0,0),bottomRightCorner:E.mappingFunction(_.dimension,_.dimension),bottomLeftCorner:E.mappingFunction(0,_.dimension),topRightFinderPattern:_.topRight,topLeftFinderPattern:_.topLeft,bottomLeftFinderPattern:_.bottomLeft,bottomRightAlignmentPattern:_.alignmentPattern}}}return null}var c={inversionAttempts:"attemptBoth"};function f(d,h,y,w){w===void 0&&(w={});var _=c;Object.keys(_||{}).forEach(function(v){_[v]=w[v]||_[v]});var E=_.inversionAttempts==="attemptBoth"||_.inversionAttempts==="invertFirst",p=_.inversionAttempts==="onlyInvert"||_.inversionAttempts==="invertFirst",m=a.binarize(d,h,y,E),S=m.binarized,F=m.inverted,I=l(p?F:S);return!I&&(_.inversionAttempts==="attemptBoth"||_.inversionAttempts==="invertFirst")&&(I=l(p?S:F)),I}f.default=f,n.default=f},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(0),o=8,s=24;function u(f,d,h){return f<d?d:f>h?h:f}var l=function(){function f(d,h){this.width=d,this.data=new Uint8ClampedArray(d*h)}return f.prototype.get=function(d,h){return this.data[h*this.width+d]},f.prototype.set=function(d,h,y){this.data[h*this.width+d]=y},f}();function c(f,d,h,y){if(f.length!==d*h*4)throw new Error("Malformed data passed to binarizer.");for(var w=new l(d,h),_=0;_<d;_++)for(var E=0;E<h;E++){var p=f[(E*d+_)*4+0],m=f[(E*d+_)*4+1],S=f[(E*d+_)*4+2];w.set(_,E,.2126*p+.7152*m+.0722*S)}for(var F=Math.ceil(d/o),I=Math.ceil(h/o),v=new l(F,I),A=0;A<I;A++)for(var D=0;D<F;D++){for(var L=0,j=1/0,Y=0,E=0;E<o;E++)for(var _=0;_<o;_++){var O=w.get(D*o+_,A*o+E);L+=O,j=Math.min(j,O),Y=Math.max(Y,O)}var B=L/Math.pow(o,2);if(Y-j<=s&&(B=j/2,A>0&&D>0)){var C=(v.get(D,A-1)+2*v.get(D-1,A)+v.get(D-1,A-1))/4;j<C&&(B=C)}v.set(D,A,B)}var N=a.BitMatrix.createEmpty(d,h),U=null;y&&(U=a.BitMatrix.createEmpty(d,h));for(var A=0;A<I;A++)for(var D=0;D<F;D++){for(var G=u(D,2,F-3),$=u(A,2,I-3),L=0,Z=-2;Z<=2;Z++)for(var W=-2;W<=2;W++)L+=v.get(G+Z,$+W);for(var P=L/25,Z=0;Z<o;Z++)for(var W=0;W<o;W++){var _=D*o+Z,E=A*o+W,R=w.get(_,E);N.set(_,E,R<=P),y&&U.set(_,E,!(R<=P))}}return y?{binarized:N,inverted:U}:{binarized:N}}n.binarize=c},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(0),o=i(6),s=i(9),u=i(10);function l(S,F){for(var I=S^F,v=0;I;)v++,I&=I-1;return v}function c(S,F){return F<<1|S}var f=[{bits:21522,formatInfo:{errorCorrectionLevel:1,dataMask:0}},{bits:20773,formatInfo:{errorCorrectionLevel:1,dataMask:1}},{bits:24188,formatInfo:{errorCorrectionLevel:1,dataMask:2}},{bits:23371,formatInfo:{errorCorrectionLevel:1,dataMask:3}},{bits:17913,formatInfo:{errorCorrectionLevel:1,dataMask:4}},{bits:16590,formatInfo:{errorCorrectionLevel:1,dataMask:5}},{bits:20375,formatInfo:{errorCorrectionLevel:1,dataMask:6}},{bits:19104,formatInfo:{errorCorrectionLevel:1,dataMask:7}},{bits:30660,formatInfo:{errorCorrectionLevel:0,dataMask:0}},{bits:29427,formatInfo:{errorCorrectionLevel:0,dataMask:1}},{bits:32170,formatInfo:{errorCorrectionLevel:0,dataMask:2}},{bits:30877,formatInfo:{errorCorrectionLevel:0,dataMask:3}},{bits:26159,formatInfo:{errorCorrectionLevel:0,dataMask:4}},{bits:25368,formatInfo:{errorCorrectionLevel:0,dataMask:5}},{bits:27713,formatInfo:{errorCorrectionLevel:0,dataMask:6}},{bits:26998,formatInfo:{errorCorrectionLevel:0,dataMask:7}},{bits:5769,formatInfo:{errorCorrectionLevel:3,dataMask:0}},{bits:5054,formatInfo:{errorCorrectionLevel:3,dataMask:1}},{bits:7399,formatInfo:{errorCorrectionLevel:3,dataMask:2}},{bits:6608,formatInfo:{errorCorrectionLevel:3,dataMask:3}},{bits:1890,formatInfo:{errorCorrectionLevel:3,dataMask:4}},{bits:597,formatInfo:{errorCorrectionLevel:3,dataMask:5}},{bits:3340,formatInfo:{errorCorrectionLevel:3,dataMask:6}},{bits:2107,formatInfo:{errorCorrectionLevel:3,dataMask:7}},{bits:13663,formatInfo:{errorCorrectionLevel:2,dataMask:0}},{bits:12392,formatInfo:{errorCorrectionLevel:2,dataMask:1}},{bits:16177,formatInfo:{errorCorrectionLevel:2,dataMask:2}},{bits:14854,formatInfo:{errorCorrectionLevel:2,dataMask:3}},{bits:9396,formatInfo:{errorCorrectionLevel:2,dataMask:4}},{bits:8579,formatInfo:{errorCorrectionLevel:2,dataMask:5}},{bits:11994,formatInfo:{errorCorrectionLevel:2,dataMask:6}},{bits:11245,formatInfo:{errorCorrectionLevel:2,dataMask:7}}],d=[function(S){return(S.y+S.x)%2===0},function(S){return S.y%2===0},function(S){return S.x%3===0},function(S){return(S.y+S.x)%3===0},function(S){return(Math.floor(S.y/2)+Math.floor(S.x/3))%2===0},function(S){return S.x*S.y%2+S.x*S.y%3===0},function(S){return(S.y*S.x%2+S.y*S.x%3)%2===0},function(S){return((S.y+S.x)%2+S.y*S.x%3)%2===0}];function h(S){var F=17+4*S.versionNumber,I=a.BitMatrix.createEmpty(F,F);I.setRegion(0,0,9,9,!0),I.setRegion(F-8,0,8,9,!0),I.setRegion(0,F-8,9,8,!0);for(var v=0,A=S.alignmentPatternCenters;v<A.length;v++)for(var D=A[v],L=0,j=S.alignmentPatternCenters;L<j.length;L++){var Y=j[L];D===6&&Y===6||D===6&&Y===F-7||D===F-7&&Y===6||I.setRegion(D-2,Y-2,5,5,!0)}return I.setRegion(6,9,1,F-17,!0),I.setRegion(9,6,F-17,1,!0),S.versionNumber>6&&(I.setRegion(F-11,0,3,6,!0),I.setRegion(0,F-11,6,3,!0)),I}function y(S,F,I){for(var v=d[I.dataMask],A=S.height,D=h(F),L=[],j=0,Y=0,O=!0,B=A-1;B>0;B-=2){B===6&&B--;for(var C=0;C<A;C++)for(var N=O?A-1-C:C,U=0;U<2;U++){var G=B-U;if(!D.get(G,N)){Y++;var $=S.get(G,N);v({y:N,x:G})&&($=!$),j=c($,j),Y===8&&(L.push(j),Y=0,j=0)}}O=!O}return L}function w(S){var F=S.height,I=Math.floor((F-17)/4);if(I<=6)return u.VERSIONS[I-1];for(var v=0,A=5;A>=0;A--)for(var D=F-9;D>=F-11;D--)v=c(S.get(D,A),v);for(var L=0,D=5;D>=0;D--)for(var A=F-9;A>=F-11;A--)L=c(S.get(D,A),L);for(var j=1/0,Y,O=0,B=u.VERSIONS;O<B.length;O++){var C=B[O];if(C.infoBits===v||C.infoBits===L)return C;var N=l(v,C.infoBits);N<j&&(Y=C,j=N),N=l(L,C.infoBits),N<j&&(Y=C,j=N)}if(j<=3)return Y}function _(S){for(var F=0,I=0;I<=8;I++)I!==6&&(F=c(S.get(I,8),F));for(var v=7;v>=0;v--)v!==6&&(F=c(S.get(8,v),F));for(var A=S.height,D=0,v=A-1;v>=A-7;v--)D=c(S.get(8,v),D);for(var I=A-8;I<A;I++)D=c(S.get(I,8),D);for(var L=1/0,j=null,Y=0,O=f;Y<O.length;Y++){var B=O[Y],C=B.bits,N=B.formatInfo;if(C===F||C===D)return N;var U=l(F,C);U<L&&(j=N,L=U),F!==D&&(U=l(D,C),U<L&&(j=N,L=U))}return L<=3?j:null}function E(S,F,I){var v=F.errorCorrectionLevels[I],A=[],D=0;if(v.ecBlocks.forEach(function($){for(var Z=0;Z<$.numBlocks;Z++)A.push({numDataCodewords:$.dataCodewordsPerBlock,codewords:[]}),D+=$.dataCodewordsPerBlock+v.ecCodewordsPerBlock}),S.length<D)return null;S=S.slice(0,D);for(var L=v.ecBlocks[0].dataCodewordsPerBlock,j=0;j<L;j++)for(var Y=0,O=A;Y<O.length;Y++){var B=O[Y];B.codewords.push(S.shift())}if(v.ecBlocks.length>1)for(var C=v.ecBlocks[0].numBlocks,N=v.ecBlocks[1].numBlocks,j=0;j<N;j++)A[C+j].codewords.push(S.shift());for(;S.length>0;)for(var U=0,G=A;U<G.length;U++){var B=G[U];B.codewords.push(S.shift())}return A}function p(S){var F=w(S);if(!F)return null;var I=_(S);if(!I)return null;var v=y(S,F,I),A=E(v,F,I.errorCorrectionLevel);if(!A)return null;for(var D=A.reduce(function(U,G){return U+G.numDataCodewords},0),L=new Uint8ClampedArray(D),j=0,Y=0,O=A;Y<O.length;Y++){var B=O[Y],C=s.decode(B.codewords,B.codewords.length-B.numDataCodewords);if(!C)return null;for(var N=0;N<B.numDataCodewords;N++)L[j++]=C[N]}try{return o.decode(L,F.versionNumber)}catch{return null}}function m(S){if(S==null)return null;var F=p(S);if(F)return F;for(var I=0;I<S.width;I++)for(var v=I+1;v<S.height;v++)S.get(I,v)!==S.get(v,I)&&(S.set(I,v,!S.get(I,v)),S.set(v,I,!S.get(v,I)));return p(S)}n.decode=m},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(7),o=i(8),s;(function(w){w.Numeric="numeric",w.Alphanumeric="alphanumeric",w.Byte="byte",w.Kanji="kanji",w.ECI="eci"})(s=n.Mode||(n.Mode={}));var u;(function(w){w[w.Terminator=0]="Terminator",w[w.Numeric=1]="Numeric",w[w.Alphanumeric=2]="Alphanumeric",w[w.Byte=4]="Byte",w[w.Kanji=8]="Kanji",w[w.ECI=7]="ECI"})(u||(u={}));function l(w,_){for(var E=[],p="",m=[10,12,14][_],S=w.readBits(m);S>=3;){var F=w.readBits(10);if(F>=1e3)throw new Error("Invalid numeric value above 999");var I=Math.floor(F/100),v=Math.floor(F/10)%10,A=F%10;E.push(48+I,48+v,48+A),p+=I.toString()+v.toString()+A.toString(),S-=3}if(S===2){var F=w.readBits(7);if(F>=100)throw new Error("Invalid numeric value above 99");var I=Math.floor(F/10),v=F%10;E.push(48+I,48+v),p+=I.toString()+v.toString()}else if(S===1){var F=w.readBits(4);if(F>=10)throw new Error("Invalid numeric value above 9");E.push(48+F),p+=F.toString()}return{bytes:E,text:p}}var c=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function f(w,_){for(var E=[],p="",m=[9,11,13][_],S=w.readBits(m);S>=2;){var F=w.readBits(11),I=Math.floor(F/45),v=F%45;E.push(c[I].charCodeAt(0),c[v].charCodeAt(0)),p+=c[I]+c[v],S-=2}if(S===1){var I=w.readBits(6);E.push(c[I].charCodeAt(0)),p+=c[I]}return{bytes:E,text:p}}function d(w,_){for(var E=[],p="",m=[8,16,16][_],S=w.readBits(m),F=0;F<S;F++){var I=w.readBits(8);E.push(I)}try{p+=decodeURIComponent(E.map(function(v){return"%"+("0"+v.toString(16)).substr(-2)}).join(""))}catch{}return{bytes:E,text:p}}function h(w,_){for(var E=[],p="",m=[8,10,12][_],S=w.readBits(m),F=0;F<S;F++){var I=w.readBits(13),v=Math.floor(I/192)<<8|I%192;v<7936?v+=33088:v+=49472,E.push(v>>8,v&255),p+=String.fromCharCode(o.shiftJISTable[v])}return{bytes:E,text:p}}function y(w,_){for(var E,p,m,S,F=new a.BitStream(w),I=_<=9?0:_<=26?1:2,v={text:"",bytes:[],chunks:[],version:_};F.available()>=4;){var A=F.readBits(4);if(A===u.Terminator)return v;if(A===u.ECI)F.readBits(1)===0?v.chunks.push({type:s.ECI,assignmentNumber:F.readBits(7)}):F.readBits(1)===0?v.chunks.push({type:s.ECI,assignmentNumber:F.readBits(14)}):F.readBits(1)===0?v.chunks.push({type:s.ECI,assignmentNumber:F.readBits(21)}):v.chunks.push({type:s.ECI,assignmentNumber:-1});else if(A===u.Numeric){var D=l(F,I);v.text+=D.text,(E=v.bytes).push.apply(E,D.bytes),v.chunks.push({type:s.Numeric,text:D.text})}else if(A===u.Alphanumeric){var L=f(F,I);v.text+=L.text,(p=v.bytes).push.apply(p,L.bytes),v.chunks.push({type:s.Alphanumeric,text:L.text})}else if(A===u.Byte){var j=d(F,I);v.text+=j.text,(m=v.bytes).push.apply(m,j.bytes),v.chunks.push({type:s.Byte,bytes:j.bytes,text:j.text})}else if(A===u.Kanji){var Y=h(F,I);v.text+=Y.text,(S=v.bytes).push.apply(S,Y.bytes),v.chunks.push({type:s.Kanji,bytes:Y.bytes,text:Y.text})}}if(F.available()===0||F.readBits(F.available())===0)return v}n.decode=y},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function o(s){this.byteOffset=0,this.bitOffset=0,this.bytes=s}return o.prototype.readBits=function(s){if(s<1||s>32||s>this.available())throw new Error("Cannot read "+s.toString()+" bits");var u=0;if(this.bitOffset>0){var l=8-this.bitOffset,c=s<l?s:l,f=l-c,d=255>>8-c<<f;u=(this.bytes[this.byteOffset]&d)>>f,s-=c,this.bitOffset+=c,this.bitOffset===8&&(this.bitOffset=0,this.byteOffset++)}if(s>0){for(;s>=8;)u=u<<8|this.bytes[this.byteOffset]&255,this.byteOffset++,s-=8;if(s>0){var f=8-s,d=255>>f<<f;u=u<<s|(this.bytes[this.byteOffset]&d)>>f,this.bitOffset+=s}}return u},o.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},o}();n.BitStream=a},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.shiftJISTable={32:32,33:33,34:34,35:35,36:36,37:37,38:38,39:39,40:40,41:41,42:42,43:43,44:44,45:45,46:46,47:47,48:48,49:49,50:50,51:51,52:52,53:53,54:54,55:55,56:56,57:57,58:58,59:59,60:60,61:61,62:62,63:63,64:64,65:65,66:66,67:67,68:68,69:69,70:70,71:71,72:72,73:73,74:74,75:75,76:76,77:77,78:78,79:79,80:80,81:81,82:82,83:83,84:84,85:85,86:86,87:87,88:88,89:89,90:90,91:91,92:165,93:93,94:94,95:95,96:96,97:97,98:98,99:99,100:100,101:101,102:102,103:103,104:104,105:105,106:106,107:107,108:108,109:109,110:110,111:111,112:112,113:113,114:114,115:115,116:116,117:117,118:118,119:119,120:120,121:121,122:122,123:123,124:124,125:125,126:8254,33088:12288,33089:12289,33090:12290,33091:65292,33092:65294,33093:12539,33094:65306,33095:65307,33096:65311,33097:65281,33098:12443,33099:12444,33100:180,33101:65344,33102:168,33103:65342,33104:65507,33105:65343,33106:12541,33107:12542,33108:12445,33109:12446,33110:12291,33111:20189,33112:12293,33113:12294,33114:12295,33115:12540,33116:8213,33117:8208,33118:65295,33119:92,33120:12316,33121:8214,33122:65372,33123:8230,33124:8229,33125:8216,33126:8217,33127:8220,33128:8221,33129:65288,33130:65289,33131:12308,33132:12309,33133:65339,33134:65341,33135:65371,33136:65373,33137:12296,33138:12297,33139:12298,33140:12299,33141:12300,33142:12301,33143:12302,33144:12303,33145:12304,33146:12305,33147:65291,33148:8722,33149:177,33150:215,33152:247,33153:65309,33154:8800,33155:65308,33156:65310,33157:8806,33158:8807,33159:8734,33160:8756,33161:9794,33162:9792,33163:176,33164:8242,33165:8243,33166:8451,33167:65509,33168:65284,33169:162,33170:163,33171:65285,33172:65283,33173:65286,33174:65290,33175:65312,33176:167,33177:9734,33178:9733,33179:9675,33180:9679,33181:9678,33182:9671,33183:9670,33184:9633,33185:9632,33186:9651,33187:9650,33188:9661,33189:9660,33190:8251,33191:12306,33192:8594,33193:8592,33194:8593,33195:8595,33196:12307,33208:8712,33209:8715,33210:8838,33211:8839,33212:8834,33213:8835,33214:8746,33215:8745,33224:8743,33225:8744,33226:172,33227:8658,33228:8660,33229:8704,33230:8707,33242:8736,33243:8869,33244:8978,33245:8706,33246:8711,33247:8801,33248:8786,33249:8810,33250:8811,33251:8730,33252:8765,33253:8733,33254:8757,33255:8747,33256:8748,33264:8491,33265:8240,33266:9839,33267:9837,33268:9834,33269:8224,33270:8225,33271:182,33276:9711,33359:65296,33360:65297,33361:65298,33362:65299,33363:65300,33364:65301,33365:65302,33366:65303,33367:65304,33368:65305,33376:65313,33377:65314,33378:65315,33379:65316,33380:65317,33381:65318,33382:65319,33383:65320,33384:65321,33385:65322,33386:65323,33387:65324,33388:65325,33389:65326,33390:65327,33391:65328,33392:65329,33393:65330,33394:65331,33395:65332,33396:65333,33397:65334,33398:65335,33399:65336,33400:65337,33401:65338,33409:65345,33410:65346,33411:65347,33412:65348,33413:65349,33414:65350,33415:65351,33416:65352,33417:65353,33418:65354,33419:65355,33420:65356,33421:65357,33422:65358,33423:65359,33424:65360,33425:65361,33426:65362,33427:65363,33428:65364,33429:65365,33430:65366,33431:65367,33432:65368,33433:65369,33434:65370,33439:12353,33440:12354,33441:12355,33442:12356,33443:12357,33444:12358,33445:12359,33446:12360,33447:12361,33448:12362,33449:12363,33450:12364,33451:12365,33452:12366,33453:12367,33454:12368,33455:12369,33456:12370,33457:12371,33458:12372,33459:12373,33460:12374,33461:12375,33462:12376,33463:12377,33464:12378,33465:12379,33466:12380,33467:12381,33468:12382,33469:12383,33470:12384,33471:12385,33472:12386,33473:12387,33474:12388,33475:12389,33476:12390,33477:12391,33478:12392,33479:12393,33480:12394,33481:12395,33482:12396,33483:12397,33484:12398,33485:12399,33486:12400,33487:12401,33488:12402,33489:12403,33490:12404,33491:12405,33492:12406,33493:12407,33494:12408,33495:12409,33496:12410,33497:12411,33498:12412,33499:12413,33500:12414,33501:12415,33502:12416,33503:12417,33504:12418,33505:12419,33506:12420,33507:12421,33508:12422,33509:12423,33510:12424,33511:12425,33512:12426,33513:12427,33514:12428,33515:12429,33516:12430,33517:12431,33518:12432,33519:12433,33520:12434,33521:12435,33600:12449,33601:12450,33602:12451,33603:12452,33604:12453,33605:12454,33606:12455,33607:12456,33608:12457,33609:12458,33610:12459,33611:12460,33612:12461,33613:12462,33614:12463,33615:12464,33616:12465,33617:12466,33618:12467,33619:12468,33620:12469,33621:12470,33622:12471,33623:12472,33624:12473,33625:12474,33626:12475,33627:12476,33628:12477,33629:12478,33630:12479,33631:12480,33632:12481,33633:12482,33634:12483,33635:12484,33636:12485,33637:12486,33638:12487,33639:12488,33640:12489,33641:12490,33642:12491,33643:12492,33644:12493,33645:12494,33646:12495,33647:12496,33648:12497,33649:12498,33650:12499,33651:12500,33652:12501,33653:12502,33654:12503,33655:12504,33656:12505,33657:12506,33658:12507,33659:12508,33660:12509,33661:12510,33662:12511,33664:12512,33665:12513,33666:12514,33667:12515,33668:12516,33669:12517,33670:12518,33671:12519,33672:12520,33673:12521,33674:12522,33675:12523,33676:12524,33677:12525,33678:12526,33679:12527,33680:12528,33681:12529,33682:12530,33683:12531,33684:12532,33685:12533,33686:12534,33695:913,33696:914,33697:915,33698:916,33699:917,33700:918,33701:919,33702:920,33703:921,33704:922,33705:923,33706:924,33707:925,33708:926,33709:927,33710:928,33711:929,33712:931,33713:932,33714:933,33715:934,33716:935,33717:936,33718:937,33727:945,33728:946,33729:947,33730:948,33731:949,33732:950,33733:951,33734:952,33735:953,33736:954,33737:955,33738:956,33739:957,33740:958,33741:959,33742:960,33743:961,33744:963,33745:964,33746:965,33747:966,33748:967,33749:968,33750:969,33856:1040,33857:1041,33858:1042,33859:1043,33860:1044,33861:1045,33862:1025,33863:1046,33864:1047,33865:1048,33866:1049,33867:1050,33868:1051,33869:1052,33870:1053,33871:1054,33872:1055,33873:1056,33874:1057,33875:1058,33876:1059,33877:1060,33878:1061,33879:1062,33880:1063,33881:1064,33882:1065,33883:1066,33884:1067,33885:1068,33886:1069,33887:1070,33888:1071,33904:1072,33905:1073,33906:1074,33907:1075,33908:1076,33909:1077,33910:1105,33911:1078,33912:1079,33913:1080,33914:1081,33915:1082,33916:1083,33917:1084,33918:1085,33920:1086,33921:1087,33922:1088,33923:1089,33924:1090,33925:1091,33926:1092,33927:1093,33928:1094,33929:1095,33930:1096,33931:1097,33932:1098,33933:1099,33934:1100,33935:1101,33936:1102,33937:1103,33951:9472,33952:9474,33953:9484,33954:9488,33955:9496,33956:9492,33957:9500,33958:9516,33959:9508,33960:9524,33961:9532,33962:9473,33963:9475,33964:9487,33965:9491,33966:9499,33967:9495,33968:9507,33969:9523,33970:9515,33971:9531,33972:9547,33973:9504,33974:9519,33975:9512,33976:9527,33977:9535,33978:9501,33979:9520,33980:9509,33981:9528,33982:9538,34975:20124,34976:21782,34977:23043,34978:38463,34979:21696,34980:24859,34981:25384,34982:23030,34983:36898,34984:33909,34985:33564,34986:31312,34987:24746,34988:25569,34989:28197,34990:26093,34991:33894,34992:33446,34993:39925,34994:26771,34995:22311,34996:26017,34997:25201,34998:23451,34999:22992,35e3:34427,35001:39156,35002:32098,35003:32190,35004:39822,35005:25110,35006:31903,35007:34999,35008:23433,35009:24245,35010:25353,35011:26263,35012:26696,35013:38343,35014:38797,35015:26447,35016:20197,35017:20234,35018:20301,35019:20381,35020:20553,35021:22258,35022:22839,35023:22996,35024:23041,35025:23561,35026:24799,35027:24847,35028:24944,35029:26131,35030:26885,35031:28858,35032:30031,35033:30064,35034:31227,35035:32173,35036:32239,35037:32963,35038:33806,35039:34915,35040:35586,35041:36949,35042:36986,35043:21307,35044:20117,35045:20133,35046:22495,35047:32946,35048:37057,35049:30959,35050:19968,35051:22769,35052:28322,35053:36920,35054:31282,35055:33576,35056:33419,35057:39983,35058:20801,35059:21360,35060:21693,35061:21729,35062:22240,35063:23035,35064:24341,35065:39154,35066:28139,35067:32996,35068:34093,35136:38498,35137:38512,35138:38560,35139:38907,35140:21515,35141:21491,35142:23431,35143:28879,35144:32701,35145:36802,35146:38632,35147:21359,35148:40284,35149:31418,35150:19985,35151:30867,35152:33276,35153:28198,35154:22040,35155:21764,35156:27421,35157:34074,35158:39995,35159:23013,35160:21417,35161:28006,35162:29916,35163:38287,35164:22082,35165:20113,35166:36939,35167:38642,35168:33615,35169:39180,35170:21473,35171:21942,35172:23344,35173:24433,35174:26144,35175:26355,35176:26628,35177:27704,35178:27891,35179:27945,35180:29787,35181:30408,35182:31310,35183:38964,35184:33521,35185:34907,35186:35424,35187:37613,35188:28082,35189:30123,35190:30410,35191:39365,35192:24742,35193:35585,35194:36234,35195:38322,35196:27022,35197:21421,35198:20870,35200:22290,35201:22576,35202:22852,35203:23476,35204:24310,35205:24616,35206:25513,35207:25588,35208:27839,35209:28436,35210:28814,35211:28948,35212:29017,35213:29141,35214:29503,35215:32257,35216:33398,35217:33489,35218:34199,35219:36960,35220:37467,35221:40219,35222:22633,35223:26044,35224:27738,35225:29989,35226:20985,35227:22830,35228:22885,35229:24448,35230:24540,35231:25276,35232:26106,35233:27178,35234:27431,35235:27572,35236:29579,35237:32705,35238:35158,35239:40236,35240:40206,35241:40644,35242:23713,35243:27798,35244:33659,35245:20740,35246:23627,35247:25014,35248:33222,35249:26742,35250:29281,35251:20057,35252:20474,35253:21368,35254:24681,35255:28201,35256:31311,35257:38899,35258:19979,35259:21270,35260:20206,35261:20309,35262:20285,35263:20385,35264:20339,35265:21152,35266:21487,35267:22025,35268:22799,35269:23233,35270:23478,35271:23521,35272:31185,35273:26247,35274:26524,35275:26550,35276:27468,35277:27827,35278:28779,35279:29634,35280:31117,35281:31166,35282:31292,35283:31623,35284:33457,35285:33499,35286:33540,35287:33655,35288:33775,35289:33747,35290:34662,35291:35506,35292:22057,35293:36008,35294:36838,35295:36942,35296:38686,35297:34442,35298:20420,35299:23784,35300:25105,35301:29273,35302:30011,35303:33253,35304:33469,35305:34558,35306:36032,35307:38597,35308:39187,35309:39381,35310:20171,35311:20250,35312:35299,35313:22238,35314:22602,35315:22730,35316:24315,35317:24555,35318:24618,35319:24724,35320:24674,35321:25040,35322:25106,35323:25296,35324:25913,35392:39745,35393:26214,35394:26800,35395:28023,35396:28784,35397:30028,35398:30342,35399:32117,35400:33445,35401:34809,35402:38283,35403:38542,35404:35997,35405:20977,35406:21182,35407:22806,35408:21683,35409:23475,35410:23830,35411:24936,35412:27010,35413:28079,35414:30861,35415:33995,35416:34903,35417:35442,35418:37799,35419:39608,35420:28012,35421:39336,35422:34521,35423:22435,35424:26623,35425:34510,35426:37390,35427:21123,35428:22151,35429:21508,35430:24275,35431:25313,35432:25785,35433:26684,35434:26680,35435:27579,35436:29554,35437:30906,35438:31339,35439:35226,35440:35282,35441:36203,35442:36611,35443:37101,35444:38307,35445:38548,35446:38761,35447:23398,35448:23731,35449:27005,35450:38989,35451:38990,35452:25499,35453:31520,35454:27179,35456:27263,35457:26806,35458:39949,35459:28511,35460:21106,35461:21917,35462:24688,35463:25324,35464:27963,35465:28167,35466:28369,35467:33883,35468:35088,35469:36676,35470:19988,35471:39993,35472:21494,35473:26907,35474:27194,35475:38788,35476:26666,35477:20828,35478:31427,35479:33970,35480:37340,35481:37772,35482:22107,35483:40232,35484:26658,35485:33541,35486:33841,35487:31909,35488:21e3,35489:33477,35490:29926,35491:20094,35492:20355,35493:20896,35494:23506,35495:21002,35496:21208,35497:21223,35498:24059,35499:21914,35500:22570,35501:23014,35502:23436,35503:23448,35504:23515,35505:24178,35506:24185,35507:24739,35508:24863,35509:24931,35510:25022,35511:25563,35512:25954,35513:26577,35514:26707,35515:26874,35516:27454,35517:27475,35518:27735,35519:28450,35520:28567,35521:28485,35522:29872,35523:29976,35524:30435,35525:30475,35526:31487,35527:31649,35528:31777,35529:32233,35530:32566,35531:32752,35532:32925,35533:33382,35534:33694,35535:35251,35536:35532,35537:36011,35538:36996,35539:37969,35540:38291,35541:38289,35542:38306,35543:38501,35544:38867,35545:39208,35546:33304,35547:20024,35548:21547,35549:23736,35550:24012,35551:29609,35552:30284,35553:30524,35554:23721,35555:32747,35556:36107,35557:38593,35558:38929,35559:38996,35560:39e3,35561:20225,35562:20238,35563:21361,35564:21916,35565:22120,35566:22522,35567:22855,35568:23305,35569:23492,35570:23696,35571:24076,35572:24190,35573:24524,35574:25582,35575:26426,35576:26071,35577:26082,35578:26399,35579:26827,35580:26820,35648:27231,35649:24112,35650:27589,35651:27671,35652:27773,35653:30079,35654:31048,35655:23395,35656:31232,35657:32e3,35658:24509,35659:35215,35660:35352,35661:36020,35662:36215,35663:36556,35664:36637,35665:39138,35666:39438,35667:39740,35668:20096,35669:20605,35670:20736,35671:22931,35672:23452,35673:25135,35674:25216,35675:25836,35676:27450,35677:29344,35678:30097,35679:31047,35680:32681,35681:34811,35682:35516,35683:35696,35684:25516,35685:33738,35686:38816,35687:21513,35688:21507,35689:21931,35690:26708,35691:27224,35692:35440,35693:30759,35694:26485,35695:40653,35696:21364,35697:23458,35698:33050,35699:34384,35700:36870,35701:19992,35702:20037,35703:20167,35704:20241,35705:21450,35706:21560,35707:23470,35708:24339,35709:24613,35710:25937,35712:26429,35713:27714,35714:27762,35715:27875,35716:28792,35717:29699,35718:31350,35719:31406,35720:31496,35721:32026,35722:31998,35723:32102,35724:26087,35725:29275,35726:21435,35727:23621,35728:24040,35729:25298,35730:25312,35731:25369,35732:28192,35733:34394,35734:35377,35735:36317,35736:37624,35737:28417,35738:31142,35739:39770,35740:20136,35741:20139,35742:20140,35743:20379,35744:20384,35745:20689,35746:20807,35747:31478,35748:20849,35749:20982,35750:21332,35751:21281,35752:21375,35753:21483,35754:21932,35755:22659,35756:23777,35757:24375,35758:24394,35759:24623,35760:24656,35761:24685,35762:25375,35763:25945,35764:27211,35765:27841,35766:29378,35767:29421,35768:30703,35769:33016,35770:33029,35771:33288,35772:34126,35773:37111,35774:37857,35775:38911,35776:39255,35777:39514,35778:20208,35779:20957,35780:23597,35781:26241,35782:26989,35783:23616,35784:26354,35785:26997,35786:29577,35787:26704,35788:31873,35789:20677,35790:21220,35791:22343,35792:24062,35793:37670,35794:26020,35795:27427,35796:27453,35797:29748,35798:31105,35799:31165,35800:31563,35801:32202,35802:33465,35803:33740,35804:34943,35805:35167,35806:35641,35807:36817,35808:37329,35809:21535,35810:37504,35811:20061,35812:20534,35813:21477,35814:21306,35815:29399,35816:29590,35817:30697,35818:33510,35819:36527,35820:39366,35821:39368,35822:39378,35823:20855,35824:24858,35825:34398,35826:21936,35827:31354,35828:20598,35829:23507,35830:36935,35831:38533,35832:20018,35833:27355,35834:37351,35835:23633,35836:23624,35904:25496,35905:31391,35906:27795,35907:38772,35908:36705,35909:31402,35910:29066,35911:38536,35912:31874,35913:26647,35914:32368,35915:26705,35916:37740,35917:21234,35918:21531,35919:34219,35920:35347,35921:32676,35922:36557,35923:37089,35924:21350,35925:34952,35926:31041,35927:20418,35928:20670,35929:21009,35930:20804,35931:21843,35932:22317,35933:29674,35934:22411,35935:22865,35936:24418,35937:24452,35938:24693,35939:24950,35940:24935,35941:25001,35942:25522,35943:25658,35944:25964,35945:26223,35946:26690,35947:28179,35948:30054,35949:31293,35950:31995,35951:32076,35952:32153,35953:32331,35954:32619,35955:33550,35956:33610,35957:34509,35958:35336,35959:35427,35960:35686,35961:36605,35962:38938,35963:40335,35964:33464,35965:36814,35966:39912,35968:21127,35969:25119,35970:25731,35971:28608,35972:38553,35973:26689,35974:20625,35975:27424,35976:27770,35977:28500,35978:31348,35979:32080,35980:34880,35981:35363,35982:26376,35983:20214,35984:20537,35985:20518,35986:20581,35987:20860,35988:21048,35989:21091,35990:21927,35991:22287,35992:22533,35993:23244,35994:24314,35995:25010,35996:25080,35997:25331,35998:25458,35999:26908,36e3:27177,36001:29309,36002:29356,36003:29486,36004:30740,36005:30831,36006:32121,36007:30476,36008:32937,36009:35211,36010:35609,36011:36066,36012:36562,36013:36963,36014:37749,36015:38522,36016:38997,36017:39443,36018:40568,36019:20803,36020:21407,36021:21427,36022:24187,36023:24358,36024:28187,36025:28304,36026:29572,36027:29694,36028:32067,36029:33335,36030:35328,36031:35578,36032:38480,36033:20046,36034:20491,36035:21476,36036:21628,36037:22266,36038:22993,36039:23396,36040:24049,36041:24235,36042:24359,36043:25144,36044:25925,36045:26543,36046:28246,36047:29392,36048:31946,36049:34996,36050:32929,36051:32993,36052:33776,36053:34382,36054:35463,36055:36328,36056:37431,36057:38599,36058:39015,36059:40723,36060:20116,36061:20114,36062:20237,36063:21320,36064:21577,36065:21566,36066:23087,36067:24460,36068:24481,36069:24735,36070:26791,36071:27278,36072:29786,36073:30849,36074:35486,36075:35492,36076:35703,36077:37264,36078:20062,36079:39881,36080:20132,36081:20348,36082:20399,36083:20505,36084:20502,36085:20809,36086:20844,36087:21151,36088:21177,36089:21246,36090:21402,36091:21475,36092:21521,36160:21518,36161:21897,36162:22353,36163:22434,36164:22909,36165:23380,36166:23389,36167:23439,36168:24037,36169:24039,36170:24055,36171:24184,36172:24195,36173:24218,36174:24247,36175:24344,36176:24658,36177:24908,36178:25239,36179:25304,36180:25511,36181:25915,36182:26114,36183:26179,36184:26356,36185:26477,36186:26657,36187:26775,36188:27083,36189:27743,36190:27946,36191:28009,36192:28207,36193:28317,36194:30002,36195:30343,36196:30828,36197:31295,36198:31968,36199:32005,36200:32024,36201:32094,36202:32177,36203:32789,36204:32771,36205:32943,36206:32945,36207:33108,36208:33167,36209:33322,36210:33618,36211:34892,36212:34913,36213:35611,36214:36002,36215:36092,36216:37066,36217:37237,36218:37489,36219:30783,36220:37628,36221:38308,36222:38477,36224:38917,36225:39321,36226:39640,36227:40251,36228:21083,36229:21163,36230:21495,36231:21512,36232:22741,36233:25335,36234:28640,36235:35946,36236:36703,36237:40633,36238:20811,36239:21051,36240:21578,36241:22269,36242:31296,36243:37239,36244:40288,36245:40658,36246:29508,36247:28425,36248:33136,36249:29969,36250:24573,36251:24794,36252:39592,36253:29403,36254:36796,36255:27492,36256:38915,36257:20170,36258:22256,36259:22372,36260:22718,36261:23130,36262:24680,36263:25031,36264:26127,36265:26118,36266:26681,36267:26801,36268:28151,36269:30165,36270:32058,36271:33390,36272:39746,36273:20123,36274:20304,36275:21449,36276:21766,36277:23919,36278:24038,36279:24046,36280:26619,36281:27801,36282:29811,36283:30722,36284:35408,36285:37782,36286:35039,36287:22352,36288:24231,36289:25387,36290:20661,36291:20652,36292:20877,36293:26368,36294:21705,36295:22622,36296:22971,36297:23472,36298:24425,36299:25165,36300:25505,36301:26685,36302:27507,36303:28168,36304:28797,36305:37319,36306:29312,36307:30741,36308:30758,36309:31085,36310:25998,36311:32048,36312:33756,36313:35009,36314:36617,36315:38555,36316:21092,36317:22312,36318:26448,36319:32618,36320:36001,36321:20916,36322:22338,36323:38442,36324:22586,36325:27018,36326:32948,36327:21682,36328:23822,36329:22524,36330:30869,36331:40442,36332:20316,36333:21066,36334:21643,36335:25662,36336:26152,36337:26388,36338:26613,36339:31364,36340:31574,36341:32034,36342:37679,36343:26716,36344:39853,36345:31545,36346:21273,36347:20874,36348:21047,36416:23519,36417:25334,36418:25774,36419:25830,36420:26413,36421:27578,36422:34217,36423:38609,36424:30352,36425:39894,36426:25420,36427:37638,36428:39851,36429:30399,36430:26194,36431:19977,36432:20632,36433:21442,36434:23665,36435:24808,36436:25746,36437:25955,36438:26719,36439:29158,36440:29642,36441:29987,36442:31639,36443:32386,36444:34453,36445:35715,36446:36059,36447:37240,36448:39184,36449:26028,36450:26283,36451:27531,36452:20181,36453:20180,36454:20282,36455:20351,36456:21050,36457:21496,36458:21490,36459:21987,36460:22235,36461:22763,36462:22987,36463:22985,36464:23039,36465:23376,36466:23629,36467:24066,36468:24107,36469:24535,36470:24605,36471:25351,36472:25903,36473:23388,36474:26031,36475:26045,36476:26088,36477:26525,36478:27490,36480:27515,36481:27663,36482:29509,36483:31049,36484:31169,36485:31992,36486:32025,36487:32043,36488:32930,36489:33026,36490:33267,36491:35222,36492:35422,36493:35433,36494:35430,36495:35468,36496:35566,36497:36039,36498:36060,36499:38604,36500:39164,36501:27503,36502:20107,36503:20284,36504:20365,36505:20816,36506:23383,36507:23546,36508:24904,36509:25345,36510:26178,36511:27425,36512:28363,36513:27835,36514:29246,36515:29885,36516:30164,36517:30913,36518:31034,36519:32780,36520:32819,36521:33258,36522:33940,36523:36766,36524:27728,36525:40575,36526:24335,36527:35672,36528:40235,36529:31482,36530:36600,36531:23437,36532:38635,36533:19971,36534:21489,36535:22519,36536:22833,36537:23241,36538:23460,36539:24713,36540:28287,36541:28422,36542:30142,36543:36074,36544:23455,36545:34048,36546:31712,36547:20594,36548:26612,36549:33437,36550:23649,36551:34122,36552:32286,36553:33294,36554:20889,36555:23556,36556:25448,36557:36198,36558:26012,36559:29038,36560:31038,36561:32023,36562:32773,36563:35613,36564:36554,36565:36974,36566:34503,36567:37034,36568:20511,36569:21242,36570:23610,36571:26451,36572:28796,36573:29237,36574:37196,36575:37320,36576:37675,36577:33509,36578:23490,36579:24369,36580:24825,36581:20027,36582:21462,36583:23432,36584:25163,36585:26417,36586:27530,36587:29417,36588:29664,36589:31278,36590:33131,36591:36259,36592:37202,36593:39318,36594:20754,36595:21463,36596:21610,36597:23551,36598:25480,36599:27193,36600:32172,36601:38656,36602:22234,36603:21454,36604:21608,36672:23447,36673:23601,36674:24030,36675:20462,36676:24833,36677:25342,36678:27954,36679:31168,36680:31179,36681:32066,36682:32333,36683:32722,36684:33261,36685:33311,36686:33936,36687:34886,36688:35186,36689:35728,36690:36468,36691:36655,36692:36913,36693:37195,36694:37228,36695:38598,36696:37276,36697:20160,36698:20303,36699:20805,36700:21313,36701:24467,36702:25102,36703:26580,36704:27713,36705:28171,36706:29539,36707:32294,36708:37325,36709:37507,36710:21460,36711:22809,36712:23487,36713:28113,36714:31069,36715:32302,36716:31899,36717:22654,36718:29087,36719:20986,36720:34899,36721:36848,36722:20426,36723:23803,36724:26149,36725:30636,36726:31459,36727:33308,36728:39423,36729:20934,36730:24490,36731:26092,36732:26991,36733:27529,36734:28147,36736:28310,36737:28516,36738:30462,36739:32020,36740:24033,36741:36981,36742:37255,36743:38918,36744:20966,36745:21021,36746:25152,36747:26257,36748:26329,36749:28186,36750:24246,36751:32210,36752:32626,36753:26360,36754:34223,36755:34295,36756:35576,36757:21161,36758:21465,36759:22899,36760:24207,36761:24464,36762:24661,36763:37604,36764:38500,36765:20663,36766:20767,36767:21213,36768:21280,36769:21319,36770:21484,36771:21736,36772:21830,36773:21809,36774:22039,36775:22888,36776:22974,36777:23100,36778:23477,36779:23558,36780:23567,36781:23569,36782:23578,36783:24196,36784:24202,36785:24288,36786:24432,36787:25215,36788:25220,36789:25307,36790:25484,36791:25463,36792:26119,36793:26124,36794:26157,36795:26230,36796:26494,36797:26786,36798:27167,36799:27189,36800:27836,36801:28040,36802:28169,36803:28248,36804:28988,36805:28966,36806:29031,36807:30151,36808:30465,36809:30813,36810:30977,36811:31077,36812:31216,36813:31456,36814:31505,36815:31911,36816:32057,36817:32918,36818:33750,36819:33931,36820:34121,36821:34909,36822:35059,36823:35359,36824:35388,36825:35412,36826:35443,36827:35937,36828:36062,36829:37284,36830:37478,36831:37758,36832:37912,36833:38556,36834:38808,36835:19978,36836:19976,36837:19998,36838:20055,36839:20887,36840:21104,36841:22478,36842:22580,36843:22732,36844:23330,36845:24120,36846:24773,36847:25854,36848:26465,36849:26454,36850:27972,36851:29366,36852:30067,36853:31331,36854:33976,36855:35698,36856:37304,36857:37664,36858:22065,36859:22516,36860:39166,36928:25325,36929:26893,36930:27542,36931:29165,36932:32340,36933:32887,36934:33394,36935:35302,36936:39135,36937:34645,36938:36785,36939:23611,36940:20280,36941:20449,36942:20405,36943:21767,36944:23072,36945:23517,36946:23529,36947:24515,36948:24910,36949:25391,36950:26032,36951:26187,36952:26862,36953:27035,36954:28024,36955:28145,36956:30003,36957:30137,36958:30495,36959:31070,36960:31206,36961:32051,36962:33251,36963:33455,36964:34218,36965:35242,36966:35386,36967:36523,36968:36763,36969:36914,36970:37341,36971:38663,36972:20154,36973:20161,36974:20995,36975:22645,36976:22764,36977:23563,36978:29978,36979:23613,36980:33102,36981:35338,36982:36805,36983:38499,36984:38765,36985:31525,36986:35535,36987:38920,36988:37218,36989:22259,36990:21416,36992:36887,36993:21561,36994:22402,36995:24101,36996:25512,36997:27700,36998:28810,36999:30561,37e3:31883,37001:32736,37002:34928,37003:36930,37004:37204,37005:37648,37006:37656,37007:38543,37008:29790,37009:39620,37010:23815,37011:23913,37012:25968,37013:26530,37014:36264,37015:38619,37016:25454,37017:26441,37018:26905,37019:33733,37020:38935,37021:38592,37022:35070,37023:28548,37024:25722,37025:23544,37026:19990,37027:28716,37028:30045,37029:26159,37030:20932,37031:21046,37032:21218,37033:22995,37034:24449,37035:24615,37036:25104,37037:25919,37038:25972,37039:26143,37040:26228,37041:26866,37042:26646,37043:27491,37044:28165,37045:29298,37046:29983,37047:30427,37048:31934,37049:32854,37050:22768,37051:35069,37052:35199,37053:35488,37054:35475,37055:35531,37056:36893,37057:37266,37058:38738,37059:38745,37060:25993,37061:31246,37062:33030,37063:38587,37064:24109,37065:24796,37066:25114,37067:26021,37068:26132,37069:26512,37070:30707,37071:31309,37072:31821,37073:32318,37074:33034,37075:36012,37076:36196,37077:36321,37078:36447,37079:30889,37080:20999,37081:25305,37082:25509,37083:25666,37084:25240,37085:35373,37086:31363,37087:31680,37088:35500,37089:38634,37090:32118,37091:33292,37092:34633,37093:20185,37094:20808,37095:21315,37096:21344,37097:23459,37098:23554,37099:23574,37100:24029,37101:25126,37102:25159,37103:25776,37104:26643,37105:26676,37106:27849,37107:27973,37108:27927,37109:26579,37110:28508,37111:29006,37112:29053,37113:26059,37114:31359,37115:31661,37116:32218,37184:32330,37185:32680,37186:33146,37187:33307,37188:33337,37189:34214,37190:35438,37191:36046,37192:36341,37193:36984,37194:36983,37195:37549,37196:37521,37197:38275,37198:39854,37199:21069,37200:21892,37201:28472,37202:28982,37203:20840,37204:31109,37205:32341,37206:33203,37207:31950,37208:22092,37209:22609,37210:23720,37211:25514,37212:26366,37213:26365,37214:26970,37215:29401,37216:30095,37217:30094,37218:30990,37219:31062,37220:31199,37221:31895,37222:32032,37223:32068,37224:34311,37225:35380,37226:38459,37227:36961,37228:40736,37229:20711,37230:21109,37231:21452,37232:21474,37233:20489,37234:21930,37235:22766,37236:22863,37237:29245,37238:23435,37239:23652,37240:21277,37241:24803,37242:24819,37243:25436,37244:25475,37245:25407,37246:25531,37248:25805,37249:26089,37250:26361,37251:24035,37252:27085,37253:27133,37254:28437,37255:29157,37256:20105,37257:30185,37258:30456,37259:31379,37260:31967,37261:32207,37262:32156,37263:32865,37264:33609,37265:33624,37266:33900,37267:33980,37268:34299,37269:35013,37270:36208,37271:36865,37272:36973,37273:37783,37274:38684,37275:39442,37276:20687,37277:22679,37278:24974,37279:33235,37280:34101,37281:36104,37282:36896,37283:20419,37284:20596,37285:21063,37286:21363,37287:24687,37288:25417,37289:26463,37290:28204,37291:36275,37292:36895,37293:20439,37294:23646,37295:36042,37296:26063,37297:32154,37298:21330,37299:34966,37300:20854,37301:25539,37302:23384,37303:23403,37304:23562,37305:25613,37306:26449,37307:36956,37308:20182,37309:22810,37310:22826,37311:27760,37312:35409,37313:21822,37314:22549,37315:22949,37316:24816,37317:25171,37318:26561,37319:33333,37320:26965,37321:38464,37322:39364,37323:39464,37324:20307,37325:22534,37326:23550,37327:32784,37328:23729,37329:24111,37330:24453,37331:24608,37332:24907,37333:25140,37334:26367,37335:27888,37336:28382,37337:32974,37338:33151,37339:33492,37340:34955,37341:36024,37342:36864,37343:36910,37344:38538,37345:40667,37346:39899,37347:20195,37348:21488,37349:22823,37350:31532,37351:37261,37352:38988,37353:40441,37354:28381,37355:28711,37356:21331,37357:21828,37358:23429,37359:25176,37360:25246,37361:25299,37362:27810,37363:28655,37364:29730,37365:35351,37366:37944,37367:28609,37368:35582,37369:33592,37370:20967,37371:34552,37372:21482,37440:21481,37441:20294,37442:36948,37443:36784,37444:22890,37445:33073,37446:24061,37447:31466,37448:36799,37449:26842,37450:35895,37451:29432,37452:40008,37453:27197,37454:35504,37455:20025,37456:21336,37457:22022,37458:22374,37459:25285,37460:25506,37461:26086,37462:27470,37463:28129,37464:28251,37465:28845,37466:30701,37467:31471,37468:31658,37469:32187,37470:32829,37471:32966,37472:34507,37473:35477,37474:37723,37475:22243,37476:22727,37477:24382,37478:26029,37479:26262,37480:27264,37481:27573,37482:30007,37483:35527,37484:20516,37485:30693,37486:22320,37487:24347,37488:24677,37489:26234,37490:27744,37491:30196,37492:31258,37493:32622,37494:33268,37495:34584,37496:36933,37497:39347,37498:31689,37499:30044,37500:31481,37501:31569,37502:33988,37504:36880,37505:31209,37506:31378,37507:33590,37508:23265,37509:30528,37510:20013,37511:20210,37512:23449,37513:24544,37514:25277,37515:26172,37516:26609,37517:27880,37518:34411,37519:34935,37520:35387,37521:37198,37522:37619,37523:39376,37524:27159,37525:28710,37526:29482,37527:33511,37528:33879,37529:36015,37530:19969,37531:20806,37532:20939,37533:21899,37534:23541,37535:24086,37536:24115,37537:24193,37538:24340,37539:24373,37540:24427,37541:24500,37542:25074,37543:25361,37544:26274,37545:26397,37546:28526,37547:29266,37548:30010,37549:30522,37550:32884,37551:33081,37552:33144,37553:34678,37554:35519,37555:35548,37556:36229,37557:36339,37558:37530,37559:38263,37560:38914,37561:40165,37562:21189,37563:25431,37564:30452,37565:26389,37566:27784,37567:29645,37568:36035,37569:37806,37570:38515,37571:27941,37572:22684,37573:26894,37574:27084,37575:36861,37576:37786,37577:30171,37578:36890,37579:22618,37580:26626,37581:25524,37582:27131,37583:20291,37584:28460,37585:26584,37586:36795,37587:34086,37588:32180,37589:37716,37590:26943,37591:28528,37592:22378,37593:22775,37594:23340,37595:32044,37596:29226,37597:21514,37598:37347,37599:40372,37600:20141,37601:20302,37602:20572,37603:20597,37604:21059,37605:35998,37606:21576,37607:22564,37608:23450,37609:24093,37610:24213,37611:24237,37612:24311,37613:24351,37614:24716,37615:25269,37616:25402,37617:25552,37618:26799,37619:27712,37620:30855,37621:31118,37622:31243,37623:32224,37624:33351,37625:35330,37626:35558,37627:36420,37628:36883,37696:37048,37697:37165,37698:37336,37699:40718,37700:27877,37701:25688,37702:25826,37703:25973,37704:28404,37705:30340,37706:31515,37707:36969,37708:37841,37709:28346,37710:21746,37711:24505,37712:25764,37713:36685,37714:36845,37715:37444,37716:20856,37717:22635,37718:22825,37719:23637,37720:24215,37721:28155,37722:32399,37723:29980,37724:36028,37725:36578,37726:39003,37727:28857,37728:20253,37729:27583,37730:28593,37731:3e4,37732:38651,37733:20814,37734:21520,37735:22581,37736:22615,37737:22956,37738:23648,37739:24466,37740:26007,37741:26460,37742:28193,37743:30331,37744:33759,37745:36077,37746:36884,37747:37117,37748:37709,37749:30757,37750:30778,37751:21162,37752:24230,37753:22303,37754:22900,37755:24594,37756:20498,37757:20826,37758:20908,37760:20941,37761:20992,37762:21776,37763:22612,37764:22616,37765:22871,37766:23445,37767:23798,37768:23947,37769:24764,37770:25237,37771:25645,37772:26481,37773:26691,37774:26812,37775:26847,37776:30423,37777:28120,37778:28271,37779:28059,37780:28783,37781:29128,37782:24403,37783:30168,37784:31095,37785:31561,37786:31572,37787:31570,37788:31958,37789:32113,37790:21040,37791:33891,37792:34153,37793:34276,37794:35342,37795:35588,37796:35910,37797:36367,37798:36867,37799:36879,37800:37913,37801:38518,37802:38957,37803:39472,37804:38360,37805:20685,37806:21205,37807:21516,37808:22530,37809:23566,37810:24999,37811:25758,37812:27934,37813:30643,37814:31461,37815:33012,37816:33796,37817:36947,37818:37509,37819:23776,37820:40199,37821:21311,37822:24471,37823:24499,37824:28060,37825:29305,37826:30563,37827:31167,37828:31716,37829:27602,37830:29420,37831:35501,37832:26627,37833:27233,37834:20984,37835:31361,37836:26932,37837:23626,37838:40182,37839:33515,37840:23493,37841:37193,37842:28702,37843:22136,37844:23663,37845:24775,37846:25958,37847:27788,37848:35930,37849:36929,37850:38931,37851:21585,37852:26311,37853:37389,37854:22856,37855:37027,37856:20869,37857:20045,37858:20970,37859:34201,37860:35598,37861:28760,37862:25466,37863:37707,37864:26978,37865:39348,37866:32260,37867:30071,37868:21335,37869:26976,37870:36575,37871:38627,37872:27741,37873:20108,37874:23612,37875:24336,37876:36841,37877:21250,37878:36049,37879:32905,37880:34425,37881:24319,37882:26085,37883:20083,37884:20837,37952:22914,37953:23615,37954:38894,37955:20219,37956:22922,37957:24525,37958:35469,37959:28641,37960:31152,37961:31074,37962:23527,37963:33905,37964:29483,37965:29105,37966:24180,37967:24565,37968:25467,37969:25754,37970:29123,37971:31896,37972:20035,37973:24316,37974:20043,37975:22492,37976:22178,37977:24745,37978:28611,37979:32013,37980:33021,37981:33075,37982:33215,37983:36786,37984:35223,37985:34468,37986:24052,37987:25226,37988:25773,37989:35207,37990:26487,37991:27874,37992:27966,37993:29750,37994:30772,37995:23110,37996:32629,37997:33453,37998:39340,37999:20467,38e3:24259,38001:25309,38002:25490,38003:25943,38004:26479,38005:30403,38006:29260,38007:32972,38008:32954,38009:36649,38010:37197,38011:20493,38012:22521,38013:23186,38014:26757,38016:26995,38017:29028,38018:29437,38019:36023,38020:22770,38021:36064,38022:38506,38023:36889,38024:34687,38025:31204,38026:30695,38027:33833,38028:20271,38029:21093,38030:21338,38031:25293,38032:26575,38033:27850,38034:30333,38035:31636,38036:31893,38037:33334,38038:34180,38039:36843,38040:26333,38041:28448,38042:29190,38043:32283,38044:33707,38045:39361,38046:40614,38047:20989,38048:31665,38049:30834,38050:31672,38051:32903,38052:31560,38053:27368,38054:24161,38055:32908,38056:30033,38057:30048,38058:20843,38059:37474,38060:28300,38061:30330,38062:37271,38063:39658,38064:20240,38065:32624,38066:25244,38067:31567,38068:38309,38069:40169,38070:22138,38071:22617,38072:34532,38073:38588,38074:20276,38075:21028,38076:21322,38077:21453,38078:21467,38079:24070,38080:25644,38081:26001,38082:26495,38083:27710,38084:27726,38085:29256,38086:29359,38087:29677,38088:30036,38089:32321,38090:33324,38091:34281,38092:36009,38093:31684,38094:37318,38095:29033,38096:38930,38097:39151,38098:25405,38099:26217,38100:30058,38101:30436,38102:30928,38103:34115,38104:34542,38105:21290,38106:21329,38107:21542,38108:22915,38109:24199,38110:24444,38111:24754,38112:25161,38113:25209,38114:25259,38115:26e3,38116:27604,38117:27852,38118:30130,38119:30382,38120:30865,38121:31192,38122:32203,38123:32631,38124:32933,38125:34987,38126:35513,38127:36027,38128:36991,38129:38750,38130:39131,38131:27147,38132:31800,38133:20633,38134:23614,38135:24494,38136:26503,38137:27608,38138:29749,38139:30473,38140:32654,38208:40763,38209:26570,38210:31255,38211:21305,38212:30091,38213:39661,38214:24422,38215:33181,38216:33777,38217:32920,38218:24380,38219:24517,38220:30050,38221:31558,38222:36924,38223:26727,38224:23019,38225:23195,38226:32016,38227:30334,38228:35628,38229:20469,38230:24426,38231:27161,38232:27703,38233:28418,38234:29922,38235:31080,38236:34920,38237:35413,38238:35961,38239:24287,38240:25551,38241:30149,38242:31186,38243:33495,38244:37672,38245:37618,38246:33948,38247:34541,38248:39981,38249:21697,38250:24428,38251:25996,38252:27996,38253:28693,38254:36007,38255:36051,38256:38971,38257:25935,38258:29942,38259:19981,38260:20184,38261:22496,38262:22827,38263:23142,38264:23500,38265:20904,38266:24067,38267:24220,38268:24598,38269:25206,38270:25975,38272:26023,38273:26222,38274:28014,38275:29238,38276:31526,38277:33104,38278:33178,38279:33433,38280:35676,38281:36e3,38282:36070,38283:36212,38284:38428,38285:38468,38286:20398,38287:25771,38288:27494,38289:33310,38290:33889,38291:34154,38292:37096,38293:23553,38294:26963,38295:39080,38296:33914,38297:34135,38298:20239,38299:21103,38300:24489,38301:24133,38302:26381,38303:31119,38304:33145,38305:35079,38306:35206,38307:28149,38308:24343,38309:25173,38310:27832,38311:20175,38312:29289,38313:39826,38314:20998,38315:21563,38316:22132,38317:22707,38318:24996,38319:25198,38320:28954,38321:22894,38322:31881,38323:31966,38324:32027,38325:38640,38326:25991,38327:32862,38328:19993,38329:20341,38330:20853,38331:22592,38332:24163,38333:24179,38334:24330,38335:26564,38336:20006,38337:34109,38338:38281,38339:38491,38340:31859,38341:38913,38342:20731,38343:22721,38344:30294,38345:30887,38346:21029,38347:30629,38348:34065,38349:31622,38350:20559,38351:22793,38352:29255,38353:31687,38354:32232,38355:36794,38356:36820,38357:36941,38358:20415,38359:21193,38360:23081,38361:24321,38362:38829,38363:20445,38364:33303,38365:37610,38366:22275,38367:25429,38368:27497,38369:29995,38370:35036,38371:36628,38372:31298,38373:21215,38374:22675,38375:24917,38376:25098,38377:26286,38378:27597,38379:31807,38380:33769,38381:20515,38382:20472,38383:21253,38384:21574,38385:22577,38386:22857,38387:23453,38388:23792,38389:23791,38390:23849,38391:24214,38392:25265,38393:25447,38394:25918,38395:26041,38396:26379,38464:27861,38465:27873,38466:28921,38467:30770,38468:32299,38469:32990,38470:33459,38471:33804,38472:34028,38473:34562,38474:35090,38475:35370,38476:35914,38477:37030,38478:37586,38479:39165,38480:40179,38481:40300,38482:20047,38483:20129,38484:20621,38485:21078,38486:22346,38487:22952,38488:24125,38489:24536,38490:24537,38491:25151,38492:26292,38493:26395,38494:26576,38495:26834,38496:20882,38497:32033,38498:32938,38499:33192,38500:35584,38501:35980,38502:36031,38503:37502,38504:38450,38505:21536,38506:38956,38507:21271,38508:20693,38509:21340,38510:22696,38511:25778,38512:26420,38513:29287,38514:30566,38515:31302,38516:37350,38517:21187,38518:27809,38519:27526,38520:22528,38521:24140,38522:22868,38523:26412,38524:32763,38525:20961,38526:30406,38528:25705,38529:30952,38530:39764,38531:40635,38532:22475,38533:22969,38534:26151,38535:26522,38536:27598,38537:21737,38538:27097,38539:24149,38540:33180,38541:26517,38542:39850,38543:26622,38544:40018,38545:26717,38546:20134,38547:20451,38548:21448,38549:25273,38550:26411,38551:27819,38552:36804,38553:20397,38554:32365,38555:40639,38556:19975,38557:24930,38558:28288,38559:28459,38560:34067,38561:21619,38562:26410,38563:39749,38564:24051,38565:31637,38566:23724,38567:23494,38568:34588,38569:28234,38570:34001,38571:31252,38572:33032,38573:22937,38574:31885,38575:27665,38576:30496,38577:21209,38578:22818,38579:28961,38580:29279,38581:30683,38582:38695,38583:40289,38584:26891,38585:23167,38586:23064,38587:20901,38588:21517,38589:21629,38590:26126,38591:30431,38592:36855,38593:37528,38594:40180,38595:23018,38596:29277,38597:28357,38598:20813,38599:26825,38600:32191,38601:32236,38602:38754,38603:40634,38604:25720,38605:27169,38606:33538,38607:22916,38608:23391,38609:27611,38610:29467,38611:30450,38612:32178,38613:32791,38614:33945,38615:20786,38616:26408,38617:40665,38618:30446,38619:26466,38620:21247,38621:39173,38622:23588,38623:25147,38624:31870,38625:36016,38626:21839,38627:24758,38628:32011,38629:38272,38630:21249,38631:20063,38632:20918,38633:22812,38634:29242,38635:32822,38636:37326,38637:24357,38638:30690,38639:21380,38640:24441,38641:32004,38642:34220,38643:35379,38644:36493,38645:38742,38646:26611,38647:34222,38648:37971,38649:24841,38650:24840,38651:27833,38652:30290,38720:35565,38721:36664,38722:21807,38723:20305,38724:20778,38725:21191,38726:21451,38727:23461,38728:24189,38729:24736,38730:24962,38731:25558,38732:26377,38733:26586,38734:28263,38735:28044,38736:29494,38737:29495,38738:30001,38739:31056,38740:35029,38741:35480,38742:36938,38743:37009,38744:37109,38745:38596,38746:34701,38747:22805,38748:20104,38749:20313,38750:19982,38751:35465,38752:36671,38753:38928,38754:20653,38755:24188,38756:22934,38757:23481,38758:24248,38759:25562,38760:25594,38761:25793,38762:26332,38763:26954,38764:27096,38765:27915,38766:28342,38767:29076,38768:29992,38769:31407,38770:32650,38771:32768,38772:33865,38773:33993,38774:35201,38775:35617,38776:36362,38777:36965,38778:38525,38779:39178,38780:24958,38781:25233,38782:27442,38784:27779,38785:28020,38786:32716,38787:32764,38788:28096,38789:32645,38790:34746,38791:35064,38792:26469,38793:33713,38794:38972,38795:38647,38796:27931,38797:32097,38798:33853,38799:37226,38800:20081,38801:21365,38802:23888,38803:27396,38804:28651,38805:34253,38806:34349,38807:35239,38808:21033,38809:21519,38810:23653,38811:26446,38812:26792,38813:29702,38814:29827,38815:30178,38816:35023,38817:35041,38818:37324,38819:38626,38820:38520,38821:24459,38822:29575,38823:31435,38824:33870,38825:25504,38826:30053,38827:21129,38828:27969,38829:28316,38830:29705,38831:30041,38832:30827,38833:31890,38834:38534,38835:31452,38836:40845,38837:20406,38838:24942,38839:26053,38840:34396,38841:20102,38842:20142,38843:20698,38844:20001,38845:20940,38846:23534,38847:26009,38848:26753,38849:28092,38850:29471,38851:30274,38852:30637,38853:31260,38854:31975,38855:33391,38856:35538,38857:36988,38858:37327,38859:38517,38860:38936,38861:21147,38862:32209,38863:20523,38864:21400,38865:26519,38866:28107,38867:29136,38868:29747,38869:33256,38870:36650,38871:38563,38872:40023,38873:40607,38874:29792,38875:22593,38876:28057,38877:32047,38878:39006,38879:20196,38880:20278,38881:20363,38882:20919,38883:21169,38884:23994,38885:24604,38886:29618,38887:31036,38888:33491,38889:37428,38890:38583,38891:38646,38892:38666,38893:40599,38894:40802,38895:26278,38896:27508,38897:21015,38898:21155,38899:28872,38900:35010,38901:24265,38902:24651,38903:24976,38904:28451,38905:29001,38906:31806,38907:32244,38908:32879,38976:34030,38977:36899,38978:37676,38979:21570,38980:39791,38981:27347,38982:28809,38983:36034,38984:36335,38985:38706,38986:21172,38987:23105,38988:24266,38989:24324,38990:26391,38991:27004,38992:27028,38993:28010,38994:28431,38995:29282,38996:29436,38997:31725,38998:32769,38999:32894,39e3:34635,39001:37070,39002:20845,39003:40595,39004:31108,39005:32907,39006:37682,39007:35542,39008:20525,39009:21644,39010:35441,39011:27498,39012:36036,39013:33031,39014:24785,39015:26528,39016:40434,39017:20121,39018:20120,39019:39952,39020:35435,39021:34241,39022:34152,39023:26880,39024:28286,39025:30871,39026:33109,39071:24332,39072:19984,39073:19989,39074:20010,39075:20017,39076:20022,39077:20028,39078:20031,39079:20034,39080:20054,39081:20056,39082:20098,39083:20101,39084:35947,39085:20106,39086:33298,39087:24333,39088:20110,39089:20126,39090:20127,39091:20128,39092:20130,39093:20144,39094:20147,39095:20150,39096:20174,39097:20173,39098:20164,39099:20166,39100:20162,39101:20183,39102:20190,39103:20205,39104:20191,39105:20215,39106:20233,39107:20314,39108:20272,39109:20315,39110:20317,39111:20311,39112:20295,39113:20342,39114:20360,39115:20367,39116:20376,39117:20347,39118:20329,39119:20336,39120:20369,39121:20335,39122:20358,39123:20374,39124:20760,39125:20436,39126:20447,39127:20430,39128:20440,39129:20443,39130:20433,39131:20442,39132:20432,39133:20452,39134:20453,39135:20506,39136:20520,39137:20500,39138:20522,39139:20517,39140:20485,39141:20252,39142:20470,39143:20513,39144:20521,39145:20524,39146:20478,39147:20463,39148:20497,39149:20486,39150:20547,39151:20551,39152:26371,39153:20565,39154:20560,39155:20552,39156:20570,39157:20566,39158:20588,39159:20600,39160:20608,39161:20634,39162:20613,39163:20660,39164:20658,39232:20681,39233:20682,39234:20659,39235:20674,39236:20694,39237:20702,39238:20709,39239:20717,39240:20707,39241:20718,39242:20729,39243:20725,39244:20745,39245:20737,39246:20738,39247:20758,39248:20757,39249:20756,39250:20762,39251:20769,39252:20794,39253:20791,39254:20796,39255:20795,39256:20799,39257:20800,39258:20818,39259:20812,39260:20820,39261:20834,39262:31480,39263:20841,39264:20842,39265:20846,39266:20864,39267:20866,39268:22232,39269:20876,39270:20873,39271:20879,39272:20881,39273:20883,39274:20885,39275:20886,39276:20900,39277:20902,39278:20898,39279:20905,39280:20906,39281:20907,39282:20915,39283:20913,39284:20914,39285:20912,39286:20917,39287:20925,39288:20933,39289:20937,39290:20955,39291:20960,39292:34389,39293:20969,39294:20973,39296:20976,39297:20981,39298:20990,39299:20996,39300:21003,39301:21012,39302:21006,39303:21031,39304:21034,39305:21038,39306:21043,39307:21049,39308:21071,39309:21060,39310:21067,39311:21068,39312:21086,39313:21076,39314:21098,39315:21108,39316:21097,39317:21107,39318:21119,39319:21117,39320:21133,39321:21140,39322:21138,39323:21105,39324:21128,39325:21137,39326:36776,39327:36775,39328:21164,39329:21165,39330:21180,39331:21173,39332:21185,39333:21197,39334:21207,39335:21214,39336:21219,39337:21222,39338:39149,39339:21216,39340:21235,39341:21237,39342:21240,39343:21241,39344:21254,39345:21256,39346:30008,39347:21261,39348:21264,39349:21263,39350:21269,39351:21274,39352:21283,39353:21295,39354:21297,39355:21299,39356:21304,39357:21312,39358:21318,39359:21317,39360:19991,39361:21321,39362:21325,39363:20950,39364:21342,39365:21353,39366:21358,39367:22808,39368:21371,39369:21367,39370:21378,39371:21398,39372:21408,39373:21414,39374:21413,39375:21422,39376:21424,39377:21430,39378:21443,39379:31762,39380:38617,39381:21471,39382:26364,39383:29166,39384:21486,39385:21480,39386:21485,39387:21498,39388:21505,39389:21565,39390:21568,39391:21548,39392:21549,39393:21564,39394:21550,39395:21558,39396:21545,39397:21533,39398:21582,39399:21647,39400:21621,39401:21646,39402:21599,39403:21617,39404:21623,39405:21616,39406:21650,39407:21627,39408:21632,39409:21622,39410:21636,39411:21648,39412:21638,39413:21703,39414:21666,39415:21688,39416:21669,39417:21676,39418:21700,39419:21704,39420:21672,39488:21675,39489:21698,39490:21668,39491:21694,39492:21692,39493:21720,39494:21733,39495:21734,39496:21775,39497:21780,39498:21757,39499:21742,39500:21741,39501:21754,39502:21730,39503:21817,39504:21824,39505:21859,39506:21836,39507:21806,39508:21852,39509:21829,39510:21846,39511:21847,39512:21816,39513:21811,39514:21853,39515:21913,39516:21888,39517:21679,39518:21898,39519:21919,39520:21883,39521:21886,39522:21912,39523:21918,39524:21934,39525:21884,39526:21891,39527:21929,39528:21895,39529:21928,39530:21978,39531:21957,39532:21983,39533:21956,39534:21980,39535:21988,39536:21972,39537:22036,39538:22007,39539:22038,39540:22014,39541:22013,39542:22043,39543:22009,39544:22094,39545:22096,39546:29151,39547:22068,39548:22070,39549:22066,39550:22072,39552:22123,39553:22116,39554:22063,39555:22124,39556:22122,39557:22150,39558:22144,39559:22154,39560:22176,39561:22164,39562:22159,39563:22181,39564:22190,39565:22198,39566:22196,39567:22210,39568:22204,39569:22209,39570:22211,39571:22208,39572:22216,39573:22222,39574:22225,39575:22227,39576:22231,39577:22254,39578:22265,39579:22272,39580:22271,39581:22276,39582:22281,39583:22280,39584:22283,39585:22285,39586:22291,39587:22296,39588:22294,39589:21959,39590:22300,39591:22310,39592:22327,39593:22328,39594:22350,39595:22331,39596:22336,39597:22351,39598:22377,39599:22464,39600:22408,39601:22369,39602:22399,39603:22409,39604:22419,39605:22432,39606:22451,39607:22436,39608:22442,39609:22448,39610:22467,39611:22470,39612:22484,39613:22482,39614:22483,39615:22538,39616:22486,39617:22499,39618:22539,39619:22553,39620:22557,39621:22642,39622:22561,39623:22626,39624:22603,39625:22640,39626:27584,39627:22610,39628:22589,39629:22649,39630:22661,39631:22713,39632:22687,39633:22699,39634:22714,39635:22750,39636:22715,39637:22712,39638:22702,39639:22725,39640:22739,39641:22737,39642:22743,39643:22745,39644:22744,39645:22757,39646:22748,39647:22756,39648:22751,39649:22767,39650:22778,39651:22777,39652:22779,39653:22780,39654:22781,39655:22786,39656:22794,39657:22800,39658:22811,39659:26790,39660:22821,39661:22828,39662:22829,39663:22834,39664:22840,39665:22846,39666:31442,39667:22869,39668:22864,39669:22862,39670:22874,39671:22872,39672:22882,39673:22880,39674:22887,39675:22892,39676:22889,39744:22904,39745:22913,39746:22941,39747:20318,39748:20395,39749:22947,39750:22962,39751:22982,39752:23016,39753:23004,39754:22925,39755:23001,39756:23002,39757:23077,39758:23071,39759:23057,39760:23068,39761:23049,39762:23066,39763:23104,39764:23148,39765:23113,39766:23093,39767:23094,39768:23138,39769:23146,39770:23194,39771:23228,39772:23230,39773:23243,39774:23234,39775:23229,39776:23267,39777:23255,39778:23270,39779:23273,39780:23254,39781:23290,39782:23291,39783:23308,39784:23307,39785:23318,39786:23346,39787:23248,39788:23338,39789:23350,39790:23358,39791:23363,39792:23365,39793:23360,39794:23377,39795:23381,39796:23386,39797:23387,39798:23397,39799:23401,39800:23408,39801:23411,39802:23413,39803:23416,39804:25992,39805:23418,39806:23424,39808:23427,39809:23462,39810:23480,39811:23491,39812:23495,39813:23497,39814:23508,39815:23504,39816:23524,39817:23526,39818:23522,39819:23518,39820:23525,39821:23531,39822:23536,39823:23542,39824:23539,39825:23557,39826:23559,39827:23560,39828:23565,39829:23571,39830:23584,39831:23586,39832:23592,39833:23608,39834:23609,39835:23617,39836:23622,39837:23630,39838:23635,39839:23632,39840:23631,39841:23409,39842:23660,39843:23662,39844:20066,39845:23670,39846:23673,39847:23692,39848:23697,39849:23700,39850:22939,39851:23723,39852:23739,39853:23734,39854:23740,39855:23735,39856:23749,39857:23742,39858:23751,39859:23769,39860:23785,39861:23805,39862:23802,39863:23789,39864:23948,39865:23786,39866:23819,39867:23829,39868:23831,39869:23900,39870:23839,39871:23835,39872:23825,39873:23828,39874:23842,39875:23834,39876:23833,39877:23832,39878:23884,39879:23890,39880:23886,39881:23883,39882:23916,39883:23923,39884:23926,39885:23943,39886:23940,39887:23938,39888:23970,39889:23965,39890:23980,39891:23982,39892:23997,39893:23952,39894:23991,39895:23996,39896:24009,39897:24013,39898:24019,39899:24018,39900:24022,39901:24027,39902:24043,39903:24050,39904:24053,39905:24075,39906:24090,39907:24089,39908:24081,39909:24091,39910:24118,39911:24119,39912:24132,39913:24131,39914:24128,39915:24142,39916:24151,39917:24148,39918:24159,39919:24162,39920:24164,39921:24135,39922:24181,39923:24182,39924:24186,39925:40636,39926:24191,39927:24224,39928:24257,39929:24258,39930:24264,39931:24272,39932:24271,4e4:24278,40001:24291,40002:24285,40003:24282,40004:24283,40005:24290,40006:24289,40007:24296,40008:24297,40009:24300,40010:24305,40011:24307,40012:24304,40013:24308,40014:24312,40015:24318,40016:24323,40017:24329,40018:24413,40019:24412,40020:24331,40021:24337,40022:24342,40023:24361,40024:24365,40025:24376,40026:24385,40027:24392,40028:24396,40029:24398,40030:24367,40031:24401,40032:24406,40033:24407,40034:24409,40035:24417,40036:24429,40037:24435,40038:24439,40039:24451,40040:24450,40041:24447,40042:24458,40043:24456,40044:24465,40045:24455,40046:24478,40047:24473,40048:24472,40049:24480,40050:24488,40051:24493,40052:24508,40053:24534,40054:24571,40055:24548,40056:24568,40057:24561,40058:24541,40059:24755,40060:24575,40061:24609,40062:24672,40064:24601,40065:24592,40066:24617,40067:24590,40068:24625,40069:24603,40070:24597,40071:24619,40072:24614,40073:24591,40074:24634,40075:24666,40076:24641,40077:24682,40078:24695,40079:24671,40080:24650,40081:24646,40082:24653,40083:24675,40084:24643,40085:24676,40086:24642,40087:24684,40088:24683,40089:24665,40090:24705,40091:24717,40092:24807,40093:24707,40094:24730,40095:24708,40096:24731,40097:24726,40098:24727,40099:24722,40100:24743,40101:24715,40102:24801,40103:24760,40104:24800,40105:24787,40106:24756,40107:24560,40108:24765,40109:24774,40110:24757,40111:24792,40112:24909,40113:24853,40114:24838,40115:24822,40116:24823,40117:24832,40118:24820,40119:24826,40120:24835,40121:24865,40122:24827,40123:24817,40124:24845,40125:24846,40126:24903,40127:24894,40128:24872,40129:24871,40130:24906,40131:24895,40132:24892,40133:24876,40134:24884,40135:24893,40136:24898,40137:24900,40138:24947,40139:24951,40140:24920,40141:24921,40142:24922,40143:24939,40144:24948,40145:24943,40146:24933,40147:24945,40148:24927,40149:24925,40150:24915,40151:24949,40152:24985,40153:24982,40154:24967,40155:25004,40156:24980,40157:24986,40158:24970,40159:24977,40160:25003,40161:25006,40162:25036,40163:25034,40164:25033,40165:25079,40166:25032,40167:25027,40168:25030,40169:25018,40170:25035,40171:32633,40172:25037,40173:25062,40174:25059,40175:25078,40176:25082,40177:25076,40178:25087,40179:25085,40180:25084,40181:25086,40182:25088,40183:25096,40184:25097,40185:25101,40186:25100,40187:25108,40188:25115,40256:25118,40257:25121,40258:25130,40259:25134,40260:25136,40261:25138,40262:25139,40263:25153,40264:25166,40265:25182,40266:25187,40267:25179,40268:25184,40269:25192,40270:25212,40271:25218,40272:25225,40273:25214,40274:25234,40275:25235,40276:25238,40277:25300,40278:25219,40279:25236,40280:25303,40281:25297,40282:25275,40283:25295,40284:25343,40285:25286,40286:25812,40287:25288,40288:25308,40289:25292,40290:25290,40291:25282,40292:25287,40293:25243,40294:25289,40295:25356,40296:25326,40297:25329,40298:25383,40299:25346,40300:25352,40301:25327,40302:25333,40303:25424,40304:25406,40305:25421,40306:25628,40307:25423,40308:25494,40309:25486,40310:25472,40311:25515,40312:25462,40313:25507,40314:25487,40315:25481,40316:25503,40317:25525,40318:25451,40320:25449,40321:25534,40322:25577,40323:25536,40324:25542,40325:25571,40326:25545,40327:25554,40328:25590,40329:25540,40330:25622,40331:25652,40332:25606,40333:25619,40334:25638,40335:25654,40336:25885,40337:25623,40338:25640,40339:25615,40340:25703,40341:25711,40342:25718,40343:25678,40344:25898,40345:25749,40346:25747,40347:25765,40348:25769,40349:25736,40350:25788,40351:25818,40352:25810,40353:25797,40354:25799,40355:25787,40356:25816,40357:25794,40358:25841,40359:25831,40360:33289,40361:25824,40362:25825,40363:25260,40364:25827,40365:25839,40366:25900,40367:25846,40368:25844,40369:25842,40370:25850,40371:25856,40372:25853,40373:25880,40374:25884,40375:25861,40376:25892,40377:25891,40378:25899,40379:25908,40380:25909,40381:25911,40382:25910,40383:25912,40384:30027,40385:25928,40386:25942,40387:25941,40388:25933,40389:25944,40390:25950,40391:25949,40392:25970,40393:25976,40394:25986,40395:25987,40396:35722,40397:26011,40398:26015,40399:26027,40400:26039,40401:26051,40402:26054,40403:26049,40404:26052,40405:26060,40406:26066,40407:26075,40408:26073,40409:26080,40410:26081,40411:26097,40412:26482,40413:26122,40414:26115,40415:26107,40416:26483,40417:26165,40418:26166,40419:26164,40420:26140,40421:26191,40422:26180,40423:26185,40424:26177,40425:26206,40426:26205,40427:26212,40428:26215,40429:26216,40430:26207,40431:26210,40432:26224,40433:26243,40434:26248,40435:26254,40436:26249,40437:26244,40438:26264,40439:26269,40440:26305,40441:26297,40442:26313,40443:26302,40444:26300,40512:26308,40513:26296,40514:26326,40515:26330,40516:26336,40517:26175,40518:26342,40519:26345,40520:26352,40521:26357,40522:26359,40523:26383,40524:26390,40525:26398,40526:26406,40527:26407,40528:38712,40529:26414,40530:26431,40531:26422,40532:26433,40533:26424,40534:26423,40535:26438,40536:26462,40537:26464,40538:26457,40539:26467,40540:26468,40541:26505,40542:26480,40543:26537,40544:26492,40545:26474,40546:26508,40547:26507,40548:26534,40549:26529,40550:26501,40551:26551,40552:26607,40553:26548,40554:26604,40555:26547,40556:26601,40557:26552,40558:26596,40559:26590,40560:26589,40561:26594,40562:26606,40563:26553,40564:26574,40565:26566,40566:26599,40567:27292,40568:26654,40569:26694,40570:26665,40571:26688,40572:26701,40573:26674,40574:26702,40576:26803,40577:26667,40578:26713,40579:26723,40580:26743,40581:26751,40582:26783,40583:26767,40584:26797,40585:26772,40586:26781,40587:26779,40588:26755,40589:27310,40590:26809,40591:26740,40592:26805,40593:26784,40594:26810,40595:26895,40596:26765,40597:26750,40598:26881,40599:26826,40600:26888,40601:26840,40602:26914,40603:26918,40604:26849,40605:26892,40606:26829,40607:26836,40608:26855,40609:26837,40610:26934,40611:26898,40612:26884,40613:26839,40614:26851,40615:26917,40616:26873,40617:26848,40618:26863,40619:26920,40620:26922,40621:26906,40622:26915,40623:26913,40624:26822,40625:27001,40626:26999,40627:26972,40628:27e3,40629:26987,40630:26964,40631:27006,40632:26990,40633:26937,40634:26996,40635:26941,40636:26969,40637:26928,40638:26977,40639:26974,40640:26973,40641:27009,40642:26986,40643:27058,40644:27054,40645:27088,40646:27071,40647:27073,40648:27091,40649:27070,40650:27086,40651:23528,40652:27082,40653:27101,40654:27067,40655:27075,40656:27047,40657:27182,40658:27025,40659:27040,40660:27036,40661:27029,40662:27060,40663:27102,40664:27112,40665:27138,40666:27163,40667:27135,40668:27402,40669:27129,40670:27122,40671:27111,40672:27141,40673:27057,40674:27166,40675:27117,40676:27156,40677:27115,40678:27146,40679:27154,40680:27329,40681:27171,40682:27155,40683:27204,40684:27148,40685:27250,40686:27190,40687:27256,40688:27207,40689:27234,40690:27225,40691:27238,40692:27208,40693:27192,40694:27170,40695:27280,40696:27277,40697:27296,40698:27268,40699:27298,40700:27299,40768:27287,40769:34327,40770:27323,40771:27331,40772:27330,40773:27320,40774:27315,40775:27308,40776:27358,40777:27345,40778:27359,40779:27306,40780:27354,40781:27370,40782:27387,40783:27397,40784:34326,40785:27386,40786:27410,40787:27414,40788:39729,40789:27423,40790:27448,40791:27447,40792:30428,40793:27449,40794:39150,40795:27463,40796:27459,40797:27465,40798:27472,40799:27481,40800:27476,40801:27483,40802:27487,40803:27489,40804:27512,40805:27513,40806:27519,40807:27520,40808:27524,40809:27523,40810:27533,40811:27544,40812:27541,40813:27550,40814:27556,40815:27562,40816:27563,40817:27567,40818:27570,40819:27569,40820:27571,40821:27575,40822:27580,40823:27590,40824:27595,40825:27603,40826:27615,40827:27628,40828:27627,40829:27635,40830:27631,40832:40638,40833:27656,40834:27667,40835:27668,40836:27675,40837:27684,40838:27683,40839:27742,40840:27733,40841:27746,40842:27754,40843:27778,40844:27789,40845:27802,40846:27777,40847:27803,40848:27774,40849:27752,40850:27763,40851:27794,40852:27792,40853:27844,40854:27889,40855:27859,40856:27837,40857:27863,40858:27845,40859:27869,40860:27822,40861:27825,40862:27838,40863:27834,40864:27867,40865:27887,40866:27865,40867:27882,40868:27935,40869:34893,40870:27958,40871:27947,40872:27965,40873:27960,40874:27929,40875:27957,40876:27955,40877:27922,40878:27916,40879:28003,40880:28051,40881:28004,40882:27994,40883:28025,40884:27993,40885:28046,40886:28053,40887:28644,40888:28037,40889:28153,40890:28181,40891:28170,40892:28085,40893:28103,40894:28134,40895:28088,40896:28102,40897:28140,40898:28126,40899:28108,40900:28136,40901:28114,40902:28101,40903:28154,40904:28121,40905:28132,40906:28117,40907:28138,40908:28142,40909:28205,40910:28270,40911:28206,40912:28185,40913:28274,40914:28255,40915:28222,40916:28195,40917:28267,40918:28203,40919:28278,40920:28237,40921:28191,40922:28227,40923:28218,40924:28238,40925:28196,40926:28415,40927:28189,40928:28216,40929:28290,40930:28330,40931:28312,40932:28361,40933:28343,40934:28371,40935:28349,40936:28335,40937:28356,40938:28338,40939:28372,40940:28373,40941:28303,40942:28325,40943:28354,40944:28319,40945:28481,40946:28433,40947:28748,40948:28396,40949:28408,40950:28414,40951:28479,40952:28402,40953:28465,40954:28399,40955:28466,40956:28364,161:65377,162:65378,163:65379,164:65380,165:65381,166:65382,167:65383,168:65384,169:65385,170:65386,171:65387,172:65388,173:65389,174:65390,175:65391,176:65392,177:65393,178:65394,179:65395,180:65396,181:65397,182:65398,183:65399,184:65400,185:65401,186:65402,187:65403,188:65404,189:65405,190:65406,191:65407,192:65408,193:65409,194:65410,195:65411,196:65412,197:65413,198:65414,199:65415,200:65416,201:65417,202:65418,203:65419,204:65420,205:65421,206:65422,207:65423,208:65424,209:65425,210:65426,211:65427,212:65428,213:65429,214:65430,215:65431,216:65432,217:65433,218:65434,219:65435,220:65436,221:65437,222:65438,223:65439,57408:28478,57409:28435,57410:28407,57411:28550,57412:28538,57413:28536,57414:28545,57415:28544,57416:28527,57417:28507,57418:28659,57419:28525,57420:28546,57421:28540,57422:28504,57423:28558,57424:28561,57425:28610,57426:28518,57427:28595,57428:28579,57429:28577,57430:28580,57431:28601,57432:28614,57433:28586,57434:28639,57435:28629,57436:28652,57437:28628,57438:28632,57439:28657,57440:28654,57441:28635,57442:28681,57443:28683,57444:28666,57445:28689,57446:28673,57447:28687,57448:28670,57449:28699,57450:28698,57451:28532,57452:28701,57453:28696,57454:28703,57455:28720,57456:28734,57457:28722,57458:28753,57459:28771,57460:28825,57461:28818,57462:28847,57463:28913,57464:28844,57465:28856,57466:28851,57467:28846,57468:28895,57469:28875,57470:28893,57472:28889,57473:28937,57474:28925,57475:28956,57476:28953,57477:29029,57478:29013,57479:29064,57480:29030,57481:29026,57482:29004,57483:29014,57484:29036,57485:29071,57486:29179,57487:29060,57488:29077,57489:29096,57490:29100,57491:29143,57492:29113,57493:29118,57494:29138,57495:29129,57496:29140,57497:29134,57498:29152,57499:29164,57500:29159,57501:29173,57502:29180,57503:29177,57504:29183,57505:29197,57506:29200,57507:29211,57508:29224,57509:29229,57510:29228,57511:29232,57512:29234,57513:29243,57514:29244,57515:29247,57516:29248,57517:29254,57518:29259,57519:29272,57520:29300,57521:29310,57522:29314,57523:29313,57524:29319,57525:29330,57526:29334,57527:29346,57528:29351,57529:29369,57530:29362,57531:29379,57532:29382,57533:29380,57534:29390,57535:29394,57536:29410,57537:29408,57538:29409,57539:29433,57540:29431,57541:20495,57542:29463,57543:29450,57544:29468,57545:29462,57546:29469,57547:29492,57548:29487,57549:29481,57550:29477,57551:29502,57552:29518,57553:29519,57554:40664,57555:29527,57556:29546,57557:29544,57558:29552,57559:29560,57560:29557,57561:29563,57562:29562,57563:29640,57564:29619,57565:29646,57566:29627,57567:29632,57568:29669,57569:29678,57570:29662,57571:29858,57572:29701,57573:29807,57574:29733,57575:29688,57576:29746,57577:29754,57578:29781,57579:29759,57580:29791,57581:29785,57582:29761,57583:29788,57584:29801,57585:29808,57586:29795,57587:29802,57588:29814,57589:29822,57590:29835,57591:29854,57592:29863,57593:29898,57594:29903,57595:29908,57596:29681,57664:29920,57665:29923,57666:29927,57667:29929,57668:29934,57669:29938,57670:29936,57671:29937,57672:29944,57673:29943,57674:29956,57675:29955,57676:29957,57677:29964,57678:29966,57679:29965,57680:29973,57681:29971,57682:29982,57683:29990,57684:29996,57685:30012,57686:30020,57687:30029,57688:30026,57689:30025,57690:30043,57691:30022,57692:30042,57693:30057,57694:30052,57695:30055,57696:30059,57697:30061,57698:30072,57699:30070,57700:30086,57701:30087,57702:30068,57703:30090,57704:30089,57705:30082,57706:30100,57707:30106,57708:30109,57709:30117,57710:30115,57711:30146,57712:30131,57713:30147,57714:30133,57715:30141,57716:30136,57717:30140,57718:30129,57719:30157,57720:30154,57721:30162,57722:30169,57723:30179,57724:30174,57725:30206,57726:30207,57728:30204,57729:30209,57730:30192,57731:30202,57732:30194,57733:30195,57734:30219,57735:30221,57736:30217,57737:30239,57738:30247,57739:30240,57740:30241,57741:30242,57742:30244,57743:30260,57744:30256,57745:30267,57746:30279,57747:30280,57748:30278,57749:30300,57750:30296,57751:30305,57752:30306,57753:30312,57754:30313,57755:30314,57756:30311,57757:30316,57758:30320,57759:30322,57760:30326,57761:30328,57762:30332,57763:30336,57764:30339,57765:30344,57766:30347,57767:30350,57768:30358,57769:30355,57770:30361,57771:30362,57772:30384,57773:30388,57774:30392,57775:30393,57776:30394,57777:30402,57778:30413,57779:30422,57780:30418,57781:30430,57782:30433,57783:30437,57784:30439,57785:30442,57786:34351,57787:30459,57788:30472,57789:30471,57790:30468,57791:30505,57792:30500,57793:30494,57794:30501,57795:30502,57796:30491,57797:30519,57798:30520,57799:30535,57800:30554,57801:30568,57802:30571,57803:30555,57804:30565,57805:30591,57806:30590,57807:30585,57808:30606,57809:30603,57810:30609,57811:30624,57812:30622,57813:30640,57814:30646,57815:30649,57816:30655,57817:30652,57818:30653,57819:30651,57820:30663,57821:30669,57822:30679,57823:30682,57824:30684,57825:30691,57826:30702,57827:30716,57828:30732,57829:30738,57830:31014,57831:30752,57832:31018,57833:30789,57834:30862,57835:30836,57836:30854,57837:30844,57838:30874,57839:30860,57840:30883,57841:30901,57842:30890,57843:30895,57844:30929,57845:30918,57846:30923,57847:30932,57848:30910,57849:30908,57850:30917,57851:30922,57852:30956,57920:30951,57921:30938,57922:30973,57923:30964,57924:30983,57925:30994,57926:30993,57927:31001,57928:31020,57929:31019,57930:31040,57931:31072,57932:31063,57933:31071,57934:31066,57935:31061,57936:31059,57937:31098,57938:31103,57939:31114,57940:31133,57941:31143,57942:40779,57943:31146,57944:31150,57945:31155,57946:31161,57947:31162,57948:31177,57949:31189,57950:31207,57951:31212,57952:31201,57953:31203,57954:31240,57955:31245,57956:31256,57957:31257,57958:31264,57959:31263,57960:31104,57961:31281,57962:31291,57963:31294,57964:31287,57965:31299,57966:31319,57967:31305,57968:31329,57969:31330,57970:31337,57971:40861,57972:31344,57973:31353,57974:31357,57975:31368,57976:31383,57977:31381,57978:31384,57979:31382,57980:31401,57981:31432,57982:31408,57984:31414,57985:31429,57986:31428,57987:31423,57988:36995,57989:31431,57990:31434,57991:31437,57992:31439,57993:31445,57994:31443,57995:31449,57996:31450,57997:31453,57998:31457,57999:31458,58e3:31462,58001:31469,58002:31472,58003:31490,58004:31503,58005:31498,58006:31494,58007:31539,58008:31512,58009:31513,58010:31518,58011:31541,58012:31528,58013:31542,58014:31568,58015:31610,58016:31492,58017:31565,58018:31499,58019:31564,58020:31557,58021:31605,58022:31589,58023:31604,58024:31591,58025:31600,58026:31601,58027:31596,58028:31598,58029:31645,58030:31640,58031:31647,58032:31629,58033:31644,58034:31642,58035:31627,58036:31634,58037:31631,58038:31581,58039:31641,58040:31691,58041:31681,58042:31692,58043:31695,58044:31668,58045:31686,58046:31709,58047:31721,58048:31761,58049:31764,58050:31718,58051:31717,58052:31840,58053:31744,58054:31751,58055:31763,58056:31731,58057:31735,58058:31767,58059:31757,58060:31734,58061:31779,58062:31783,58063:31786,58064:31775,58065:31799,58066:31787,58067:31805,58068:31820,58069:31811,58070:31828,58071:31823,58072:31808,58073:31824,58074:31832,58075:31839,58076:31844,58077:31830,58078:31845,58079:31852,58080:31861,58081:31875,58082:31888,58083:31908,58084:31917,58085:31906,58086:31915,58087:31905,58088:31912,58089:31923,58090:31922,58091:31921,58092:31918,58093:31929,58094:31933,58095:31936,58096:31941,58097:31938,58098:31960,58099:31954,58100:31964,58101:31970,58102:39739,58103:31983,58104:31986,58105:31988,58106:31990,58107:31994,58108:32006,58176:32002,58177:32028,58178:32021,58179:32010,58180:32069,58181:32075,58182:32046,58183:32050,58184:32063,58185:32053,58186:32070,58187:32115,58188:32086,58189:32078,58190:32114,58191:32104,58192:32110,58193:32079,58194:32099,58195:32147,58196:32137,58197:32091,58198:32143,58199:32125,58200:32155,58201:32186,58202:32174,58203:32163,58204:32181,58205:32199,58206:32189,58207:32171,58208:32317,58209:32162,58210:32175,58211:32220,58212:32184,58213:32159,58214:32176,58215:32216,58216:32221,58217:32228,58218:32222,58219:32251,58220:32242,58221:32225,58222:32261,58223:32266,58224:32291,58225:32289,58226:32274,58227:32305,58228:32287,58229:32265,58230:32267,58231:32290,58232:32326,58233:32358,58234:32315,58235:32309,58236:32313,58237:32323,58238:32311,58240:32306,58241:32314,58242:32359,58243:32349,58244:32342,58245:32350,58246:32345,58247:32346,58248:32377,58249:32362,58250:32361,58251:32380,58252:32379,58253:32387,58254:32213,58255:32381,58256:36782,58257:32383,58258:32392,58259:32393,58260:32396,58261:32402,58262:32400,58263:32403,58264:32404,58265:32406,58266:32398,58267:32411,58268:32412,58269:32568,58270:32570,58271:32581,58272:32588,58273:32589,58274:32590,58275:32592,58276:32593,58277:32597,58278:32596,58279:32600,58280:32607,58281:32608,58282:32616,58283:32617,58284:32615,58285:32632,58286:32642,58287:32646,58288:32643,58289:32648,58290:32647,58291:32652,58292:32660,58293:32670,58294:32669,58295:32666,58296:32675,58297:32687,58298:32690,58299:32697,58300:32686,58301:32694,58302:32696,58303:35697,58304:32709,58305:32710,58306:32714,58307:32725,58308:32724,58309:32737,58310:32742,58311:32745,58312:32755,58313:32761,58314:39132,58315:32774,58316:32772,58317:32779,58318:32786,58319:32792,58320:32793,58321:32796,58322:32801,58323:32808,58324:32831,58325:32827,58326:32842,58327:32838,58328:32850,58329:32856,58330:32858,58331:32863,58332:32866,58333:32872,58334:32883,58335:32882,58336:32880,58337:32886,58338:32889,58339:32893,58340:32895,58341:32900,58342:32902,58343:32901,58344:32923,58345:32915,58346:32922,58347:32941,58348:20880,58349:32940,58350:32987,58351:32997,58352:32985,58353:32989,58354:32964,58355:32986,58356:32982,58357:33033,58358:33007,58359:33009,58360:33051,58361:33065,58362:33059,58363:33071,58364:33099,58432:38539,58433:33094,58434:33086,58435:33107,58436:33105,58437:33020,58438:33137,58439:33134,58440:33125,58441:33126,58442:33140,58443:33155,58444:33160,58445:33162,58446:33152,58447:33154,58448:33184,58449:33173,58450:33188,58451:33187,58452:33119,58453:33171,58454:33193,58455:33200,58456:33205,58457:33214,58458:33208,58459:33213,58460:33216,58461:33218,58462:33210,58463:33225,58464:33229,58465:33233,58466:33241,58467:33240,58468:33224,58469:33242,58470:33247,58471:33248,58472:33255,58473:33274,58474:33275,58475:33278,58476:33281,58477:33282,58478:33285,58479:33287,58480:33290,58481:33293,58482:33296,58483:33302,58484:33321,58485:33323,58486:33336,58487:33331,58488:33344,58489:33369,58490:33368,58491:33373,58492:33370,58493:33375,58494:33380,58496:33378,58497:33384,58498:33386,58499:33387,58500:33326,58501:33393,58502:33399,58503:33400,58504:33406,58505:33421,58506:33426,58507:33451,58508:33439,58509:33467,58510:33452,58511:33505,58512:33507,58513:33503,58514:33490,58515:33524,58516:33523,58517:33530,58518:33683,58519:33539,58520:33531,58521:33529,58522:33502,58523:33542,58524:33500,58525:33545,58526:33497,58527:33589,58528:33588,58529:33558,58530:33586,58531:33585,58532:33600,58533:33593,58534:33616,58535:33605,58536:33583,58537:33579,58538:33559,58539:33560,58540:33669,58541:33690,58542:33706,58543:33695,58544:33698,58545:33686,58546:33571,58547:33678,58548:33671,58549:33674,58550:33660,58551:33717,58552:33651,58553:33653,58554:33696,58555:33673,58556:33704,58557:33780,58558:33811,58559:33771,58560:33742,58561:33789,58562:33795,58563:33752,58564:33803,58565:33729,58566:33783,58567:33799,58568:33760,58569:33778,58570:33805,58571:33826,58572:33824,58573:33725,58574:33848,58575:34054,58576:33787,58577:33901,58578:33834,58579:33852,58580:34138,58581:33924,58582:33911,58583:33899,58584:33965,58585:33902,58586:33922,58587:33897,58588:33862,58589:33836,58590:33903,58591:33913,58592:33845,58593:33994,58594:33890,58595:33977,58596:33983,58597:33951,58598:34009,58599:33997,58600:33979,58601:34010,58602:34e3,58603:33985,58604:33990,58605:34006,58606:33953,58607:34081,58608:34047,58609:34036,58610:34071,58611:34072,58612:34092,58613:34079,58614:34069,58615:34068,58616:34044,58617:34112,58618:34147,58619:34136,58620:34120,58688:34113,58689:34306,58690:34123,58691:34133,58692:34176,58693:34212,58694:34184,58695:34193,58696:34186,58697:34216,58698:34157,58699:34196,58700:34203,58701:34282,58702:34183,58703:34204,58704:34167,58705:34174,58706:34192,58707:34249,58708:34234,58709:34255,58710:34233,58711:34256,58712:34261,58713:34269,58714:34277,58715:34268,58716:34297,58717:34314,58718:34323,58719:34315,58720:34302,58721:34298,58722:34310,58723:34338,58724:34330,58725:34352,58726:34367,58727:34381,58728:20053,58729:34388,58730:34399,58731:34407,58732:34417,58733:34451,58734:34467,58735:34473,58736:34474,58737:34443,58738:34444,58739:34486,58740:34479,58741:34500,58742:34502,58743:34480,58744:34505,58745:34851,58746:34475,58747:34516,58748:34526,58749:34537,58750:34540,58752:34527,58753:34523,58754:34543,58755:34578,58756:34566,58757:34568,58758:34560,58759:34563,58760:34555,58761:34577,58762:34569,58763:34573,58764:34553,58765:34570,58766:34612,58767:34623,58768:34615,58769:34619,58770:34597,58771:34601,58772:34586,58773:34656,58774:34655,58775:34680,58776:34636,58777:34638,58778:34676,58779:34647,58780:34664,58781:34670,58782:34649,58783:34643,58784:34659,58785:34666,58786:34821,58787:34722,58788:34719,58789:34690,58790:34735,58791:34763,58792:34749,58793:34752,58794:34768,58795:38614,58796:34731,58797:34756,58798:34739,58799:34759,58800:34758,58801:34747,58802:34799,58803:34802,58804:34784,58805:34831,58806:34829,58807:34814,58808:34806,58809:34807,58810:34830,58811:34770,58812:34833,58813:34838,58814:34837,58815:34850,58816:34849,58817:34865,58818:34870,58819:34873,58820:34855,58821:34875,58822:34884,58823:34882,58824:34898,58825:34905,58826:34910,58827:34914,58828:34923,58829:34945,58830:34942,58831:34974,58832:34933,58833:34941,58834:34997,58835:34930,58836:34946,58837:34967,58838:34962,58839:34990,58840:34969,58841:34978,58842:34957,58843:34980,58844:34992,58845:35007,58846:34993,58847:35011,58848:35012,58849:35028,58850:35032,58851:35033,58852:35037,58853:35065,58854:35074,58855:35068,58856:35060,58857:35048,58858:35058,58859:35076,58860:35084,58861:35082,58862:35091,58863:35139,58864:35102,58865:35109,58866:35114,58867:35115,58868:35137,58869:35140,58870:35131,58871:35126,58872:35128,58873:35148,58874:35101,58875:35168,58876:35166,58944:35174,58945:35172,58946:35181,58947:35178,58948:35183,58949:35188,58950:35191,58951:35198,58952:35203,58953:35208,58954:35210,58955:35219,58956:35224,58957:35233,58958:35241,58959:35238,58960:35244,58961:35247,58962:35250,58963:35258,58964:35261,58965:35263,58966:35264,58967:35290,58968:35292,58969:35293,58970:35303,58971:35316,58972:35320,58973:35331,58974:35350,58975:35344,58976:35340,58977:35355,58978:35357,58979:35365,58980:35382,58981:35393,58982:35419,58983:35410,58984:35398,58985:35400,58986:35452,58987:35437,58988:35436,58989:35426,58990:35461,58991:35458,58992:35460,58993:35496,58994:35489,58995:35473,58996:35493,58997:35494,58998:35482,58999:35491,59e3:35524,59001:35533,59002:35522,59003:35546,59004:35563,59005:35571,59006:35559,59008:35556,59009:35569,59010:35604,59011:35552,59012:35554,59013:35575,59014:35550,59015:35547,59016:35596,59017:35591,59018:35610,59019:35553,59020:35606,59021:35600,59022:35607,59023:35616,59024:35635,59025:38827,59026:35622,59027:35627,59028:35646,59029:35624,59030:35649,59031:35660,59032:35663,59033:35662,59034:35657,59035:35670,59036:35675,59037:35674,59038:35691,59039:35679,59040:35692,59041:35695,59042:35700,59043:35709,59044:35712,59045:35724,59046:35726,59047:35730,59048:35731,59049:35734,59050:35737,59051:35738,59052:35898,59053:35905,59054:35903,59055:35912,59056:35916,59057:35918,59058:35920,59059:35925,59060:35938,59061:35948,59062:35960,59063:35962,59064:35970,59065:35977,59066:35973,59067:35978,59068:35981,59069:35982,59070:35988,59071:35964,59072:35992,59073:25117,59074:36013,59075:36010,59076:36029,59077:36018,59078:36019,59079:36014,59080:36022,59081:36040,59082:36033,59083:36068,59084:36067,59085:36058,59086:36093,59087:36090,59088:36091,59089:36100,59090:36101,59091:36106,59092:36103,59093:36111,59094:36109,59095:36112,59096:40782,59097:36115,59098:36045,59099:36116,59100:36118,59101:36199,59102:36205,59103:36209,59104:36211,59105:36225,59106:36249,59107:36290,59108:36286,59109:36282,59110:36303,59111:36314,59112:36310,59113:36300,59114:36315,59115:36299,59116:36330,59117:36331,59118:36319,59119:36323,59120:36348,59121:36360,59122:36361,59123:36351,59124:36381,59125:36382,59126:36368,59127:36383,59128:36418,59129:36405,59130:36400,59131:36404,59132:36426,59200:36423,59201:36425,59202:36428,59203:36432,59204:36424,59205:36441,59206:36452,59207:36448,59208:36394,59209:36451,59210:36437,59211:36470,59212:36466,59213:36476,59214:36481,59215:36487,59216:36485,59217:36484,59218:36491,59219:36490,59220:36499,59221:36497,59222:36500,59223:36505,59224:36522,59225:36513,59226:36524,59227:36528,59228:36550,59229:36529,59230:36542,59231:36549,59232:36552,59233:36555,59234:36571,59235:36579,59236:36604,59237:36603,59238:36587,59239:36606,59240:36618,59241:36613,59242:36629,59243:36626,59244:36633,59245:36627,59246:36636,59247:36639,59248:36635,59249:36620,59250:36646,59251:36659,59252:36667,59253:36665,59254:36677,59255:36674,59256:36670,59257:36684,59258:36681,59259:36678,59260:36686,59261:36695,59262:36700,59264:36706,59265:36707,59266:36708,59267:36764,59268:36767,59269:36771,59270:36781,59271:36783,59272:36791,59273:36826,59274:36837,59275:36834,59276:36842,59277:36847,59278:36999,59279:36852,59280:36869,59281:36857,59282:36858,59283:36881,59284:36885,59285:36897,59286:36877,59287:36894,59288:36886,59289:36875,59290:36903,59291:36918,59292:36917,59293:36921,59294:36856,59295:36943,59296:36944,59297:36945,59298:36946,59299:36878,59300:36937,59301:36926,59302:36950,59303:36952,59304:36958,59305:36968,59306:36975,59307:36982,59308:38568,59309:36978,59310:36994,59311:36989,59312:36993,59313:36992,59314:37002,59315:37001,59316:37007,59317:37032,59318:37039,59319:37041,59320:37045,59321:37090,59322:37092,59323:25160,59324:37083,59325:37122,59326:37138,59327:37145,59328:37170,59329:37168,59330:37194,59331:37206,59332:37208,59333:37219,59334:37221,59335:37225,59336:37235,59337:37234,59338:37259,59339:37257,59340:37250,59341:37282,59342:37291,59343:37295,59344:37290,59345:37301,59346:37300,59347:37306,59348:37312,59349:37313,59350:37321,59351:37323,59352:37328,59353:37334,59354:37343,59355:37345,59356:37339,59357:37372,59358:37365,59359:37366,59360:37406,59361:37375,59362:37396,59363:37420,59364:37397,59365:37393,59366:37470,59367:37463,59368:37445,59369:37449,59370:37476,59371:37448,59372:37525,59373:37439,59374:37451,59375:37456,59376:37532,59377:37526,59378:37523,59379:37531,59380:37466,59381:37583,59382:37561,59383:37559,59384:37609,59385:37647,59386:37626,59387:37700,59388:37678,59456:37657,59457:37666,59458:37658,59459:37667,59460:37690,59461:37685,59462:37691,59463:37724,59464:37728,59465:37756,59466:37742,59467:37718,59468:37808,59469:37804,59470:37805,59471:37780,59472:37817,59473:37846,59474:37847,59475:37864,59476:37861,59477:37848,59478:37827,59479:37853,59480:37840,59481:37832,59482:37860,59483:37914,59484:37908,59485:37907,59486:37891,59487:37895,59488:37904,59489:37942,59490:37931,59491:37941,59492:37921,59493:37946,59494:37953,59495:37970,59496:37956,59497:37979,59498:37984,59499:37986,59500:37982,59501:37994,59502:37417,59503:38e3,59504:38005,59505:38007,59506:38013,59507:37978,59508:38012,59509:38014,59510:38017,59511:38015,59512:38274,59513:38279,59514:38282,59515:38292,59516:38294,59517:38296,59518:38297,59520:38304,59521:38312,59522:38311,59523:38317,59524:38332,59525:38331,59526:38329,59527:38334,59528:38346,59529:28662,59530:38339,59531:38349,59532:38348,59533:38357,59534:38356,59535:38358,59536:38364,59537:38369,59538:38373,59539:38370,59540:38433,59541:38440,59542:38446,59543:38447,59544:38466,59545:38476,59546:38479,59547:38475,59548:38519,59549:38492,59550:38494,59551:38493,59552:38495,59553:38502,59554:38514,59555:38508,59556:38541,59557:38552,59558:38549,59559:38551,59560:38570,59561:38567,59562:38577,59563:38578,59564:38576,59565:38580,59566:38582,59567:38584,59568:38585,59569:38606,59570:38603,59571:38601,59572:38605,59573:35149,59574:38620,59575:38669,59576:38613,59577:38649,59578:38660,59579:38662,59580:38664,59581:38675,59582:38670,59583:38673,59584:38671,59585:38678,59586:38681,59587:38692,59588:38698,59589:38704,59590:38713,59591:38717,59592:38718,59593:38724,59594:38726,59595:38728,59596:38722,59597:38729,59598:38748,59599:38752,59600:38756,59601:38758,59602:38760,59603:21202,59604:38763,59605:38769,59606:38777,59607:38789,59608:38780,59609:38785,59610:38778,59611:38790,59612:38795,59613:38799,59614:38800,59615:38812,59616:38824,59617:38822,59618:38819,59619:38835,59620:38836,59621:38851,59622:38854,59623:38856,59624:38859,59625:38876,59626:38893,59627:40783,59628:38898,59629:31455,59630:38902,59631:38901,59632:38927,59633:38924,59634:38968,59635:38948,59636:38945,59637:38967,59638:38973,59639:38982,59640:38991,59641:38987,59642:39019,59643:39023,59644:39024,59712:39025,59713:39028,59714:39027,59715:39082,59716:39087,59717:39089,59718:39094,59719:39108,59720:39107,59721:39110,59722:39145,59723:39147,59724:39171,59725:39177,59726:39186,59727:39188,59728:39192,59729:39201,59730:39197,59731:39198,59732:39204,59733:39200,59734:39212,59735:39214,59736:39229,59737:39230,59738:39234,59739:39241,59740:39237,59741:39248,59742:39243,59743:39249,59744:39250,59745:39244,59746:39253,59747:39319,59748:39320,59749:39333,59750:39341,59751:39342,59752:39356,59753:39391,59754:39387,59755:39389,59756:39384,59757:39377,59758:39405,59759:39406,59760:39409,59761:39410,59762:39419,59763:39416,59764:39425,59765:39439,59766:39429,59767:39394,59768:39449,59769:39467,59770:39479,59771:39493,59772:39490,59773:39488,59774:39491,59776:39486,59777:39509,59778:39501,59779:39515,59780:39511,59781:39519,59782:39522,59783:39525,59784:39524,59785:39529,59786:39531,59787:39530,59788:39597,59789:39600,59790:39612,59791:39616,59792:39631,59793:39633,59794:39635,59795:39636,59796:39646,59797:39647,59798:39650,59799:39651,59800:39654,59801:39663,59802:39659,59803:39662,59804:39668,59805:39665,59806:39671,59807:39675,59808:39686,59809:39704,59810:39706,59811:39711,59812:39714,59813:39715,59814:39717,59815:39719,59816:39720,59817:39721,59818:39722,59819:39726,59820:39727,59821:39730,59822:39748,59823:39747,59824:39759,59825:39757,59826:39758,59827:39761,59828:39768,59829:39796,59830:39827,59831:39811,59832:39825,59833:39830,59834:39831,59835:39839,59836:39840,59837:39848,59838:39860,59839:39872,59840:39882,59841:39865,59842:39878,59843:39887,59844:39889,59845:39890,59846:39907,59847:39906,59848:39908,59849:39892,59850:39905,59851:39994,59852:39922,59853:39921,59854:39920,59855:39957,59856:39956,59857:39945,59858:39955,59859:39948,59860:39942,59861:39944,59862:39954,59863:39946,59864:39940,59865:39982,59866:39963,59867:39973,59868:39972,59869:39969,59870:39984,59871:40007,59872:39986,59873:40006,59874:39998,59875:40026,59876:40032,59877:40039,59878:40054,59879:40056,59880:40167,59881:40172,59882:40176,59883:40201,59884:40200,59885:40171,59886:40195,59887:40198,59888:40234,59889:40230,59890:40367,59891:40227,59892:40223,59893:40260,59894:40213,59895:40210,59896:40257,59897:40255,59898:40254,59899:40262,59900:40264,59968:40285,59969:40286,59970:40292,59971:40273,59972:40272,59973:40281,59974:40306,59975:40329,59976:40327,59977:40363,59978:40303,59979:40314,59980:40346,59981:40356,59982:40361,59983:40370,59984:40388,59985:40385,59986:40379,59987:40376,59988:40378,59989:40390,59990:40399,59991:40386,59992:40409,59993:40403,59994:40440,59995:40422,59996:40429,59997:40431,59998:40445,59999:40474,6e4:40475,60001:40478,60002:40565,60003:40569,60004:40573,60005:40577,60006:40584,60007:40587,60008:40588,60009:40594,60010:40597,60011:40593,60012:40605,60013:40613,60014:40617,60015:40632,60016:40618,60017:40621,60018:38753,60019:40652,60020:40654,60021:40655,60022:40656,60023:40660,60024:40668,60025:40670,60026:40669,60027:40672,60028:40677,60029:40680,60030:40687,60032:40692,60033:40694,60034:40695,60035:40697,60036:40699,60037:40700,60038:40701,60039:40711,60040:40712,60041:30391,60042:40725,60043:40737,60044:40748,60045:40766,60046:40778,60047:40786,60048:40788,60049:40803,60050:40799,60051:40800,60052:40801,60053:40806,60054:40807,60055:40812,60056:40810,60057:40823,60058:40818,60059:40822,60060:40853,60061:40860,60062:40864,60063:22575,60064:27079,60065:36953,60066:29796,60067:20956,60068:29081}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(1),o=i(2);function s(f,d,h,y){var w;d.degree()<h.degree()&&(w=[h,d],d=w[0],h=w[1]);for(var _=d,E=h,p=f.zero,m=f.one;E.degree()>=y/2;){var S=_,F=p;if(_=E,p=m,_.isZero())return null;E=S;for(var I=f.zero,v=_.getCoefficient(_.degree()),A=f.inverse(v);E.degree()>=_.degree()&&!E.isZero();){var D=E.degree()-_.degree(),L=f.multiply(E.getCoefficient(E.degree()),A);I=I.addOrSubtract(f.buildMonomial(D,L)),E=E.addOrSubtract(_.multiplyByMonomial(D,L))}if(m=I.multiplyPoly(p).addOrSubtract(F),E.degree()>=_.degree())return null}var j=m.getCoefficient(0);if(j===0)return null;var Y=f.inverse(j);return[m.multiply(Y),E.multiply(Y)]}function u(f,d){var h=d.degree();if(h===1)return[d.getCoefficient(1)];for(var y=new Array(h),w=0,_=1;_<f.size&&w<h;_++)d.evaluateAt(_)===0&&(y[w]=f.inverse(_),w++);return w!==h?null:y}function l(f,d,h){for(var y=h.length,w=new Array(y),_=0;_<y;_++){for(var E=f.inverse(h[_]),p=1,m=0;m<y;m++)_!==m&&(p=f.multiply(p,a.addOrSubtractGF(1,f.multiply(h[m],E))));w[_]=f.multiply(d.evaluateAt(E),f.inverse(p)),f.generatorBase!==0&&(w[_]=f.multiply(w[_],E))}return w}function c(f,d){var h=new Uint8ClampedArray(f.length);h.set(f);for(var y=new a.default(285,256,0),w=new o.default(y,h),_=new Uint8ClampedArray(d),E=!1,p=0;p<d;p++){var m=w.evaluateAt(y.exp(p+y.generatorBase));_[_.length-1-p]=m,m!==0&&(E=!0)}if(!E)return h;var S=new o.default(y,_),F=s(y,y.buildMonomial(d,1),S,d);if(F===null)return null;var I=u(y,F[0]);if(I==null)return null;for(var v=l(y,F[1],I),A=0;A<I.length;A++){var D=h.length-1-y.log(I[A]);if(D<0)return null;h[D]=a.addOrSubtractGF(h[D],v[A])}return h}n.decode=c},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.VERSIONS=[{infoBits:null,versionNumber:1,alignmentPatternCenters:[],errorCorrectionLevels:[{ecCodewordsPerBlock:7,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:13,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:13}]},{ecCodewordsPerBlock:17,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:9}]}]},{infoBits:null,versionNumber:2,alignmentPatternCenters:[6,18],errorCorrectionLevels:[{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:34}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:28}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]}]},{infoBits:null,versionNumber:3,alignmentPatternCenters:[6,22],errorCorrectionLevels:[{ecCodewordsPerBlock:15,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:55}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:13}]}]},{infoBits:null,versionNumber:4,alignmentPatternCenters:[6,26],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:80}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:32}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:9}]}]},{infoBits:null,versionNumber:5,alignmentPatternCenters:[6,30],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:43}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:11},{numBlocks:2,dataCodewordsPerBlock:12}]}]},{infoBits:null,versionNumber:6,alignmentPatternCenters:[6,34],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:27}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:31892,versionNumber:7,alignmentPatternCenters:[6,22,38],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:78}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:31}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:13},{numBlocks:1,dataCodewordsPerBlock:14}]}]},{infoBits:34236,versionNumber:8,alignmentPatternCenters:[6,24,42],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:97}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:38},{numBlocks:2,dataCodewordsPerBlock:39}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:18},{numBlocks:2,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:14},{numBlocks:2,dataCodewordsPerBlock:15}]}]},{infoBits:39577,versionNumber:9,alignmentPatternCenters:[6,26,46],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:36},{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:12},{numBlocks:4,dataCodewordsPerBlock:13}]}]},{infoBits:42195,versionNumber:10,alignmentPatternCenters:[6,28,50],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68},{numBlocks:2,dataCodewordsPerBlock:69}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:43},{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]}]},{infoBits:48118,versionNumber:11,alignmentPatternCenters:[6,30,54],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:81}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:50},{numBlocks:4,dataCodewordsPerBlock:51}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:22},{numBlocks:4,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:12},{numBlocks:8,dataCodewordsPerBlock:13}]}]},{infoBits:51042,versionNumber:12,alignmentPatternCenters:[6,32,58],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:92},{numBlocks:2,dataCodewordsPerBlock:93}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:36},{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:20},{numBlocks:6,dataCodewordsPerBlock:21}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:55367,versionNumber:13,alignmentPatternCenters:[6,34,62],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:107}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:37},{numBlocks:1,dataCodewordsPerBlock:38}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:20},{numBlocks:4,dataCodewordsPerBlock:21}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:11},{numBlocks:4,dataCodewordsPerBlock:12}]}]},{infoBits:58893,versionNumber:14,alignmentPatternCenters:[6,26,46,66],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:115},{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:40},{numBlocks:5,dataCodewordsPerBlock:41}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:16},{numBlocks:5,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:5,dataCodewordsPerBlock:13}]}]},{infoBits:63784,versionNumber:15,alignmentPatternCenters:[6,26,48,70],errorCorrectionLevels:[{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:87},{numBlocks:1,dataCodewordsPerBlock:88}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:41},{numBlocks:5,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:7,dataCodewordsPerBlock:13}]}]},{infoBits:68472,versionNumber:16,alignmentPatternCenters:[6,26,50,74],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:98},{numBlocks:1,dataCodewordsPerBlock:99}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:70749,versionNumber:17,alignmentPatternCenters:[6,30,54,78],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:1,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22},{numBlocks:15,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:17,dataCodewordsPerBlock:15}]}]},{infoBits:76311,versionNumber:18,alignmentPatternCenters:[6,30,56,82],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:120},{numBlocks:1,dataCodewordsPerBlock:121}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:43},{numBlocks:4,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},{numBlocks:1,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:19,dataCodewordsPerBlock:15}]}]},{infoBits:79154,versionNumber:19,alignmentPatternCenters:[6,30,58,86],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:113},{numBlocks:4,dataCodewordsPerBlock:114}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:44},{numBlocks:11,dataCodewordsPerBlock:45}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:21},{numBlocks:4,dataCodewordsPerBlock:22}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:13},{numBlocks:16,dataCodewordsPerBlock:14}]}]},{infoBits:84390,versionNumber:20,alignmentPatternCenters:[6,34,62,90],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:41},{numBlocks:13,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},{numBlocks:5,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:15},{numBlocks:10,dataCodewordsPerBlock:16}]}]},{infoBits:87683,versionNumber:21,alignmentPatternCenters:[6,28,50,72,94],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:116},{numBlocks:4,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:16},{numBlocks:6,dataCodewordsPerBlock:17}]}]},{infoBits:92361,versionNumber:22,alignmentPatternCenters:[6,26,50,74,98],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:111},{numBlocks:7,dataCodewordsPerBlock:112}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:13}]}]},{infoBits:96236,versionNumber:23,alignmentPatternCenters:[6,30,54,74,102],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:121},{numBlocks:5,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:47},{numBlocks:14,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:16,dataCodewordsPerBlock:15},{numBlocks:14,dataCodewordsPerBlock:16}]}]},{infoBits:102084,versionNumber:24,alignmentPatternCenters:[6,28,54,80,106],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:45},{numBlocks:14,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:30,dataCodewordsPerBlock:16},{numBlocks:2,dataCodewordsPerBlock:17}]}]},{infoBits:102881,versionNumber:25,alignmentPatternCenters:[6,32,58,84,110],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:106},{numBlocks:4,dataCodewordsPerBlock:107}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:47},{numBlocks:13,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:110507,versionNumber:26,alignmentPatternCenters:[6,30,58,86,114],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:114},{numBlocks:2,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:46},{numBlocks:4,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:28,dataCodewordsPerBlock:22},{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:33,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]}]},{infoBits:110734,versionNumber:27,alignmentPatternCenters:[6,34,62,90,118],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:23},{numBlocks:26,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:15},{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:117786,versionNumber:28,alignmentPatternCenters:[6,26,50,74,98,122],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:117},{numBlocks:10,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:45},{numBlocks:23,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:24},{numBlocks:31,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:31,dataCodewordsPerBlock:16}]}]},{infoBits:119615,versionNumber:29,alignmentPatternCenters:[6,30,54,78,102,126],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:116},{numBlocks:7,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:21,dataCodewordsPerBlock:45},{numBlocks:7,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:23},{numBlocks:37,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:15},{numBlocks:26,dataCodewordsPerBlock:16}]}]},{infoBits:126325,versionNumber:30,alignmentPatternCenters:[6,26,52,78,104,130],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:115},{numBlocks:10,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:47},{numBlocks:10,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},{numBlocks:25,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},{numBlocks:25,dataCodewordsPerBlock:16}]}]},{infoBits:127568,versionNumber:31,alignmentPatternCenters:[6,30,56,82,108,134],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:3,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:46},{numBlocks:29,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:24},{numBlocks:1,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:133589,versionNumber:32,alignmentPatternCenters:[6,34,60,86,112,138],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:24},{numBlocks:35,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:15},{numBlocks:35,dataCodewordsPerBlock:16}]}]},{infoBits:136944,versionNumber:33,alignmentPatternCenters:[6,30,58,86,114,142],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115},{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:21,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:24},{numBlocks:19,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:141498,versionNumber:34,alignmentPatternCenters:[6,34,62,90,118,146],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:6,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:44,dataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:59,dataCodewordsPerBlock:16},{numBlocks:1,dataCodewordsPerBlock:17}]}]},{infoBits:145311,versionNumber:35,alignmentPatternCenters:[6,30,54,78,102,126,150],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:121},{numBlocks:7,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:47},{numBlocks:26,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:39,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:41,dataCodewordsPerBlock:16}]}]},{infoBits:150283,versionNumber:36,alignmentPatternCenters:[6,24,50,76,102,128,154],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:121},{numBlocks:14,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:47},{numBlocks:34,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:46,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:64,dataCodewordsPerBlock:16}]}]},{infoBits:152622,versionNumber:37,alignmentPatternCenters:[6,28,54,80,106,132,158],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:46},{numBlocks:14,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:49,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:24,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:158308,versionNumber:38,alignmentPatternCenters:[6,32,58,84,110,136,162],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:122},{numBlocks:18,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:46},{numBlocks:32,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:48,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:15},{numBlocks:32,dataCodewordsPerBlock:16}]}]},{infoBits:161089,versionNumber:39,alignmentPatternCenters:[6,26,54,82,110,138,166],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:40,dataCodewordsPerBlock:47},{numBlocks:7,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:43,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:15},{numBlocks:67,dataCodewordsPerBlock:16}]}]},{infoBits:167017,versionNumber:40,alignmentPatternCenters:[6,30,58,86,114,142,170],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:118},{numBlocks:6,dataCodewordsPerBlock:119}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:18,dataCodewordsPerBlock:47},{numBlocks:31,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:24},{numBlocks:34,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:15},{numBlocks:61,dataCodewordsPerBlock:16}]}]}]},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(0);function o(c,f,d,h){var y=c.x-f.x+d.x-h.x,w=c.y-f.y+d.y-h.y;if(y===0&&w===0)return{a11:f.x-c.x,a12:f.y-c.y,a13:0,a21:d.x-f.x,a22:d.y-f.y,a23:0,a31:c.x,a32:c.y,a33:1};var _=f.x-d.x,E=h.x-d.x,p=f.y-d.y,m=h.y-d.y,S=_*m-E*p,F=(y*m-E*w)/S,I=(_*w-y*p)/S;return{a11:f.x-c.x+F*f.x,a12:f.y-c.y+F*f.y,a13:F,a21:h.x-c.x+I*h.x,a22:h.y-c.y+I*h.y,a23:I,a31:c.x,a32:c.y,a33:1}}function s(c,f,d,h){var y=o(c,f,d,h);return{a11:y.a22*y.a33-y.a23*y.a32,a12:y.a13*y.a32-y.a12*y.a33,a13:y.a12*y.a23-y.a13*y.a22,a21:y.a23*y.a31-y.a21*y.a33,a22:y.a11*y.a33-y.a13*y.a31,a23:y.a13*y.a21-y.a11*y.a23,a31:y.a21*y.a32-y.a22*y.a31,a32:y.a12*y.a31-y.a11*y.a32,a33:y.a11*y.a22-y.a12*y.a21}}function u(c,f){return{a11:c.a11*f.a11+c.a21*f.a12+c.a31*f.a13,a12:c.a12*f.a11+c.a22*f.a12+c.a32*f.a13,a13:c.a13*f.a11+c.a23*f.a12+c.a33*f.a13,a21:c.a11*f.a21+c.a21*f.a22+c.a31*f.a23,a22:c.a12*f.a21+c.a22*f.a22+c.a32*f.a23,a23:c.a13*f.a21+c.a23*f.a22+c.a33*f.a23,a31:c.a11*f.a31+c.a21*f.a32+c.a31*f.a33,a32:c.a12*f.a31+c.a22*f.a32+c.a32*f.a33,a33:c.a13*f.a31+c.a23*f.a32+c.a33*f.a33}}function l(c,f){for(var d=s({x:3.5,y:3.5},{x:f.dimension-3.5,y:3.5},{x:f.dimension-6.5,y:f.dimension-6.5},{x:3.5,y:f.dimension-3.5}),h=o(f.topLeft,f.topRight,f.alignmentPattern,f.bottomLeft),y=u(h,d),w=a.BitMatrix.createEmpty(f.dimension,f.dimension),_=function(I,v){var A=y.a13*I+y.a23*v+y.a33;return{x:(y.a11*I+y.a21*v+y.a31)/A,y:(y.a12*I+y.a22*v+y.a32)/A}},E=0;E<f.dimension;E++)for(var p=0;p<f.dimension;p++){var m=p+.5,S=E+.5,F=_(m,S);w.set(p,E,c.get(Math.floor(F.x),Math.floor(F.y)))}return{matrix:w,mappingFunction:_}}n.extract=l},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=4,o=.5,s=1.5,u=function(m,S){return Math.sqrt(Math.pow(S.x-m.x,2)+Math.pow(S.y-m.y,2))};function l(m){return m.reduce(function(S,F){return S+F})}function c(m,S,F){var I,v,A,D,L=u(m,S),j=u(S,F),Y=u(m,F),O,B,C;return j>=L&&j>=Y?(I=[S,m,F],O=I[0],B=I[1],C=I[2]):Y>=j&&Y>=L?(v=[m,S,F],O=v[0],B=v[1],C=v[2]):(A=[m,F,S],O=A[0],B=A[1],C=A[2]),(C.x-B.x)*(O.y-B.y)-(C.y-B.y)*(O.x-B.x)<0&&(D=[C,O],O=D[0],C=D[1]),{bottomLeft:O,topLeft:B,topRight:C}}function f(m,S,F,I){var v=(l(h(m,F,I,5))/7+l(h(m,S,I,5))/7+l(h(F,m,I,5))/7+l(h(S,m,I,5))/7)/4;if(v<1)throw new Error("Invalid module size");var A=Math.round(u(m,S)/v),D=Math.round(u(m,F)/v),L=Math.floor((A+D)/2)+7;switch(L%4){case 0:L++;break;case 2:L--;break}return{dimension:L,moduleSize:v}}function d(m,S,F,I){var v=[{x:Math.floor(m.x),y:Math.floor(m.y)}],A=Math.abs(S.y-m.y)>Math.abs(S.x-m.x),D,L,j,Y;A?(D=Math.floor(m.y),L=Math.floor(m.x),j=Math.floor(S.y),Y=Math.floor(S.x)):(D=Math.floor(m.x),L=Math.floor(m.y),j=Math.floor(S.x),Y=Math.floor(S.y));for(var O=Math.abs(j-D),B=Math.abs(Y-L),C=Math.floor(-O/2),N=D<j?1:-1,U=L<Y?1:-1,G=!0,$=D,Z=L;$!==j+N;$+=N){var W=A?Z:$,P=A?$:Z;if(F.get(W,P)!==G&&(G=!G,v.push({x:W,y:P}),v.length===I+1))break;if(C+=B,C>0){if(Z===Y)break;Z+=U,C-=O}}for(var R=[],re=0;re<I;re++)v[re]&&v[re+1]?R.push(u(v[re],v[re+1])):R.push(0);return R}function h(m,S,F,I){var v,A=S.y-m.y,D=S.x-m.x,L=d(m,S,F,Math.ceil(I/2)),j=d(m,{x:m.x-D,y:m.y-A},F,Math.ceil(I/2)),Y=L.shift()+j.shift()-1;return(v=j.concat(Y)).concat.apply(v,L)}function y(m,S){var F=l(m)/l(S),I=0;return S.forEach(function(v,A){I+=Math.pow(m[A]-v*F,2)}),{averageSize:F,error:I}}function w(m,S,F){try{var I=h(m,{x:-1,y:m.y},F,S.length),v=h(m,{x:m.x,y:-1},F,S.length),A={x:Math.max(0,m.x-m.y)-1,y:Math.max(0,m.y-m.x)-1},D=h(m,A,F,S.length),L={x:Math.min(F.width,m.x+m.y)+1,y:Math.min(F.height,m.y+m.x)+1},j=h(m,L,F,S.length),Y=y(I,S),O=y(v,S),B=y(D,S),C=y(j,S),N=Math.sqrt(Y.error*Y.error+O.error*O.error+B.error*B.error+C.error*C.error),U=(Y.averageSize+O.averageSize+B.averageSize+C.averageSize)/4,G=(Math.pow(Y.averageSize-U,2)+Math.pow(O.averageSize-U,2)+Math.pow(B.averageSize-U,2)+Math.pow(C.averageSize-U,2))/U;return N+G}catch{return 1/0}}function _(m,S){for(var F=Math.round(S.x);m.get(F,Math.round(S.y));)F--;for(var I=Math.round(S.x);m.get(I,Math.round(S.y));)I++;for(var v=(F+I)/2,A=Math.round(S.y);m.get(Math.round(v),A);)A--;for(var D=Math.round(S.y);m.get(Math.round(v),D);)D++;var L=(A+D)/2;return{x:v,y:L}}function E(m){for(var S=[],F=[],I=[],v=[],A=function(W){for(var P=0,R=!1,re=[0,0,0,0,0],T=function(z){var b=m.get(z,W);if(b===R)P++;else{re=[re[1],re[2],re[3],re[4],P],P=1,R=b;var J=l(re)/7,V=Math.abs(re[0]-J)<J&&Math.abs(re[1]-J)<J&&Math.abs(re[2]-3*J)<3*J&&Math.abs(re[3]-J)<J&&Math.abs(re[4]-J)<J&&!b,g=l(re.slice(-3))/3,M=Math.abs(re[2]-g)<g&&Math.abs(re[3]-g)<g&&Math.abs(re[4]-g)<g&&b;if(V){var Q=z-re[3]-re[4],k=Q-re[2],K={startX:k,endX:Q,y:W},ie=F.filter(function(he){return k>=he.bottom.startX&&k<=he.bottom.endX||Q>=he.bottom.startX&&k<=he.bottom.endX||k<=he.bottom.startX&&Q>=he.bottom.endX&&re[2]/(he.bottom.endX-he.bottom.startX)<s&&re[2]/(he.bottom.endX-he.bottom.startX)>o});ie.length>0?ie[0].bottom=K:F.push({top:K,bottom:K})}if(M){var ne=z-re[4],le=ne-re[3],K={startX:le,y:W,endX:ne},ie=v.filter(function(ce){return le>=ce.bottom.startX&&le<=ce.bottom.endX||ne>=ce.bottom.startX&&le<=ce.bottom.endX||le<=ce.bottom.startX&&ne>=ce.bottom.endX&&re[2]/(ce.bottom.endX-ce.bottom.startX)<s&&re[2]/(ce.bottom.endX-ce.bottom.startX)>o});ie.length>0?ie[0].bottom=K:v.push({top:K,bottom:K})}}},x=-1;x<=m.width;x++)T(x);S.push.apply(S,F.filter(function(z){return z.bottom.y!==W&&z.bottom.y-z.top.y>=2})),F=F.filter(function(z){return z.bottom.y===W}),I.push.apply(I,v.filter(function(z){return z.bottom.y!==W})),v=v.filter(function(z){return z.bottom.y===W})},D=0;D<=m.height;D++)A(D);S.push.apply(S,F.filter(function(W){return W.bottom.y-W.top.y>=2})),I.push.apply(I,v);var L=S.filter(function(W){return W.bottom.y-W.top.y>=2}).map(function(W){var P=(W.top.startX+W.top.endX+W.bottom.startX+W.bottom.endX)/4,R=(W.top.y+W.bottom.y+1)/2;if(m.get(Math.round(P),Math.round(R))){var re=[W.top.endX-W.top.startX,W.bottom.endX-W.bottom.startX,W.bottom.y-W.top.y+1],T=l(re)/re.length,x=w({x:Math.round(P),y:Math.round(R)},[1,1,3,1,1],m);return{score:x,x:P,y:R,size:T}}}).filter(function(W){return!!W}).sort(function(W,P){return W.score-P.score}).map(function(W,P,R){if(P>a)return null;var re=R.filter(function(x,z){return P!==z}).map(function(x){return{x:x.x,y:x.y,score:x.score+Math.pow(x.size-W.size,2)/W.size,size:x.size}}).sort(function(x,z){return x.score-z.score});if(re.length<2)return null;var T=W.score+re[0].score+re[1].score;return{points:[W].concat(re.slice(0,2)),score:T}}).filter(function(W){return!!W}).sort(function(W,P){return W.score-P.score});if(L.length===0)return null;var j=c(L[0].points[0],L[0].points[1],L[0].points[2]),Y=j.topRight,O=j.topLeft,B=j.bottomLeft,C=p(m,I,Y,O,B),N=[];C&&N.push({alignmentPattern:{x:C.alignmentPattern.x,y:C.alignmentPattern.y},bottomLeft:{x:B.x,y:B.y},dimension:C.dimension,topLeft:{x:O.x,y:O.y},topRight:{x:Y.x,y:Y.y}});var U=_(m,Y),G=_(m,O),$=_(m,B),Z=p(m,I,U,G,$);return Z&&N.push({alignmentPattern:{x:Z.alignmentPattern.x,y:Z.alignmentPattern.y},bottomLeft:{x:$.x,y:$.y},topLeft:{x:G.x,y:G.y},topRight:{x:U.x,y:U.y},dimension:Z.dimension}),N.length===0?null:N}n.locate=E;function p(m,S,F,I,v){var A,D,L;try{A=f(I,F,v,m),D=A.dimension,L=A.moduleSize}catch{return null}var j={x:F.x-I.x+v.x,y:F.y-I.y+v.y},Y=(u(I,v)+u(I,F))/2/L,O=1-3/Y,B={x:I.x+O*(j.x-I.x),y:I.y+O*(j.y-I.y)},C=S.map(function(U){var G=(U.top.startX+U.top.endX+U.bottom.startX+U.bottom.endX)/4,$=(U.top.y+U.bottom.y+1)/2;if(m.get(Math.floor(G),Math.floor($))){var Z=[U.top.endX-U.top.startX,U.bottom.endX-U.bottom.startX,U.bottom.y-U.top.y+1];l(Z)/Z.length;var W=w({x:Math.floor(G),y:Math.floor($)},[1,1,1],m),P=W+u({x:G,y:$},B);return{x:G,y:$,score:P}}}).filter(function(U){return!!U}).sort(function(U,G){return U.score-G.score}),N=Y>=15&&C.length?C[0]:B;return{alignmentPattern:N,dimension:D}}}]).default})})(y7);var UO=y7.exports,tr={options:{usePureJavaScript:!1}},rv={},OO=rv,J4={};rv.encode=function(t,e,r){if(typeof e!="string")throw new TypeError('"alphabet" must be a string.');if(r!==void 0&&typeof r!="number")throw new TypeError('"maxline" must be a number.');var n="";if(!(t instanceof Uint8Array))n=VO(t,e);else{var i=0,a=e.length,o=e.charAt(0),s=[0];for(i=0;i<t.length;++i){for(var u=0,l=t[i];u<s.length;++u)l+=s[u]<<8,s[u]=l%a,l=l/a|0;for(;l>0;)s.push(l%a),l=l/a|0}for(i=0;t[i]===0&&i<t.length-1;++i)n+=o;for(i=s.length-1;i>=0;--i)n+=e[s[i]]}if(r){var c=new RegExp(".{1,"+r+"}","g");n=n.match(c).join(`\r
`)}return n};rv.decode=function(t,e){if(typeof t!="string")throw new TypeError('"input" must be a string.');if(typeof e!="string")throw new TypeError('"alphabet" must be a string.');var r=J4[e];if(!r){r=J4[e]=[];for(var n=0;n<e.length;++n)r[e.charCodeAt(n)]=n}t=t.replace(/\s/g,"");for(var i=e.length,a=e.charAt(0),o=[0],n=0;n<t.length;n++){var s=r[t.charCodeAt(n)];if(s===void 0)return;for(var u=0,l=s;u<o.length;++u)l+=o[u]*i,o[u]=l&255,l>>=8;for(;l>0;)o.push(l&255),l>>=8}for(var c=0;t[c]===a&&c<t.length-1;++c)o.push(0);return typeof Buffer<"u"?Buffer.from(o.reverse()):new Uint8Array(o.reverse())};function VO(t,e){var r=0,n=e.length,i=e.charAt(0),a=[0];for(r=0;r<t.length();++r){for(var o=0,s=t.at(r);o<a.length;++o)s+=a[o]<<8,a[o]=s%n,s=s/n|0;for(;s>0;)a.push(s%n),s=s/n|0}var u="";for(r=0;t.at(r)===0&&r<t.length()-1;++r)u+=i;for(r=a.length-1;r>=0;--r)u+=e[a[r]];return u}var eC=tr,tC=OO,ke=eC.util=eC.util||{};(function(){if(typeof process<"u"&&process.nextTick&&!process.browser){ke.nextTick=process.nextTick,typeof setImmediate=="function"?ke.setImmediate=setImmediate:ke.setImmediate=ke.nextTick;return}if(typeof setImmediate=="function"){ke.setImmediate=function(){return setImmediate.apply(void 0,arguments)},ke.nextTick=function(s){return setImmediate(s)};return}if(ke.setImmediate=function(s){setTimeout(s,0)},typeof window<"u"&&typeof window.postMessage=="function"){let s=function(u){if(u.source===window&&u.data===t){u.stopPropagation();var l=e.slice();e.length=0,l.forEach(function(c){c()})}};var o=s,t="forge.setImmediate",e=[];ke.setImmediate=function(u){e.push(u),e.length===1&&window.postMessage(t,"*")},window.addEventListener("message",s,!0)}if(typeof MutationObserver<"u"){var r=Date.now(),n=!0,i=document.createElement("div"),e=[];new MutationObserver(function(){var u=e.slice();e.length=0,u.forEach(function(l){l()})}).observe(i,{attributes:!0});var a=ke.setImmediate;ke.setImmediate=function(u){Date.now()-r>15?(r=Date.now(),a(u)):(e.push(u),e.length===1&&i.setAttribute("a",n=!n))}}ke.nextTick=ke.setImmediate})();ke.isNodejs=typeof process<"u"&&process.versions&&process.versions.node;ke.globalScope=function(){return ke.isNodejs?Kn:typeof self>"u"?window:self}();ke.isArray=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};ke.isArrayBuffer=function(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer};ke.isArrayBufferView=function(t){return t&&ke.isArrayBuffer(t.buffer)&&t.byteLength!==void 0};function jd(t){if(!(t===8||t===16||t===24||t===32))throw new Error("Only 8, 16, 24, or 32 bits supported: "+t)}ke.ByteBuffer=nv;function nv(t){if(this.data="",this.read=0,typeof t=="string")this.data=t;else if(ke.isArrayBuffer(t)||ke.isArrayBufferView(t))if(typeof Buffer<"u"&&t instanceof Buffer)this.data=t.toString("binary");else{var e=new Uint8Array(t);try{this.data=String.fromCharCode.apply(null,e)}catch{for(var r=0;r<e.length;++r)this.putByte(e[r])}}else(t instanceof nv||typeof t=="object"&&typeof t.data=="string"&&typeof t.read=="number")&&(this.data=t.data,this.read=t.read);this._constructedStringLength=0}ke.ByteStringBuffer=nv;var GO=4096;ke.ByteStringBuffer.prototype._optimizeConstructedString=function(t){this._constructedStringLength+=t,this._constructedStringLength>GO&&(this.data.substr(0,1),this._constructedStringLength=0)};ke.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read};ke.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0};ke.ByteStringBuffer.prototype.putByte=function(t){return this.putBytes(String.fromCharCode(t))};ke.ByteStringBuffer.prototype.fillWithByte=function(t,e){t=String.fromCharCode(t);for(var r=this.data;e>0;)e&1&&(r+=t),e>>>=1,e>0&&(t+=t);return this.data=r,this._optimizeConstructedString(e),this};ke.ByteStringBuffer.prototype.putBytes=function(t){return this.data+=t,this._optimizeConstructedString(t.length),this};ke.ByteStringBuffer.prototype.putString=function(t){return this.putBytes(ke.encodeUtf8(t))};ke.ByteStringBuffer.prototype.putInt16=function(t){return this.putBytes(String.fromCharCode(t>>8&255)+String.fromCharCode(t&255))};ke.ByteStringBuffer.prototype.putInt24=function(t){return this.putBytes(String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t&255))};ke.ByteStringBuffer.prototype.putInt32=function(t){return this.putBytes(String.fromCharCode(t>>24&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t&255))};ke.ByteStringBuffer.prototype.putInt16Le=function(t){return this.putBytes(String.fromCharCode(t&255)+String.fromCharCode(t>>8&255))};ke.ByteStringBuffer.prototype.putInt24Le=function(t){return this.putBytes(String.fromCharCode(t&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t>>16&255))};ke.ByteStringBuffer.prototype.putInt32Le=function(t){return this.putBytes(String.fromCharCode(t&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>24&255))};ke.ByteStringBuffer.prototype.putInt=function(t,e){jd(e);var r="";do e-=8,r+=String.fromCharCode(t>>e&255);while(e>0);return this.putBytes(r)};ke.ByteStringBuffer.prototype.putSignedInt=function(t,e){return t<0&&(t+=2<<e-1),this.putInt(t,e)};ke.ByteStringBuffer.prototype.putBuffer=function(t){return this.putBytes(t.getBytes())};ke.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)};ke.ByteStringBuffer.prototype.getInt16=function(){var t=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,t};ke.ByteStringBuffer.prototype.getInt24=function(){var t=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,t};ke.ByteStringBuffer.prototype.getInt32=function(){var t=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,t};ke.ByteStringBuffer.prototype.getInt16Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,t};ke.ByteStringBuffer.prototype.getInt24Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,t};ke.ByteStringBuffer.prototype.getInt32Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,t};ke.ByteStringBuffer.prototype.getInt=function(t){jd(t);var e=0;do e=(e<<8)+this.data.charCodeAt(this.read++),t-=8;while(t>0);return e};ke.ByteStringBuffer.prototype.getSignedInt=function(t){var e=this.getInt(t),r=2<<t-2;return e>=r&&(e-=r<<1),e};ke.ByteStringBuffer.prototype.getBytes=function(t){var e;return t?(t=Math.min(this.length(),t),e=this.data.slice(this.read,this.read+t),this.read+=t):t===0?e="":(e=this.read===0?this.data:this.data.slice(this.read),this.clear()),e};ke.ByteStringBuffer.prototype.bytes=function(t){return typeof t>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+t)};ke.ByteStringBuffer.prototype.at=function(t){return this.data.charCodeAt(this.read+t)};ke.ByteStringBuffer.prototype.setAt=function(t,e){return this.data=this.data.substr(0,this.read+t)+String.fromCharCode(e)+this.data.substr(this.read+t+1),this};ke.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)};ke.ByteStringBuffer.prototype.copy=function(){var t=ke.createBuffer(this.data);return t.read=this.read,t};ke.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this};ke.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this};ke.ByteStringBuffer.prototype.truncate=function(t){var e=Math.max(0,this.length()-t);return this.data=this.data.substr(this.read,e),this.read=0,this};ke.ByteStringBuffer.prototype.toHex=function(){for(var t="",e=this.read;e<this.data.length;++e){var r=this.data.charCodeAt(e);r<16&&(t+="0"),t+=r.toString(16)}return t};ke.ByteStringBuffer.prototype.toString=function(){return ke.decodeUtf8(this.bytes())};function zO(t,e){e=e||{},this.read=e.readOffset||0,this.growSize=e.growSize||1024;var r=ke.isArrayBuffer(t),n=ke.isArrayBufferView(t);if(r||n){r?this.data=new DataView(t):this.data=new DataView(t.buffer,t.byteOffset,t.byteLength),this.write="writeOffset"in e?e.writeOffset:this.data.byteLength;return}this.data=new DataView(new ArrayBuffer(0)),this.write=0,t!=null&&this.putBytes(t),"writeOffset"in e&&(this.write=e.writeOffset)}ke.DataBuffer=zO;ke.DataBuffer.prototype.length=function(){return this.write-this.read};ke.DataBuffer.prototype.isEmpty=function(){return this.length()<=0};ke.DataBuffer.prototype.accommodate=function(t,e){if(this.length()>=t)return this;e=Math.max(e||this.growSize,t);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),n=new Uint8Array(this.length()+e);return n.set(r),this.data=new DataView(n.buffer),this};ke.DataBuffer.prototype.putByte=function(t){return this.accommodate(1),this.data.setUint8(this.write++,t),this};ke.DataBuffer.prototype.fillWithByte=function(t,e){this.accommodate(e);for(var r=0;r<e;++r)this.data.setUint8(t);return this};ke.DataBuffer.prototype.putBytes=function(t,e){if(ke.isArrayBufferView(t)){var r=new Uint8Array(t.buffer,t.byteOffset,t.byteLength),n=r.byteLength-r.byteOffset;this.accommodate(n);var i=new Uint8Array(this.data.buffer,this.write);return i.set(r),this.write+=n,this}if(ke.isArrayBuffer(t)){var r=new Uint8Array(t);this.accommodate(r.byteLength);var i=new Uint8Array(this.data.buffer);return i.set(r,this.write),this.write+=r.byteLength,this}if(t instanceof ke.DataBuffer||typeof t=="object"&&typeof t.read=="number"&&typeof t.write=="number"&&ke.isArrayBufferView(t.data)){var r=new Uint8Array(t.data.byteLength,t.read,t.length());this.accommodate(r.byteLength);var i=new Uint8Array(t.data.byteLength,this.write);return i.set(r),this.write+=r.byteLength,this}if(t instanceof ke.ByteStringBuffer&&(t=t.data,e="binary"),e=e||"binary",typeof t=="string"){var a;if(e==="hex")return this.accommodate(Math.ceil(t.length/2)),a=new Uint8Array(this.data.buffer,this.write),this.write+=ke.binary.hex.decode(t,a,this.write),this;if(e==="base64")return this.accommodate(Math.ceil(t.length/4)*3),a=new Uint8Array(this.data.buffer,this.write),this.write+=ke.binary.base64.decode(t,a,this.write),this;if(e==="utf8"&&(t=ke.encodeUtf8(t),e="binary"),e==="binary"||e==="raw")return this.accommodate(t.length),a=new Uint8Array(this.data.buffer,this.write),this.write+=ke.binary.raw.decode(a),this;if(e==="utf16")return this.accommodate(t.length*2),a=new Uint16Array(this.data.buffer,this.write),this.write+=ke.text.utf16.encode(a),this;throw new Error("Invalid encoding: "+e)}throw Error("Invalid parameter: "+t)};ke.DataBuffer.prototype.putBuffer=function(t){return this.putBytes(t),t.clear(),this};ke.DataBuffer.prototype.putString=function(t){return this.putBytes(t,"utf16")};ke.DataBuffer.prototype.putInt16=function(t){return this.accommodate(2),this.data.setInt16(this.write,t),this.write+=2,this};ke.DataBuffer.prototype.putInt24=function(t){return this.accommodate(3),this.data.setInt16(this.write,t>>8&65535),this.data.setInt8(this.write,t>>16&255),this.write+=3,this};ke.DataBuffer.prototype.putInt32=function(t){return this.accommodate(4),this.data.setInt32(this.write,t),this.write+=4,this};ke.DataBuffer.prototype.putInt16Le=function(t){return this.accommodate(2),this.data.setInt16(this.write,t,!0),this.write+=2,this};ke.DataBuffer.prototype.putInt24Le=function(t){return this.accommodate(3),this.data.setInt8(this.write,t>>16&255),this.data.setInt16(this.write,t>>8&65535,!0),this.write+=3,this};ke.DataBuffer.prototype.putInt32Le=function(t){return this.accommodate(4),this.data.setInt32(this.write,t,!0),this.write+=4,this};ke.DataBuffer.prototype.putInt=function(t,e){jd(e),this.accommodate(e/8);do e-=8,this.data.setInt8(this.write++,t>>e&255);while(e>0);return this};ke.DataBuffer.prototype.putSignedInt=function(t,e){return jd(e),this.accommodate(e/8),t<0&&(t+=2<<e-1),this.putInt(t,e)};ke.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)};ke.DataBuffer.prototype.getInt16=function(){var t=this.data.getInt16(this.read);return this.read+=2,t};ke.DataBuffer.prototype.getInt24=function(){var t=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,t};ke.DataBuffer.prototype.getInt32=function(){var t=this.data.getInt32(this.read);return this.read+=4,t};ke.DataBuffer.prototype.getInt16Le=function(){var t=this.data.getInt16(this.read,!0);return this.read+=2,t};ke.DataBuffer.prototype.getInt24Le=function(){var t=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,t};ke.DataBuffer.prototype.getInt32Le=function(){var t=this.data.getInt32(this.read,!0);return this.read+=4,t};ke.DataBuffer.prototype.getInt=function(t){jd(t);var e=0;do e=(e<<8)+this.data.getInt8(this.read++),t-=8;while(t>0);return e};ke.DataBuffer.prototype.getSignedInt=function(t){var e=this.getInt(t),r=2<<t-2;return e>=r&&(e-=r<<1),e};ke.DataBuffer.prototype.getBytes=function(t){var e;return t?(t=Math.min(this.length(),t),e=this.data.slice(this.read,this.read+t),this.read+=t):t===0?e="":(e=this.read===0?this.data:this.data.slice(this.read),this.clear()),e};ke.DataBuffer.prototype.bytes=function(t){return typeof t>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+t)};ke.DataBuffer.prototype.at=function(t){return this.data.getUint8(this.read+t)};ke.DataBuffer.prototype.setAt=function(t,e){return this.data.setUint8(t,e),this};ke.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)};ke.DataBuffer.prototype.copy=function(){return new ke.DataBuffer(this)};ke.DataBuffer.prototype.compact=function(){if(this.read>0){var t=new Uint8Array(this.data.buffer,this.read),e=new Uint8Array(t.byteLength);e.set(t),this.data=new DataView(e),this.write-=this.read,this.read=0}return this};ke.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this};ke.DataBuffer.prototype.truncate=function(t){return this.write=Math.max(0,this.length()-t),this.read=Math.min(this.read,this.write),this};ke.DataBuffer.prototype.toHex=function(){for(var t="",e=this.read;e<this.data.byteLength;++e){var r=this.data.getUint8(e);r<16&&(t+="0"),t+=r.toString(16)}return t};ke.DataBuffer.prototype.toString=function(t){var e=new Uint8Array(this.data,this.read,this.length());if(t=t||"utf8",t==="binary"||t==="raw")return ke.binary.raw.encode(e);if(t==="hex")return ke.binary.hex.encode(e);if(t==="base64")return ke.binary.base64.encode(e);if(t==="utf8")return ke.text.utf8.decode(e);if(t==="utf16")return ke.text.utf16.decode(e);throw new Error("Invalid encoding: "+t)};ke.createBuffer=function(t,e){return e=e||"raw",t!==void 0&&e==="utf8"&&(t=ke.encodeUtf8(t)),new ke.ByteBuffer(t)};ke.fillString=function(t,e){for(var r="";e>0;)e&1&&(r+=t),e>>>=1,e>0&&(t+=t);return r};ke.xorBytes=function(t,e,r){for(var n="",i="",a="",o=0,s=0;r>0;--r,++o)i=t.charCodeAt(o)^e.charCodeAt(o),s>=10&&(n+=a,a="",s=0),a+=String.fromCharCode(i),++s;return n+=a,n};ke.hexToBytes=function(t){var e="",r=0;for(t.length&!0&&(r=1,e+=String.fromCharCode(parseInt(t[0],16)));r<t.length;r+=2)e+=String.fromCharCode(parseInt(t.substr(r,2),16));return e};ke.bytesToHex=function(t){return ke.createBuffer(t).toHex()};ke.int32ToBytes=function(t){return String.fromCharCode(t>>24&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t&255)};var l0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c0=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],v7="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";ke.encode64=function(t,e){for(var r="",n="",i,a,o,s=0;s<t.length;)i=t.charCodeAt(s++),a=t.charCodeAt(s++),o=t.charCodeAt(s++),r+=l0.charAt(i>>2),r+=l0.charAt((i&3)<<4|a>>4),isNaN(a)?r+="==":(r+=l0.charAt((a&15)<<2|o>>6),r+=isNaN(o)?"=":l0.charAt(o&63)),e&&r.length>e&&(n+=r.substr(0,e)+`\r
`,r=r.substr(e));return n+=r,n};ke.decode64=function(t){t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var e="",r,n,i,a,o=0;o<t.length;)r=c0[t.charCodeAt(o++)-43],n=c0[t.charCodeAt(o++)-43],i=c0[t.charCodeAt(o++)-43],a=c0[t.charCodeAt(o++)-43],e+=String.fromCharCode(r<<2|n>>4),i!==64&&(e+=String.fromCharCode((n&15)<<4|i>>2),a!==64&&(e+=String.fromCharCode((i&3)<<6|a)));return e};ke.encodeUtf8=function(t){return unescape(encodeURIComponent(t))};ke.decodeUtf8=function(t){return decodeURIComponent(escape(t))};ke.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:tC.encode,decode:tC.decode}};ke.binary.raw.encode=function(t){return String.fromCharCode.apply(null,t)};ke.binary.raw.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(t.length)),r=r||0;for(var i=r,a=0;a<t.length;++a)n[i++]=t.charCodeAt(a);return e?i-r:n};ke.binary.hex.encode=ke.bytesToHex;ke.binary.hex.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(Math.ceil(t.length/2))),r=r||0;var i=0,a=r;for(t.length&1&&(i=1,n[a++]=parseInt(t[0],16));i<t.length;i+=2)n[a++]=parseInt(t.substr(i,2),16);return e?a-r:n};ke.binary.base64.encode=function(t,e){for(var r="",n="",i,a,o,s=0;s<t.byteLength;)i=t[s++],a=t[s++],o=t[s++],r+=l0.charAt(i>>2),r+=l0.charAt((i&3)<<4|a>>4),isNaN(a)?r+="==":(r+=l0.charAt((a&15)<<2|o>>6),r+=isNaN(o)?"=":l0.charAt(o&63)),e&&r.length>e&&(n+=r.substr(0,e)+`\r
`,r=r.substr(e));return n+=r,n};ke.binary.base64.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(Math.ceil(t.length/4)*3)),t=t.replace(/[^A-Za-z0-9\+\/\=]/g,""),r=r||0;for(var i,a,o,s,u=0,l=r;u<t.length;)i=c0[t.charCodeAt(u++)-43],a=c0[t.charCodeAt(u++)-43],o=c0[t.charCodeAt(u++)-43],s=c0[t.charCodeAt(u++)-43],n[l++]=i<<2|a>>4,o!==64&&(n[l++]=(a&15)<<4|o>>2,s!==64&&(n[l++]=(o&3)<<6|s));return e?l-r:n.subarray(0,l)};ke.binary.base58.encode=function(t,e){return ke.binary.baseN.encode(t,v7,e)};ke.binary.base58.decode=function(t,e){return ke.binary.baseN.decode(t,v7,e)};ke.text={utf8:{},utf16:{}};ke.text.utf8.encode=function(t,e,r){t=ke.encodeUtf8(t);var n=e;n||(n=new Uint8Array(t.length)),r=r||0;for(var i=r,a=0;a<t.length;++a)n[i++]=t.charCodeAt(a);return e?i-r:n};ke.text.utf8.decode=function(t){return ke.decodeUtf8(String.fromCharCode.apply(null,t))};ke.text.utf16.encode=function(t,e,r){var n=e;n||(n=new Uint8Array(t.length*2));var i=new Uint16Array(n.buffer);r=r||0;for(var a=r,o=r,s=0;s<t.length;++s)i[o++]=t.charCodeAt(s),a+=2;return e?a-r:n};ke.text.utf16.decode=function(t){return String.fromCharCode.apply(null,new Uint16Array(t.buffer))};ke.deflate=function(t,e,r){if(e=ke.decode64(t.deflate(ke.encode64(e)).rval),r){var n=2,i=e.charCodeAt(1);i&32&&(n=6),e=e.substring(n,e.length-4)}return e};ke.inflate=function(t,e,r){var n=t.inflate(ke.encode64(e)).rval;return n===null?null:ke.decode64(n)};var iv=function(t,e,r){if(!t)throw new Error("WebStorage not available.");var n;if(r===null?n=t.removeItem(e):(r=ke.encode64(JSON.stringify(r)),n=t.setItem(e,r)),typeof n<"u"&&n.rval!==!0){var i=new Error(n.error.message);throw i.id=n.error.id,i.name=n.error.name,i}},av=function(t,e){if(!t)throw new Error("WebStorage not available.");var r=t.getItem(e);if(t.init)if(r.rval===null){if(r.error){var n=new Error(r.error.message);throw n.id=r.error.id,n.name=r.error.name,n}r=null}else r=r.rval;return r!==null&&(r=JSON.parse(ke.decode64(r))),r},KO=function(t,e,r,n){var i=av(t,e);i===null&&(i={}),i[r]=n,iv(t,e,i)},qO=function(t,e,r){var n=av(t,e);return n!==null&&(n=r in n?n[r]:null),n},QO=function(t,e,r){var n=av(t,e);if(n!==null&&r in n){delete n[r];var i=!0;for(var a in n){i=!1;break}i&&(n=null),iv(t,e,n)}},HO=function(t,e){iv(t,e,null)},bp=function(t,e,r){var n=null;typeof r>"u"&&(r=["web","flash"]);var i,a=!1,o=null;for(var s in r){i=r[s];try{if(i==="flash"||i==="both"){if(e[0]===null)throw new Error("Flash local storage not available.");n=t.apply(this,e),a=i==="flash"}(i==="web"||i==="both")&&(e[0]=localStorage,n=t.apply(this,e),a=!0)}catch(u){o=u}if(a)break}if(!a)throw o;return n};ke.setItem=function(t,e,r,n,i){bp(KO,arguments,i)};ke.getItem=function(t,e,r,n){return bp(qO,arguments,n)};ke.removeItem=function(t,e,r,n){bp(QO,arguments,n)};ke.clearItems=function(t,e,r){bp(HO,arguments,r)};ke.isEmpty=function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0};ke.format=function(t){for(var e=/%./g,r,n,i=0,a=[],o=0;r=e.exec(t);){n=t.substring(o,e.lastIndex-2),n.length>0&&a.push(n),o=e.lastIndex;var s=r[0][1];switch(s){case"s":case"o":i<arguments.length?a.push(arguments[i+++1]):a.push("<?>");break;case"%":a.push("%");break;default:a.push("<%"+s+"?>")}}return a.push(t.substring(o)),a.join("")};ke.formatNumber=function(t,e,r,n){var i=t,a=isNaN(e=Math.abs(e))?2:e,o=r===void 0?",":r,s=n===void 0?".":n,u=i<0?"-":"",l=parseInt(i=Math.abs(+i||0).toFixed(a),10)+"",c=l.length>3?l.length%3:0;return u+(c?l.substr(0,c)+s:"")+l.substr(c).replace(/(\d{3})(?=\d)/g,"$1"+s)+(a?o+Math.abs(i-l).toFixed(a).slice(2):"")};ke.formatSize=function(t){return t>=1073741824?t=ke.formatNumber(t/1073741824,2,".","")+" GiB":t>=1048576?t=ke.formatNumber(t/1048576,2,".","")+" MiB":t>=1024?t=ke.formatNumber(t/1024,0)+" KiB":t=ke.formatNumber(t,0)+" bytes",t};ke.bytesFromIP=function(t){return t.indexOf(".")!==-1?ke.bytesFromIPv4(t):t.indexOf(":")!==-1?ke.bytesFromIPv6(t):null};ke.bytesFromIPv4=function(t){if(t=t.split("."),t.length!==4)return null;for(var e=ke.createBuffer(),r=0;r<t.length;++r){var n=parseInt(t[r],10);if(isNaN(n))return null;e.putByte(n)}return e.getBytes()};ke.bytesFromIPv6=function(t){var e=0;t=t.split(":").filter(function(o){return o.length===0&&++e,!0});for(var r=(8-t.length+e)*2,n=ke.createBuffer(),i=0;i<8;++i){if(!t[i]||t[i].length===0){n.fillWithByte(0,r),r=0;continue}var a=ke.hexToBytes(t[i]);a.length<2&&n.putByte(0),n.putBytes(a)}return n.getBytes()};ke.bytesToIP=function(t){return t.length===4?ke.bytesToIPv4(t):t.length===16?ke.bytesToIPv6(t):null};ke.bytesToIPv4=function(t){if(t.length!==4)return null;for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e.join(".")};ke.bytesToIPv6=function(t){if(t.length!==16)return null;for(var e=[],r=[],n=0,i=0;i<t.length;i+=2){for(var a=ke.bytesToHex(t[i]+t[i+1]);a[0]==="0"&&a!=="0";)a=a.substr(1);if(a==="0"){var o=r[r.length-1],s=e.length;!o||s!==o.end+1?r.push({start:s,end:s}):(o.end=s,o.end-o.start>r[n].end-r[n].start&&(n=r.length-1))}e.push(a)}if(r.length>0){var u=r[n];u.end-u.start>0&&(e.splice(u.start,u.end-u.start+1,""),u.start===0&&e.unshift(""),u.end===7&&e.push(""))}return e.join(":")};ke.estimateCores=function(t,e){if(typeof t=="function"&&(e=t,t={}),t=t||{},"cores"in ke&&!t.update)return e(null,ke.cores);if(typeof navigator<"u"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return ke.cores=navigator.hardwareConcurrency,e(null,ke.cores);if(typeof Worker>"u")return ke.cores=1,e(null,ke.cores);if(typeof Blob>"u")return ke.cores=2,e(null,ke.cores);var r=URL.createObjectURL(new Blob(["(",(function(){self.addEventListener("message",function(o){var s=Date.now(),u=s+4;self.postMessage({st:s,et:u})})}).toString(),")()"],{type:"application/javascript"}));n([],5,16);function n(o,s,u){if(s===0){var l=Math.floor(o.reduce(function(c,f){return c+f},0)/o.length);return ke.cores=Math.max(1,l),URL.revokeObjectURL(r),e(null,ke.cores)}i(u,function(c,f){o.push(a(u,f)),n(o,s-1,u)})}function i(o,s){for(var u=[],l=[],c=0;c<o;++c){var f=new Worker(r);f.addEventListener("message",function(d){if(l.push(d.data),l.length===o){for(var h=0;h<o;++h)u[h].terminate();s(null,l)}}),u.push(f)}for(var c=0;c<o;++c)u[c].postMessage(c)}function a(o,s){for(var u=[],l=0;l<o;++l)for(var c=s[l],f=u[l]=[],d=0;d<o;++d)if(l!==d){var h=s[d];(c.st>h.st&&c.st<h.et||h.st>c.st&&h.st<c.et)&&f.push(d)}return u.reduce(function(y,w){return Math.max(y,w.length)},0)}};var Pn=tr;Pn.cipher=Pn.cipher||{};Pn.cipher.algorithms=Pn.cipher.algorithms||{};Pn.cipher.createCipher=function(t,e){var r=t;if(typeof r=="string"&&(r=Pn.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+t);return new Pn.cipher.BlockCipher({algorithm:r,key:e,decrypt:!1})};Pn.cipher.createDecipher=function(t,e){var r=t;if(typeof r=="string"&&(r=Pn.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+t);return new Pn.cipher.BlockCipher({algorithm:r,key:e,decrypt:!0})};Pn.cipher.registerAlgorithm=function(t,e){t=t.toUpperCase(),Pn.cipher.algorithms[t]=e};Pn.cipher.getAlgorithm=function(t){return t=t.toUpperCase(),t in Pn.cipher.algorithms?Pn.cipher.algorithms[t]:null};var ov=Pn.cipher.BlockCipher=function(t){this.algorithm=t.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=t.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=t.decrypt,this.algorithm.initialize(t)};ov.prototype.start=function(t){t=t||{};var e={};for(var r in t)e[r]=t[r];e.decrypt=this._decrypt,this._finish=!1,this._input=Pn.util.createBuffer(),this.output=t.output||Pn.util.createBuffer(),this.mode.start(e)};ov.prototype.update=function(t){for(t&&this._input.putBuffer(t);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()};ov.prototype.finish=function(t){t&&(this.mode.name==="ECB"||this.mode.name==="CBC")&&(this.mode.pad=function(r){return t(this.blockSize,r,!1)},this.mode.unpad=function(r){return t(this.blockSize,r,!0)});var e={};return e.decrypt=this._decrypt,e.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,e)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,e))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,e))};var kn=tr;kn.cipher=kn.cipher||{};var sr=kn.cipher.modes=kn.cipher.modes||{};sr.ecb=function(t){t=t||{},this.name="ECB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};sr.ecb.prototype.start=function(t){};sr.ecb.prototype.encrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._outBlock[n])};sr.ecb.prototype.decrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._outBlock[n])};sr.ecb.prototype.pad=function(t,e){var r=t.length()===this.blockSize?this.blockSize:this.blockSize-t.length();return t.fillWithByte(r,r),!0};sr.ecb.prototype.unpad=function(t,e){if(e.overflow>0)return!1;var r=t.length(),n=t.at(r-1);return n>this.blockSize<<2?!1:(t.truncate(n),!0)};sr.cbc=function(t){t=t||{},this.name="CBC",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};sr.cbc.prototype.start=function(t){if(t.iv===null){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else if("iv"in t)this._iv=Sp(t.iv,this.blockSize),this._prev=this._iv.slice(0);else throw new Error("Invalid IV parameter.")};sr.cbc.prototype.encrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=this._prev[n]^t.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._outBlock[n]);this._prev=this._outBlock};sr.cbc.prototype.decrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._prev[n]^this._outBlock[n]);this._prev=this._inBlock.slice(0)};sr.cbc.prototype.pad=function(t,e){var r=t.length()===this.blockSize?this.blockSize:this.blockSize-t.length();return t.fillWithByte(r,r),!0};sr.cbc.prototype.unpad=function(t,e){if(e.overflow>0)return!1;var r=t.length(),n=t.at(r-1);return n>this.blockSize<<2?!1:(t.truncate(n),!0)};sr.cfb=function(t){t=t||{},this.name="CFB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=kn.util.createBuffer(),this._partialBytes=0};sr.cfb.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=Sp(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};sr.cfb.prototype.encrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)this._inBlock[i]=t.getInt32()^this._outBlock[i],e.putInt32(this._inBlock[i]);return}var a=(this.blockSize-n)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialBlock[i]=t.getInt32()^this._outBlock[i],this._partialOutput.putInt32(this._partialBlock[i]);if(a>0)t.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return e.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};sr.cfb.prototype.decrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)this._inBlock[i]=t.getInt32(),e.putInt32(this._inBlock[i]^this._outBlock[i]);return}var a=(this.blockSize-n)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialBlock[i]=t.getInt32(),this._partialOutput.putInt32(this._partialBlock[i]^this._outBlock[i]);if(a>0)t.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return e.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};sr.ofb=function(t){t=t||{},this.name="OFB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=kn.util.createBuffer(),this._partialBytes=0};sr.ofb.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=Sp(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};sr.ofb.prototype.encrypt=function(t,e,r){var n=t.length();if(t.length()===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)e.putInt32(t.getInt32()^this._outBlock[i]),this._inBlock[i]=this._outBlock[i];return}var a=(this.blockSize-n)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(t.getInt32()^this._outBlock[i]);if(a>0)t.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._outBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return e.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};sr.ofb.prototype.decrypt=sr.ofb.prototype.encrypt;sr.ctr=function(t){t=t||{},this.name="CTR",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=kn.util.createBuffer(),this._partialBytes=0};sr.ctr.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=Sp(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};sr.ctr.prototype.encrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize)for(var i=0;i<this._ints;++i)e.putInt32(t.getInt32()^this._outBlock[i]);else{var a=(this.blockSize-n)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(t.getInt32()^this._outBlock[i]);if(a>0&&(t.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return e.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}Ip(this._inBlock)};sr.ctr.prototype.decrypt=sr.ctr.prototype.encrypt;sr.gcm=function(t){t=t||{},this.name="GCM",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=kn.util.createBuffer(),this._partialBytes=0,this._R=3774873600};sr.gcm.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");var e=kn.util.createBuffer(t.iv);this._cipherLength=0;var r;if("additionalData"in t?r=kn.util.createBuffer(t.additionalData):r=kn.util.createBuffer(),"tagLength"in t?this._tagLength=t.tagLength:this._tagLength=128,this._tag=null,t.decrypt&&(this._tag=kn.util.createBuffer(t.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var n=e.length();if(n===12)this._j0=[e.getInt32(),e.getInt32(),e.getInt32(),1];else{for(this._j0=[0,0,0,0];e.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[e.getInt32(),e.getInt32(),e.getInt32(),e.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(M3(n*8)))}this._inBlock=this._j0.slice(0),Ip(this._inBlock),this._partialBytes=0,r=kn.util.createBuffer(r),this._aDataLength=M3(r.length()*8);var i=r.length()%this.blockSize;for(i&&r.fillWithByte(0,this.blockSize-i),this._s=[0,0,0,0];r.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()])};sr.gcm.prototype.encrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)e.putInt32(this._outBlock[i]^=t.getInt32());this._cipherLength+=this.blockSize}else{var a=(this.blockSize-n)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(t.getInt32()^this._outBlock[i]);if(a<=0||r){if(r){var o=n%this.blockSize;this._cipherLength+=o,this._partialOutput.truncate(this.blockSize-o)}else this._cipherLength+=this.blockSize;for(var i=0;i<this._ints;++i)this._outBlock[i]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return t.read-=this.blockSize,e.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),Ip(this._inBlock)};sr.gcm.prototype.decrypt=function(t,e,r){var n=t.length();if(n<this.blockSize&&!(r&&n>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),Ip(this._inBlock),this._hashBlock[0]=t.getInt32(),this._hashBlock[1]=t.getInt32(),this._hashBlock[2]=t.getInt32(),this._hashBlock[3]=t.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var i=0;i<this._ints;++i)e.putInt32(this._outBlock[i]^this._hashBlock[i]);n<this.blockSize?this._cipherLength+=n%this.blockSize:this._cipherLength+=this.blockSize};sr.gcm.prototype.afterFinish=function(t,e){var r=!0;e.decrypt&&e.overflow&&t.truncate(this.blockSize-e.overflow),this.tag=kn.util.createBuffer();var n=this._aDataLength.concat(M3(this._cipherLength*8));this._s=this.ghash(this._hashSubkey,this._s,n);var i=[];this.cipher.encrypt(this._j0,i);for(var a=0;a<this._ints;++a)this.tag.putInt32(this._s[a]^i[a]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),e.decrypt&&this.tag.bytes()!==this._tag&&(r=!1),r};sr.gcm.prototype.multiply=function(t,e){for(var r=[0,0,0,0],n=e.slice(0),i=0;i<128;++i){var a=t[i/32|0]&1<<31-i%32;a&&(r[0]^=n[0],r[1]^=n[1],r[2]^=n[2],r[3]^=n[3]),this.pow(n,n)}return r};sr.gcm.prototype.pow=function(t,e){for(var r=t[3]&1,n=3;n>0;--n)e[n]=t[n]>>>1|(t[n-1]&1)<<31;e[0]=t[0]>>>1,r&&(e[0]^=this._R)};sr.gcm.prototype.tableMultiply=function(t){for(var e=[0,0,0,0],r=0;r<32;++r){var n=r/8|0,i=t[n]>>>(7-r%8)*4&15,a=this._m[r][i];e[0]^=a[0],e[1]^=a[1],e[2]^=a[2],e[3]^=a[3]}return e};sr.gcm.prototype.ghash=function(t,e,r){return e[0]^=r[0],e[1]^=r[1],e[2]^=r[2],e[3]^=r[3],this.tableMultiply(e)};sr.gcm.prototype.generateHashTable=function(t,e){for(var r=8/e,n=4*r,i=16*r,a=new Array(i),o=0;o<i;++o){var s=[0,0,0,0],u=o/n|0,l=(n-1-o%n)*e;s[u]=1<<e-1<<l,a[o]=this.generateSubHashTable(this.multiply(s,t),e)}return a};sr.gcm.prototype.generateSubHashTable=function(t,e){var r=1<<e,n=r>>>1,i=new Array(r);i[n]=t.slice(0);for(var a=n>>>1;a>0;)this.pow(i[2*a],i[a]=[]),a>>=1;for(a=2;a<n;){for(var o=1;o<a;++o){var s=i[a],u=i[o];i[a+o]=[s[0]^u[0],s[1]^u[1],s[2]^u[2],s[3]^u[3]]}a*=2}for(i[0]=[0,0,0,0],a=n+1;a<r;++a){var l=i[a^n];i[a]=[t[0]^l[0],t[1]^l[1],t[2]^l[2],t[3]^l[3]]}return i};function Sp(t,e){if(typeof t=="string"&&(t=kn.util.createBuffer(t)),kn.util.isArray(t)&&t.length>4){var r=t;t=kn.util.createBuffer();for(var n=0;n<r.length;++n)t.putByte(r[n])}if(t.length()<e)throw new Error("Invalid IV length; got "+t.length()+" bytes and expected "+e+" bytes.");if(!kn.util.isArray(t)){for(var i=[],a=e/4,n=0;n<a;++n)i.push(t.getInt32());t=i}return t}function Ip(t){t[t.length-1]=t[t.length-1]+1&4294967295}function M3(t){return[t/4294967296|0,t&4294967295]}var Mr=tr;Mr.aes=Mr.aes||{};Mr.aes.startEncrypting=function(t,e,r,n){var i=Lp({key:t,output:r,decrypt:!1,mode:n});return i.start(e),i};Mr.aes.createEncryptionCipher=function(t,e){return Lp({key:t,output:null,decrypt:!1,mode:e})};Mr.aes.startDecrypting=function(t,e,r,n){var i=Lp({key:t,output:r,decrypt:!0,mode:n});return i.start(e),i};Mr.aes.createDecryptionCipher=function(t,e){return Lp({key:t,output:null,decrypt:!0,mode:e})};Mr.aes.Algorithm=function(t,e){sv||C7();var r=this;r.name=t,r.mode=new e({blockSize:16,cipher:{encrypt:function(n,i){return O3(r._w,n,i,!1)},decrypt:function(n,i){return O3(r._w,n,i,!0)}}}),r._init=!1};Mr.aes.Algorithm.prototype.initialize=function(t){if(!this._init){var e=t.key,r;if(typeof e=="string"&&(e.length===16||e.length===24||e.length===32))e=Mr.util.createBuffer(e);else if(Mr.util.isArray(e)&&(e.length===16||e.length===24||e.length===32)){r=e,e=Mr.util.createBuffer();for(var n=0;n<r.length;++n)e.putByte(r[n])}if(!Mr.util.isArray(e)){r=e,e=[];var i=r.length();if(i===16||i===24||i===32){i=i>>>2;for(var n=0;n<i;++n)e.push(r.getInt32())}}if(!Mr.util.isArray(e)||!(e.length===4||e.length===6||e.length===8))throw new Error("Invalid key parameter.");var a=this.mode.name,o=["CFB","OFB","CTR","GCM"].indexOf(a)!==-1;this._w=A7(e,t.decrypt&&!o),this._init=!0}};Mr.aes._expandKey=function(t,e){return sv||C7(),A7(t,e)};Mr.aes._updateBlock=O3;_u("AES-ECB",Mr.cipher.modes.ecb);_u("AES-CBC",Mr.cipher.modes.cbc);_u("AES-CFB",Mr.cipher.modes.cfb);_u("AES-OFB",Mr.cipher.modes.ofb);_u("AES-CTR",Mr.cipher.modes.ctr);_u("AES-GCM",Mr.cipher.modes.gcm);function _u(t,e){var r=function(){return new Mr.aes.Algorithm(t,e)};Mr.cipher.registerAlgorithm(t,r)}var sv=!1,Wl=4,hi,U3,E7,ul,Xa;function C7(){sv=!0,E7=[0,1,2,4,8,16,32,64,128,27,54];for(var t=new Array(256),e=0;e<128;++e)t[e]=e<<1,t[e+128]=e+128<<1^283;hi=new Array(256),U3=new Array(256),ul=new Array(4),Xa=new Array(4);for(var e=0;e<4;++e)ul[e]=new Array(256),Xa[e]=new Array(256);for(var r=0,n=0,i,a,o,s,u,l,c,e=0;e<256;++e){s=n^n<<1^n<<2^n<<3^n<<4,s=s>>8^s&255^99,hi[r]=s,U3[s]=r,u=t[s],i=t[r],a=t[i],o=t[a],l=u<<24^s<<16^s<<8^(s^u),c=(i^a^o)<<24^(r^o)<<16^(r^a^o)<<8^(r^i^o);for(var f=0;f<4;++f)ul[f][r]=l,Xa[f][s]=c,l=l<<24|l>>>8,c=c<<24|c>>>8;r===0?r=n=1:(r=i^t[t[t[i^o]]],n^=t[t[n]])}}function A7(t,e){for(var r=t.slice(0),n,i=1,a=r.length,o=a+6+1,s=Wl*o,u=a;u<s;++u)n=r[u-1],u%a===0?(n=hi[n>>>16&255]<<24^hi[n>>>8&255]<<16^hi[n&255]<<8^hi[n>>>24]^E7[i]<<24,i++):a>6&&u%a===4&&(n=hi[n>>>24]<<24^hi[n>>>16&255]<<16^hi[n>>>8&255]<<8^hi[n&255]),r[u]=r[u-a]^n;if(e){var l,c=Xa[0],f=Xa[1],d=Xa[2],h=Xa[3],y=r.slice(0);s=r.length;for(var u=0,w=s-Wl;u<s;u+=Wl,w-=Wl)if(u===0||u===s-Wl)y[u]=r[w],y[u+1]=r[w+3],y[u+2]=r[w+2],y[u+3]=r[w+1];else for(var _=0;_<Wl;++_)l=r[w+_],y[u+(3&-_)]=c[hi[l>>>24]]^f[hi[l>>>16&255]]^d[hi[l>>>8&255]]^h[hi[l&255]];r=y}return r}function O3(t,e,r,n){var i=t.length/4-1,a,o,s,u,l;n?(a=Xa[0],o=Xa[1],s=Xa[2],u=Xa[3],l=U3):(a=ul[0],o=ul[1],s=ul[2],u=ul[3],l=hi);var c,f,d,h,y,w,_;c=e[0]^t[0],f=e[n?3:1]^t[1],d=e[2]^t[2],h=e[n?1:3]^t[3];for(var E=3,p=1;p<i;++p)y=a[c>>>24]^o[f>>>16&255]^s[d>>>8&255]^u[h&255]^t[++E],w=a[f>>>24]^o[d>>>16&255]^s[h>>>8&255]^u[c&255]^t[++E],_=a[d>>>24]^o[h>>>16&255]^s[c>>>8&255]^u[f&255]^t[++E],h=a[h>>>24]^o[c>>>16&255]^s[f>>>8&255]^u[d&255]^t[++E],c=y,f=w,d=_;r[0]=l[c>>>24]<<24^l[f>>>16&255]<<16^l[d>>>8&255]<<8^l[h&255]^t[++E],r[n?3:1]=l[f>>>24]<<24^l[d>>>16&255]<<16^l[h>>>8&255]<<8^l[c&255]^t[++E],r[2]=l[d>>>24]<<24^l[h>>>16&255]<<16^l[c>>>8&255]<<8^l[f&255]^t[++E],r[n?1:3]=l[h>>>24]<<24^l[c>>>16&255]<<16^l[f>>>8&255]<<8^l[d&255]^t[++E]}function Lp(t){t=t||{};var e=(t.mode||"CBC").toUpperCase(),r="AES-"+e,n;t.decrypt?n=Mr.cipher.createDecipher(r,t.key):n=Mr.cipher.createCipher(r,t.key);var i=n.start;return n.start=function(a,o){var s=null;o instanceof Mr.util.ByteBuffer&&(s=o,o={}),o=o||{},o.output=s,o.iv=a,i.call(n,o)},n}var Gf=tr;Gf.pki=Gf.pki||{};var V3=Gf.pki.oids=Gf.oids=Gf.oids||{};function st(t,e){V3[t]=e,V3[e]=t}function Fr(t,e){V3[t]=e}st("1.2.840.113549.1.1.1","rsaEncryption");st("1.2.840.113549.1.1.4","md5WithRSAEncryption");st("1.2.840.113549.1.1.5","sha1WithRSAEncryption");st("1.2.840.113549.1.1.7","RSAES-OAEP");st("1.2.840.113549.1.1.8","mgf1");st("1.2.840.113549.1.1.9","pSpecified");st("1.2.840.113549.1.1.10","RSASSA-PSS");st("1.2.840.113549.1.1.11","sha256WithRSAEncryption");st("1.2.840.113549.1.1.12","sha384WithRSAEncryption");st("1.2.840.113549.1.1.13","sha512WithRSAEncryption");st("1.3.101.112","EdDSA25519");st("1.2.840.10040.4.3","dsa-with-sha1");st("1.3.14.3.2.7","desCBC");st("1.3.14.3.2.26","sha1");st("1.3.14.3.2.29","sha1WithRSASignature");st("2.16.840.1.101.3.4.2.1","sha256");st("2.16.840.1.101.3.4.2.2","sha384");st("2.16.840.1.101.3.4.2.3","sha512");st("2.16.840.1.101.3.4.2.4","sha224");st("2.16.840.1.101.3.4.2.5","sha512-224");st("2.16.840.1.101.3.4.2.6","sha512-256");st("1.2.840.113549.2.2","md2");st("1.2.840.113549.2.5","md5");st("1.2.840.113549.1.7.1","data");st("1.2.840.113549.1.7.2","signedData");st("1.2.840.113549.1.7.3","envelopedData");st("1.2.840.113549.1.7.4","signedAndEnvelopedData");st("1.2.840.113549.1.7.5","digestedData");st("1.2.840.113549.1.7.6","encryptedData");st("1.2.840.113549.1.9.1","emailAddress");st("1.2.840.113549.1.9.2","unstructuredName");st("1.2.840.113549.1.9.3","contentType");st("1.2.840.113549.1.9.4","messageDigest");st("1.2.840.113549.1.9.5","signingTime");st("1.2.840.113549.1.9.6","counterSignature");st("1.2.840.113549.1.9.7","challengePassword");st("1.2.840.113549.1.9.8","unstructuredAddress");st("1.2.840.113549.1.9.14","extensionRequest");st("1.2.840.113549.1.9.20","friendlyName");st("1.2.840.113549.1.9.21","localKeyId");st("1.2.840.113549.1.9.22.1","x509Certificate");st("1.2.840.113549.1.12.10.1.1","keyBag");st("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag");st("1.2.840.113549.1.12.10.1.3","certBag");st("1.2.840.113549.1.12.10.1.4","crlBag");st("1.2.840.113549.1.12.10.1.5","secretBag");st("1.2.840.113549.1.12.10.1.6","safeContentsBag");st("1.2.840.113549.1.5.13","pkcs5PBES2");st("1.2.840.113549.1.5.12","pkcs5PBKDF2");st("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4");st("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4");st("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC");st("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC");st("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC");st("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC");st("1.2.840.113549.2.7","hmacWithSHA1");st("1.2.840.113549.2.8","hmacWithSHA224");st("1.2.840.113549.2.9","hmacWithSHA256");st("1.2.840.113549.2.10","hmacWithSHA384");st("1.2.840.113549.2.11","hmacWithSHA512");st("1.2.840.113549.3.7","des-EDE3-CBC");st("2.16.840.1.101.3.4.1.2","aes128-CBC");st("2.16.840.1.101.3.4.1.22","aes192-CBC");st("2.16.840.1.101.3.4.1.42","aes256-CBC");st("2.5.4.3","commonName");st("2.5.4.4","surname");st("2.5.4.5","serialNumber");st("2.5.4.6","countryName");st("2.5.4.7","localityName");st("2.5.4.8","stateOrProvinceName");st("2.5.4.9","streetAddress");st("2.5.4.10","organizationName");st("2.5.4.11","organizationalUnitName");st("2.5.4.12","title");st("2.5.4.13","description");st("2.5.4.15","businessCategory");st("2.5.4.17","postalCode");st("2.5.4.42","givenName");st("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName");st("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName");st("2.16.840.1.113730.1.1","nsCertType");st("2.16.840.1.113730.1.13","nsComment");Fr("2.5.29.1","authorityKeyIdentifier");Fr("2.5.29.2","keyAttributes");Fr("2.5.29.3","certificatePolicies");Fr("2.5.29.4","keyUsageRestriction");Fr("2.5.29.5","policyMapping");Fr("2.5.29.6","subtreesConstraint");Fr("2.5.29.7","subjectAltName");Fr("2.5.29.8","issuerAltName");Fr("2.5.29.9","subjectDirectoryAttributes");Fr("2.5.29.10","basicConstraints");Fr("2.5.29.11","nameConstraints");Fr("2.5.29.12","policyConstraints");Fr("2.5.29.13","basicConstraints");st("2.5.29.14","subjectKeyIdentifier");st("2.5.29.15","keyUsage");Fr("2.5.29.16","privateKeyUsagePeriod");st("2.5.29.17","subjectAltName");st("2.5.29.18","issuerAltName");st("2.5.29.19","basicConstraints");Fr("2.5.29.20","cRLNumber");Fr("2.5.29.21","cRLReason");Fr("2.5.29.22","expirationDate");Fr("2.5.29.23","instructionCode");Fr("2.5.29.24","invalidityDate");Fr("2.5.29.25","cRLDistributionPoints");Fr("2.5.29.26","issuingDistributionPoint");Fr("2.5.29.27","deltaCRLIndicator");Fr("2.5.29.28","issuingDistributionPoint");Fr("2.5.29.29","certificateIssuer");Fr("2.5.29.30","nameConstraints");st("2.5.29.31","cRLDistributionPoints");st("2.5.29.32","certificatePolicies");Fr("2.5.29.33","policyMappings");Fr("2.5.29.34","policyConstraints");st("2.5.29.35","authorityKeyIdentifier");Fr("2.5.29.36","policyConstraints");st("2.5.29.37","extKeyUsage");Fr("2.5.29.46","freshestCRL");Fr("2.5.29.54","inhibitAnyPolicy");st("1.3.6.1.4.1.11129.2.4.2","timestampList");st("1.3.6.1.5.5.7.1.1","authorityInfoAccess");st("1.3.6.1.5.5.7.3.1","serverAuth");st("1.3.6.1.5.5.7.3.2","clientAuth");st("1.3.6.1.5.5.7.3.3","codeSigning");st("1.3.6.1.5.5.7.3.4","emailProtection");st("1.3.6.1.5.5.7.3.8","timeStamping");var qr=tr,mt=qr.asn1=qr.asn1||{};mt.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192};mt.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30};mt.create=function(t,e,r,n,i){if(qr.util.isArray(n)){for(var a=[],o=0;o<n.length;++o)n[o]!==void 0&&a.push(n[o]);n=a}var s={tagClass:t,type:e,constructed:r,composed:r||qr.util.isArray(n),value:n};return i&&"bitStringContents"in i&&(s.bitStringContents=i.bitStringContents,s.original=mt.copy(s)),s};mt.copy=function(t,e){var r;if(qr.util.isArray(t)){r=[];for(var n=0;n<t.length;++n)r.push(mt.copy(t[n],e));return r}return typeof t=="string"?t:(r={tagClass:t.tagClass,type:t.type,constructed:t.constructed,composed:t.composed,value:mt.copy(t.value,e)},e&&!e.excludeBitStringContents&&(r.bitStringContents=t.bitStringContents),r)};mt.equals=function(t,e,r){if(qr.util.isArray(t)){if(!qr.util.isArray(e)||t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!mt.equals(t[n],e[n]))return!1;return!0}if(typeof t!=typeof e)return!1;if(typeof t=="string")return t===e;var i=t.tagClass===e.tagClass&&t.type===e.type&&t.constructed===e.constructed&&t.composed===e.composed&&mt.equals(t.value,e.value);return r&&r.includeBitStringContents&&(i=i&&t.bitStringContents===e.bitStringContents),i};mt.getBerValueLength=function(t){var e=t.getByte();if(e!==128){var r,n=e&128;return n?r=t.getInt((e&127)<<3):r=e,r}};function gf(t,e,r){if(r>e){var n=new Error("Too few bytes to parse DER.");throw n.available=t.length(),n.remaining=e,n.requested=r,n}}var jO=function(t,e){var r=t.getByte();if(e--,r!==128){var n,i=r&128;if(!i)n=r;else{var a=r&127;gf(t,e,a),n=t.getInt(a<<3)}if(n<0)throw new Error("Negative length: "+n);return n}};mt.fromDer=function(t,e){e===void 0&&(e={strict:!0,parseAllBytes:!0,decodeBitStrings:!0}),typeof e=="boolean"&&(e={strict:e,parseAllBytes:!0,decodeBitStrings:!0}),"strict"in e||(e.strict=!0),"parseAllBytes"in e||(e.parseAllBytes=!0),"decodeBitStrings"in e||(e.decodeBitStrings=!0),typeof t=="string"&&(t=qr.util.createBuffer(t));var r=t.length(),n=h1(t,t.length(),0,e);if(e.parseAllBytes&&t.length()!==0){var i=new Error("Unparsed DER bytes remain after ASN.1 parsing.");throw i.byteCount=r,i.remaining=t.length(),i}return n};function h1(t,e,r,n){var i;gf(t,e,2);var a=t.getByte();e--;var o=a&192,s=a&31;i=t.length();var u=jO(t,e);if(e-=i-t.length(),u!==void 0&&u>e){if(n.strict){var l=new Error("Too few bytes to read ASN.1 value.");throw l.available=t.length(),l.remaining=e,l.requested=u,l}u=e}var c,f,d=(a&32)===32;if(d)if(c=[],u===void 0)for(;;){if(gf(t,e,2),t.bytes(2)==="\0\0"){t.getBytes(2),e-=2;break}i=t.length(),c.push(h1(t,e,r+1,n)),e-=i-t.length()}else for(;u>0;)i=t.length(),c.push(h1(t,u,r+1,n)),e-=i-t.length(),u-=i-t.length();if(c===void 0&&o===mt.Class.UNIVERSAL&&s===mt.Type.BITSTRING&&(f=t.bytes(u)),c===void 0&&n.decodeBitStrings&&o===mt.Class.UNIVERSAL&&s===mt.Type.BITSTRING&&u>1){var h=t.read,y=e,w=0;if(s===mt.Type.BITSTRING&&(gf(t,e,1),w=t.getByte(),e--),w===0)try{i=t.length();var _={strict:!0,decodeBitStrings:!0},E=h1(t,e,r+1,_),p=i-t.length();e-=p,s==mt.Type.BITSTRING&&p++;var m=E.tagClass;p===u&&(m===mt.Class.UNIVERSAL||m===mt.Class.CONTEXT_SPECIFIC)&&(c=[E])}catch{}c===void 0&&(t.read=h,e=y)}if(c===void 0){if(u===void 0){if(n.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");u=e}if(s===mt.Type.BMPSTRING)for(c="";u>0;u-=2)gf(t,e,2),c+=String.fromCharCode(t.getInt16()),e-=2;else c=t.getBytes(u),e-=u}var S=f===void 0?null:{bitStringContents:f};return mt.create(o,s,d,c,S)}mt.toDer=function(t){var e=qr.util.createBuffer(),r=t.tagClass|t.type,n=qr.util.createBuffer(),i=!1;if("bitStringContents"in t&&(i=!0,t.original&&(i=mt.equals(t,t.original))),i)n.putBytes(t.bitStringContents);else if(t.composed){t.constructed?r|=32:n.putByte(0);for(var a=0;a<t.value.length;++a)t.value[a]!==void 0&&n.putBuffer(mt.toDer(t.value[a]))}else if(t.type===mt.Type.BMPSTRING)for(var a=0;a<t.value.length;++a)n.putInt16(t.value.charCodeAt(a));else t.type===mt.Type.INTEGER&&t.value.length>1&&(t.value.charCodeAt(0)===0&&!(t.value.charCodeAt(1)&128)||t.value.charCodeAt(0)===255&&(t.value.charCodeAt(1)&128)===128)?n.putBytes(t.value.substr(1)):n.putBytes(t.value);if(e.putByte(r),n.length()<=127)e.putByte(n.length()&127);else{var o=n.length(),s="";do s+=String.fromCharCode(o&255),o=o>>>8;while(o>0);e.putByte(s.length|128);for(var a=s.length-1;a>=0;--a)e.putByte(s.charCodeAt(a))}return e.putBuffer(n),e};mt.oidToDer=function(t){var e=t.split("."),r=qr.util.createBuffer();r.putByte(40*parseInt(e[0],10)+parseInt(e[1],10));for(var n,i,a,o,s=2;s<e.length;++s){n=!0,i=[],a=parseInt(e[s],10);do o=a&127,a=a>>>7,n||(o|=128),i.push(o),n=!1;while(a>0);for(var u=i.length-1;u>=0;--u)r.putByte(i[u])}return r};mt.derToOid=function(t){var e;typeof t=="string"&&(t=qr.util.createBuffer(t));var r=t.getByte();e=Math.floor(r/40)+"."+r%40;for(var n=0;t.length()>0;)r=t.getByte(),n=n<<7,r&128?n+=r&127:(e+="."+(n+r),n=0);return e};mt.utcTimeToDate=function(t){var e=new Date,r=parseInt(t.substr(0,2),10);r=r>=50?1900+r:2e3+r;var n=parseInt(t.substr(2,2),10)-1,i=parseInt(t.substr(4,2),10),a=parseInt(t.substr(6,2),10),o=parseInt(t.substr(8,2),10),s=0;if(t.length>11){var u=t.charAt(10),l=10;u!=="+"&&u!=="-"&&(s=parseInt(t.substr(10,2),10),l+=2)}if(e.setUTCFullYear(r,n,i),e.setUTCHours(a,o,s,0),l&&(u=t.charAt(l),u==="+"||u==="-")){var c=parseInt(t.substr(l+1,2),10),f=parseInt(t.substr(l+4,2),10),d=c*60+f;d*=6e4,u==="+"?e.setTime(+e-d):e.setTime(+e+d)}return e};mt.generalizedTimeToDate=function(t){var e=new Date,r=parseInt(t.substr(0,4),10),n=parseInt(t.substr(4,2),10)-1,i=parseInt(t.substr(6,2),10),a=parseInt(t.substr(8,2),10),o=parseInt(t.substr(10,2),10),s=parseInt(t.substr(12,2),10),u=0,l=0,c=!1;t.charAt(t.length-1)==="Z"&&(c=!0);var f=t.length-5,d=t.charAt(f);if(d==="+"||d==="-"){var h=parseInt(t.substr(f+1,2),10),y=parseInt(t.substr(f+4,2),10);l=h*60+y,l*=6e4,d==="+"&&(l*=-1),c=!0}return t.charAt(14)==="."&&(u=parseFloat(t.substr(14),10)*1e3),c?(e.setUTCFullYear(r,n,i),e.setUTCHours(a,o,s,u),e.setTime(+e+l)):(e.setFullYear(r,n,i),e.setHours(a,o,s,u)),e};mt.dateToUtcTime=function(t){if(typeof t=="string")return t;var e="",r=[];r.push((""+t.getUTCFullYear()).substr(2)),r.push(""+(t.getUTCMonth()+1)),r.push(""+t.getUTCDate()),r.push(""+t.getUTCHours()),r.push(""+t.getUTCMinutes()),r.push(""+t.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(e+="0"),e+=r[n];return e+="Z",e};mt.dateToGeneralizedTime=function(t){if(typeof t=="string")return t;var e="",r=[];r.push(""+t.getUTCFullYear()),r.push(""+(t.getUTCMonth()+1)),r.push(""+t.getUTCDate()),r.push(""+t.getUTCHours()),r.push(""+t.getUTCMinutes()),r.push(""+t.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(e+="0"),e+=r[n];return e+="Z",e};mt.integerToDer=function(t){var e=qr.util.createBuffer();if(t>=-128&&t<128)return e.putSignedInt(t,8);if(t>=-32768&&t<32768)return e.putSignedInt(t,16);if(t>=-8388608&&t<8388608)return e.putSignedInt(t,24);if(t>=-2147483648&&t<2147483648)return e.putSignedInt(t,32);var r=new Error("Integer too large; max is 32-bits.");throw r.integer=t,r};mt.derToInteger=function(t){typeof t=="string"&&(t=qr.util.createBuffer(t));var e=t.length()*8;if(e>32)throw new Error("Integer too large; max is 32-bits.");return t.getSignedInt(e)};mt.validate=function(t,e,r,n){var i=!1;if((t.tagClass===e.tagClass||typeof e.tagClass>"u")&&(t.type===e.type||typeof e.type>"u"))if(t.constructed===e.constructed||typeof e.constructed>"u"){if(i=!0,e.value&&qr.util.isArray(e.value))for(var a=0,o=0;i&&o<e.value.length;++o)i=e.value[o].optional||!1,t.value[a]&&(i=mt.validate(t.value[a],e.value[o],r,n),i?++a:e.value[o].optional&&(i=!0)),!i&&n&&n.push("["+e.name+'] Tag class "'+e.tagClass+'", type "'+e.type+'" expected value length "'+e.value.length+'", got "'+t.value.length+'"');if(i&&r&&(e.capture&&(r[e.capture]=t.value),e.captureAsn1&&(r[e.captureAsn1]=t),e.captureBitStringContents&&"bitStringContents"in t&&(r[e.captureBitStringContents]=t.bitStringContents),e.captureBitStringValue&&"bitStringContents"in t))if(t.bitStringContents.length<2)r[e.captureBitStringValue]="";else{var s=t.bitStringContents.charCodeAt(0);if(s!==0)throw new Error("captureBitStringValue only supported for zero unused bits");r[e.captureBitStringValue]=t.bitStringContents.slice(1)}}else n&&n.push("["+e.name+'] Expected constructed "'+e.constructed+'", got "'+t.constructed+'"');else n&&(t.tagClass!==e.tagClass&&n.push("["+e.name+'] Expected tag class "'+e.tagClass+'", got "'+t.tagClass+'"'),t.type!==e.type&&n.push("["+e.name+'] Expected type "'+e.type+'", got "'+t.type+'"'));return i};var rC=/[^\\u0000-\\u00ff]/;mt.prettyPrint=function(t,e,r){var n="";e=e||0,r=r||2,e>0&&(n+=`
`);for(var i="",a=0;a<e*r;++a)i+=" ";switch(n+=i+"Tag: ",t.tagClass){case mt.Class.UNIVERSAL:n+="Universal:";break;case mt.Class.APPLICATION:n+="Application:";break;case mt.Class.CONTEXT_SPECIFIC:n+="Context-Specific:";break;case mt.Class.PRIVATE:n+="Private:";break}if(t.tagClass===mt.Class.UNIVERSAL)switch(n+=t.type,t.type){case mt.Type.NONE:n+=" (None)";break;case mt.Type.BOOLEAN:n+=" (Boolean)";break;case mt.Type.INTEGER:n+=" (Integer)";break;case mt.Type.BITSTRING:n+=" (Bit string)";break;case mt.Type.OCTETSTRING:n+=" (Octet string)";break;case mt.Type.NULL:n+=" (Null)";break;case mt.Type.OID:n+=" (Object Identifier)";break;case mt.Type.ODESC:n+=" (Object Descriptor)";break;case mt.Type.EXTERNAL:n+=" (External or Instance of)";break;case mt.Type.REAL:n+=" (Real)";break;case mt.Type.ENUMERATED:n+=" (Enumerated)";break;case mt.Type.EMBEDDED:n+=" (Embedded PDV)";break;case mt.Type.UTF8:n+=" (UTF8)";break;case mt.Type.ROID:n+=" (Relative Object Identifier)";break;case mt.Type.SEQUENCE:n+=" (Sequence)";break;case mt.Type.SET:n+=" (Set)";break;case mt.Type.PRINTABLESTRING:n+=" (Printable String)";break;case mt.Type.IA5String:n+=" (IA5String (ASCII))";break;case mt.Type.UTCTIME:n+=" (UTC time)";break;case mt.Type.GENERALIZEDTIME:n+=" (Generalized time)";break;case mt.Type.BMPSTRING:n+=" (BMP String)";break}else n+=t.type;if(n+=`
`,n+=i+"Constructed: "+t.constructed+`
`,t.composed){for(var o=0,s="",a=0;a<t.value.length;++a)t.value[a]!==void 0&&(o+=1,s+=mt.prettyPrint(t.value[a],e+1,r),a+1<t.value.length&&(s+=","));n+=i+"Sub values: "+o+s}else{if(n+=i+"Value: ",t.type===mt.Type.OID){var u=mt.derToOid(t.value);n+=u,qr.pki&&qr.pki.oids&&u in qr.pki.oids&&(n+=" ("+qr.pki.oids[u]+") ")}if(t.type===mt.Type.INTEGER)try{n+=mt.derToInteger(t.value)}catch{n+="0x"+qr.util.bytesToHex(t.value)}else if(t.type===mt.Type.BITSTRING){if(t.value.length>1?n+="0x"+qr.util.bytesToHex(t.value.slice(1)):n+="(none)",t.value.length>0){var l=t.value.charCodeAt(0);l==1?n+=" (1 unused bit shown)":l>1&&(n+=" ("+l+" unused bits shown)")}}else if(t.type===mt.Type.OCTETSTRING)rC.test(t.value)||(n+="("+t.value+") "),n+="0x"+qr.util.bytesToHex(t.value);else if(t.type===mt.Type.UTF8)try{n+=qr.util.decodeUtf8(t.value)}catch(c){if(c.message==="URI malformed")n+="0x"+qr.util.bytesToHex(t.value)+" (malformed UTF8)";else throw c}else t.type===mt.Type.PRINTABLESTRING||t.type===mt.Type.IA5String?n+=t.value:rC.test(t.value)?n+="0x"+qr.util.bytesToHex(t.value):t.value.length===0?n+="[null]":n+=t.value}return n};var fx=tr;fx.md=fx.md||{};fx.md.algorithms=fx.md.algorithms||{};var ss=tr,$O=ss.hmac=ss.hmac||{};$O.create=function(){var t=null,e=null,r=null,n=null,i={};return i.start=function(a,o){if(a!==null)if(typeof a=="string")if(a=a.toLowerCase(),a in ss.md.algorithms)e=ss.md.algorithms[a].create();else throw new Error('Unknown hash algorithm "'+a+'"');else e=a;if(o===null)o=t;else{if(typeof o=="string")o=ss.util.createBuffer(o);else if(ss.util.isArray(o)){var s=o;o=ss.util.createBuffer();for(var u=0;u<s.length;++u)o.putByte(s[u])}var l=o.length();l>e.blockLength&&(e.start(),e.update(o.bytes()),o=e.digest()),r=ss.util.createBuffer(),n=ss.util.createBuffer(),l=o.length();for(var u=0;u<l;++u){var s=o.at(u);r.putByte(54^s),n.putByte(92^s)}if(l<e.blockLength)for(var s=e.blockLength-l,u=0;u<s;++u)r.putByte(54),n.putByte(92);t=o,r=r.bytes(),n=n.bytes()}e.start(),e.update(r)},i.update=function(a){e.update(a)},i.getMac=function(){var a=e.digest().bytes();return e.start(),e.update(n),e.update(a),e.digest()},i.digest=i.getMac,i};var Lo=tr,w7=Lo.md5=Lo.md5||{};Lo.md.md5=Lo.md.algorithms.md5=w7;w7.create=function(){_7||WO();var t=null,e=Lo.util.createBuffer(),r=new Array(16),n={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,a=0;a<i;++a)n.fullMessageLength.push(0);return e=Lo.util.createBuffer(),t={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},n},n.start(),n.update=function(i,a){a==="utf8"&&(i=Lo.util.encodeUtf8(i));var o=i.length;n.messageLength+=o,o=[o/4294967296>>>0,o>>>0];for(var s=n.fullMessageLength.length-1;s>=0;--s)n.fullMessageLength[s]+=o[1],o[1]=o[0]+(n.fullMessageLength[s]/4294967296>>>0),n.fullMessageLength[s]=n.fullMessageLength[s]>>>0,o[0]=o[1]/4294967296>>>0;return e.putBytes(i),nC(t,r,e),(e.read>2048||e.length()===0)&&e.compact(),n},n.digest=function(){var i=Lo.util.createBuffer();i.putBytes(e.bytes());var a=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,o=a&n.blockLength-1;i.putBytes(G3.substr(0,n.blockLength-o));for(var s,u=0,l=n.fullMessageLength.length-1;l>=0;--l)s=n.fullMessageLength[l]*8+u,u=s/4294967296>>>0,i.putInt32Le(s>>>0);var c={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3};nC(c,r,i);var f=Lo.util.createBuffer();return f.putInt32Le(c.h0),f.putInt32Le(c.h1),f.putInt32Le(c.h2),f.putInt32Le(c.h3),f},n};var G3=null,x1=null,mf=null,gc=null,_7=!1;function WO(){G3="",G3+=Lo.util.fillString("\0",64),x1=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],mf=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],gc=new Array(64);for(var t=0;t<64;++t)gc[t]=Math.floor(Math.abs(Math.sin(t+1))*4294967296);_7=!0}function nC(t,e,r){for(var n,i,a,o,s,u,l,c,f=r.length();f>=64;){for(i=t.h0,a=t.h1,o=t.h2,s=t.h3,c=0;c<16;++c)e[c]=r.getInt32Le(),u=s^a&(o^s),n=i+u+gc[c]+e[c],l=mf[c],i=s,s=o,o=a,a+=n<<l|n>>>32-l;for(;c<32;++c)u=o^s&(a^o),n=i+u+gc[c]+e[x1[c]],l=mf[c],i=s,s=o,o=a,a+=n<<l|n>>>32-l;for(;c<48;++c)u=a^o^s,n=i+u+gc[c]+e[x1[c]],l=mf[c],i=s,s=o,o=a,a+=n<<l|n>>>32-l;for(;c<64;++c)u=o^(a|~s),n=i+u+gc[c]+e[x1[c]],l=mf[c],i=s,s=o,o=a,a+=n<<l|n>>>32-l;t.h0=t.h0+i|0,t.h1=t.h1+a|0,t.h2=t.h2+o|0,t.h3=t.h3+s|0,f-=64}}var dx=tr,B7=dx.pem=dx.pem||{};B7.encode=function(t,e){e=e||{};var r="-----BEGIN "+t.type+`-----\r
`,n;if(t.procType&&(n={name:"Proc-Type",values:[String(t.procType.version),t.procType.type]},r+=Dh(n)),t.contentDomain&&(n={name:"Content-Domain",values:[t.contentDomain]},r+=Dh(n)),t.dekInfo&&(n={name:"DEK-Info",values:[t.dekInfo.algorithm]},t.dekInfo.parameters&&n.values.push(t.dekInfo.parameters),r+=Dh(n)),t.headers)for(var i=0;i<t.headers.length;++i)r+=Dh(t.headers[i]);return t.procType&&(r+=`\r
`),r+=dx.util.encode64(t.body,e.maxline||64)+`\r
`,r+="-----END "+t.type+`-----\r
`,r};B7.decode=function(t){for(var e=[],r=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,n=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,i=/\r?\n/,a;a=r.exec(t),!!a;){var o=a[1];o==="NEW CERTIFICATE REQUEST"&&(o="CERTIFICATE REQUEST");var s={type:o,procType:null,contentDomain:null,dekInfo:null,headers:[],body:dx.util.decode64(a[3])};if(e.push(s),!!a[2]){for(var u=a[2].split(i),l=0;a&&l<u.length;){for(var c=u[l].replace(/\s+$/,""),f=l+1;f<u.length;++f){var d=u[f];if(!/\s/.test(d[0]))break;c+=d,l=f}if(a=c.match(n),a){for(var h={name:a[1],values:[]},y=a[2].split(","),w=0;w<y.length;++w)h.values.push(YO(y[w]));if(s.procType)if(!s.contentDomain&&h.name==="Content-Domain")s.contentDomain=y[0]||"";else if(!s.dekInfo&&h.name==="DEK-Info"){if(h.values.length===0)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');s.dekInfo={algorithm:y[0],parameters:y[1]||null}}else s.headers.push(h);else{if(h.name!=="Proc-Type")throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(h.values.length!==2)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');s.procType={version:y[0],type:y[1]}}}++l}if(s.procType==="ENCRYPTED"&&!s.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(e.length===0)throw new Error("Invalid PEM formatted message.");return e};function Dh(t){for(var e=t.name+": ",r=[],n=function(u,l){return" "+l},i=0;i<t.values.length;++i)r.push(t.values[i].replace(/^(\S+\r\n)/,n));e+=r.join(",")+`\r
`;for(var a=0,o=-1,i=0;i<e.length;++i,++a)if(a>65&&o!==-1){var s=e[o];s===","?(++o,e=e.substr(0,o)+`\r
 `+e.substr(o)):e=e.substr(0,o)+`\r
`+s+e.substr(o+1),a=i-o-1,o=-1,++i}else(e[i]===" "||e[i]==="	"||e[i]===",")&&(o=i);return e}function YO(t){return t.replace(/^\s+/,"")}var Xr=tr;Xr.des=Xr.des||{};Xr.des.startEncrypting=function(t,e,r,n){var i=Fp({key:t,output:r,decrypt:!1,mode:n||(e===null?"ECB":"CBC")});return i.start(e),i};Xr.des.createEncryptionCipher=function(t,e){return Fp({key:t,output:null,decrypt:!1,mode:e})};Xr.des.startDecrypting=function(t,e,r,n){var i=Fp({key:t,output:r,decrypt:!0,mode:n||(e===null?"ECB":"CBC")});return i.start(e),i};Xr.des.createDecryptionCipher=function(t,e){return Fp({key:t,output:null,decrypt:!0,mode:e})};Xr.des.Algorithm=function(t,e){var r=this;r.name=t,r.mode=new e({blockSize:8,cipher:{encrypt:function(n,i){return iC(r._keys,n,i,!1)},decrypt:function(n,i){return iC(r._keys,n,i,!0)}}}),r._init=!1};Xr.des.Algorithm.prototype.initialize=function(t){if(!this._init){var e=Xr.util.createBuffer(t.key);if(this.name.indexOf("3DES")===0&&e.length()!==24)throw new Error("Invalid Triple-DES key size: "+e.length()*8);this._keys=aV(e),this._init=!0}};Wo("DES-ECB",Xr.cipher.modes.ecb);Wo("DES-CBC",Xr.cipher.modes.cbc);Wo("DES-CFB",Xr.cipher.modes.cfb);Wo("DES-OFB",Xr.cipher.modes.ofb);Wo("DES-CTR",Xr.cipher.modes.ctr);Wo("3DES-ECB",Xr.cipher.modes.ecb);Wo("3DES-CBC",Xr.cipher.modes.cbc);Wo("3DES-CFB",Xr.cipher.modes.cfb);Wo("3DES-OFB",Xr.cipher.modes.ofb);Wo("3DES-CTR",Xr.cipher.modes.ctr);function Wo(t,e){var r=function(){return new Xr.des.Algorithm(t,e)};Xr.cipher.registerAlgorithm(t,r)}var ZO=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],XO=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],JO=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],eV=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],tV=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],rV=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],nV=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],iV=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function aV(t){for(var e=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],r=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],n=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],i=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],a=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],o=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],s=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],u=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],l=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],c=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],f=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],d=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],h=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],y=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],w=t.length()>8?3:1,_=[],E=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],p=0,m,S=0;S<w;S++){var F=t.getInt32(),I=t.getInt32();m=(F>>>4^I)&252645135,I^=m,F^=m<<4,m=(I>>>-16^F)&65535,F^=m,I^=m<<-16,m=(F>>>2^I)&858993459,I^=m,F^=m<<2,m=(I>>>-16^F)&65535,F^=m,I^=m<<-16,m=(F>>>1^I)&1431655765,I^=m,F^=m<<1,m=(I>>>8^F)&16711935,F^=m,I^=m<<8,m=(F>>>1^I)&1431655765,I^=m,F^=m<<1,m=F<<8|I>>>20&240,F=I<<24|I<<8&16711680|I>>>8&65280|I>>>24&240,I=m;for(var v=0;v<E.length;++v){E[v]?(F=F<<2|F>>>26,I=I<<2|I>>>26):(F=F<<1|F>>>27,I=I<<1|I>>>27),F&=-15,I&=-15;var A=e[F>>>28]|r[F>>>24&15]|n[F>>>20&15]|i[F>>>16&15]|a[F>>>12&15]|o[F>>>8&15]|s[F>>>4&15],D=u[I>>>28]|l[I>>>24&15]|c[I>>>20&15]|f[I>>>16&15]|d[I>>>12&15]|h[I>>>8&15]|y[I>>>4&15];m=(D>>>16^A)&65535,_[p++]=A^m,_[p++]=D^m<<16}}return _}function iC(t,e,r,n){var i=t.length===32?3:9,a;i===3?a=n?[30,-2,-2]:[0,32,2]:a=n?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var o,s=e[0],u=e[1];o=(s>>>4^u)&252645135,u^=o,s^=o<<4,o=(s>>>16^u)&65535,u^=o,s^=o<<16,o=(u>>>2^s)&858993459,s^=o,u^=o<<2,o=(u>>>8^s)&16711935,s^=o,u^=o<<8,o=(s>>>1^u)&1431655765,u^=o,s^=o<<1,s=s<<1|s>>>31,u=u<<1|u>>>31;for(var l=0;l<i;l+=3){for(var c=a[l+1],f=a[l+2],d=a[l];d!=c;d+=f){var h=u^t[d],y=(u>>>4|u<<28)^t[d+1];o=s,s=u,u=o^(XO[h>>>24&63]|eV[h>>>16&63]|rV[h>>>8&63]|iV[h&63]|ZO[y>>>24&63]|JO[y>>>16&63]|tV[y>>>8&63]|nV[y&63])}o=s,s=u,u=o}s=s>>>1|s<<31,u=u>>>1|u<<31,o=(s>>>1^u)&1431655765,u^=o,s^=o<<1,o=(u>>>8^s)&16711935,s^=o,u^=o<<8,o=(u>>>2^s)&858993459,s^=o,u^=o<<2,o=(s>>>16^u)&65535,u^=o,s^=o<<16,o=(s>>>4^u)&252645135,u^=o,s^=o<<4,r[0]=s,r[1]=u}function Fp(t){t=t||{};var e=(t.mode||"CBC").toUpperCase(),r="DES-"+e,n;t.decrypt?n=Xr.cipher.createDecipher(r,t.key):n=Xr.cipher.createCipher(r,t.key);var i=n.start;return n.start=function(a,o){var s=null;o instanceof Xr.util.ByteBuffer&&(s=o,o={}),o=o||{},o.output=s,o.iv=a,i.call(n,o)},n}var xi=tr,oV=xi.pkcs5=xi.pkcs5||{},is;xi.util.isNodejs&&!xi.options.usePureJavaScript&&(is=O0);xi.pbkdf2=oV.pbkdf2=function(t,e,r,n,i,a){if(typeof i=="function"&&(a=i,i=null),xi.util.isNodejs&&!xi.options.usePureJavaScript&&is.pbkdf2&&(i===null||typeof i!="object")&&(is.pbkdf2Sync.length>4||!i||i==="sha1"))return typeof i!="string"&&(i="sha1"),t=Buffer.from(t,"binary"),e=Buffer.from(e,"binary"),a?is.pbkdf2Sync.length===4?is.pbkdf2(t,e,r,n,function(m,S){if(m)return a(m);a(null,S.toString("binary"))}):is.pbkdf2(t,e,r,n,i,function(m,S){if(m)return a(m);a(null,S.toString("binary"))}):is.pbkdf2Sync.length===4?is.pbkdf2Sync(t,e,r,n).toString("binary"):is.pbkdf2Sync(t,e,r,n,i).toString("binary");if((typeof i>"u"||i===null)&&(i="sha1"),typeof i=="string"){if(!(i in xi.md.algorithms))throw new Error("Unknown hash algorithm: "+i);i=xi.md[i].create()}var o=i.digestLength;if(n>4294967295*o){var s=new Error("Derived key is too long.");if(a)return a(s);throw s}var u=Math.ceil(n/o),l=n-(u-1)*o,c=xi.hmac.create();c.start(i,t);var f="",d,h,y;if(!a){for(var w=1;w<=u;++w){c.start(null,null),c.update(e),c.update(xi.util.int32ToBytes(w)),d=y=c.digest().getBytes();for(var _=2;_<=r;++_)c.start(null,null),c.update(y),h=c.digest().getBytes(),d=xi.util.xorBytes(d,h,o),y=h;f+=w<u?d:d.substr(0,l)}return f}var w=1,_;function E(){if(w>u)return a(null,f);c.start(null,null),c.update(e),c.update(xi.util.int32ToBytes(w)),d=y=c.digest().getBytes(),_=2,p()}function p(){if(_<=r)return c.start(null,null),c.update(y),h=c.digest().getBytes(),d=xi.util.xorBytes(d,h,o),y=h,++_,xi.util.setImmediate(p);f+=w<u?d:d.substr(0,l),++w,E()}E()};var Fo=tr,b7=Fo.sha256=Fo.sha256||{};Fo.md.sha256=Fo.md.algorithms.sha256=b7;b7.create=function(){S7||sV();var t=null,e=Fo.util.createBuffer(),r=new Array(64),n={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,a=0;a<i;++a)n.fullMessageLength.push(0);return e=Fo.util.createBuffer(),t={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},n},n.start(),n.update=function(i,a){a==="utf8"&&(i=Fo.util.encodeUtf8(i));var o=i.length;n.messageLength+=o,o=[o/4294967296>>>0,o>>>0];for(var s=n.fullMessageLength.length-1;s>=0;--s)n.fullMessageLength[s]+=o[1],o[1]=o[0]+(n.fullMessageLength[s]/4294967296>>>0),n.fullMessageLength[s]=n.fullMessageLength[s]>>>0,o[0]=o[1]/4294967296>>>0;return e.putBytes(i),aC(t,r,e),(e.read>2048||e.length()===0)&&e.compact(),n},n.digest=function(){var i=Fo.util.createBuffer();i.putBytes(e.bytes());var a=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,o=a&n.blockLength-1;i.putBytes(z3.substr(0,n.blockLength-o));for(var s,u,l=n.fullMessageLength[0]*8,c=0;c<n.fullMessageLength.length-1;++c)s=n.fullMessageLength[c+1]*8,u=s/4294967296>>>0,l+=u,i.putInt32(l>>>0),l=s>>>0;i.putInt32(l);var f={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3,h4:t.h4,h5:t.h5,h6:t.h6,h7:t.h7};aC(f,r,i);var d=Fo.util.createBuffer();return d.putInt32(f.h0),d.putInt32(f.h1),d.putInt32(f.h2),d.putInt32(f.h3),d.putInt32(f.h4),d.putInt32(f.h5),d.putInt32(f.h6),d.putInt32(f.h7),d},n};var z3=null,S7=!1,I7=null;function sV(){z3="",z3+=Fo.util.fillString("\0",64),I7=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],S7=!0}function aC(t,e,r){for(var n,i,a,o,s,u,l,c,f,d,h,y,w,_,E,p=r.length();p>=64;){for(l=0;l<16;++l)e[l]=r.getInt32();for(;l<64;++l)n=e[l-2],n=(n>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,i=e[l-15],i=(i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,e[l]=n+e[l-7]+i+e[l-16]|0;for(c=t.h0,f=t.h1,d=t.h2,h=t.h3,y=t.h4,w=t.h5,_=t.h6,E=t.h7,l=0;l<64;++l)o=(y>>>6|y<<26)^(y>>>11|y<<21)^(y>>>25|y<<7),s=_^y&(w^_),a=(c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10),u=c&f|d&(c^f),n=E+o+s+I7[l]+e[l],i=a+u,E=_,_=w,w=y,y=h+n>>>0,h=d,d=f,f=c,c=n+i>>>0;t.h0=t.h0+c|0,t.h1=t.h1+f|0,t.h2=t.h2+d|0,t.h3=t.h3+h|0,t.h4=t.h4+y|0,t.h5=t.h5+w|0,t.h6=t.h6+_|0,t.h7=t.h7+E|0,p-=64}}var _o=tr,p1=null;_o.util.isNodejs&&!_o.options.usePureJavaScript&&!process.versions["node-webkit"]&&(p1=O0);var lV=_o.prng=_o.prng||{};lV.create=function(t){for(var e={plugin:t,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},r=t.md,n=new Array(32),i=0;i<32;++i)n[i]=r.create();e.pools=n,e.pool=0,e.generate=function(l,c){if(!c)return e.generateSync(l);var f=e.plugin.cipher,d=e.plugin.increment,h=e.plugin.formatKey,y=e.plugin.formatSeed,w=_o.util.createBuffer();e.key=null,_();function _(E){if(E)return c(E);if(w.length()>=l)return c(null,w.getBytes(l));if(e.generated>1048575&&(e.key=null),e.key===null)return _o.util.nextTick(function(){a(_)});var p=f(e.key,e.seed);e.generated+=p.length,w.putBytes(p),e.key=h(f(e.key,d(e.seed))),e.seed=y(f(e.key,e.seed)),_o.util.setImmediate(_)}},e.generateSync=function(l){var c=e.plugin.cipher,f=e.plugin.increment,d=e.plugin.formatKey,h=e.plugin.formatSeed;e.key=null;for(var y=_o.util.createBuffer();y.length()<l;){e.generated>1048575&&(e.key=null),e.key===null&&o();var w=c(e.key,e.seed);e.generated+=w.length,y.putBytes(w),e.key=d(c(e.key,f(e.seed))),e.seed=h(c(e.key,e.seed))}return y.getBytes(l)};function a(l){if(e.pools[0].messageLength>=32)return s(),l();var c=32-e.pools[0].messageLength<<5;e.seedFile(c,function(f,d){if(f)return l(f);e.collect(d),s(),l()})}function o(){if(e.pools[0].messageLength>=32)return s();var l=32-e.pools[0].messageLength<<5;e.collect(e.seedFileSync(l)),s()}function s(){e.reseeds=e.reseeds===4294967295?0:e.reseeds+1;var l=e.plugin.md.create();l.update(e.keyBytes);for(var c=1,f=0;f<32;++f)e.reseeds%c===0&&(l.update(e.pools[f].digest().getBytes()),e.pools[f].start()),c=c<<1;e.keyBytes=l.digest().getBytes(),l.start(),l.update(e.keyBytes);var d=l.digest().getBytes();e.key=e.plugin.formatKey(e.keyBytes),e.seed=e.plugin.formatSeed(d),e.generated=0}function u(l){var c=null,f=_o.util.globalScope,d=f.crypto||f.msCrypto;d&&d.getRandomValues&&(c=function(F){return d.getRandomValues(F)});var h=_o.util.createBuffer();if(c)for(;h.length()<l;){var y=Math.max(1,Math.min(l-h.length(),65536)/4),w=new Uint32Array(Math.floor(y));try{c(w);for(var _=0;_<w.length;++_)h.putInt32(w[_])}catch(F){if(!(typeof QuotaExceededError<"u"&&F instanceof QuotaExceededError))throw F}}if(h.length()<l)for(var E,p,m,S=Math.floor(Math.random()*65536);h.length()<l;){p=16807*(S&65535),E=16807*(S>>16),p+=(E&32767)<<16,p+=E>>15,p=(p&2147483647)+(p>>31),S=p&4294967295;for(var _=0;_<3;++_)m=S>>>(_<<3),m^=Math.floor(Math.random()*256),h.putByte(m&255)}return h.getBytes(l)}return p1?(e.seedFile=function(l,c){p1.randomBytes(l,function(f,d){if(f)return c(f);c(null,d.toString())})},e.seedFileSync=function(l){return p1.randomBytes(l).toString()}):(e.seedFile=function(l,c){try{c(null,u(l))}catch(f){c(f)}},e.seedFileSync=u),e.collect=function(l){for(var c=l.length,f=0;f<c;++f)e.pools[e.pool].update(l.substr(f,1)),e.pool=e.pool===31?0:e.pool+1},e.collectInt=function(l,c){for(var f="",d=0;d<c;d+=8)f+=String.fromCharCode(l>>d&255);e.collect(f)},e.registerWorker=function(l){if(l===self)e.seedFile=function(f,d){function h(y){var w=y.data;w.forge&&w.forge.prng&&(self.removeEventListener("message",h),d(w.forge.prng.err,w.forge.prng.bytes))}self.addEventListener("message",h),self.postMessage({forge:{prng:{needed:f}}})};else{var c=function(f){var d=f.data;d.forge&&d.forge.prng&&e.seedFile(d.forge.prng.needed,function(h,y){l.postMessage({forge:{prng:{err:h,bytes:y}}})})};l.addEventListener("message",c)}},e};var In=tr;(function(){if(In.random&&In.random.getBytes){In.random;return}(function(t){var e={},r=new Array(4),n=In.util.createBuffer();e.formatKey=function(f){var d=In.util.createBuffer(f);return f=new Array(4),f[0]=d.getInt32(),f[1]=d.getInt32(),f[2]=d.getInt32(),f[3]=d.getInt32(),In.aes._expandKey(f,!1)},e.formatSeed=function(f){var d=In.util.createBuffer(f);return f=new Array(4),f[0]=d.getInt32(),f[1]=d.getInt32(),f[2]=d.getInt32(),f[3]=d.getInt32(),f},e.cipher=function(f,d){return In.aes._updateBlock(f,d,r,!1),n.putInt32(r[0]),n.putInt32(r[1]),n.putInt32(r[2]),n.putInt32(r[3]),n.getBytes()},e.increment=function(f){return++f[3],f},e.md=In.md.sha256;function i(){var f=In.prng.create(e);return f.getBytes=function(d,h){return f.generate(d,h)},f.getBytesSync=function(d){return f.generate(d)},f}var a=i(),o=null,s=In.util.globalScope,u=s.crypto||s.msCrypto;if(u&&u.getRandomValues&&(o=function(f){return u.getRandomValues(f)}),In.options.usePureJavaScript||!In.util.isNodejs&&!o){if(a.collectInt(+new Date,32),typeof navigator<"u"){var l="";for(var c in navigator)try{typeof navigator[c]=="string"&&(l+=navigator[c])}catch{}a.collect(l),l=null}t&&(t().mousemove(function(f){a.collectInt(f.clientX,16),a.collectInt(f.clientY,16)}),t().keypress(function(f){a.collectInt(f.charCode,8)}))}if(!In.random)In.random=a;else for(var c in a)In.random[c]=a[c];In.random.createInstance=i,In.random})(typeof jQuery<"u"?jQuery:null)})();var Ri=tr,Bg=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],oC=[1,2,3,5],cV=function(t,e){return t<<e&65535|(t&65535)>>16-e},uV=function(t,e){return(t&65535)>>e|t<<16-e&65535};Ri.rc2=Ri.rc2||{};Ri.rc2.expandKey=function(t,e){typeof t=="string"&&(t=Ri.util.createBuffer(t)),e=e||128;var r=t,n=t.length(),i=e,a=Math.ceil(i/8),o=255>>(i&7),s;for(s=n;s<128;s++)r.putByte(Bg[r.at(s-1)+r.at(s-n)&255]);for(r.setAt(128-a,Bg[r.at(128-a)&o]),s=127-a;s>=0;s--)r.setAt(s,Bg[r.at(s+1)^r.at(s+a)]);return r};var L7=function(t,e,r){var n=!1,i=null,a=null,o=null,s,u,l,c,f=[];for(t=Ri.rc2.expandKey(t,e),l=0;l<64;l++)f.push(t.getInt16Le());r?(s=function(y){for(l=0;l<4;l++)y[l]+=f[c]+(y[(l+3)%4]&y[(l+2)%4])+(~y[(l+3)%4]&y[(l+1)%4]),y[l]=cV(y[l],oC[l]),c++},u=function(y){for(l=0;l<4;l++)y[l]+=f[y[(l+3)%4]&63]}):(s=function(y){for(l=3;l>=0;l--)y[l]=uV(y[l],oC[l]),y[l]-=f[c]+(y[(l+3)%4]&y[(l+2)%4])+(~y[(l+3)%4]&y[(l+1)%4]),c--},u=function(y){for(l=3;l>=0;l--)y[l]-=f[y[(l+3)%4]&63]});var d=function(y){var w=[];for(l=0;l<4;l++){var _=i.getInt16Le();o!==null&&(r?_^=o.getInt16Le():o.putInt16Le(_)),w.push(_&65535)}c=r?0:63;for(var E=0;E<y.length;E++)for(var p=0;p<y[E][0];p++)y[E][1](w);for(l=0;l<4;l++)o!==null&&(r?o.putInt16Le(w[l]):w[l]^=o.getInt16Le()),a.putInt16Le(w[l])},h=null;return h={start:function(y,w){y&&typeof y=="string"&&(y=Ri.util.createBuffer(y)),n=!1,i=Ri.util.createBuffer(),a=w||new Ri.util.createBuffer,o=y,h.output=a},update:function(y){for(n||i.putBuffer(y);i.length()>=8;)d([[5,s],[1,u],[6,s],[1,u],[5,s]])},finish:function(y){var w=!0;if(r)if(y)w=y(8,i,!r);else{var _=i.length()===8?8:8-i.length();i.fillWithByte(_,_)}if(w&&(n=!0,h.update()),!r&&(w=i.length()===0,w))if(y)w=y(8,a,!r);else{var E=a.length(),p=a.at(E-1);p>E?w=!1:a.truncate(p)}return w}},h};Ri.rc2.startEncrypting=function(t,e,r){var n=Ri.rc2.createEncryptionCipher(t,128);return n.start(e,r),n};Ri.rc2.createEncryptionCipher=function(t,e){return L7(t,e,!0)};Ri.rc2.startDecrypting=function(t,e,r){var n=Ri.rc2.createDecryptionCipher(t,128);return n.start(e,r),n};Ri.rc2.createDecryptionCipher=function(t,e){return L7(t,e,!1)};var K3=tr;K3.jsbn=K3.jsbn||{};var ws;function at(t,e,r){this.data=[],t!=null&&(typeof t=="number"?this.fromNumber(t,e,r):e==null&&typeof t!="string"?this.fromString(t,256):this.fromString(t,e))}K3.jsbn.BigInteger=at;function Cr(){return new at(null)}function fV(t,e,r,n,i,a){for(;--a>=0;){var o=e*this.data[t++]+r.data[n]+i;i=Math.floor(o/67108864),r.data[n++]=o&67108863}return i}function dV(t,e,r,n,i,a){for(var o=e&32767,s=e>>15;--a>=0;){var u=this.data[t]&32767,l=this.data[t++]>>15,c=s*u+l*o;u=o*u+((c&32767)<<15)+r.data[n]+(i&1073741823),i=(u>>>30)+(c>>>15)+s*l+(i>>>30),r.data[n++]=u&1073741823}return i}function sC(t,e,r,n,i,a){for(var o=e&16383,s=e>>14;--a>=0;){var u=this.data[t]&16383,l=this.data[t++]>>14,c=s*u+l*o;u=o*u+((c&16383)<<14)+r.data[n]+i,i=(u>>28)+(c>>14)+s*l,r.data[n++]=u&268435455}return i}typeof navigator>"u"?(at.prototype.am=sC,ws=28):navigator.appName=="Microsoft Internet Explorer"?(at.prototype.am=dV,ws=30):navigator.appName!="Netscape"?(at.prototype.am=fV,ws=26):(at.prototype.am=sC,ws=28);at.prototype.DB=ws;at.prototype.DM=(1<<ws)-1;at.prototype.DV=1<<ws;var lv=52;at.prototype.FV=Math.pow(2,lv);at.prototype.F1=lv-ws;at.prototype.F2=2*ws-lv;var hV="0123456789abcdefghijklmnopqrstuvwxyz",Dp=new Array,Bu,Aa;Bu=48;for(Aa=0;Aa<=9;++Aa)Dp[Bu++]=Aa;Bu=97;for(Aa=10;Aa<36;++Aa)Dp[Bu++]=Aa;Bu=65;for(Aa=10;Aa<36;++Aa)Dp[Bu++]=Aa;function lC(t){return hV.charAt(t)}function F7(t,e){var r=Dp[t.charCodeAt(e)];return r??-1}function xV(t){for(var e=this.t-1;e>=0;--e)t.data[e]=this.data[e];t.t=this.t,t.s=this.s}function pV(t){this.t=1,this.s=t<0?-1:0,t>0?this.data[0]=t:t<-1?this.data[0]=t+this.DV:this.t=0}function u0(t){var e=Cr();return e.fromInt(t),e}function gV(t,e){var r;if(e==16)r=4;else if(e==8)r=3;else if(e==256)r=8;else if(e==2)r=1;else if(e==32)r=5;else if(e==4)r=2;else{this.fromRadix(t,e);return}this.t=0,this.s=0;for(var n=t.length,i=!1,a=0;--n>=0;){var o=r==8?t[n]&255:F7(t,n);if(o<0){t.charAt(n)=="-"&&(i=!0);continue}i=!1,a==0?this.data[this.t++]=o:a+r>this.DB?(this.data[this.t-1]|=(o&(1<<this.DB-a)-1)<<a,this.data[this.t++]=o>>this.DB-a):this.data[this.t-1]|=o<<a,a+=r,a>=this.DB&&(a-=this.DB)}r==8&&t[0]&128&&(this.s=-1,a>0&&(this.data[this.t-1]|=(1<<this.DB-a)-1<<a)),this.clamp(),i&&at.ZERO.subTo(this,this)}function mV(){for(var t=this.s&this.DM;this.t>0&&this.data[this.t-1]==t;)--this.t}function yV(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(t==16)e=4;else if(t==8)e=3;else if(t==2)e=1;else if(t==32)e=5;else if(t==4)e=2;else return this.toRadix(t);var r=(1<<e)-1,n,i=!1,a="",o=this.t,s=this.DB-o*this.DB%e;if(o-- >0)for(s<this.DB&&(n=this.data[o]>>s)>0&&(i=!0,a=lC(n));o>=0;)s<e?(n=(this.data[o]&(1<<s)-1)<<e-s,n|=this.data[--o]>>(s+=this.DB-e)):(n=this.data[o]>>(s-=e)&r,s<=0&&(s+=this.DB,--o)),n>0&&(i=!0),i&&(a+=lC(n));return i?a:"0"}function vV(){var t=Cr();return at.ZERO.subTo(this,t),t}function EV(){return this.s<0?this.negate():this}function CV(t){var e=this.s-t.s;if(e!=0)return e;var r=this.t;if(e=r-t.t,e!=0)return this.s<0?-e:e;for(;--r>=0;)if((e=this.data[r]-t.data[r])!=0)return e;return 0}function Tp(t){var e=1,r;return(r=t>>>16)!=0&&(t=r,e+=16),(r=t>>8)!=0&&(t=r,e+=8),(r=t>>4)!=0&&(t=r,e+=4),(r=t>>2)!=0&&(t=r,e+=2),(r=t>>1)!=0&&(t=r,e+=1),e}function AV(){return this.t<=0?0:this.DB*(this.t-1)+Tp(this.data[this.t-1]^this.s&this.DM)}function wV(t,e){var r;for(r=this.t-1;r>=0;--r)e.data[r+t]=this.data[r];for(r=t-1;r>=0;--r)e.data[r]=0;e.t=this.t+t,e.s=this.s}function _V(t,e){for(var r=t;r<this.t;++r)e.data[r-t]=this.data[r];e.t=Math.max(this.t-t,0),e.s=this.s}function BV(t,e){var r=t%this.DB,n=this.DB-r,i=(1<<n)-1,a=Math.floor(t/this.DB),o=this.s<<r&this.DM,s;for(s=this.t-1;s>=0;--s)e.data[s+a+1]=this.data[s]>>n|o,o=(this.data[s]&i)<<r;for(s=a-1;s>=0;--s)e.data[s]=0;e.data[a]=o,e.t=this.t+a+1,e.s=this.s,e.clamp()}function bV(t,e){e.s=this.s;var r=Math.floor(t/this.DB);if(r>=this.t){e.t=0;return}var n=t%this.DB,i=this.DB-n,a=(1<<n)-1;e.data[0]=this.data[r]>>n;for(var o=r+1;o<this.t;++o)e.data[o-r-1]|=(this.data[o]&a)<<i,e.data[o-r]=this.data[o]>>n;n>0&&(e.data[this.t-r-1]|=(this.s&a)<<i),e.t=this.t-r,e.clamp()}function SV(t,e){for(var r=0,n=0,i=Math.min(t.t,this.t);r<i;)n+=this.data[r]-t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n-=t.s;r<this.t;)n+=this.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n-=t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n-=t.s}e.s=n<0?-1:0,n<-1?e.data[r++]=this.DV+n:n>0&&(e.data[r++]=n),e.t=r,e.clamp()}function IV(t,e){var r=this.abs(),n=t.abs(),i=r.t;for(e.t=i+n.t;--i>=0;)e.data[i]=0;for(i=0;i<n.t;++i)e.data[i+r.t]=r.am(0,n.data[i],e,i,0,r.t);e.s=0,e.clamp(),this.s!=t.s&&at.ZERO.subTo(e,e)}function LV(t){for(var e=this.abs(),r=t.t=2*e.t;--r>=0;)t.data[r]=0;for(r=0;r<e.t-1;++r){var n=e.am(r,e.data[r],t,2*r,0,1);(t.data[r+e.t]+=e.am(r+1,2*e.data[r],t,2*r+1,n,e.t-r-1))>=e.DV&&(t.data[r+e.t]-=e.DV,t.data[r+e.t+1]=1)}t.t>0&&(t.data[t.t-1]+=e.am(r,e.data[r],t,2*r,0,1)),t.s=0,t.clamp()}function FV(t,e,r){var n=t.abs();if(!(n.t<=0)){var i=this.abs();if(i.t<n.t){e!=null&&e.fromInt(0),r!=null&&this.copyTo(r);return}r==null&&(r=Cr());var a=Cr(),o=this.s,s=t.s,u=this.DB-Tp(n.data[n.t-1]);u>0?(n.lShiftTo(u,a),i.lShiftTo(u,r)):(n.copyTo(a),i.copyTo(r));var l=a.t,c=a.data[l-1];if(c!=0){var f=c*(1<<this.F1)+(l>1?a.data[l-2]>>this.F2:0),d=this.FV/f,h=(1<<this.F1)/f,y=1<<this.F2,w=r.t,_=w-l,E=e??Cr();for(a.dlShiftTo(_,E),r.compareTo(E)>=0&&(r.data[r.t++]=1,r.subTo(E,r)),at.ONE.dlShiftTo(l,E),E.subTo(a,a);a.t<l;)a.data[a.t++]=0;for(;--_>=0;){var p=r.data[--w]==c?this.DM:Math.floor(r.data[w]*d+(r.data[w-1]+y)*h);if((r.data[w]+=a.am(0,p,r,_,0,l))<p)for(a.dlShiftTo(_,E),r.subTo(E,r);r.data[w]<--p;)r.subTo(E,r)}e!=null&&(r.drShiftTo(l,e),o!=s&&at.ZERO.subTo(e,e)),r.t=l,r.clamp(),u>0&&r.rShiftTo(u,r),o<0&&at.ZERO.subTo(r,r)}}}function DV(t){var e=Cr();return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(at.ZERO)>0&&t.subTo(e,e),e}function zl(t){this.m=t}function TV(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t}function kV(t){return t}function NV(t){t.divRemTo(this.m,null,t)}function PV(t,e,r){t.multiplyTo(e,r),this.reduce(r)}function RV(t,e){t.squareTo(e),this.reduce(e)}zl.prototype.convert=TV;zl.prototype.revert=kV;zl.prototype.reduce=NV;zl.prototype.mulTo=PV;zl.prototype.sqrTo=RV;function MV(){if(this.t<1)return 0;var t=this.data[0];if(!(t&1))return 0;var e=t&3;return e=e*(2-(t&15)*e)&15,e=e*(2-(t&255)*e)&255,e=e*(2-((t&65535)*e&65535))&65535,e=e*(2-t*e%this.DV)%this.DV,e>0?this.DV-e:-e}function Kl(t){this.m=t,this.mp=t.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function UV(t){var e=Cr();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(at.ZERO)>0&&this.m.subTo(e,e),e}function OV(t){var e=Cr();return t.copyTo(e),this.reduce(e),e}function VV(t){for(;t.t<=this.mt2;)t.data[t.t++]=0;for(var e=0;e<this.m.t;++e){var r=t.data[e]&32767,n=r*this.mpl+((r*this.mph+(t.data[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(r=e+this.m.t,t.data[r]+=this.m.am(0,n,t,e,0,this.m.t);t.data[r]>=t.DV;)t.data[r]-=t.DV,t.data[++r]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)}function GV(t,e){t.squareTo(e),this.reduce(e)}function zV(t,e,r){t.multiplyTo(e,r),this.reduce(r)}Kl.prototype.convert=UV;Kl.prototype.revert=OV;Kl.prototype.reduce=VV;Kl.prototype.mulTo=zV;Kl.prototype.sqrTo=GV;function KV(){return(this.t>0?this.data[0]&1:this.s)==0}function qV(t,e){if(t>4294967295||t<1)return at.ONE;var r=Cr(),n=Cr(),i=e.convert(this),a=Tp(t)-1;for(i.copyTo(r);--a>=0;)if(e.sqrTo(r,n),(t&1<<a)>0)e.mulTo(n,i,r);else{var o=r;r=n,n=o}return e.revert(r)}function QV(t,e){var r;return t<256||e.isEven()?r=new zl(e):r=new Kl(e),this.exp(t,r)}at.prototype.copyTo=xV;at.prototype.fromInt=pV;at.prototype.fromString=gV;at.prototype.clamp=mV;at.prototype.dlShiftTo=wV;at.prototype.drShiftTo=_V;at.prototype.lShiftTo=BV;at.prototype.rShiftTo=bV;at.prototype.subTo=SV;at.prototype.multiplyTo=IV;at.prototype.squareTo=LV;at.prototype.divRemTo=FV;at.prototype.invDigit=MV;at.prototype.isEven=KV;at.prototype.exp=qV;at.prototype.toString=yV;at.prototype.negate=vV;at.prototype.abs=EV;at.prototype.compareTo=CV;at.prototype.bitLength=AV;at.prototype.mod=DV;at.prototype.modPowInt=QV;at.ZERO=u0(0);at.ONE=u0(1);function HV(){var t=Cr();return this.copyTo(t),t}function jV(){if(this.s<0){if(this.t==1)return this.data[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this.data[0];if(this.t==0)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]}function $V(){return this.t==0?this.s:this.data[0]<<24>>24}function WV(){return this.t==0?this.s:this.data[0]<<16>>16}function YV(t){return Math.floor(Math.LN2*this.DB/Math.log(t))}function ZV(){return this.s<0?-1:this.t<=0||this.t==1&&this.data[0]<=0?0:1}function XV(t){if(t==null&&(t=10),this.signum()==0||t<2||t>36)return"0";var e=this.chunkSize(t),r=Math.pow(t,e),n=u0(r),i=Cr(),a=Cr(),o="";for(this.divRemTo(n,i,a);i.signum()>0;)o=(r+a.intValue()).toString(t).substr(1)+o,i.divRemTo(n,i,a);return a.intValue().toString(t)+o}function JV(t,e){this.fromInt(0),e==null&&(e=10);for(var r=this.chunkSize(e),n=Math.pow(e,r),i=!1,a=0,o=0,s=0;s<t.length;++s){var u=F7(t,s);if(u<0){t.charAt(s)=="-"&&this.signum()==0&&(i=!0);continue}o=e*o+u,++a>=r&&(this.dMultiply(n),this.dAddOffset(o,0),a=0,o=0)}a>0&&(this.dMultiply(Math.pow(e,a)),this.dAddOffset(o,0)),i&&at.ZERO.subTo(this,this)}function eG(t,e,r){if(typeof e=="number")if(t<2)this.fromInt(1);else for(this.fromNumber(t,r),this.testBit(t-1)||this.bitwiseTo(at.ONE.shiftLeft(t-1),cv,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(e);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(at.ONE.shiftLeft(t-1),this);else{var n=new Array,i=t&7;n.length=(t>>3)+1,e.nextBytes(n),i>0?n[0]&=(1<<i)-1:n[0]=0,this.fromString(n,256)}}function tG(){var t=this.t,e=new Array;e[0]=this.s;var r=this.DB-t*this.DB%8,n,i=0;if(t-- >0)for(r<this.DB&&(n=this.data[t]>>r)!=(this.s&this.DM)>>r&&(e[i++]=n|this.s<<this.DB-r);t>=0;)r<8?(n=(this.data[t]&(1<<r)-1)<<8-r,n|=this.data[--t]>>(r+=this.DB-8)):(n=this.data[t]>>(r-=8)&255,r<=0&&(r+=this.DB,--t)),n&128&&(n|=-256),i==0&&(this.s&128)!=(n&128)&&++i,(i>0||n!=this.s)&&(e[i++]=n);return e}function rG(t){return this.compareTo(t)==0}function nG(t){return this.compareTo(t)<0?this:t}function iG(t){return this.compareTo(t)>0?this:t}function aG(t,e,r){var n,i,a=Math.min(t.t,this.t);for(n=0;n<a;++n)r.data[n]=e(this.data[n],t.data[n]);if(t.t<this.t){for(i=t.s&this.DM,n=a;n<this.t;++n)r.data[n]=e(this.data[n],i);r.t=this.t}else{for(i=this.s&this.DM,n=a;n<t.t;++n)r.data[n]=e(i,t.data[n]);r.t=t.t}r.s=e(this.s,t.s),r.clamp()}function oG(t,e){return t&e}function sG(t){var e=Cr();return this.bitwiseTo(t,oG,e),e}function cv(t,e){return t|e}function lG(t){var e=Cr();return this.bitwiseTo(t,cv,e),e}function D7(t,e){return t^e}function cG(t){var e=Cr();return this.bitwiseTo(t,D7,e),e}function T7(t,e){return t&~e}function uG(t){var e=Cr();return this.bitwiseTo(t,T7,e),e}function fG(){for(var t=Cr(),e=0;e<this.t;++e)t.data[e]=this.DM&~this.data[e];return t.t=this.t,t.s=~this.s,t}function dG(t){var e=Cr();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e}function hG(t){var e=Cr();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e}function xG(t){if(t==0)return-1;var e=0;return t&65535||(t>>=16,e+=16),t&255||(t>>=8,e+=8),t&15||(t>>=4,e+=4),t&3||(t>>=2,e+=2),t&1||++e,e}function pG(){for(var t=0;t<this.t;++t)if(this.data[t]!=0)return t*this.DB+xG(this.data[t]);return this.s<0?this.t*this.DB:-1}function gG(t){for(var e=0;t!=0;)t&=t-1,++e;return e}function mG(){for(var t=0,e=this.s&this.DM,r=0;r<this.t;++r)t+=gG(this.data[r]^e);return t}function yG(t){var e=Math.floor(t/this.DB);return e>=this.t?this.s!=0:(this.data[e]&1<<t%this.DB)!=0}function vG(t,e){var r=at.ONE.shiftLeft(t);return this.bitwiseTo(r,e,r),r}function EG(t){return this.changeBit(t,cv)}function CG(t){return this.changeBit(t,T7)}function AG(t){return this.changeBit(t,D7)}function wG(t,e){for(var r=0,n=0,i=Math.min(t.t,this.t);r<i;)n+=this.data[r]+t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n+=t.s;r<this.t;)n+=this.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n+=t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=t.s}e.s=n<0?-1:0,n>0?e.data[r++]=n:n<-1&&(e.data[r++]=this.DV+n),e.t=r,e.clamp()}function _G(t){var e=Cr();return this.addTo(t,e),e}function BG(t){var e=Cr();return this.subTo(t,e),e}function bG(t){var e=Cr();return this.multiplyTo(t,e),e}function SG(t){var e=Cr();return this.divRemTo(t,e,null),e}function IG(t){var e=Cr();return this.divRemTo(t,null,e),e}function LG(t){var e=Cr(),r=Cr();return this.divRemTo(t,e,r),new Array(e,r)}function FG(t){this.data[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()}function DG(t,e){if(t!=0){for(;this.t<=e;)this.data[this.t++]=0;for(this.data[e]+=t;this.data[e]>=this.DV;)this.data[e]-=this.DV,++e>=this.t&&(this.data[this.t++]=0),++this.data[e]}}function $d(){}function k7(t){return t}function TG(t,e,r){t.multiplyTo(e,r)}function kG(t,e){t.squareTo(e)}$d.prototype.convert=k7;$d.prototype.revert=k7;$d.prototype.mulTo=TG;$d.prototype.sqrTo=kG;function NG(t){return this.exp(t,new $d)}function PG(t,e,r){var n=Math.min(this.t+t.t,e);for(r.s=0,r.t=n;n>0;)r.data[--n]=0;var i;for(i=r.t-this.t;n<i;++n)r.data[n+this.t]=this.am(0,t.data[n],r,n,0,this.t);for(i=Math.min(t.t,e);n<i;++n)this.am(0,t.data[n],r,n,0,e-n);r.clamp()}function RG(t,e,r){--e;var n=r.t=this.t+t.t-e;for(r.s=0;--n>=0;)r.data[n]=0;for(n=Math.max(e-this.t,0);n<t.t;++n)r.data[this.t+n-e]=this.am(e-n,t.data[n],r,0,0,this.t+n-e);r.clamp(),r.drShiftTo(1,r)}function bu(t){this.r2=Cr(),this.q3=Cr(),at.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}function MG(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=Cr();return t.copyTo(e),this.reduce(e),e}function UG(t){return t}function OG(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)}function VG(t,e){t.squareTo(e),this.reduce(e)}function GG(t,e,r){t.multiplyTo(e,r),this.reduce(r)}bu.prototype.convert=MG;bu.prototype.revert=UG;bu.prototype.reduce=OG;bu.prototype.mulTo=GG;bu.prototype.sqrTo=VG;function zG(t,e){var r=t.bitLength(),n,i=u0(1),a;if(r<=0)return i;r<18?n=1:r<48?n=3:r<144?n=4:r<768?n=5:n=6,r<8?a=new zl(e):e.isEven()?a=new bu(e):a=new Kl(e);var o=new Array,s=3,u=n-1,l=(1<<n)-1;if(o[1]=a.convert(this),n>1){var c=Cr();for(a.sqrTo(o[1],c);s<=l;)o[s]=Cr(),a.mulTo(c,o[s-2],o[s]),s+=2}var f=t.t-1,d,h=!0,y=Cr(),w;for(r=Tp(t.data[f])-1;f>=0;){for(r>=u?d=t.data[f]>>r-u&l:(d=(t.data[f]&(1<<r+1)-1)<<u-r,f>0&&(d|=t.data[f-1]>>this.DB+r-u)),s=n;!(d&1);)d>>=1,--s;if((r-=s)<0&&(r+=this.DB,--f),h)o[d].copyTo(i),h=!1;else{for(;s>1;)a.sqrTo(i,y),a.sqrTo(y,i),s-=2;s>0?a.sqrTo(i,y):(w=i,i=y,y=w),a.mulTo(y,o[d],i)}for(;f>=0&&!(t.data[f]&1<<r);)a.sqrTo(i,y),w=i,i=y,y=w,--r<0&&(r=this.DB-1,--f)}return a.revert(i)}function KG(t){var e=this.s<0?this.negate():this.clone(),r=t.s<0?t.negate():t.clone();if(e.compareTo(r)<0){var n=e;e=r,r=n}var i=e.getLowestSetBit(),a=r.getLowestSetBit();if(a<0)return e;for(i<a&&(a=i),a>0&&(e.rShiftTo(a,e),r.rShiftTo(a,r));e.signum()>0;)(i=e.getLowestSetBit())>0&&e.rShiftTo(i,e),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),e.compareTo(r)>=0?(e.subTo(r,e),e.rShiftTo(1,e)):(r.subTo(e,r),r.rShiftTo(1,r));return a>0&&r.lShiftTo(a,r),r}function qG(t){if(t<=0)return 0;var e=this.DV%t,r=this.s<0?t-1:0;if(this.t>0)if(e==0)r=this.data[0]%t;else for(var n=this.t-1;n>=0;--n)r=(e*r+this.data[n])%t;return r}function QG(t){var e=t.isEven();if(this.isEven()&&e||t.signum()==0)return at.ZERO;for(var r=t.clone(),n=this.clone(),i=u0(1),a=u0(0),o=u0(0),s=u0(1);r.signum()!=0;){for(;r.isEven();)r.rShiftTo(1,r),e?((!i.isEven()||!a.isEven())&&(i.addTo(this,i),a.subTo(t,a)),i.rShiftTo(1,i)):a.isEven()||a.subTo(t,a),a.rShiftTo(1,a);for(;n.isEven();)n.rShiftTo(1,n),e?((!o.isEven()||!s.isEven())&&(o.addTo(this,o),s.subTo(t,s)),o.rShiftTo(1,o)):s.isEven()||s.subTo(t,s),s.rShiftTo(1,s);r.compareTo(n)>=0?(r.subTo(n,r),e&&i.subTo(o,i),a.subTo(s,a)):(n.subTo(r,n),e&&o.subTo(i,o),s.subTo(a,s))}if(n.compareTo(at.ONE)!=0)return at.ZERO;if(s.compareTo(t)>=0)return s.subtract(t);if(s.signum()<0)s.addTo(t,s);else return s;return s.signum()<0?s.add(t):s}var Ha=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],HG=(1<<26)/Ha[Ha.length-1];function jG(t){var e,r=this.abs();if(r.t==1&&r.data[0]<=Ha[Ha.length-1]){for(e=0;e<Ha.length;++e)if(r.data[0]==Ha[e])return!0;return!1}if(r.isEven())return!1;for(e=1;e<Ha.length;){for(var n=Ha[e],i=e+1;i<Ha.length&&n<HG;)n*=Ha[i++];for(n=r.modInt(n);e<i;)if(n%Ha[e++]==0)return!1}return r.millerRabin(t)}function $G(t){var e=this.subtract(at.ONE),r=e.getLowestSetBit();if(r<=0)return!1;for(var n=e.shiftRight(r),i=WG(),a,o=0;o<t;++o){do a=new at(this.bitLength(),i);while(a.compareTo(at.ONE)<=0||a.compareTo(e)>=0);var s=a.modPow(n,this);if(s.compareTo(at.ONE)!=0&&s.compareTo(e)!=0){for(var u=1;u++<r&&s.compareTo(e)!=0;)if(s=s.modPowInt(2,this),s.compareTo(at.ONE)==0)return!1;if(s.compareTo(e)!=0)return!1}}return!0}function WG(){return{nextBytes:function(t){for(var e=0;e<t.length;++e)t[e]=Math.floor(Math.random()*256)}}}at.prototype.chunkSize=YV;at.prototype.toRadix=XV;at.prototype.fromRadix=JV;at.prototype.fromNumber=eG;at.prototype.bitwiseTo=aG;at.prototype.changeBit=vG;at.prototype.addTo=wG;at.prototype.dMultiply=FG;at.prototype.dAddOffset=DG;at.prototype.multiplyLowerTo=PG;at.prototype.multiplyUpperTo=RG;at.prototype.modInt=qG;at.prototype.millerRabin=$G;at.prototype.clone=HV;at.prototype.intValue=jV;at.prototype.byteValue=$V;at.prototype.shortValue=WV;at.prototype.signum=ZV;at.prototype.toByteArray=tG;at.prototype.equals=rG;at.prototype.min=nG;at.prototype.max=iG;at.prototype.and=sG;at.prototype.or=lG;at.prototype.xor=cG;at.prototype.andNot=uG;at.prototype.not=fG;at.prototype.shiftLeft=dG;at.prototype.shiftRight=hG;at.prototype.getLowestSetBit=pG;at.prototype.bitCount=mG;at.prototype.testBit=yG;at.prototype.setBit=EG;at.prototype.clearBit=CG;at.prototype.flipBit=AG;at.prototype.add=_G;at.prototype.subtract=BG;at.prototype.multiply=bG;at.prototype.divide=SG;at.prototype.remainder=IG;at.prototype.divideAndRemainder=LG;at.prototype.modPow=zG;at.prototype.modInverse=QG;at.prototype.pow=NG;at.prototype.gcd=KG;at.prototype.isProbablePrime=jG;var Do=tr,N7=Do.sha1=Do.sha1||{};Do.md.sha1=Do.md.algorithms.sha1=N7;N7.create=function(){P7||YG();var t=null,e=Do.util.createBuffer(),r=new Array(80),n={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,a=0;a<i;++a)n.fullMessageLength.push(0);return e=Do.util.createBuffer(),t={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},n},n.start(),n.update=function(i,a){a==="utf8"&&(i=Do.util.encodeUtf8(i));var o=i.length;n.messageLength+=o,o=[o/4294967296>>>0,o>>>0];for(var s=n.fullMessageLength.length-1;s>=0;--s)n.fullMessageLength[s]+=o[1],o[1]=o[0]+(n.fullMessageLength[s]/4294967296>>>0),n.fullMessageLength[s]=n.fullMessageLength[s]>>>0,o[0]=o[1]/4294967296>>>0;return e.putBytes(i),cC(t,r,e),(e.read>2048||e.length()===0)&&e.compact(),n},n.digest=function(){var i=Do.util.createBuffer();i.putBytes(e.bytes());var a=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,o=a&n.blockLength-1;i.putBytes(q3.substr(0,n.blockLength-o));for(var s,u,l=n.fullMessageLength[0]*8,c=0;c<n.fullMessageLength.length-1;++c)s=n.fullMessageLength[c+1]*8,u=s/4294967296>>>0,l+=u,i.putInt32(l>>>0),l=s>>>0;i.putInt32(l);var f={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3,h4:t.h4};cC(f,r,i);var d=Do.util.createBuffer();return d.putInt32(f.h0),d.putInt32(f.h1),d.putInt32(f.h2),d.putInt32(f.h3),d.putInt32(f.h4),d},n};var q3=null,P7=!1;function YG(){q3="",q3+=Do.util.fillString("\0",64),P7=!0}function cC(t,e,r){for(var n,i,a,o,s,u,l,c,f=r.length();f>=64;){for(i=t.h0,a=t.h1,o=t.h2,s=t.h3,u=t.h4,c=0;c<16;++c)n=r.getInt32(),e[c]=n,l=s^a&(o^s),n=(i<<5|i>>>27)+l+u+1518500249+n,u=s,s=o,o=(a<<30|a>>>2)>>>0,a=i,i=n;for(;c<20;++c)n=e[c-3]^e[c-8]^e[c-14]^e[c-16],n=n<<1|n>>>31,e[c]=n,l=s^a&(o^s),n=(i<<5|i>>>27)+l+u+1518500249+n,u=s,s=o,o=(a<<30|a>>>2)>>>0,a=i,i=n;for(;c<32;++c)n=e[c-3]^e[c-8]^e[c-14]^e[c-16],n=n<<1|n>>>31,e[c]=n,l=a^o^s,n=(i<<5|i>>>27)+l+u+1859775393+n,u=s,s=o,o=(a<<30|a>>>2)>>>0,a=i,i=n;for(;c<40;++c)n=e[c-6]^e[c-16]^e[c-28]^e[c-32],n=n<<2|n>>>30,e[c]=n,l=a^o^s,n=(i<<5|i>>>27)+l+u+1859775393+n,u=s,s=o,o=(a<<30|a>>>2)>>>0,a=i,i=n;for(;c<60;++c)n=e[c-6]^e[c-16]^e[c-28]^e[c-32],n=n<<2|n>>>30,e[c]=n,l=a&o|s&(a^o),n=(i<<5|i>>>27)+l+u+2400959708+n,u=s,s=o,o=(a<<30|a>>>2)>>>0,a=i,i=n;for(;c<80;++c)n=e[c-6]^e[c-16]^e[c-28]^e[c-32],n=n<<2|n>>>30,e[c]=n,l=a^o^s,n=(i<<5|i>>>27)+l+u+3395469782+n,u=s,s=o,o=(a<<30|a>>>2)>>>0,a=i,i=n;t.h0=t.h0+i|0,t.h1=t.h1+a|0,t.h2=t.h2+o|0,t.h3=t.h3+s|0,t.h4=t.h4+u|0,f-=64}}var No=tr,R7=No.pkcs1=No.pkcs1||{};R7.encode_rsa_oaep=function(t,e,r){var n,i,a,o;typeof r=="string"?(n=r,i=arguments[3]||void 0,a=arguments[4]||void 0):r&&(n=r.label||void 0,i=r.seed||void 0,a=r.md||void 0,r.mgf1&&r.mgf1.md&&(o=r.mgf1.md)),a?a.start():a=No.md.sha1.create(),o||(o=a);var s=Math.ceil(t.n.bitLength()/8),u=s-2*a.digestLength-2;if(e.length>u){var l=new Error("RSAES-OAEP input message length is too long.");throw l.length=e.length,l.maxLength=u,l}n||(n=""),a.update(n,"raw");for(var c=a.digest(),f="",d=u-e.length,h=0;h<d;h++)f+="\0";var y=c.getBytes()+f+""+e;if(!i)i=No.random.getBytes(a.digestLength);else if(i.length!==a.digestLength){var l=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.");throw l.seedLength=i.length,l.digestLength=a.digestLength,l}var w=hx(i,s-a.digestLength-1,o),_=No.util.xorBytes(y,w,y.length),E=hx(_,a.digestLength,o),p=No.util.xorBytes(i,E,i.length);return"\0"+p+_};R7.decode_rsa_oaep=function(t,e,r){var n,i,a;typeof r=="string"?(n=r,i=arguments[3]||void 0):r&&(n=r.label||void 0,i=r.md||void 0,r.mgf1&&r.mgf1.md&&(a=r.mgf1.md));var o=Math.ceil(t.n.bitLength()/8);if(e.length!==o){var _=new Error("RSAES-OAEP encoded message length is invalid.");throw _.length=e.length,_.expectedLength=o,_}if(i===void 0?i=No.md.sha1.create():i.start(),a||(a=i),o<2*i.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");n||(n=""),i.update(n,"raw");for(var s=i.digest().getBytes(),u=e.charAt(0),l=e.substring(1,i.digestLength+1),c=e.substring(1+i.digestLength),f=hx(c,i.digestLength,a),d=No.util.xorBytes(l,f,l.length),h=hx(d,o-i.digestLength-1,a),y=No.util.xorBytes(c,h,c.length),w=y.substring(0,i.digestLength),_=u!=="\0",E=0;E<i.digestLength;++E)_|=s.charAt(E)!==w.charAt(E);for(var p=1,m=i.digestLength,S=i.digestLength;S<y.length;S++){var F=y.charCodeAt(S),I=F&1^1,v=p?65534:0;_|=F&v,p=p&I,m+=p}if(_||y.charCodeAt(m)!==1)throw new Error("Invalid RSAES-OAEP padding.");return y.substring(m+1)};function hx(t,e,r){r||(r=No.md.sha1.create());for(var n="",i=Math.ceil(e/r.digestLength),a=0;a<i;++a){var o=String.fromCharCode(a>>24&255,a>>16&255,a>>8&255,a&255);r.start(),r.update(t+o),n+=r.digest().getBytes()}return n.substring(0,e)}var qs=tr;(function(){if(qs.prime){qs.prime;return}var t=qs.prime=qs.prime||{},e=qs.jsbn.BigInteger,r=[6,4,2,4,2,4,6,2],n=new e(null);n.fromInt(30);var i=function(f,d){return f|d};t.generateProbablePrime=function(f,d,h){typeof d=="function"&&(h=d,d={}),d=d||{};var y=d.algorithm||"PRIMEINC";typeof y=="string"&&(y={name:y}),y.options=y.options||{};var w=d.prng||qs.random,_={nextBytes:function(E){for(var p=w.getBytesSync(E.length),m=0;m<E.length;++m)E[m]=p.charCodeAt(m)}};if(y.name==="PRIMEINC")return a(f,_,y.options,h);throw new Error("Invalid prime generation algorithm: "+y.name)};function a(f,d,h,y){return"workers"in h?u(f,d,h,y):o(f,d,h,y)}function o(f,d,h,y){var w=l(f,d),_=0,E=c(w.bitLength());"millerRabinTests"in h&&(E=h.millerRabinTests);var p=10;"maxBlockTime"in h&&(p=h.maxBlockTime),s(w,f,d,_,E,p,y)}function s(f,d,h,y,w,_,E){var p=+new Date;do{if(f.bitLength()>d&&(f=l(d,h)),f.isProbablePrime(w))return E(null,f);f.dAddOffset(r[y++%8],0)}while(_<0||+new Date-p<_);qs.util.setImmediate(function(){s(f,d,h,y,w,_,E)})}function u(f,d,h,y){if(typeof Worker>"u")return o(f,d,h,y);var w=l(f,d),_=h.workers,E=h.workLoad||100,p=E*30/8,m=h.workerScript||"forge/prime.worker.js";if(_===-1)return qs.util.estimateCores(function(F,I){F&&(I=2),_=I-1,S()});S();function S(){_=Math.max(1,_);for(var F=[],I=0;I<_;++I)F[I]=new Worker(m);for(var I=0;I<_;++I)F[I].addEventListener("message",A);var v=!1;function A(D){if(!v){var L=D.data;if(L.found){for(var j=0;j<F.length;++j)F[j].terminate();return v=!0,y(null,new e(L.prime,16))}w.bitLength()>f&&(w=l(f,d));var Y=w.toString(16);D.target.postMessage({hex:Y,workLoad:E}),w.dAddOffset(p,0)}}}}function l(f,d){var h=new e(f,d),y=f-1;return h.testBit(y)||h.bitwiseTo(e.ONE.shiftLeft(y),i,h),h.dAddOffset(31-h.mod(n).byteValue(),0),h}function c(f){return f<=100?27:f<=150?18:f<=200?15:f<=250?12:f<=300?9:f<=350?8:f<=400?7:f<=500?6:f<=600?5:f<=800?4:f<=1250?3:2}})();var kt=tr;if(typeof mr>"u")var mr=kt.jsbn.BigInteger;var Q3=kt.util.isNodejs?O0:null,ze=kt.asn1,wa=kt.util;kt.pki=kt.pki||{};kt.pki.rsa=kt.rsa=kt.rsa||{};var jt=kt.pki,ZG=[6,4,2,4,2,4,6,2],XG={name:"PrivateKeyInfo",tagClass:ze.Class.UNIVERSAL,type:ze.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:ze.Class.UNIVERSAL,type:ze.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:ze.Class.UNIVERSAL,type:ze.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:ze.Class.UNIVERSAL,type:ze.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:ze.Class.UNIVERSAL,type:ze.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},JG={name:"RSAPrivateKey",tagClass:ze.Class.UNIVERSAL,type:ze.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:ze.Class.UNIVERSAL,type:ze.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:ze.Class.UNIVERSAL,type:ze.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:ze.Class.UNIVERSAL,type:ze.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:ze.Class.UNIVERSAL,type:ze.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:ze.Class.UNIVERSAL,type:ze.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:ze.Class.UNIVERSAL,type:ze.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:ze.Class.UNIVERSAL,type:ze.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:ze.Class.UNIVERSAL,type:ze.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:ze.Class.UNIVERSAL,type:ze.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},ez={name:"RSAPublicKey",tagClass:ze.Class.UNIVERSAL,type:ze.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:ze.Class.UNIVERSAL,type:ze.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:ze.Class.UNIVERSAL,type:ze.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},tz=kt.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:ze.Class.UNIVERSAL,type:ze.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:ze.Class.UNIVERSAL,type:ze.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:ze.Class.UNIVERSAL,type:ze.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:ze.Class.UNIVERSAL,type:ze.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:ze.Class.UNIVERSAL,type:ze.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},rz={name:"DigestInfo",tagClass:ze.Class.UNIVERSAL,type:ze.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm",tagClass:ze.Class.UNIVERSAL,type:ze.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm.algorithmIdentifier",tagClass:ze.Class.UNIVERSAL,type:ze.Type.OID,constructed:!1,capture:"algorithmIdentifier"},{name:"DigestInfo.DigestAlgorithm.parameters",tagClass:ze.Class.UNIVERSAL,type:ze.Type.NULL,capture:"parameters",optional:!0,constructed:!1}]},{name:"DigestInfo.digest",tagClass:ze.Class.UNIVERSAL,type:ze.Type.OCTETSTRING,constructed:!1,capture:"digest"}]},nz=function(t){var e;if(t.algorithm in jt.oids)e=jt.oids[t.algorithm];else{var r=new Error("Unknown message digest algorithm.");throw r.algorithm=t.algorithm,r}var n=ze.oidToDer(e).getBytes(),i=ze.create(ze.Class.UNIVERSAL,ze.Type.SEQUENCE,!0,[]),a=ze.create(ze.Class.UNIVERSAL,ze.Type.SEQUENCE,!0,[]);a.value.push(ze.create(ze.Class.UNIVERSAL,ze.Type.OID,!1,n)),a.value.push(ze.create(ze.Class.UNIVERSAL,ze.Type.NULL,!1,""));var o=ze.create(ze.Class.UNIVERSAL,ze.Type.OCTETSTRING,!1,t.digest().getBytes());return i.value.push(a),i.value.push(o),ze.toDer(i).getBytes()},M7=function(t,e,r){if(r)return t.modPow(e.e,e.n);if(!e.p||!e.q)return t.modPow(e.d,e.n);e.dP||(e.dP=e.d.mod(e.p.subtract(mr.ONE))),e.dQ||(e.dQ=e.d.mod(e.q.subtract(mr.ONE))),e.qInv||(e.qInv=e.q.modInverse(e.p));var n;do n=new mr(kt.util.bytesToHex(kt.random.getBytes(e.n.bitLength()/8)),16);while(n.compareTo(e.n)>=0||!n.gcd(e.n).equals(mr.ONE));t=t.multiply(n.modPow(e.e,e.n)).mod(e.n);for(var i=t.mod(e.p).modPow(e.dP,e.p),a=t.mod(e.q).modPow(e.dQ,e.q);i.compareTo(a)<0;)i=i.add(e.p);var o=i.subtract(a).multiply(e.qInv).mod(e.p).multiply(e.q).add(a);return o=o.multiply(n.modInverse(e.n)).mod(e.n),o};jt.rsa.encrypt=function(t,e,r){var n=r,i,a=Math.ceil(e.n.bitLength()/8);r!==!1&&r!==!0?(n=r===2,i=U7(t,e,r)):(i=kt.util.createBuffer(),i.putBytes(t));for(var o=new mr(i.toHex(),16),s=M7(o,e,n),u=s.toString(16),l=kt.util.createBuffer(),c=a-Math.ceil(u.length/2);c>0;)l.putByte(0),--c;return l.putBytes(kt.util.hexToBytes(u)),l.getBytes()};jt.rsa.decrypt=function(t,e,r,n){var i=Math.ceil(e.n.bitLength()/8);if(t.length!==i){var a=new Error("Encrypted message length is invalid.");throw a.length=t.length,a.expected=i,a}var o=new mr(kt.util.createBuffer(t).toHex(),16);if(o.compareTo(e.n)>=0)throw new Error("Encrypted message is invalid.");for(var s=M7(o,e,r),u=s.toString(16),l=kt.util.createBuffer(),c=i-Math.ceil(u.length/2);c>0;)l.putByte(0),--c;return l.putBytes(kt.util.hexToBytes(u)),n!==!1?xx(l.getBytes(),e,r):l.getBytes()};jt.rsa.createKeyPairGenerationState=function(t,e,r){typeof t=="string"&&(t=parseInt(t,10)),t=t||2048,r=r||{};var n=r.prng||kt.random,i={nextBytes:function(s){for(var u=n.getBytesSync(s.length),l=0;l<s.length;++l)s[l]=u.charCodeAt(l)}},a=r.algorithm||"PRIMEINC",o;if(a==="PRIMEINC")o={algorithm:a,state:0,bits:t,rng:i,eInt:e||65537,e:new mr(null),p:null,q:null,qBits:t>>1,pBits:t-(t>>1),pqState:0,num:null,keys:null},o.e.fromInt(o.eInt);else throw new Error("Invalid key generation algorithm: "+a);return o};jt.rsa.stepKeyPairGenerationState=function(t,e){"algorithm"in t||(t.algorithm="PRIMEINC");var r=new mr(null);r.fromInt(30);for(var n=0,i=function(f,d){return f|d},a=+new Date,o,s=0;t.keys===null&&(e<=0||s<e);){if(t.state===0){var u=t.p===null?t.pBits:t.qBits,l=u-1;t.pqState===0?(t.num=new mr(u,t.rng),t.num.testBit(l)||t.num.bitwiseTo(mr.ONE.shiftLeft(l),i,t.num),t.num.dAddOffset(31-t.num.mod(r).byteValue(),0),n=0,++t.pqState):t.pqState===1?t.num.bitLength()>u?t.pqState=0:t.num.isProbablePrime(az(t.num.bitLength()))?++t.pqState:t.num.dAddOffset(ZG[n++%8],0):t.pqState===2?t.pqState=t.num.subtract(mr.ONE).gcd(t.e).compareTo(mr.ONE)===0?3:0:t.pqState===3&&(t.pqState=0,t.p===null?t.p=t.num:t.q=t.num,t.p!==null&&t.q!==null&&++t.state,t.num=null)}else if(t.state===1)t.p.compareTo(t.q)<0&&(t.num=t.p,t.p=t.q,t.q=t.num),++t.state;else if(t.state===2)t.p1=t.p.subtract(mr.ONE),t.q1=t.q.subtract(mr.ONE),t.phi=t.p1.multiply(t.q1),++t.state;else if(t.state===3)t.phi.gcd(t.e).compareTo(mr.ONE)===0?++t.state:(t.p=null,t.q=null,t.state=0);else if(t.state===4)t.n=t.p.multiply(t.q),t.n.bitLength()===t.bits?++t.state:(t.q=null,t.state=0);else if(t.state===5){var c=t.e.modInverse(t.phi);t.keys={privateKey:jt.rsa.setPrivateKey(t.n,t.e,c,t.p,t.q,c.mod(t.p1),c.mod(t.q1),t.q.modInverse(t.p)),publicKey:jt.rsa.setPublicKey(t.n,t.e)}}o=+new Date,s+=o-a,a=o}return t.keys!==null};jt.rsa.generateKeyPair=function(t,e,r,n){if(arguments.length===1?typeof t=="object"?(r=t,t=void 0):typeof t=="function"&&(n=t,t=void 0):arguments.length===2?typeof t=="number"?typeof e=="function"?(n=e,e=void 0):typeof e!="number"&&(r=e,e=void 0):(r=t,n=e,t=void 0,e=void 0):arguments.length===3&&(typeof e=="number"?typeof r=="function"&&(n=r,r=void 0):(n=r,r=e,e=void 0)),r=r||{},t===void 0&&(t=r.bits||2048),e===void 0&&(e=r.e||65537),!kt.options.usePureJavaScript&&!r.prng&&t>=256&&t<=16384&&(e===65537||e===3)){if(n){if(uC("generateKeyPair"))return Q3.generateKeyPair("rsa",{modulusLength:t,publicExponent:e,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(s,u,l){if(s)return n(s);n(null,{privateKey:jt.privateKeyFromPem(l),publicKey:jt.publicKeyFromPem(u)})});if(fC("generateKey")&&fC("exportKey"))return wa.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:hC(e),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(s){return wa.globalScope.crypto.subtle.exportKey("pkcs8",s.privateKey)}).then(void 0,function(s){n(s)}).then(function(s){if(s){var u=jt.privateKeyFromAsn1(ze.fromDer(kt.util.createBuffer(s)));n(null,{privateKey:u,publicKey:jt.setRsaPublicKey(u.n,u.e)})}});if(dC("generateKey")&&dC("exportKey")){var i=wa.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:hC(e),hash:{name:"SHA-256"}},!0,["sign","verify"]);i.oncomplete=function(s){var u=s.target.result,l=wa.globalScope.msCrypto.subtle.exportKey("pkcs8",u.privateKey);l.oncomplete=function(c){var f=c.target.result,d=jt.privateKeyFromAsn1(ze.fromDer(kt.util.createBuffer(f)));n(null,{privateKey:d,publicKey:jt.setRsaPublicKey(d.n,d.e)})},l.onerror=function(c){n(c)}},i.onerror=function(s){n(s)};return}}else if(uC("generateKeyPairSync")){var a=Q3.generateKeyPairSync("rsa",{modulusLength:t,publicExponent:e,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:jt.privateKeyFromPem(a.privateKey),publicKey:jt.publicKeyFromPem(a.publicKey)}}}var o=jt.rsa.createKeyPairGenerationState(t,e,r);if(!n)return jt.rsa.stepKeyPairGenerationState(o,0),o.keys;iz(o,r,n)};jt.setRsaPublicKey=jt.rsa.setPublicKey=function(t,e){var r={n:t,e};return r.encrypt=function(n,i,a){if(typeof i=="string"?i=i.toUpperCase():i===void 0&&(i="RSAES-PKCS1-V1_5"),i==="RSAES-PKCS1-V1_5")i={encode:function(s,u,l){return U7(s,u,2).getBytes()}};else if(i==="RSA-OAEP"||i==="RSAES-OAEP")i={encode:function(s,u){return kt.pkcs1.encode_rsa_oaep(u,s,a)}};else if(["RAW","NONE","NULL",null].indexOf(i)!==-1)i={encode:function(s){return s}};else if(typeof i=="string")throw new Error('Unsupported encryption scheme: "'+i+'".');var o=i.encode(n,r,!0);return jt.rsa.encrypt(o,r,!0)},r.verify=function(n,i,a,o){typeof a=="string"?a=a.toUpperCase():a===void 0&&(a="RSASSA-PKCS1-V1_5"),o===void 0&&(o={_parseAllDigestBytes:!0}),"_parseAllDigestBytes"in o||(o._parseAllDigestBytes=!0),a==="RSASSA-PKCS1-V1_5"?a={verify:function(u,l){l=xx(l,r,!0);var c=ze.fromDer(l,{parseAllBytes:o._parseAllDigestBytes}),f={},d=[];if(!ze.validate(c,rz,f,d)){var h=new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value.");throw h.errors=d,h}var y=ze.derToOid(f.algorithmIdentifier);if(!(y===kt.oids.md2||y===kt.oids.md5||y===kt.oids.sha1||y===kt.oids.sha224||y===kt.oids.sha256||y===kt.oids.sha384||y===kt.oids.sha512||y===kt.oids["sha512-224"]||y===kt.oids["sha512-256"])){var h=new Error("Unknown RSASSA-PKCS1-v1_5 DigestAlgorithm identifier.");throw h.oid=y,h}if((y===kt.oids.md2||y===kt.oids.md5)&&!("parameters"in f))throw new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value. Missing algorithm identifer NULL parameters.");return u===f.digest}}:(a==="NONE"||a==="NULL"||a===null)&&(a={verify:function(u,l){return l=xx(l,r,!0),u===l}});var s=jt.rsa.decrypt(i,r,!0,!1);return a.verify(n,s,r.n.bitLength())},r};jt.setRsaPrivateKey=jt.rsa.setPrivateKey=function(t,e,r,n,i,a,o,s){var u={n:t,e,d:r,p:n,q:i,dP:a,dQ:o,qInv:s};return u.decrypt=function(l,c,f){typeof c=="string"?c=c.toUpperCase():c===void 0&&(c="RSAES-PKCS1-V1_5");var d=jt.rsa.decrypt(l,u,!1,!1);if(c==="RSAES-PKCS1-V1_5")c={decode:xx};else if(c==="RSA-OAEP"||c==="RSAES-OAEP")c={decode:function(h,y){return kt.pkcs1.decode_rsa_oaep(y,h,f)}};else if(["RAW","NONE","NULL",null].indexOf(c)!==-1)c={decode:function(h){return h}};else throw new Error('Unsupported encryption scheme: "'+c+'".');return c.decode(d,u,!1)},u.sign=function(l,c){var f=!1;typeof c=="string"&&(c=c.toUpperCase()),c===void 0||c==="RSASSA-PKCS1-V1_5"?(c={encode:nz},f=1):(c==="NONE"||c==="NULL"||c===null)&&(c={encode:function(){return l}},f=1);var d=c.encode(l,u.n.bitLength());return jt.rsa.encrypt(d,u,f)},u};jt.wrapRsaPrivateKey=function(t){return ze.create(ze.Class.UNIVERSAL,ze.Type.SEQUENCE,!0,[ze.create(ze.Class.UNIVERSAL,ze.Type.INTEGER,!1,ze.integerToDer(0).getBytes()),ze.create(ze.Class.UNIVERSAL,ze.Type.SEQUENCE,!0,[ze.create(ze.Class.UNIVERSAL,ze.Type.OID,!1,ze.oidToDer(jt.oids.rsaEncryption).getBytes()),ze.create(ze.Class.UNIVERSAL,ze.Type.NULL,!1,"")]),ze.create(ze.Class.UNIVERSAL,ze.Type.OCTETSTRING,!1,ze.toDer(t).getBytes())])};jt.privateKeyFromAsn1=function(t){var e={},r=[];if(ze.validate(t,XG,e,r)&&(t=ze.fromDer(kt.util.createBuffer(e.privateKey))),e={},r=[],!ze.validate(t,JG,e,r)){var n=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw n.errors=r,n}var i,a,o,s,u,l,c,f;return i=kt.util.createBuffer(e.privateKeyModulus).toHex(),a=kt.util.createBuffer(e.privateKeyPublicExponent).toHex(),o=kt.util.createBuffer(e.privateKeyPrivateExponent).toHex(),s=kt.util.createBuffer(e.privateKeyPrime1).toHex(),u=kt.util.createBuffer(e.privateKeyPrime2).toHex(),l=kt.util.createBuffer(e.privateKeyExponent1).toHex(),c=kt.util.createBuffer(e.privateKeyExponent2).toHex(),f=kt.util.createBuffer(e.privateKeyCoefficient).toHex(),jt.setRsaPrivateKey(new mr(i,16),new mr(a,16),new mr(o,16),new mr(s,16),new mr(u,16),new mr(l,16),new mr(c,16),new mr(f,16))};jt.privateKeyToAsn1=jt.privateKeyToRSAPrivateKey=function(t){return ze.create(ze.Class.UNIVERSAL,ze.Type.SEQUENCE,!0,[ze.create(ze.Class.UNIVERSAL,ze.Type.INTEGER,!1,ze.integerToDer(0).getBytes()),ze.create(ze.Class.UNIVERSAL,ze.Type.INTEGER,!1,Eo(t.n)),ze.create(ze.Class.UNIVERSAL,ze.Type.INTEGER,!1,Eo(t.e)),ze.create(ze.Class.UNIVERSAL,ze.Type.INTEGER,!1,Eo(t.d)),ze.create(ze.Class.UNIVERSAL,ze.Type.INTEGER,!1,Eo(t.p)),ze.create(ze.Class.UNIVERSAL,ze.Type.INTEGER,!1,Eo(t.q)),ze.create(ze.Class.UNIVERSAL,ze.Type.INTEGER,!1,Eo(t.dP)),ze.create(ze.Class.UNIVERSAL,ze.Type.INTEGER,!1,Eo(t.dQ)),ze.create(ze.Class.UNIVERSAL,ze.Type.INTEGER,!1,Eo(t.qInv))])};jt.publicKeyFromAsn1=function(t){var e={},r=[];if(ze.validate(t,tz,e,r)){var n=ze.derToOid(e.publicKeyOid);if(n!==jt.oids.rsaEncryption){var i=new Error("Cannot read public key. Unknown OID.");throw i.oid=n,i}t=e.rsaPublicKey}if(r=[],!ze.validate(t,ez,e,r)){var i=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.");throw i.errors=r,i}var a=kt.util.createBuffer(e.publicKeyModulus).toHex(),o=kt.util.createBuffer(e.publicKeyExponent).toHex();return jt.setRsaPublicKey(new mr(a,16),new mr(o,16))};jt.publicKeyToAsn1=jt.publicKeyToSubjectPublicKeyInfo=function(t){return ze.create(ze.Class.UNIVERSAL,ze.Type.SEQUENCE,!0,[ze.create(ze.Class.UNIVERSAL,ze.Type.SEQUENCE,!0,[ze.create(ze.Class.UNIVERSAL,ze.Type.OID,!1,ze.oidToDer(jt.oids.rsaEncryption).getBytes()),ze.create(ze.Class.UNIVERSAL,ze.Type.NULL,!1,"")]),ze.create(ze.Class.UNIVERSAL,ze.Type.BITSTRING,!1,[jt.publicKeyToRSAPublicKey(t)])])};jt.publicKeyToRSAPublicKey=function(t){return ze.create(ze.Class.UNIVERSAL,ze.Type.SEQUENCE,!0,[ze.create(ze.Class.UNIVERSAL,ze.Type.INTEGER,!1,Eo(t.n)),ze.create(ze.Class.UNIVERSAL,ze.Type.INTEGER,!1,Eo(t.e))])};function U7(t,e,r){var n=kt.util.createBuffer(),i=Math.ceil(e.n.bitLength()/8);if(t.length>i-11){var a=new Error("Message is too long for PKCS#1 v1.5 padding.");throw a.length=t.length,a.max=i-11,a}n.putByte(0),n.putByte(r);var o=i-3-t.length,s;if(r===0||r===1){s=r===0?0:255;for(var u=0;u<o;++u)n.putByte(s)}else for(;o>0;){for(var l=0,c=kt.random.getBytes(o),u=0;u<o;++u)s=c.charCodeAt(u),s===0?++l:n.putByte(s);o=l}return n.putByte(0),n.putBytes(t),n}function xx(t,e,r,n){var i=Math.ceil(e.n.bitLength()/8),a=kt.util.createBuffer(t),o=a.getByte(),s=a.getByte();if(o!==0||r&&s!==0&&s!==1||!r&&s!=2||r&&s===0&&typeof n>"u")throw new Error("Encryption block is invalid.");var u=0;if(s===0){u=i-3-n;for(var l=0;l<u;++l)if(a.getByte()!==0)throw new Error("Encryption block is invalid.")}else if(s===1)for(u=0;a.length()>1;){if(a.getByte()!==255){--a.read;break}++u}else if(s===2)for(u=0;a.length()>1;){if(a.getByte()===0){--a.read;break}++u}var c=a.getByte();if(c!==0||u!==i-3-a.length())throw new Error("Encryption block is invalid.");return a.getBytes()}function iz(t,e,r){typeof e=="function"&&(r=e,e={}),e=e||{};var n={algorithm:{name:e.algorithm||"PRIMEINC",options:{workers:e.workers||2,workLoad:e.workLoad||100,workerScript:e.workerScript}}};"prng"in e&&(n.prng=e.prng),i();function i(){a(t.pBits,function(s,u){if(s)return r(s);if(t.p=u,t.q!==null)return o(s,t.q);a(t.qBits,o)})}function a(s,u){kt.prime.generateProbablePrime(s,n,u)}function o(s,u){if(s)return r(s);if(t.q=u,t.p.compareTo(t.q)<0){var l=t.p;t.p=t.q,t.q=l}if(t.p.subtract(mr.ONE).gcd(t.e).compareTo(mr.ONE)!==0){t.p=null,i();return}if(t.q.subtract(mr.ONE).gcd(t.e).compareTo(mr.ONE)!==0){t.q=null,a(t.qBits,o);return}if(t.p1=t.p.subtract(mr.ONE),t.q1=t.q.subtract(mr.ONE),t.phi=t.p1.multiply(t.q1),t.phi.gcd(t.e).compareTo(mr.ONE)!==0){t.p=t.q=null,i();return}if(t.n=t.p.multiply(t.q),t.n.bitLength()!==t.bits){t.q=null,a(t.qBits,o);return}var c=t.e.modInverse(t.phi);t.keys={privateKey:jt.rsa.setPrivateKey(t.n,t.e,c,t.p,t.q,c.mod(t.p1),c.mod(t.q1),t.q.modInverse(t.p)),publicKey:jt.rsa.setPublicKey(t.n,t.e)},r(null,t.keys)}}function Eo(t){var e=t.toString(16);e[0]>="8"&&(e="00"+e);var r=kt.util.hexToBytes(e);return r.length>1&&(r.charCodeAt(0)===0&&!(r.charCodeAt(1)&128)||r.charCodeAt(0)===255&&(r.charCodeAt(1)&128)===128)?r.substr(1):r}function az(t){return t<=100?27:t<=150?18:t<=200?15:t<=250?12:t<=300?9:t<=350?8:t<=400?7:t<=500?6:t<=600?5:t<=800?4:t<=1250?3:2}function uC(t){return kt.util.isNodejs&&typeof Q3[t]=="function"}function fC(t){return typeof wa.globalScope<"u"&&typeof wa.globalScope.crypto=="object"&&typeof wa.globalScope.crypto.subtle=="object"&&typeof wa.globalScope.crypto.subtle[t]=="function"}function dC(t){return typeof wa.globalScope<"u"&&typeof wa.globalScope.msCrypto=="object"&&typeof wa.globalScope.msCrypto.subtle=="object"&&typeof wa.globalScope.msCrypto.subtle[t]=="function"}function hC(t){for(var e=kt.util.hexToBytes(t.toString(16)),r=new Uint8Array(e.length),n=0;n<e.length;++n)r[n]=e.charCodeAt(n);return r}var At=tr;if(typeof oz>"u")var oz=At.jsbn.BigInteger;var je=At.asn1,Zt=At.pki=At.pki||{};Zt.pbe=At.pbe=At.pbe||{};var j0=Zt.oids,sz={name:"EncryptedPrivateKeyInfo",tagClass:je.Class.UNIVERSAL,type:je.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:je.Class.UNIVERSAL,type:je.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:je.Class.UNIVERSAL,type:je.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:je.Class.UNIVERSAL,type:je.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:je.Class.UNIVERSAL,type:je.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},lz={name:"PBES2Algorithms",tagClass:je.Class.UNIVERSAL,type:je.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:je.Class.UNIVERSAL,type:je.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:je.Class.UNIVERSAL,type:je.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:je.Class.UNIVERSAL,type:je.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:je.Class.UNIVERSAL,type:je.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:je.Class.UNIVERSAL,type:je.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:je.Class.UNIVERSAL,type:je.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:je.Class.UNIVERSAL,type:je.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:je.Class.UNIVERSAL,type:je.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:je.Class.UNIVERSAL,type:je.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:je.Class.UNIVERSAL,type:je.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:je.Class.UNIVERSAL,type:je.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},cz={name:"pkcs-12PbeParams",tagClass:je.Class.UNIVERSAL,type:je.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:je.Class.UNIVERSAL,type:je.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:je.Class.UNIVERSAL,type:je.Type.INTEGER,constructed:!1,capture:"iterations"}]};Zt.encryptPrivateKeyInfo=function(t,e,r){r=r||{},r.saltSize=r.saltSize||8,r.count=r.count||2048,r.algorithm=r.algorithm||"aes128",r.prfAlgorithm=r.prfAlgorithm||"sha1";var n=At.random.getBytesSync(r.saltSize),i=r.count,a=je.integerToDer(i),o,s,u;if(r.algorithm.indexOf("aes")===0||r.algorithm==="des"){var l,c,f;switch(r.algorithm){case"aes128":o=16,l=16,c=j0["aes128-CBC"],f=At.aes.createEncryptionCipher;break;case"aes192":o=24,l=16,c=j0["aes192-CBC"],f=At.aes.createEncryptionCipher;break;case"aes256":o=32,l=16,c=j0["aes256-CBC"],f=At.aes.createEncryptionCipher;break;case"des":o=8,l=8,c=j0.desCBC,f=At.des.createEncryptionCipher;break;default:var d=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw d.algorithm=r.algorithm,d}var h="hmacWith"+r.prfAlgorithm.toUpperCase(),y=V7(h),w=At.pkcs5.pbkdf2(e,n,i,o,y),_=At.random.getBytesSync(l),E=f(w);E.start(_),E.update(je.toDer(t)),E.finish(),u=E.output.getBytes();var p=uz(n,a,o,h);s=je.create(je.Class.UNIVERSAL,je.Type.SEQUENCE,!0,[je.create(je.Class.UNIVERSAL,je.Type.OID,!1,je.oidToDer(j0.pkcs5PBES2).getBytes()),je.create(je.Class.UNIVERSAL,je.Type.SEQUENCE,!0,[je.create(je.Class.UNIVERSAL,je.Type.SEQUENCE,!0,[je.create(je.Class.UNIVERSAL,je.Type.OID,!1,je.oidToDer(j0.pkcs5PBKDF2).getBytes()),p]),je.create(je.Class.UNIVERSAL,je.Type.SEQUENCE,!0,[je.create(je.Class.UNIVERSAL,je.Type.OID,!1,je.oidToDer(c).getBytes()),je.create(je.Class.UNIVERSAL,je.Type.OCTETSTRING,!1,_)])])])}else if(r.algorithm==="3des"){o=24;var m=new At.util.ByteBuffer(n),w=Zt.pbe.generatePkcs12Key(e,m,1,i,o),_=Zt.pbe.generatePkcs12Key(e,m,2,i,o),E=At.des.createEncryptionCipher(w);E.start(_),E.update(je.toDer(t)),E.finish(),u=E.output.getBytes(),s=je.create(je.Class.UNIVERSAL,je.Type.SEQUENCE,!0,[je.create(je.Class.UNIVERSAL,je.Type.OID,!1,je.oidToDer(j0["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),je.create(je.Class.UNIVERSAL,je.Type.SEQUENCE,!0,[je.create(je.Class.UNIVERSAL,je.Type.OCTETSTRING,!1,n),je.create(je.Class.UNIVERSAL,je.Type.INTEGER,!1,a.getBytes())])])}else{var d=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw d.algorithm=r.algorithm,d}var S=je.create(je.Class.UNIVERSAL,je.Type.SEQUENCE,!0,[s,je.create(je.Class.UNIVERSAL,je.Type.OCTETSTRING,!1,u)]);return S};Zt.decryptPrivateKeyInfo=function(t,e){var r=null,n={},i=[];if(!je.validate(t,sz,n,i)){var a=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw a.errors=i,a}var o=je.derToOid(n.encryptionOid),s=Zt.pbe.getCipher(o,n.encryptionParams,e),u=At.util.createBuffer(n.encryptedData);return s.update(u),s.finish()&&(r=je.fromDer(s.output)),r};Zt.encryptedPrivateKeyToPem=function(t,e){var r={type:"ENCRYPTED PRIVATE KEY",body:je.toDer(t).getBytes()};return At.pem.encode(r,{maxline:e})};Zt.encryptedPrivateKeyFromPem=function(t){var e=At.pem.decode(t)[0];if(e.type!=="ENCRYPTED PRIVATE KEY"){var r=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw r.headerType=e.type,r}if(e.procType&&e.procType.type==="ENCRYPTED")throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return je.fromDer(e.body)};Zt.encryptRsaPrivateKey=function(t,e,r){if(r=r||{},!r.legacy){var n=Zt.wrapRsaPrivateKey(Zt.privateKeyToAsn1(t));return n=Zt.encryptPrivateKeyInfo(n,e,r),Zt.encryptedPrivateKeyToPem(n)}var i,a,o,s;switch(r.algorithm){case"aes128":i="AES-128-CBC",o=16,a=At.random.getBytesSync(16),s=At.aes.createEncryptionCipher;break;case"aes192":i="AES-192-CBC",o=24,a=At.random.getBytesSync(16),s=At.aes.createEncryptionCipher;break;case"aes256":i="AES-256-CBC",o=32,a=At.random.getBytesSync(16),s=At.aes.createEncryptionCipher;break;case"3des":i="DES-EDE3-CBC",o=24,a=At.random.getBytesSync(8),s=At.des.createEncryptionCipher;break;case"des":i="DES-CBC",o=8,a=At.random.getBytesSync(8),s=At.des.createEncryptionCipher;break;default:var u=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+r.algorithm+'".');throw u.algorithm=r.algorithm,u}var l=At.pbe.opensslDeriveBytes(e,a.substr(0,8),o),c=s(l);c.start(a),c.update(je.toDer(Zt.privateKeyToAsn1(t))),c.finish();var f={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:i,parameters:At.util.bytesToHex(a).toUpperCase()},body:c.output.getBytes()};return At.pem.encode(f)};Zt.decryptRsaPrivateKey=function(t,e){var r=null,n=At.pem.decode(t)[0];if(n.type!=="ENCRYPTED PRIVATE KEY"&&n.type!=="PRIVATE KEY"&&n.type!=="RSA PRIVATE KEY"){var i=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".');throw i.headerType=i,i}if(n.procType&&n.procType.type==="ENCRYPTED"){var a,o;switch(n.dekInfo.algorithm){case"DES-CBC":a=8,o=At.des.createDecryptionCipher;break;case"DES-EDE3-CBC":a=24,o=At.des.createDecryptionCipher;break;case"AES-128-CBC":a=16,o=At.aes.createDecryptionCipher;break;case"AES-192-CBC":a=24,o=At.aes.createDecryptionCipher;break;case"AES-256-CBC":a=32,o=At.aes.createDecryptionCipher;break;case"RC2-40-CBC":a=5,o=function(f){return At.rc2.createDecryptionCipher(f,40)};break;case"RC2-64-CBC":a=8,o=function(f){return At.rc2.createDecryptionCipher(f,64)};break;case"RC2-128-CBC":a=16,o=function(f){return At.rc2.createDecryptionCipher(f,128)};break;default:var i=new Error('Could not decrypt private key; unsupported encryption algorithm "'+n.dekInfo.algorithm+'".');throw i.algorithm=n.dekInfo.algorithm,i}var s=At.util.hexToBytes(n.dekInfo.parameters),u=At.pbe.opensslDeriveBytes(e,s.substr(0,8),a),l=o(u);if(l.start(s),l.update(At.util.createBuffer(n.body)),l.finish())r=l.output.getBytes();else return r}else r=n.body;return n.type==="ENCRYPTED PRIVATE KEY"?r=Zt.decryptPrivateKeyInfo(je.fromDer(r),e):r=je.fromDer(r),r!==null&&(r=Zt.privateKeyFromAsn1(r)),r};Zt.pbe.generatePkcs12Key=function(t,e,r,n,i,a){var o,s;if(typeof a>"u"||a===null){if(!("sha1"in At.md))throw new Error('"sha1" hash algorithm unavailable.');a=At.md.sha1.create()}var u=a.digestLength,l=a.blockLength,c=new At.util.ByteBuffer,f=new At.util.ByteBuffer;if(t!=null){for(s=0;s<t.length;s++)f.putInt16(t.charCodeAt(s));f.putInt16(0)}var d=f.length(),h=e.length(),y=new At.util.ByteBuffer;y.fillWithByte(r,l);var w=l*Math.ceil(h/l),_=new At.util.ByteBuffer;for(s=0;s<w;s++)_.putByte(e.at(s%h));var E=l*Math.ceil(d/l),p=new At.util.ByteBuffer;for(s=0;s<E;s++)p.putByte(f.at(s%d));var m=_;m.putBuffer(p);for(var S=Math.ceil(i/u),F=1;F<=S;F++){var I=new At.util.ByteBuffer;I.putBytes(y.bytes()),I.putBytes(m.bytes());for(var v=0;v<n;v++)a.start(),a.update(I.getBytes()),I=a.digest();var A=new At.util.ByteBuffer;for(s=0;s<l;s++)A.putByte(I.at(s%u));var D=Math.ceil(h/l)+Math.ceil(d/l),L=new At.util.ByteBuffer;for(o=0;o<D;o++){var j=new At.util.ByteBuffer(m.getBytes(l)),Y=511;for(s=A.length()-1;s>=0;s--)Y=Y>>8,Y+=A.at(s)+j.at(s),j.setAt(s,Y&255);L.putBuffer(j)}m=L,c.putBuffer(I)}return c.truncate(c.length()-i),c};Zt.pbe.getCipher=function(t,e,r){switch(t){case Zt.oids.pkcs5PBES2:return Zt.pbe.getCipherForPBES2(t,e,r);case Zt.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case Zt.oids["pbewithSHAAnd40BitRC2-CBC"]:return Zt.pbe.getCipherForPKCS12PBE(t,e,r);default:var n=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw n.oid=t,n.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],n}};Zt.pbe.getCipherForPBES2=function(t,e,r){var n={},i=[];if(!je.validate(e,lz,n,i)){var a=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw a.errors=i,a}if(t=je.derToOid(n.kdfOid),t!==Zt.oids.pkcs5PBKDF2){var a=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.");throw a.oid=t,a.supportedOids=["pkcs5PBKDF2"],a}if(t=je.derToOid(n.encOid),t!==Zt.oids["aes128-CBC"]&&t!==Zt.oids["aes192-CBC"]&&t!==Zt.oids["aes256-CBC"]&&t!==Zt.oids["des-EDE3-CBC"]&&t!==Zt.oids.desCBC){var a=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.");throw a.oid=t,a.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],a}var o=n.kdfSalt,s=At.util.createBuffer(n.kdfIterationCount);s=s.getInt(s.length()<<3);var u,l;switch(Zt.oids[t]){case"aes128-CBC":u=16,l=At.aes.createDecryptionCipher;break;case"aes192-CBC":u=24,l=At.aes.createDecryptionCipher;break;case"aes256-CBC":u=32,l=At.aes.createDecryptionCipher;break;case"des-EDE3-CBC":u=24,l=At.des.createDecryptionCipher;break;case"desCBC":u=8,l=At.des.createDecryptionCipher;break}var c=O7(n.prfOid),f=At.pkcs5.pbkdf2(r,o,s,u,c),d=n.encIv,h=l(f);return h.start(d),h};Zt.pbe.getCipherForPKCS12PBE=function(t,e,r){var n={},i=[];if(!je.validate(e,cz,n,i)){var a=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw a.errors=i,a}var o=At.util.createBuffer(n.salt),s=At.util.createBuffer(n.iterations);s=s.getInt(s.length()<<3);var u,l,c;switch(t){case Zt.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:u=24,l=8,c=At.des.startDecrypting;break;case Zt.oids["pbewithSHAAnd40BitRC2-CBC"]:u=5,l=8,c=function(w,_){var E=At.rc2.createDecryptionCipher(w,40);return E.start(_,null),E};break;default:var a=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.");throw a.oid=t,a}var f=O7(n.prfOid),d=Zt.pbe.generatePkcs12Key(r,o,1,s,u,f);f.start();var h=Zt.pbe.generatePkcs12Key(r,o,2,s,l,f);return c(d,h)};Zt.pbe.opensslDeriveBytes=function(t,e,r,n){if(typeof n>"u"||n===null){if(!("md5"in At.md))throw new Error('"md5" hash algorithm unavailable.');n=At.md.md5.create()}e===null&&(e="");for(var i=[xC(n,t+e)],a=16,o=1;a<r;++o,a+=16)i.push(xC(n,i[o-1]+t+e));return i.join("").substr(0,r)};function xC(t,e){return t.start().update(e).digest().getBytes()}function O7(t){var e;if(!t)e="hmacWithSHA1";else if(e=Zt.oids[je.derToOid(t)],!e){var r=new Error("Unsupported PRF OID.");throw r.oid=t,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}return V7(e)}function V7(t){var e=At.md;switch(t){case"hmacWithSHA224":e=At.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":t=t.substr(8).toLowerCase();break;default:var r=new Error("Unsupported PRF algorithm.");throw r.algorithm=t,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}if(!e||!(t in e))throw new Error("Unknown hash algorithm: "+t);return e[t].create()}function uz(t,e,r,n){var i=je.create(je.Class.UNIVERSAL,je.Type.SEQUENCE,!0,[je.create(je.Class.UNIVERSAL,je.Type.OCTETSTRING,!1,t),je.create(je.Class.UNIVERSAL,je.Type.INTEGER,!1,e.getBytes())]);return n!=="hmacWithSHA1"&&i.value.push(je.create(je.Class.UNIVERSAL,je.Type.INTEGER,!1,At.util.hexToBytes(r.toString(16))),je.create(je.Class.UNIVERSAL,je.Type.SEQUENCE,!0,[je.create(je.Class.UNIVERSAL,je.Type.OID,!1,je.oidToDer(Zt.oids[n]).getBytes()),je.create(je.Class.UNIVERSAL,je.Type.NULL,!1,"")])),i}var Wc=tr,yt=Wc.asn1,Su=Wc.pkcs7asn1=Wc.pkcs7asn1||{};Wc.pkcs7=Wc.pkcs7||{};Wc.pkcs7.asn1=Su;var G7={name:"ContentInfo",tagClass:yt.Class.UNIVERSAL,type:yt.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:yt.Class.UNIVERSAL,type:yt.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:yt.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};Su.contentInfoValidator=G7;var z7={name:"EncryptedContentInfo",tagClass:yt.Class.UNIVERSAL,type:yt.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:yt.Class.UNIVERSAL,type:yt.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:yt.Class.UNIVERSAL,type:yt.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:yt.Class.UNIVERSAL,type:yt.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:yt.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:yt.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};Su.envelopedDataValidator={name:"EnvelopedData",tagClass:yt.Class.UNIVERSAL,type:yt.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:yt.Class.UNIVERSAL,type:yt.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:yt.Class.UNIVERSAL,type:yt.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(z7)};Su.encryptedDataValidator={name:"EncryptedData",tagClass:yt.Class.UNIVERSAL,type:yt.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:yt.Class.UNIVERSAL,type:yt.Type.INTEGER,constructed:!1,capture:"version"}].concat(z7)};var fz={name:"SignerInfo",tagClass:yt.Class.UNIVERSAL,type:yt.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:yt.Class.UNIVERSAL,type:yt.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:yt.Class.UNIVERSAL,type:yt.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:yt.Class.UNIVERSAL,type:yt.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:yt.Class.UNIVERSAL,type:yt.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:yt.Class.UNIVERSAL,type:yt.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:yt.Class.UNIVERSAL,type:yt.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:yt.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:yt.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:yt.Class.UNIVERSAL,type:yt.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:yt.Class.UNIVERSAL,type:yt.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:yt.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]};Su.signedDataValidator={name:"SignedData",tagClass:yt.Class.UNIVERSAL,type:yt.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:yt.Class.UNIVERSAL,type:yt.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:yt.Class.UNIVERSAL,type:yt.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},G7,{name:"SignedData.Certificates",tagClass:yt.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:yt.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:yt.Class.UNIVERSAL,type:yt.Type.SET,capture:"signerInfos",optional:!0,value:[fz]}]};Su.recipientInfoValidator={name:"RecipientInfo",tagClass:yt.Class.UNIVERSAL,type:yt.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:yt.Class.UNIVERSAL,type:yt.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:yt.Class.UNIVERSAL,type:yt.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:yt.Class.UNIVERSAL,type:yt.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:yt.Class.UNIVERSAL,type:yt.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:yt.Class.UNIVERSAL,type:yt.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:yt.Class.UNIVERSAL,type:yt.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:yt.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter",optional:!0}]},{name:"RecipientInfo.encryptedKey",tagClass:yt.Class.UNIVERSAL,type:yt.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]};var gl=tr;gl.mgf=gl.mgf||{};var dz=gl.mgf.mgf1=gl.mgf1=gl.mgf1||{};dz.create=function(t){var e={generate:function(r,n){for(var i=new gl.util.ByteBuffer,a=Math.ceil(n/t.digestLength),o=0;o<a;o++){var s=new gl.util.ByteBuffer;s.putInt32(o),t.start(),t.update(r+s.getBytes()),i.putBuffer(t.digest())}return i.truncate(i.length()-n),i.getBytes()}};return e};var px=tr;px.mgf=px.mgf||{};px.mgf.mgf1=px.mgf1;var J0=tr,hz=J0.pss=J0.pss||{};hz.create=function(t){arguments.length===3&&(t={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var e=t.md,r=t.mgf,n=e.digestLength,i=t.salt||null;typeof i=="string"&&(i=J0.util.createBuffer(i));var a;if("saltLength"in t)a=t.saltLength;else if(i!==null)a=i.length();else throw new Error("Salt length not specified or specific salt not given.");if(i!==null&&i.length()!==a)throw new Error("Given salt length does not match length of given salt.");var o=t.prng||J0.random,s={};return s.encode=function(u,l){var c,f=l-1,d=Math.ceil(f/8),h=u.digest().getBytes();if(d<n+a+2)throw new Error("Message is too long to encrypt.");var y;i===null?y=o.getBytesSync(a):y=i.bytes();var w=new J0.util.ByteBuffer;w.fillWithByte(0,8),w.putBytes(h),w.putBytes(y),e.start(),e.update(w.getBytes());var _=e.digest().getBytes(),E=new J0.util.ByteBuffer;E.fillWithByte(0,d-a-n-2),E.putByte(1),E.putBytes(y);var p=E.getBytes(),m=d-n-1,S=r.generate(_,m),F="";for(c=0;c<m;c++)F+=String.fromCharCode(p.charCodeAt(c)^S.charCodeAt(c));var I=65280>>8*d-f&255;return F=String.fromCharCode(F.charCodeAt(0)&~I)+F.substr(1),F+_+"¼"},s.verify=function(u,l,c){var f,d=c-1,h=Math.ceil(d/8);if(l=l.substr(-h),h<n+a+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(l.charCodeAt(h-1)!==188)throw new Error("Encoded message does not end in 0xBC.");var y=h-n-1,w=l.substr(0,y),_=l.substr(y,n),E=65280>>8*h-d&255;if(w.charCodeAt(0)&E)throw new Error("Bits beyond keysize not zero as expected.");var p=r.generate(_,y),m="";for(f=0;f<y;f++)m+=String.fromCharCode(w.charCodeAt(f)^p.charCodeAt(f));m=String.fromCharCode(m.charCodeAt(0)&~E)+m.substr(1);var S=h-n-a-2;for(f=0;f<S;f++)if(m.charCodeAt(f)!==0)throw new Error("Leftmost octets not zero as expected");if(m.charCodeAt(S)!==1)throw new Error("Inconsistent PSS signature, 0x01 marker not found");var F=m.substr(-a),I=new J0.util.ByteBuffer;I.fillWithByte(0,8),I.putBytes(u),I.putBytes(F),e.start(),e.update(I.getBytes());var v=e.digest().getBytes();return _===v},s};var Nt=tr,xe=Nt.asn1,ht=Nt.pki=Nt.pki||{},pr=ht.oids,cn={};cn.CN=pr.commonName;cn.commonName="CN";cn.C=pr.countryName;cn.countryName="C";cn.L=pr.localityName;cn.localityName="L";cn.ST=pr.stateOrProvinceName;cn.stateOrProvinceName="ST";cn.O=pr.organizationName;cn.organizationName="O";cn.OU=pr.organizationalUnitName;cn.organizationalUnitName="OU";cn.E=pr.emailAddress;cn.emailAddress="E";var K7=Nt.pki.rsa.publicKeyValidator,xz={name:"Certificate",tagClass:xe.Class.UNIVERSAL,type:xe.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:xe.Class.UNIVERSAL,type:xe.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:xe.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:xe.Class.UNIVERSAL,type:xe.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:xe.Class.UNIVERSAL,type:xe.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:xe.Class.UNIVERSAL,type:xe.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:xe.Class.UNIVERSAL,type:xe.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:xe.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:xe.Class.UNIVERSAL,type:xe.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:xe.Class.UNIVERSAL,type:xe.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:xe.Class.UNIVERSAL,type:xe.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:xe.Class.UNIVERSAL,type:xe.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:xe.Class.UNIVERSAL,type:xe.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:xe.Class.UNIVERSAL,type:xe.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:xe.Class.UNIVERSAL,type:xe.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},K7,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:xe.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:xe.Class.UNIVERSAL,type:xe.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:xe.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:xe.Class.UNIVERSAL,type:xe.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:xe.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:xe.Class.UNIVERSAL,type:xe.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:xe.Class.UNIVERSAL,type:xe.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:xe.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:xe.Class.UNIVERSAL,type:xe.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},pz={name:"rsapss",tagClass:xe.Class.UNIVERSAL,type:xe.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:xe.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:xe.Class.UNIVERSAL,type:xe.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:xe.Class.UNIVERSAL,type:xe.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:xe.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:xe.Class.UNIVERSAL,type:xe.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:xe.Class.UNIVERSAL,type:xe.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:xe.Class.UNIVERSAL,type:xe.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:xe.Class.UNIVERSAL,type:xe.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:xe.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:xe.Class.UNIVERSAL,type:xe.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:xe.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:xe.Class.UNIVERSAL,type:xe.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},gz={name:"CertificationRequestInfo",tagClass:xe.Class.UNIVERSAL,type:xe.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:xe.Class.UNIVERSAL,type:xe.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:xe.Class.UNIVERSAL,type:xe.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},K7,{name:"CertificationRequestInfo.attributes",tagClass:xe.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:xe.Class.UNIVERSAL,type:xe.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:xe.Class.UNIVERSAL,type:xe.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:xe.Class.UNIVERSAL,type:xe.Type.SET,constructed:!0}]}]}]},mz={name:"CertificationRequest",tagClass:xe.Class.UNIVERSAL,type:xe.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[gz,{name:"CertificationRequest.signatureAlgorithm",tagClass:xe.Class.UNIVERSAL,type:xe.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:xe.Class.UNIVERSAL,type:xe.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:xe.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:xe.Class.UNIVERSAL,type:xe.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};ht.RDNAttributesAsArray=function(t,e){for(var r=[],n,i,a,o=0;o<t.value.length;++o){n=t.value[o];for(var s=0;s<n.value.length;++s)a={},i=n.value[s],a.type=xe.derToOid(i.value[0].value),a.value=i.value[1].value,a.valueTagClass=i.value[1].type,a.type in pr&&(a.name=pr[a.type],a.name in cn&&(a.shortName=cn[a.name])),e&&(e.update(a.type),e.update(a.value)),r.push(a)}return r};ht.CRIAttributesAsArray=function(t){for(var e=[],r=0;r<t.length;++r)for(var n=t[r],i=xe.derToOid(n.value[0].value),a=n.value[1].value,o=0;o<a.length;++o){var s={};if(s.type=i,s.value=a[o].value,s.valueTagClass=a[o].type,s.type in pr&&(s.name=pr[s.type],s.name in cn&&(s.shortName=cn[s.name])),s.type===pr.extensionRequest){s.extensions=[];for(var u=0;u<s.value.length;++u)s.extensions.push(ht.certificateExtensionFromAsn1(s.value[u]))}e.push(s)}return e};function D0(t,e){typeof e=="string"&&(e={shortName:e});for(var r=null,n,i=0;r===null&&i<t.attributes.length;++i)n=t.attributes[i],(e.type&&e.type===n.type||e.name&&e.name===n.name||e.shortName&&e.shortName===n.shortName)&&(r=n);return r}var gx=function(t,e,r){var n={};if(t!==pr["RSASSA-PSS"])return n;r&&(n={hash:{algorithmOid:pr.sha1},mgf:{algorithmOid:pr.mgf1,hash:{algorithmOid:pr.sha1}},saltLength:20});var i={},a=[];if(!xe.validate(e,pz,i,a)){var o=new Error("Cannot read RSASSA-PSS parameter block.");throw o.errors=a,o}return i.hashOid!==void 0&&(n.hash=n.hash||{},n.hash.algorithmOid=xe.derToOid(i.hashOid)),i.maskGenOid!==void 0&&(n.mgf=n.mgf||{},n.mgf.algorithmOid=xe.derToOid(i.maskGenOid),n.mgf.hash=n.mgf.hash||{},n.mgf.hash.algorithmOid=xe.derToOid(i.maskGenHashOid)),i.saltLength!==void 0&&(n.saltLength=i.saltLength.charCodeAt(0)),n},kp=function(t){switch(pr[t.signatureOid]){case"sha1WithRSAEncryption":case"sha1WithRSASignature":return Nt.md.sha1.create();case"md5WithRSAEncryption":return Nt.md.md5.create();case"sha256WithRSAEncryption":return Nt.md.sha256.create();case"sha384WithRSAEncryption":return Nt.md.sha384.create();case"sha512WithRSAEncryption":return Nt.md.sha512.create();case"RSASSA-PSS":return Nt.md.sha256.create();default:var e=new Error("Could not compute "+t.type+" digest. Unknown signature OID.");throw e.signatureOid=t.signatureOid,e}},q7=function(t){var e=t.certificate,r;switch(e.signatureOid){case pr.sha1WithRSAEncryption:case pr.sha1WithRSASignature:break;case pr["RSASSA-PSS"]:var n,i;if(n=pr[e.signatureParameters.mgf.hash.algorithmOid],n===void 0||Nt.md[n]===void 0){var a=new Error("Unsupported MGF hash function.");throw a.oid=e.signatureParameters.mgf.hash.algorithmOid,a.name=n,a}if(i=pr[e.signatureParameters.mgf.algorithmOid],i===void 0||Nt.mgf[i]===void 0){var a=new Error("Unsupported MGF function.");throw a.oid=e.signatureParameters.mgf.algorithmOid,a.name=i,a}if(i=Nt.mgf[i].create(Nt.md[n].create()),n=pr[e.signatureParameters.hash.algorithmOid],n===void 0||Nt.md[n]===void 0){var a=new Error("Unsupported RSASSA-PSS hash function.");throw a.oid=e.signatureParameters.hash.algorithmOid,a.name=n,a}r=Nt.pss.create(Nt.md[n].create(),i,e.signatureParameters.saltLength);break}return e.publicKey.verify(t.md.digest().getBytes(),t.signature,r)};ht.certificateFromPem=function(t,e,r){var n=Nt.pem.decode(t)[0];if(n.type!=="CERTIFICATE"&&n.type!=="X509 CERTIFICATE"&&n.type!=="TRUSTED CERTIFICATE"){var i=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw i.headerType=n.type,i}if(n.procType&&n.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var a=xe.fromDer(n.body,r);return ht.certificateFromAsn1(a,e)};ht.certificateToPem=function(t,e){var r={type:"CERTIFICATE",body:xe.toDer(ht.certificateToAsn1(t)).getBytes()};return Nt.pem.encode(r,{maxline:e})};ht.publicKeyFromPem=function(t){var e=Nt.pem.decode(t)[0];if(e.type!=="PUBLIC KEY"&&e.type!=="RSA PUBLIC KEY"){var r=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw r.headerType=e.type,r}if(e.procType&&e.procType.type==="ENCRYPTED")throw new Error("Could not convert public key from PEM; PEM is encrypted.");var n=xe.fromDer(e.body);return ht.publicKeyFromAsn1(n)};ht.publicKeyToPem=function(t,e){var r={type:"PUBLIC KEY",body:xe.toDer(ht.publicKeyToAsn1(t)).getBytes()};return Nt.pem.encode(r,{maxline:e})};ht.publicKeyToRSAPublicKeyPem=function(t,e){var r={type:"RSA PUBLIC KEY",body:xe.toDer(ht.publicKeyToRSAPublicKey(t)).getBytes()};return Nt.pem.encode(r,{maxline:e})};ht.getPublicKeyFingerprint=function(t,e){e=e||{};var r=e.md||Nt.md.sha1.create(),n=e.type||"RSAPublicKey",i;switch(n){case"RSAPublicKey":i=xe.toDer(ht.publicKeyToRSAPublicKey(t)).getBytes();break;case"SubjectPublicKeyInfo":i=xe.toDer(ht.publicKeyToAsn1(t)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+e.type+'".')}r.start(),r.update(i);var a=r.digest();if(e.encoding==="hex"){var o=a.toHex();return e.delimiter?o.match(/.{2}/g).join(e.delimiter):o}else{if(e.encoding==="binary")return a.getBytes();if(e.encoding)throw new Error('Unknown encoding "'+e.encoding+'".')}return a};ht.certificationRequestFromPem=function(t,e,r){var n=Nt.pem.decode(t)[0];if(n.type!=="CERTIFICATE REQUEST"){var i=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw i.headerType=n.type,i}if(n.procType&&n.procType.type==="ENCRYPTED")throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var a=xe.fromDer(n.body,r);return ht.certificationRequestFromAsn1(a,e)};ht.certificationRequestToPem=function(t,e){var r={type:"CERTIFICATE REQUEST",body:xe.toDer(ht.certificationRequestToAsn1(t)).getBytes()};return Nt.pem.encode(r,{maxline:e})};ht.createCertificate=function(){var t={};return t.version=2,t.serialNumber="00",t.signatureOid=null,t.signature=null,t.siginfo={},t.siginfo.algorithmOid=null,t.validity={},t.validity.notBefore=new Date,t.validity.notAfter=new Date,t.issuer={},t.issuer.getField=function(e){return D0(t.issuer,e)},t.issuer.addField=function(e){_a([e]),t.issuer.attributes.push(e)},t.issuer.attributes=[],t.issuer.hash=null,t.subject={},t.subject.getField=function(e){return D0(t.subject,e)},t.subject.addField=function(e){_a([e]),t.subject.attributes.push(e)},t.subject.attributes=[],t.subject.hash=null,t.extensions=[],t.publicKey=null,t.md=null,t.setSubject=function(e,r){_a(e),t.subject.attributes=e,delete t.subject.uniqueId,r&&(t.subject.uniqueId=r),t.subject.hash=null},t.setIssuer=function(e,r){_a(e),t.issuer.attributes=e,delete t.issuer.uniqueId,r&&(t.issuer.uniqueId=r),t.issuer.hash=null},t.setExtensions=function(e){for(var r=0;r<e.length;++r)Q7(e[r],{cert:t});t.extensions=e},t.getExtension=function(e){typeof e=="string"&&(e={name:e});for(var r=null,n,i=0;r===null&&i<t.extensions.length;++i)n=t.extensions[i],(e.id&&n.id===e.id||e.name&&n.name===e.name)&&(r=n);return r},t.sign=function(e,r){t.md=r||Nt.md.sha1.create();var n=pr[t.md.algorithm+"WithRSAEncryption"];if(!n){var i=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw i.algorithm=t.md.algorithm,i}t.signatureOid=t.siginfo.algorithmOid=n,t.tbsCertificate=ht.getTBSCertificate(t);var a=xe.toDer(t.tbsCertificate);t.md.update(a.getBytes()),t.signature=e.sign(t.md)},t.verify=function(e){var r=!1;if(!t.issued(e)){var n=e.issuer,i=t.subject,a=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.");throw a.expectedIssuer=i.attributes,a.actualIssuer=n.attributes,a}var o=e.md;if(o===null){o=kp({signatureOid:e.signatureOid,type:"certificate"});var s=e.tbsCertificate||ht.getTBSCertificate(e),u=xe.toDer(s);o.update(u.getBytes())}return o!==null&&(r=q7({certificate:t,md:o,signature:e.signature})),r},t.isIssuer=function(e){var r=!1,n=t.issuer,i=e.subject;if(n.hash&&i.hash)r=n.hash===i.hash;else if(n.attributes.length===i.attributes.length){r=!0;for(var a,o,s=0;r&&s<n.attributes.length;++s)a=n.attributes[s],o=i.attributes[s],(a.type!==o.type||a.value!==o.value)&&(r=!1)}return r},t.issued=function(e){return e.isIssuer(t)},t.generateSubjectKeyIdentifier=function(){return ht.getPublicKeyFingerprint(t.publicKey,{type:"RSAPublicKey"})},t.verifySubjectKeyIdentifier=function(){for(var e=pr.subjectKeyIdentifier,r=0;r<t.extensions.length;++r){var n=t.extensions[r];if(n.id===e){var i=t.generateSubjectKeyIdentifier().getBytes();return Nt.util.hexToBytes(n.subjectKeyIdentifier)===i}}return!1},t};ht.certificateFromAsn1=function(t,e){var r={},n=[];if(!xe.validate(t,xz,r,n)){var i=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.");throw i.errors=n,i}var a=xe.derToOid(r.publicKeyOid);if(a!==ht.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var o=ht.createCertificate();o.version=r.certVersion?r.certVersion.charCodeAt(0):0;var s=Nt.util.createBuffer(r.certSerialNumber);o.serialNumber=s.toHex(),o.signatureOid=Nt.asn1.derToOid(r.certSignatureOid),o.signatureParameters=gx(o.signatureOid,r.certSignatureParams,!0),o.siginfo.algorithmOid=Nt.asn1.derToOid(r.certinfoSignatureOid),o.siginfo.parameters=gx(o.siginfo.algorithmOid,r.certinfoSignatureParams,!1),o.signature=r.certSignature;var u=[];if(r.certValidity1UTCTime!==void 0&&u.push(xe.utcTimeToDate(r.certValidity1UTCTime)),r.certValidity2GeneralizedTime!==void 0&&u.push(xe.generalizedTimeToDate(r.certValidity2GeneralizedTime)),r.certValidity3UTCTime!==void 0&&u.push(xe.utcTimeToDate(r.certValidity3UTCTime)),r.certValidity4GeneralizedTime!==void 0&&u.push(xe.generalizedTimeToDate(r.certValidity4GeneralizedTime)),u.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(u.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(o.validity.notBefore=u[0],o.validity.notAfter=u[1],o.tbsCertificate=r.tbsCertificate,e){o.md=kp({signatureOid:o.signatureOid,type:"certificate"});var l=xe.toDer(o.tbsCertificate);o.md.update(l.getBytes())}var c=Nt.md.sha1.create(),f=xe.toDer(r.certIssuer);c.update(f.getBytes()),o.issuer.getField=function(y){return D0(o.issuer,y)},o.issuer.addField=function(y){_a([y]),o.issuer.attributes.push(y)},o.issuer.attributes=ht.RDNAttributesAsArray(r.certIssuer),r.certIssuerUniqueId&&(o.issuer.uniqueId=r.certIssuerUniqueId),o.issuer.hash=c.digest().toHex();var d=Nt.md.sha1.create(),h=xe.toDer(r.certSubject);return d.update(h.getBytes()),o.subject.getField=function(y){return D0(o.subject,y)},o.subject.addField=function(y){_a([y]),o.subject.attributes.push(y)},o.subject.attributes=ht.RDNAttributesAsArray(r.certSubject),r.certSubjectUniqueId&&(o.subject.uniqueId=r.certSubjectUniqueId),o.subject.hash=d.digest().toHex(),r.certExtensions?o.extensions=ht.certificateExtensionsFromAsn1(r.certExtensions):o.extensions=[],o.publicKey=ht.publicKeyFromAsn1(r.subjectPublicKeyInfo),o};ht.certificateExtensionsFromAsn1=function(t){for(var e=[],r=0;r<t.value.length;++r)for(var n=t.value[r],i=0;i<n.value.length;++i)e.push(ht.certificateExtensionFromAsn1(n.value[i]));return e};ht.certificateExtensionFromAsn1=function(t){var e={};if(e.id=xe.derToOid(t.value[0].value),e.critical=!1,t.value[1].type===xe.Type.BOOLEAN?(e.critical=t.value[1].value.charCodeAt(0)!==0,e.value=t.value[2].value):e.value=t.value[1].value,e.id in pr){if(e.name=pr[e.id],e.name==="keyUsage"){var r=xe.fromDer(e.value),n=0,i=0;r.value.length>1&&(n=r.value.charCodeAt(1),i=r.value.length>2?r.value.charCodeAt(2):0),e.digitalSignature=(n&128)===128,e.nonRepudiation=(n&64)===64,e.keyEncipherment=(n&32)===32,e.dataEncipherment=(n&16)===16,e.keyAgreement=(n&8)===8,e.keyCertSign=(n&4)===4,e.cRLSign=(n&2)===2,e.encipherOnly=(n&1)===1,e.decipherOnly=(i&128)===128}else if(e.name==="basicConstraints"){var r=xe.fromDer(e.value);r.value.length>0&&r.value[0].type===xe.Type.BOOLEAN?e.cA=r.value[0].value.charCodeAt(0)!==0:e.cA=!1;var a=null;r.value.length>0&&r.value[0].type===xe.Type.INTEGER?a=r.value[0].value:r.value.length>1&&(a=r.value[1].value),a!==null&&(e.pathLenConstraint=xe.derToInteger(a))}else if(e.name==="extKeyUsage")for(var r=xe.fromDer(e.value),o=0;o<r.value.length;++o){var s=xe.derToOid(r.value[o].value);s in pr?e[pr[s]]=!0:e[s]=!0}else if(e.name==="nsCertType"){var r=xe.fromDer(e.value),n=0;r.value.length>1&&(n=r.value.charCodeAt(1)),e.client=(n&128)===128,e.server=(n&64)===64,e.email=(n&32)===32,e.objsign=(n&16)===16,e.reserved=(n&8)===8,e.sslCA=(n&4)===4,e.emailCA=(n&2)===2,e.objCA=(n&1)===1}else if(e.name==="subjectAltName"||e.name==="issuerAltName"){e.altNames=[];for(var u,r=xe.fromDer(e.value),l=0;l<r.value.length;++l){u=r.value[l];var c={type:u.type,value:u.value};switch(e.altNames.push(c),u.type){case 1:case 2:case 6:break;case 7:c.ip=Nt.util.bytesToIP(u.value);break;case 8:c.oid=xe.derToOid(u.value);break}}}else if(e.name==="subjectKeyIdentifier"){var r=xe.fromDer(e.value);e.subjectKeyIdentifier=Nt.util.bytesToHex(r.value)}}return e};ht.certificationRequestFromAsn1=function(t,e){var r={},n=[];if(!xe.validate(t,mz,r,n)){var i=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.");throw i.errors=n,i}var a=xe.derToOid(r.publicKeyOid);if(a!==ht.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var o=ht.createCertificationRequest();if(o.version=r.csrVersion?r.csrVersion.charCodeAt(0):0,o.signatureOid=Nt.asn1.derToOid(r.csrSignatureOid),o.signatureParameters=gx(o.signatureOid,r.csrSignatureParams,!0),o.siginfo.algorithmOid=Nt.asn1.derToOid(r.csrSignatureOid),o.siginfo.parameters=gx(o.siginfo.algorithmOid,r.csrSignatureParams,!1),o.signature=r.csrSignature,o.certificationRequestInfo=r.certificationRequestInfo,e){o.md=kp({signatureOid:o.signatureOid,type:"certification request"});var s=xe.toDer(o.certificationRequestInfo);o.md.update(s.getBytes())}var u=Nt.md.sha1.create();return o.subject.getField=function(l){return D0(o.subject,l)},o.subject.addField=function(l){_a([l]),o.subject.attributes.push(l)},o.subject.attributes=ht.RDNAttributesAsArray(r.certificationRequestInfoSubject,u),o.subject.hash=u.digest().toHex(),o.publicKey=ht.publicKeyFromAsn1(r.subjectPublicKeyInfo),o.getAttribute=function(l){return D0(o,l)},o.addAttribute=function(l){_a([l]),o.attributes.push(l)},o.attributes=ht.CRIAttributesAsArray(r.certificationRequestInfoAttributes||[]),o};ht.createCertificationRequest=function(){var t={};return t.version=0,t.signatureOid=null,t.signature=null,t.siginfo={},t.siginfo.algorithmOid=null,t.subject={},t.subject.getField=function(e){return D0(t.subject,e)},t.subject.addField=function(e){_a([e]),t.subject.attributes.push(e)},t.subject.attributes=[],t.subject.hash=null,t.publicKey=null,t.attributes=[],t.getAttribute=function(e){return D0(t,e)},t.addAttribute=function(e){_a([e]),t.attributes.push(e)},t.md=null,t.setSubject=function(e){_a(e),t.subject.attributes=e,t.subject.hash=null},t.setAttributes=function(e){_a(e),t.attributes=e},t.sign=function(e,r){t.md=r||Nt.md.sha1.create();var n=pr[t.md.algorithm+"WithRSAEncryption"];if(!n){var i=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw i.algorithm=t.md.algorithm,i}t.signatureOid=t.siginfo.algorithmOid=n,t.certificationRequestInfo=ht.getCertificationRequestInfo(t);var a=xe.toDer(t.certificationRequestInfo);t.md.update(a.getBytes()),t.signature=e.sign(t.md)},t.verify=function(){var e=!1,r=t.md;if(r===null){r=kp({signatureOid:t.signatureOid,type:"certification request"});var n=t.certificationRequestInfo||ht.getCertificationRequestInfo(t),i=xe.toDer(n);r.update(i.getBytes())}return r!==null&&(e=q7({certificate:t,md:r,signature:t.signature})),e},t};function Yc(t){for(var e=xe.create(xe.Class.UNIVERSAL,xe.Type.SEQUENCE,!0,[]),r,n,i=t.attributes,a=0;a<i.length;++a){r=i[a];var o=r.value,s=xe.Type.PRINTABLESTRING;"valueTagClass"in r&&(s=r.valueTagClass,s===xe.Type.UTF8&&(o=Nt.util.encodeUtf8(o))),n=xe.create(xe.Class.UNIVERSAL,xe.Type.SET,!0,[xe.create(xe.Class.UNIVERSAL,xe.Type.SEQUENCE,!0,[xe.create(xe.Class.UNIVERSAL,xe.Type.OID,!1,xe.oidToDer(r.type).getBytes()),xe.create(xe.Class.UNIVERSAL,s,!1,o)])]),e.value.push(n)}return e}function _a(t){for(var e,r=0;r<t.length;++r){if(e=t[r],typeof e.name>"u"&&(e.type&&e.type in ht.oids?e.name=ht.oids[e.type]:e.shortName&&e.shortName in cn&&(e.name=ht.oids[cn[e.shortName]])),typeof e.type>"u")if(e.name&&e.name in ht.oids)e.type=ht.oids[e.name];else{var n=new Error("Attribute type not specified.");throw n.attribute=e,n}if(typeof e.shortName>"u"&&e.name&&e.name in cn&&(e.shortName=cn[e.name]),e.type===pr.extensionRequest&&(e.valueConstructed=!0,e.valueTagClass=xe.Type.SEQUENCE,!e.value&&e.extensions)){e.value=[];for(var i=0;i<e.extensions.length;++i)e.value.push(ht.certificateExtensionToAsn1(Q7(e.extensions[i])))}if(typeof e.value>"u"){var n=new Error("Attribute value not specified.");throw n.attribute=e,n}}}function Q7(t,e){if(e=e||{},typeof t.name>"u"&&t.id&&t.id in ht.oids&&(t.name=ht.oids[t.id]),typeof t.id>"u")if(t.name&&t.name in ht.oids)t.id=ht.oids[t.name];else{var r=new Error("Extension ID not specified.");throw r.extension=t,r}if(typeof t.value<"u")return t;if(t.name==="keyUsage"){var n=0,i=0,a=0;t.digitalSignature&&(i|=128,n=7),t.nonRepudiation&&(i|=64,n=6),t.keyEncipherment&&(i|=32,n=5),t.dataEncipherment&&(i|=16,n=4),t.keyAgreement&&(i|=8,n=3),t.keyCertSign&&(i|=4,n=2),t.cRLSign&&(i|=2,n=1),t.encipherOnly&&(i|=1,n=0),t.decipherOnly&&(a|=128,n=7);var o=String.fromCharCode(n);a!==0?o+=String.fromCharCode(i)+String.fromCharCode(a):i!==0&&(o+=String.fromCharCode(i)),t.value=xe.create(xe.Class.UNIVERSAL,xe.Type.BITSTRING,!1,o)}else if(t.name==="basicConstraints")t.value=xe.create(xe.Class.UNIVERSAL,xe.Type.SEQUENCE,!0,[]),t.cA&&t.value.value.push(xe.create(xe.Class.UNIVERSAL,xe.Type.BOOLEAN,!1,"ÿ")),"pathLenConstraint"in t&&t.value.value.push(xe.create(xe.Class.UNIVERSAL,xe.Type.INTEGER,!1,xe.integerToDer(t.pathLenConstraint).getBytes()));else if(t.name==="extKeyUsage"){t.value=xe.create(xe.Class.UNIVERSAL,xe.Type.SEQUENCE,!0,[]);var s=t.value.value;for(var u in t)t[u]===!0&&(u in pr?s.push(xe.create(xe.Class.UNIVERSAL,xe.Type.OID,!1,xe.oidToDer(pr[u]).getBytes())):u.indexOf(".")!==-1&&s.push(xe.create(xe.Class.UNIVERSAL,xe.Type.OID,!1,xe.oidToDer(u).getBytes())))}else if(t.name==="nsCertType"){var n=0,i=0;t.client&&(i|=128,n=7),t.server&&(i|=64,n=6),t.email&&(i|=32,n=5),t.objsign&&(i|=16,n=4),t.reserved&&(i|=8,n=3),t.sslCA&&(i|=4,n=2),t.emailCA&&(i|=2,n=1),t.objCA&&(i|=1,n=0);var o=String.fromCharCode(n);i!==0&&(o+=String.fromCharCode(i)),t.value=xe.create(xe.Class.UNIVERSAL,xe.Type.BITSTRING,!1,o)}else if(t.name==="subjectAltName"||t.name==="issuerAltName"){t.value=xe.create(xe.Class.UNIVERSAL,xe.Type.SEQUENCE,!0,[]);for(var l,c=0;c<t.altNames.length;++c){l=t.altNames[c];var o=l.value;if(l.type===7&&l.ip){if(o=Nt.util.bytesFromIP(l.ip),o===null){var r=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw r.extension=t,r}}else l.type===8&&(l.oid?o=xe.oidToDer(xe.oidToDer(l.oid)):o=xe.oidToDer(o));t.value.value.push(xe.create(xe.Class.CONTEXT_SPECIFIC,l.type,!1,o))}}else if(t.name==="nsComment"&&e.cert){if(!/^[\x00-\x7F]*$/.test(t.comment)||t.comment.length<1||t.comment.length>128)throw new Error('Invalid "nsComment" content.');t.value=xe.create(xe.Class.UNIVERSAL,xe.Type.IA5STRING,!1,t.comment)}else if(t.name==="subjectKeyIdentifier"&&e.cert){var f=e.cert.generateSubjectKeyIdentifier();t.subjectKeyIdentifier=f.toHex(),t.value=xe.create(xe.Class.UNIVERSAL,xe.Type.OCTETSTRING,!1,f.getBytes())}else if(t.name==="authorityKeyIdentifier"&&e.cert){t.value=xe.create(xe.Class.UNIVERSAL,xe.Type.SEQUENCE,!0,[]);var s=t.value.value;if(t.keyIdentifier){var d=t.keyIdentifier===!0?e.cert.generateSubjectKeyIdentifier().getBytes():t.keyIdentifier;s.push(xe.create(xe.Class.CONTEXT_SPECIFIC,0,!1,d))}if(t.authorityCertIssuer){var h=[xe.create(xe.Class.CONTEXT_SPECIFIC,4,!0,[Yc(t.authorityCertIssuer===!0?e.cert.issuer:t.authorityCertIssuer)])];s.push(xe.create(xe.Class.CONTEXT_SPECIFIC,1,!0,h))}if(t.serialNumber){var y=Nt.util.hexToBytes(t.serialNumber===!0?e.cert.serialNumber:t.serialNumber);s.push(xe.create(xe.Class.CONTEXT_SPECIFIC,2,!1,y))}}else if(t.name==="cRLDistributionPoints"){t.value=xe.create(xe.Class.UNIVERSAL,xe.Type.SEQUENCE,!0,[]);for(var s=t.value.value,w=xe.create(xe.Class.UNIVERSAL,xe.Type.SEQUENCE,!0,[]),_=xe.create(xe.Class.CONTEXT_SPECIFIC,0,!0,[]),l,c=0;c<t.altNames.length;++c){l=t.altNames[c];var o=l.value;if(l.type===7&&l.ip){if(o=Nt.util.bytesFromIP(l.ip),o===null){var r=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw r.extension=t,r}}else l.type===8&&(l.oid?o=xe.oidToDer(xe.oidToDer(l.oid)):o=xe.oidToDer(o));_.value.push(xe.create(xe.Class.CONTEXT_SPECIFIC,l.type,!1,o))}w.value.push(xe.create(xe.Class.CONTEXT_SPECIFIC,0,!0,[_])),s.push(w)}if(typeof t.value>"u"){var r=new Error("Extension value not specified.");throw r.extension=t,r}return t}function uv(t,e){switch(t){case pr["RSASSA-PSS"]:var r=[];return e.hash.algorithmOid!==void 0&&r.push(xe.create(xe.Class.CONTEXT_SPECIFIC,0,!0,[xe.create(xe.Class.UNIVERSAL,xe.Type.SEQUENCE,!0,[xe.create(xe.Class.UNIVERSAL,xe.Type.OID,!1,xe.oidToDer(e.hash.algorithmOid).getBytes()),xe.create(xe.Class.UNIVERSAL,xe.Type.NULL,!1,"")])])),e.mgf.algorithmOid!==void 0&&r.push(xe.create(xe.Class.CONTEXT_SPECIFIC,1,!0,[xe.create(xe.Class.UNIVERSAL,xe.Type.SEQUENCE,!0,[xe.create(xe.Class.UNIVERSAL,xe.Type.OID,!1,xe.oidToDer(e.mgf.algorithmOid).getBytes()),xe.create(xe.Class.UNIVERSAL,xe.Type.SEQUENCE,!0,[xe.create(xe.Class.UNIVERSAL,xe.Type.OID,!1,xe.oidToDer(e.mgf.hash.algorithmOid).getBytes()),xe.create(xe.Class.UNIVERSAL,xe.Type.NULL,!1,"")])])])),e.saltLength!==void 0&&r.push(xe.create(xe.Class.CONTEXT_SPECIFIC,2,!0,[xe.create(xe.Class.UNIVERSAL,xe.Type.INTEGER,!1,xe.integerToDer(e.saltLength).getBytes())])),xe.create(xe.Class.UNIVERSAL,xe.Type.SEQUENCE,!0,r);default:return xe.create(xe.Class.UNIVERSAL,xe.Type.NULL,!1,"")}}function yz(t){var e=xe.create(xe.Class.CONTEXT_SPECIFIC,0,!0,[]);if(t.attributes.length===0)return e;for(var r=t.attributes,n=0;n<r.length;++n){var i=r[n],a=i.value,o=xe.Type.UTF8;"valueTagClass"in i&&(o=i.valueTagClass),o===xe.Type.UTF8&&(a=Nt.util.encodeUtf8(a));var s=!1;"valueConstructed"in i&&(s=i.valueConstructed);var u=xe.create(xe.Class.UNIVERSAL,xe.Type.SEQUENCE,!0,[xe.create(xe.Class.UNIVERSAL,xe.Type.OID,!1,xe.oidToDer(i.type).getBytes()),xe.create(xe.Class.UNIVERSAL,xe.Type.SET,!0,[xe.create(xe.Class.UNIVERSAL,o,s,a)])]);e.value.push(u)}return e}var vz=new Date("1950-01-01T00:00:00Z"),Ez=new Date("2050-01-01T00:00:00Z");function pC(t){return t>=vz&&t<Ez?xe.create(xe.Class.UNIVERSAL,xe.Type.UTCTIME,!1,xe.dateToUtcTime(t)):xe.create(xe.Class.UNIVERSAL,xe.Type.GENERALIZEDTIME,!1,xe.dateToGeneralizedTime(t))}ht.getTBSCertificate=function(t){var e=pC(t.validity.notBefore),r=pC(t.validity.notAfter),n=xe.create(xe.Class.UNIVERSAL,xe.Type.SEQUENCE,!0,[xe.create(xe.Class.CONTEXT_SPECIFIC,0,!0,[xe.create(xe.Class.UNIVERSAL,xe.Type.INTEGER,!1,xe.integerToDer(t.version).getBytes())]),xe.create(xe.Class.UNIVERSAL,xe.Type.INTEGER,!1,Nt.util.hexToBytes(t.serialNumber)),xe.create(xe.Class.UNIVERSAL,xe.Type.SEQUENCE,!0,[xe.create(xe.Class.UNIVERSAL,xe.Type.OID,!1,xe.oidToDer(t.siginfo.algorithmOid).getBytes()),uv(t.siginfo.algorithmOid,t.siginfo.parameters)]),Yc(t.issuer),xe.create(xe.Class.UNIVERSAL,xe.Type.SEQUENCE,!0,[e,r]),Yc(t.subject),ht.publicKeyToAsn1(t.publicKey)]);return t.issuer.uniqueId&&n.value.push(xe.create(xe.Class.CONTEXT_SPECIFIC,1,!0,[xe.create(xe.Class.UNIVERSAL,xe.Type.BITSTRING,!1,"\0"+t.issuer.uniqueId)])),t.subject.uniqueId&&n.value.push(xe.create(xe.Class.CONTEXT_SPECIFIC,2,!0,[xe.create(xe.Class.UNIVERSAL,xe.Type.BITSTRING,!1,"\0"+t.subject.uniqueId)])),t.extensions.length>0&&n.value.push(ht.certificateExtensionsToAsn1(t.extensions)),n};ht.getCertificationRequestInfo=function(t){var e=xe.create(xe.Class.UNIVERSAL,xe.Type.SEQUENCE,!0,[xe.create(xe.Class.UNIVERSAL,xe.Type.INTEGER,!1,xe.integerToDer(t.version).getBytes()),Yc(t.subject),ht.publicKeyToAsn1(t.publicKey),yz(t)]);return e};ht.distinguishedNameToAsn1=function(t){return Yc(t)};ht.certificateToAsn1=function(t){var e=t.tbsCertificate||ht.getTBSCertificate(t);return xe.create(xe.Class.UNIVERSAL,xe.Type.SEQUENCE,!0,[e,xe.create(xe.Class.UNIVERSAL,xe.Type.SEQUENCE,!0,[xe.create(xe.Class.UNIVERSAL,xe.Type.OID,!1,xe.oidToDer(t.signatureOid).getBytes()),uv(t.signatureOid,t.signatureParameters)]),xe.create(xe.Class.UNIVERSAL,xe.Type.BITSTRING,!1,"\0"+t.signature)])};ht.certificateExtensionsToAsn1=function(t){var e=xe.create(xe.Class.CONTEXT_SPECIFIC,3,!0,[]),r=xe.create(xe.Class.UNIVERSAL,xe.Type.SEQUENCE,!0,[]);e.value.push(r);for(var n=0;n<t.length;++n)r.value.push(ht.certificateExtensionToAsn1(t[n]));return e};ht.certificateExtensionToAsn1=function(t){var e=xe.create(xe.Class.UNIVERSAL,xe.Type.SEQUENCE,!0,[]);e.value.push(xe.create(xe.Class.UNIVERSAL,xe.Type.OID,!1,xe.oidToDer(t.id).getBytes())),t.critical&&e.value.push(xe.create(xe.Class.UNIVERSAL,xe.Type.BOOLEAN,!1,"ÿ"));var r=t.value;return typeof t.value!="string"&&(r=xe.toDer(r).getBytes()),e.value.push(xe.create(xe.Class.UNIVERSAL,xe.Type.OCTETSTRING,!1,r)),e};ht.certificationRequestToAsn1=function(t){var e=t.certificationRequestInfo||ht.getCertificationRequestInfo(t);return xe.create(xe.Class.UNIVERSAL,xe.Type.SEQUENCE,!0,[e,xe.create(xe.Class.UNIVERSAL,xe.Type.SEQUENCE,!0,[xe.create(xe.Class.UNIVERSAL,xe.Type.OID,!1,xe.oidToDer(t.signatureOid).getBytes()),uv(t.signatureOid,t.signatureParameters)]),xe.create(xe.Class.UNIVERSAL,xe.Type.BITSTRING,!1,"\0"+t.signature)])};ht.createCaStore=function(t){var e={certs:{}};e.getIssuer=function(o){var s=r(o.issuer);return s},e.addCertificate=function(o){if(typeof o=="string"&&(o=Nt.pki.certificateFromPem(o)),n(o.subject),!e.hasCertificate(o))if(o.subject.hash in e.certs){var s=e.certs[o.subject.hash];Nt.util.isArray(s)||(s=[s]),s.push(o),e.certs[o.subject.hash]=s}else e.certs[o.subject.hash]=o},e.hasCertificate=function(o){typeof o=="string"&&(o=Nt.pki.certificateFromPem(o));var s=r(o.subject);if(!s)return!1;Nt.util.isArray(s)||(s=[s]);for(var u=xe.toDer(ht.certificateToAsn1(o)).getBytes(),l=0;l<s.length;++l){var c=xe.toDer(ht.certificateToAsn1(s[l])).getBytes();if(u===c)return!0}return!1},e.listAllCertificates=function(){var o=[];for(var s in e.certs)if(e.certs.hasOwnProperty(s)){var u=e.certs[s];if(!Nt.util.isArray(u))o.push(u);else for(var l=0;l<u.length;++l)o.push(u[l])}return o},e.removeCertificate=function(o){var s;if(typeof o=="string"&&(o=Nt.pki.certificateFromPem(o)),n(o.subject),!e.hasCertificate(o))return null;var u=r(o.subject);if(!Nt.util.isArray(u))return s=e.certs[o.subject.hash],delete e.certs[o.subject.hash],s;for(var l=xe.toDer(ht.certificateToAsn1(o)).getBytes(),c=0;c<u.length;++c){var f=xe.toDer(ht.certificateToAsn1(u[c])).getBytes();l===f&&(s=u[c],u.splice(c,1))}return u.length===0&&delete e.certs[o.subject.hash],s};function r(o){return n(o),e.certs[o.hash]||null}function n(o){if(!o.hash){var s=Nt.md.sha1.create();o.attributes=ht.RDNAttributesAsArray(Yc(o),s),o.hash=s.digest().toHex()}}if(t)for(var i=0;i<t.length;++i){var a=t[i];e.addCertificate(a)}return e};ht.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"};ht.verifyCertificateChain=function(t,e,r){typeof r=="function"&&(r={verify:r}),r=r||{},e=e.slice(0);var n=e.slice(0),i=r.validityCheckDate;typeof i>"u"&&(i=new Date);var a=!0,o=null,s=0;do{var u=e.shift(),l=null,c=!1;if(i&&(i<u.validity.notBefore||i>u.validity.notAfter)&&(o={message:"Certificate is not valid yet or has expired.",error:ht.certificateError.certificate_expired,notBefore:u.validity.notBefore,notAfter:u.validity.notAfter,now:i}),o===null){if(l=e[0]||t.getIssuer(u),l===null&&u.isIssuer(u)&&(c=!0,l=u),l){var f=l;Nt.util.isArray(f)||(f=[f]);for(var d=!1;!d&&f.length>0;){l=f.shift();try{d=l.verify(u)}catch{}}d||(o={message:"Certificate signature is invalid.",error:ht.certificateError.bad_certificate})}o===null&&(!l||c)&&!t.hasCertificate(u)&&(o={message:"Certificate is not trusted.",error:ht.certificateError.unknown_ca})}if(o===null&&l&&!u.isIssuer(l)&&(o={message:"Certificate issuer is invalid.",error:ht.certificateError.bad_certificate}),o===null)for(var h={keyUsage:!0,basicConstraints:!0},y=0;o===null&&y<u.extensions.length;++y){var w=u.extensions[y];w.critical&&!(w.name in h)&&(o={message:"Certificate has an unsupported critical extension.",error:ht.certificateError.unsupported_certificate})}if(o===null&&(!a||e.length===0&&(!l||c))){var _=u.getExtension("basicConstraints"),E=u.getExtension("keyUsage");if(E!==null&&(!E.keyCertSign||_===null)&&(o={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:ht.certificateError.bad_certificate}),o===null&&_!==null&&!_.cA&&(o={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:ht.certificateError.bad_certificate}),o===null&&E!==null&&"pathLenConstraint"in _){var p=s-1;p>_.pathLenConstraint&&(o={message:"Certificate basicConstraints pathLenConstraint violated.",error:ht.certificateError.bad_certificate})}}var m=o===null?!0:o.error,S=r.verify?r.verify(m,s,n):m;if(S===!0)o=null;else throw m===!0&&(o={message:"The application rejected the certificate.",error:ht.certificateError.bad_certificate}),(S||S===0)&&(typeof S=="object"&&!Nt.util.isArray(S)?(S.message&&(o.message=S.message),S.error&&(o.error=S.error)):typeof S=="string"&&(o.error=S)),o;a=!1,++s}while(e.length>0);return!0};var Rr=tr,De=Rr.asn1,ar=Rr.pki,yd=Rr.pkcs12=Rr.pkcs12||{},H7={name:"ContentInfo",tagClass:De.Class.UNIVERSAL,type:De.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:De.Class.UNIVERSAL,type:De.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:De.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},Cz={name:"PFX",tagClass:De.Class.UNIVERSAL,type:De.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:De.Class.UNIVERSAL,type:De.Type.INTEGER,constructed:!1,capture:"version"},H7,{name:"PFX.macData",tagClass:De.Class.UNIVERSAL,type:De.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:De.Class.UNIVERSAL,type:De.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:De.Class.UNIVERSAL,type:De.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:De.Class.UNIVERSAL,type:De.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:De.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:De.Class.UNIVERSAL,type:De.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:De.Class.UNIVERSAL,type:De.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:De.Class.UNIVERSAL,type:De.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},Az={name:"SafeBag",tagClass:De.Class.UNIVERSAL,type:De.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:De.Class.UNIVERSAL,type:De.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:De.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:De.Class.UNIVERSAL,type:De.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},wz={name:"Attribute",tagClass:De.Class.UNIVERSAL,type:De.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:De.Class.UNIVERSAL,type:De.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:De.Class.UNIVERSAL,type:De.Type.SET,constructed:!0,capture:"values"}]},_z={name:"CertBag",tagClass:De.Class.UNIVERSAL,type:De.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:De.Class.UNIVERSAL,type:De.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:De.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:De.Class.UNIVERSAL,type:De.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};function Xu(t,e,r,n){for(var i=[],a=0;a<t.length;a++)for(var o=0;o<t[a].safeBags.length;o++){var s=t[a].safeBags[o];if(!(n!==void 0&&s.type!==n)){if(e===null){i.push(s);continue}s.attributes[e]!==void 0&&s.attributes[e].indexOf(r)>=0&&i.push(s)}}return i}yd.pkcs12FromAsn1=function(t,e,r){typeof e=="string"?(r=e,e=!0):e===void 0&&(e=!0);var n={},i=[];if(!De.validate(t,Cz,n,i)){var a=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.");throw a.errors=a,a}var o={version:n.version.charCodeAt(0),safeContents:[],getBags:function(_){var E={},p;return"localKeyId"in _?p=_.localKeyId:"localKeyIdHex"in _&&(p=Rr.util.hexToBytes(_.localKeyIdHex)),p===void 0&&!("friendlyName"in _)&&"bagType"in _&&(E[_.bagType]=Xu(o.safeContents,null,null,_.bagType)),p!==void 0&&(E.localKeyId=Xu(o.safeContents,"localKeyId",p,_.bagType)),"friendlyName"in _&&(E.friendlyName=Xu(o.safeContents,"friendlyName",_.friendlyName,_.bagType)),E},getBagsByFriendlyName:function(_,E){return Xu(o.safeContents,"friendlyName",_,E)},getBagsByLocalKeyId:function(_,E){return Xu(o.safeContents,"localKeyId",_,E)}};if(n.version.charCodeAt(0)!==3){var a=new Error("PKCS#12 PFX of version other than 3 not supported.");throw a.version=n.version.charCodeAt(0),a}if(De.derToOid(n.contentType)!==ar.oids.data){var a=new Error("Only PKCS#12 PFX in password integrity mode supported.");throw a.oid=De.derToOid(n.contentType),a}var s=n.content.value[0];if(s.tagClass!==De.Class.UNIVERSAL||s.type!==De.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(s=fv(s),n.mac){var u=null,l=0,c=De.derToOid(n.macAlgorithm);switch(c){case ar.oids.sha1:u=Rr.md.sha1.create(),l=20;break;case ar.oids.sha256:u=Rr.md.sha256.create(),l=32;break;case ar.oids.sha384:u=Rr.md.sha384.create(),l=48;break;case ar.oids.sha512:u=Rr.md.sha512.create(),l=64;break;case ar.oids.md5:u=Rr.md.md5.create(),l=16;break}if(u===null)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+c);var f=new Rr.util.ByteBuffer(n.macSalt),d="macIterations"in n?parseInt(Rr.util.bytesToHex(n.macIterations),16):1,h=yd.generateKey(r,f,3,d,l,u),y=Rr.hmac.create();y.start(u,h),y.update(s.value);var w=y.getMac();if(w.getBytes()!==n.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}return Bz(o,s.value,e,r),o};function fv(t){if(t.composed||t.constructed){for(var e=Rr.util.createBuffer(),r=0;r<t.value.length;++r)e.putBytes(t.value[r].value);t.composed=t.constructed=!1,t.value=e.getBytes()}return t}function Bz(t,e,r,n){if(e=De.fromDer(e,r),e.tagClass!==De.Class.UNIVERSAL||e.type!==De.Type.SEQUENCE||e.constructed!==!0)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var i=0;i<e.value.length;i++){var a=e.value[i],o={},s=[];if(!De.validate(a,H7,o,s)){var u=new Error("Cannot read ContentInfo.");throw u.errors=s,u}var l={encrypted:!1},c=null,f=o.content.value[0];switch(De.derToOid(o.contentType)){case ar.oids.data:if(f.tagClass!==De.Class.UNIVERSAL||f.type!==De.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");c=fv(f).value;break;case ar.oids.encryptedData:c=bz(f,n),l.encrypted=!0;break;default:var u=new Error("Unsupported PKCS#12 contentType.");throw u.contentType=De.derToOid(o.contentType),u}l.safeBags=Sz(c,r,n),t.safeContents.push(l)}}function bz(t,e){var r={},n=[];if(!De.validate(t,Rr.pkcs7.asn1.encryptedDataValidator,r,n)){var i=new Error("Cannot read EncryptedContentInfo.");throw i.errors=n,i}var a=De.derToOid(r.contentType);if(a!==ar.oids.data){var i=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.");throw i.oid=a,i}a=De.derToOid(r.encAlgorithm);var o=ar.pbe.getCipher(a,r.encParameter,e),s=fv(r.encryptedContentAsn1),u=Rr.util.createBuffer(s.value);if(o.update(u),!o.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return o.output.getBytes()}function Sz(t,e,r){if(!e&&t.length===0)return[];if(t=De.fromDer(t,e),t.tagClass!==De.Class.UNIVERSAL||t.type!==De.Type.SEQUENCE||t.constructed!==!0)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var n=[],i=0;i<t.value.length;i++){var a=t.value[i],o={},s=[];if(!De.validate(a,Az,o,s)){var u=new Error("Cannot read SafeBag.");throw u.errors=s,u}var l={type:De.derToOid(o.bagId),attributes:Iz(o.bagAttributes)};n.push(l);var c,f,d=o.bagValue.value[0];switch(l.type){case ar.oids.pkcs8ShroudedKeyBag:if(d=ar.decryptPrivateKeyInfo(d,r),d===null)throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case ar.oids.keyBag:try{l.key=ar.privateKeyFromAsn1(d)}catch{l.key=null,l.asn1=d}continue;case ar.oids.certBag:c=_z,f=function(){if(De.derToOid(o.certId)!==ar.oids.x509Certificate){var y=new Error("Unsupported certificate type, only X.509 supported.");throw y.oid=De.derToOid(o.certId),y}var w=De.fromDer(o.cert,e);try{l.cert=ar.certificateFromAsn1(w,!0)}catch{l.cert=null,l.asn1=w}};break;default:var u=new Error("Unsupported PKCS#12 SafeBag type.");throw u.oid=l.type,u}if(c!==void 0&&!De.validate(d,c,o,s)){var u=new Error("Cannot read PKCS#12 "+c.name);throw u.errors=s,u}f()}return n}function Iz(t){var e={};if(t!==void 0)for(var r=0;r<t.length;++r){var n={},i=[];if(!De.validate(t[r],wz,n,i)){var a=new Error("Cannot read PKCS#12 BagAttribute.");throw a.errors=i,a}var o=De.derToOid(n.oid);if(ar.oids[o]!==void 0){e[ar.oids[o]]=[];for(var s=0;s<n.values.length;++s)e[ar.oids[o]].push(n.values[s].value)}}return e}yd.toPkcs12Asn1=function(t,e,r,n){n=n||{},n.saltSize=n.saltSize||8,n.count=n.count||2048,n.algorithm=n.algorithm||n.encAlgorithm||"aes128","useMac"in n||(n.useMac=!0),"localKeyId"in n||(n.localKeyId=null),"generateLocalKeyId"in n||(n.generateLocalKeyId=!0);var i=n.localKeyId,a;if(i!==null)i=Rr.util.hexToBytes(i);else if(n.generateLocalKeyId)if(e){var o=Rr.util.isArray(e)?e[0]:e;typeof o=="string"&&(o=ar.certificateFromPem(o));var s=Rr.md.sha1.create();s.update(De.toDer(ar.certificateToAsn1(o)).getBytes()),i=s.digest().getBytes()}else i=Rr.random.getBytes(20);var u=[];i!==null&&u.push(De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[De.create(De.Class.UNIVERSAL,De.Type.OID,!1,De.oidToDer(ar.oids.localKeyId).getBytes()),De.create(De.Class.UNIVERSAL,De.Type.SET,!0,[De.create(De.Class.UNIVERSAL,De.Type.OCTETSTRING,!1,i)])])),"friendlyName"in n&&u.push(De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[De.create(De.Class.UNIVERSAL,De.Type.OID,!1,De.oidToDer(ar.oids.friendlyName).getBytes()),De.create(De.Class.UNIVERSAL,De.Type.SET,!0,[De.create(De.Class.UNIVERSAL,De.Type.BMPSTRING,!1,n.friendlyName)])])),u.length>0&&(a=De.create(De.Class.UNIVERSAL,De.Type.SET,!0,u));var l=[],c=[];e!==null&&(Rr.util.isArray(e)?c=e:c=[e]);for(var f=[],d=0;d<c.length;++d){e=c[d],typeof e=="string"&&(e=ar.certificateFromPem(e));var h=d===0?a:void 0,y=ar.certificateToAsn1(e),w=De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[De.create(De.Class.UNIVERSAL,De.Type.OID,!1,De.oidToDer(ar.oids.certBag).getBytes()),De.create(De.Class.CONTEXT_SPECIFIC,0,!0,[De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[De.create(De.Class.UNIVERSAL,De.Type.OID,!1,De.oidToDer(ar.oids.x509Certificate).getBytes()),De.create(De.Class.CONTEXT_SPECIFIC,0,!0,[De.create(De.Class.UNIVERSAL,De.Type.OCTETSTRING,!1,De.toDer(y).getBytes())])])]),h]);f.push(w)}if(f.length>0){var _=De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,f),E=De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[De.create(De.Class.UNIVERSAL,De.Type.OID,!1,De.oidToDer(ar.oids.data).getBytes()),De.create(De.Class.CONTEXT_SPECIFIC,0,!0,[De.create(De.Class.UNIVERSAL,De.Type.OCTETSTRING,!1,De.toDer(_).getBytes())])]);l.push(E)}var p=null;if(t!==null){var m=ar.wrapRsaPrivateKey(ar.privateKeyToAsn1(t));r===null?p=De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[De.create(De.Class.UNIVERSAL,De.Type.OID,!1,De.oidToDer(ar.oids.keyBag).getBytes()),De.create(De.Class.CONTEXT_SPECIFIC,0,!0,[m]),a]):p=De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[De.create(De.Class.UNIVERSAL,De.Type.OID,!1,De.oidToDer(ar.oids.pkcs8ShroudedKeyBag).getBytes()),De.create(De.Class.CONTEXT_SPECIFIC,0,!0,[ar.encryptPrivateKeyInfo(m,r,n)]),a]);var S=De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[p]),F=De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[De.create(De.Class.UNIVERSAL,De.Type.OID,!1,De.oidToDer(ar.oids.data).getBytes()),De.create(De.Class.CONTEXT_SPECIFIC,0,!0,[De.create(De.Class.UNIVERSAL,De.Type.OCTETSTRING,!1,De.toDer(S).getBytes())])]);l.push(F)}var I=De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,l),v;if(n.useMac){var s=Rr.md.sha1.create(),A=new Rr.util.ByteBuffer(Rr.random.getBytes(n.saltSize)),D=n.count,t=yd.generateKey(r,A,3,D,20),L=Rr.hmac.create();L.start(s,t),L.update(De.toDer(I).getBytes());var j=L.getMac();v=De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[De.create(De.Class.UNIVERSAL,De.Type.OID,!1,De.oidToDer(ar.oids.sha1).getBytes()),De.create(De.Class.UNIVERSAL,De.Type.NULL,!1,"")]),De.create(De.Class.UNIVERSAL,De.Type.OCTETSTRING,!1,j.getBytes())]),De.create(De.Class.UNIVERSAL,De.Type.OCTETSTRING,!1,A.getBytes()),De.create(De.Class.UNIVERSAL,De.Type.INTEGER,!1,De.integerToDer(D).getBytes())])}return De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[De.create(De.Class.UNIVERSAL,De.Type.INTEGER,!1,De.integerToDer(3).getBytes()),De.create(De.Class.UNIVERSAL,De.Type.SEQUENCE,!0,[De.create(De.Class.UNIVERSAL,De.Type.OID,!1,De.oidToDer(ar.oids.data).getBytes()),De.create(De.Class.CONTEXT_SPECIFIC,0,!0,[De.create(De.Class.UNIVERSAL,De.Type.OCTETSTRING,!1,De.toDer(I).getBytes())])]),v])};yd.generateKey=Rr.pbe.generatePkcs12Key;var T0=tr,dv=T0.asn1,Zc=T0.pki=T0.pki||{};Zc.pemToDer=function(t){var e=T0.pem.decode(t)[0];if(e.procType&&e.procType.type==="ENCRYPTED")throw new Error("Could not convert PEM to DER; PEM is encrypted.");return T0.util.createBuffer(e.body)};Zc.privateKeyFromPem=function(t){var e=T0.pem.decode(t)[0];if(e.type!=="PRIVATE KEY"&&e.type!=="RSA PRIVATE KEY"){var r=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw r.headerType=e.type,r}if(e.procType&&e.procType.type==="ENCRYPTED")throw new Error("Could not convert private key from PEM; PEM is encrypted.");var n=dv.fromDer(e.body);return Zc.privateKeyFromAsn1(n)};Zc.privateKeyToPem=function(t,e){var r={type:"RSA PRIVATE KEY",body:dv.toDer(Zc.privateKeyToAsn1(t)).getBytes()};return T0.pem.encode(r,{maxline:e})};Zc.privateKeyInfoToPem=function(t,e){var r={type:"PRIVATE KEY",body:dv.toDer(t).getBytes()};return T0.pem.encode(r,{maxline:e})};var it=tr,Np=function(t,e,r,n){var i=it.util.createBuffer(),a=t.length>>1,o=a+(t.length&1),s=t.substr(0,o),u=t.substr(a,o),l=it.util.createBuffer(),c=it.hmac.create();r=e+r;var f=Math.ceil(n/16),d=Math.ceil(n/20);c.start("MD5",s);var h=it.util.createBuffer();l.putBytes(r);for(var y=0;y<f;++y)c.start(null,null),c.update(l.getBytes()),l.putBuffer(c.digest()),c.start(null,null),c.update(l.bytes()+r),h.putBuffer(c.digest());c.start("SHA1",u);var w=it.util.createBuffer();l.clear(),l.putBytes(r);for(var y=0;y<d;++y)c.start(null,null),c.update(l.getBytes()),l.putBuffer(c.digest()),c.start(null,null),c.update(l.bytes()+r),w.putBuffer(c.digest());return i.putBytes(it.util.xorBytes(h.getBytes(),w.getBytes(),n)),i},Lz=function(t,e,r){var n=it.hmac.create();n.start("SHA1",t);var i=it.util.createBuffer();return i.putInt32(e[0]),i.putInt32(e[1]),i.putByte(r.type),i.putByte(r.version.major),i.putByte(r.version.minor),i.putInt16(r.length),i.putBytes(r.fragment.bytes()),n.update(i.getBytes()),n.digest().getBytes()},Fz=function(t,e,r){var n=!1;try{var i=t.deflate(e.fragment.getBytes());e.fragment=it.util.createBuffer(i),e.length=i.length,n=!0}catch{}return n},Dz=function(t,e,r){var n=!1;try{var i=t.inflate(e.fragment.getBytes());e.fragment=it.util.createBuffer(i),e.length=i.length,n=!0}catch{}return n},Wi=function(t,e){var r=0;switch(e){case 1:r=t.getByte();break;case 2:r=t.getInt16();break;case 3:r=t.getInt24();break;case 4:r=t.getInt32();break}return it.util.createBuffer(t.getBytes(r))},ma=function(t,e,r){t.putInt(r.length(),e<<3),t.putBuffer(r)},me={};me.Versions={TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}};me.SupportedVersions=[me.Versions.TLS_1_1,me.Versions.TLS_1_0];me.Version=me.SupportedVersions[0];me.MaxFragment=15360;me.ConnectionEnd={server:0,client:1};me.PRFAlgorithm={tls_prf_sha256:0};me.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2};me.CipherType={stream:0,block:1,aead:2};me.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4};me.CompressionMethod={none:0,deflate:1};me.ContentType={change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24};me.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20};me.Alert={};me.Alert.Level={warning:1,fatal:2};me.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100};me.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2};me.CipherSuites={};me.getCipherSuite=function(t){var e=null;for(var r in me.CipherSuites){var n=me.CipherSuites[r];if(n.id[0]===t.charCodeAt(0)&&n.id[1]===t.charCodeAt(1)){e=n;break}}return e};me.handleUnexpected=function(t,e){var r=!t.open&&t.entity===me.ConnectionEnd.client;r||t.error(t,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:me.Alert.Level.fatal,description:me.Alert.Description.unexpected_message}})};me.handleHelloRequest=function(t,e,r){!t.handshaking&&t.handshakes>0&&(me.queue(t,me.createAlert(t,{level:me.Alert.Level.warning,description:me.Alert.Description.no_renegotiation})),me.flush(t)),t.process()};me.parseHelloMessage=function(t,e,r){var n=null,i=t.entity===me.ConnectionEnd.client;if(r<38)t.error(t,{message:i?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:me.Alert.Level.fatal,description:me.Alert.Description.illegal_parameter}});else{var a=e.fragment,o=a.length();if(n={version:{major:a.getByte(),minor:a.getByte()},random:it.util.createBuffer(a.getBytes(32)),session_id:Wi(a,1),extensions:[]},i?(n.cipher_suite=a.getBytes(2),n.compression_method=a.getByte()):(n.cipher_suites=Wi(a,2),n.compression_methods=Wi(a,1)),o=r-(o-a.length()),o>0){for(var s=Wi(a,2);s.length()>0;)n.extensions.push({type:[s.getByte(),s.getByte()],data:Wi(s,2)});if(!i)for(var u=0;u<n.extensions.length;++u){var l=n.extensions[u];if(l.type[0]===0&&l.type[1]===0)for(var c=Wi(l.data,2);c.length()>0;){var f=c.getByte();if(f!==0)break;t.session.extensions.server_name.serverNameList.push(Wi(c,2).getBytes())}}}if(t.session.version&&(n.version.major!==t.session.version.major||n.version.minor!==t.session.version.minor))return t.error(t,{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:me.Alert.Level.fatal,description:me.Alert.Description.protocol_version}});if(i)t.session.cipherSuite=me.getCipherSuite(n.cipher_suite);else for(var d=it.util.createBuffer(n.cipher_suites.bytes());d.length()>0&&(t.session.cipherSuite=me.getCipherSuite(d.getBytes(2)),t.session.cipherSuite===null););if(t.session.cipherSuite===null)return t.error(t,{message:"No cipher suites in common.",send:!0,alert:{level:me.Alert.Level.fatal,description:me.Alert.Description.handshake_failure},cipherSuite:it.util.bytesToHex(n.cipher_suite)});i?t.session.compressionMethod=n.compression_method:t.session.compressionMethod=me.CompressionMethod.none}return n};me.createSecurityParameters=function(t,e){var r=t.entity===me.ConnectionEnd.client,n=e.random.bytes(),i=r?t.session.sp.client_random:n,a=r?n:me.createRandom().getBytes();t.session.sp={entity:t.entity,prf_algorithm:me.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:t.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:i,server_random:a}};me.handleServerHello=function(t,e,r){var n=me.parseHelloMessage(t,e,r);if(!t.fail){if(n.version.minor<=t.version.minor)t.version.minor=n.version.minor;else return t.error(t,{message:"Incompatible TLS version.",send:!0,alert:{level:me.Alert.Level.fatal,description:me.Alert.Description.protocol_version}});t.session.version=t.version;var i=n.session_id.bytes();i.length>0&&i===t.session.id?(t.expect=j7,t.session.resuming=!0,t.session.sp.server_random=n.random.bytes()):(t.expect=kz,t.session.resuming=!1,me.createSecurityParameters(t,n)),t.session.id=i,t.process()}};me.handleClientHello=function(t,e,r){var n=me.parseHelloMessage(t,e,r);if(!t.fail){var i=n.session_id.bytes(),a=null;if(t.sessionCache&&(a=t.sessionCache.getSession(i),a===null?i="":(a.version.major!==n.version.major||a.version.minor>n.version.minor)&&(a=null,i="")),i.length===0&&(i=it.random.getBytes(32)),t.session.id=i,t.session.clientHelloVersion=n.version,t.session.sp={},a)t.version=t.session.version=a.version,t.session.sp=a.sp;else{for(var o,s=1;s<me.SupportedVersions.length&&(o=me.SupportedVersions[s],!(o.minor<=n.version.minor));++s);t.version={major:o.major,minor:o.minor},t.session.version=t.version}a!==null?(t.expect=hv,t.session.resuming=!0,t.session.sp.client_random=n.random.bytes()):(t.expect=t.verifyClient!==!1?Vz:H3,t.session.resuming=!1,me.createSecurityParameters(t,n)),t.open=!0,me.queue(t,me.createRecord(t,{type:me.ContentType.handshake,data:me.createServerHello(t)})),t.session.resuming?(me.queue(t,me.createRecord(t,{type:me.ContentType.change_cipher_spec,data:me.createChangeCipherSpec()})),t.state.pending=me.createConnectionState(t),t.state.current.write=t.state.pending.write,me.queue(t,me.createRecord(t,{type:me.ContentType.handshake,data:me.createFinished(t)}))):(me.queue(t,me.createRecord(t,{type:me.ContentType.handshake,data:me.createCertificate(t)})),t.fail||(me.queue(t,me.createRecord(t,{type:me.ContentType.handshake,data:me.createServerKeyExchange(t)})),t.verifyClient!==!1&&me.queue(t,me.createRecord(t,{type:me.ContentType.handshake,data:me.createCertificateRequest(t)})),me.queue(t,me.createRecord(t,{type:me.ContentType.handshake,data:me.createServerHelloDone(t)})))),me.flush(t),t.process()}};me.handleCertificate=function(t,e,r){if(r<3)return t.error(t,{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:me.Alert.Level.fatal,description:me.Alert.Description.illegal_parameter}});var n=e.fragment,i={certificate_list:Wi(n,3)},a,o,s=[];try{for(;i.certificate_list.length()>0;)a=Wi(i.certificate_list,3),o=it.asn1.fromDer(a),a=it.pki.certificateFromAsn1(o,!0),s.push(a)}catch(l){return t.error(t,{message:"Could not parse certificate list.",cause:l,send:!0,alert:{level:me.Alert.Level.fatal,description:me.Alert.Description.bad_certificate}})}var u=t.entity===me.ConnectionEnd.client;(u||t.verifyClient===!0)&&s.length===0?t.error(t,{message:u?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:me.Alert.Level.fatal,description:me.Alert.Description.illegal_parameter}}):s.length===0?t.expect=u?gC:H3:(u?t.session.serverCertificate=s[0]:t.session.clientCertificate=s[0],me.verifyCertificateChain(t,s)&&(t.expect=u?gC:H3)),t.process()};me.handleServerKeyExchange=function(t,e,r){if(r>0)return t.error(t,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:me.Alert.Level.fatal,description:me.Alert.Description.unsupported_certificate}});t.expect=Nz,t.process()};me.handleClientKeyExchange=function(t,e,r){if(r<48)return t.error(t,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:me.Alert.Level.fatal,description:me.Alert.Description.unsupported_certificate}});var n=e.fragment,i={enc_pre_master_secret:Wi(n,2).getBytes()},a=null;if(t.getPrivateKey)try{a=t.getPrivateKey(t,t.session.serverCertificate),a=it.pki.privateKeyFromPem(a)}catch(u){t.error(t,{message:"Could not get private key.",cause:u,send:!0,alert:{level:me.Alert.Level.fatal,description:me.Alert.Description.internal_error}})}if(a===null)return t.error(t,{message:"No private key set.",send:!0,alert:{level:me.Alert.Level.fatal,description:me.Alert.Description.internal_error}});try{var o=t.session.sp;o.pre_master_secret=a.decrypt(i.enc_pre_master_secret);var s=t.session.clientHelloVersion;if(s.major!==o.pre_master_secret.charCodeAt(0)||s.minor!==o.pre_master_secret.charCodeAt(1))throw new Error("TLS version rollback attack detected.")}catch{o.pre_master_secret=it.random.getBytes(48)}t.expect=hv,t.session.clientCertificate!==null&&(t.expect=Gz),t.process()};me.handleCertificateRequest=function(t,e,r){if(r<3)return t.error(t,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:me.Alert.Level.fatal,description:me.Alert.Description.illegal_parameter}});var n=e.fragment,i={certificate_types:Wi(n,1),certificate_authorities:Wi(n,2)};t.session.certificateRequest=i,t.expect=Pz,t.process()};me.handleCertificateVerify=function(t,e,r){if(r<2)return t.error(t,{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:me.Alert.Level.fatal,description:me.Alert.Description.illegal_parameter}});var n=e.fragment;n.read-=4;var i=n.bytes();n.read+=4;var a={signature:Wi(n,2).getBytes()},o=it.util.createBuffer();o.putBuffer(t.session.md5.digest()),o.putBuffer(t.session.sha1.digest()),o=o.getBytes();try{var s=t.session.clientCertificate;if(!s.publicKey.verify(o,a.signature,"NONE"))throw new Error("CertificateVerify signature does not match.");t.session.md5.update(i),t.session.sha1.update(i)}catch{return t.error(t,{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:me.Alert.Level.fatal,description:me.Alert.Description.handshake_failure}})}t.expect=hv,t.process()};me.handleServerHelloDone=function(t,e,r){if(r>0)return t.error(t,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:me.Alert.Level.fatal,description:me.Alert.Description.record_overflow}});if(t.serverCertificate===null){var n={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:me.Alert.Level.fatal,description:me.Alert.Description.insufficient_security}},i=0,a=t.verify(t,n.alert.description,i,[]);if(a!==!0)return(a||a===0)&&(typeof a=="object"&&!it.util.isArray(a)?(a.message&&(n.message=a.message),a.alert&&(n.alert.description=a.alert)):typeof a=="number"&&(n.alert.description=a)),t.error(t,n)}t.session.certificateRequest!==null&&(e=me.createRecord(t,{type:me.ContentType.handshake,data:me.createCertificate(t)}),me.queue(t,e)),e=me.createRecord(t,{type:me.ContentType.handshake,data:me.createClientKeyExchange(t)}),me.queue(t,e),t.expect=Uz;var o=function(s,u){s.session.certificateRequest!==null&&s.session.clientCertificate!==null&&me.queue(s,me.createRecord(s,{type:me.ContentType.handshake,data:me.createCertificateVerify(s,u)})),me.queue(s,me.createRecord(s,{type:me.ContentType.change_cipher_spec,data:me.createChangeCipherSpec()})),s.state.pending=me.createConnectionState(s),s.state.current.write=s.state.pending.write,me.queue(s,me.createRecord(s,{type:me.ContentType.handshake,data:me.createFinished(s)})),s.expect=j7,me.flush(s),s.process()};if(t.session.certificateRequest===null||t.session.clientCertificate===null)return o(t,null);me.getClientSignature(t,o)};me.handleChangeCipherSpec=function(t,e){if(e.fragment.getByte()!==1)return t.error(t,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:me.Alert.Level.fatal,description:me.Alert.Description.illegal_parameter}});var r=t.entity===me.ConnectionEnd.client;(t.session.resuming&&r||!t.session.resuming&&!r)&&(t.state.pending=me.createConnectionState(t)),t.state.current.read=t.state.pending.read,(!t.session.resuming&&r||t.session.resuming&&!r)&&(t.state.pending=null),t.expect=r?Rz:zz,t.process()};me.handleFinished=function(t,e,r){var n=e.fragment;n.read-=4;var i=n.bytes();n.read+=4;var a=e.fragment.getBytes();n=it.util.createBuffer(),n.putBuffer(t.session.md5.digest()),n.putBuffer(t.session.sha1.digest());var o=t.entity===me.ConnectionEnd.client,s=o?"server finished":"client finished",u=t.session.sp,l=12,c=Np;if(n=c(u.master_secret,s,n.getBytes(),l),n.getBytes()!==a)return t.error(t,{message:"Invalid verify_data in Finished message.",send:!0,alert:{level:me.Alert.Level.fatal,description:me.Alert.Description.decrypt_error}});t.session.md5.update(i),t.session.sha1.update(i),(t.session.resuming&&o||!t.session.resuming&&!o)&&(me.queue(t,me.createRecord(t,{type:me.ContentType.change_cipher_spec,data:me.createChangeCipherSpec()})),t.state.current.write=t.state.pending.write,t.state.pending=null,me.queue(t,me.createRecord(t,{type:me.ContentType.handshake,data:me.createFinished(t)}))),t.expect=o?Mz:Kz,t.handshaking=!1,++t.handshakes,t.peerCertificate=o?t.session.serverCertificate:t.session.clientCertificate,me.flush(t),t.isConnected=!0,t.connected(t),t.process()};me.handleAlert=function(t,e){var r=e.fragment,n={level:r.getByte(),description:r.getByte()},i;switch(n.description){case me.Alert.Description.close_notify:i="Connection closed.";break;case me.Alert.Description.unexpected_message:i="Unexpected message.";break;case me.Alert.Description.bad_record_mac:i="Bad record MAC.";break;case me.Alert.Description.decryption_failed:i="Decryption failed.";break;case me.Alert.Description.record_overflow:i="Record overflow.";break;case me.Alert.Description.decompression_failure:i="Decompression failed.";break;case me.Alert.Description.handshake_failure:i="Handshake failure.";break;case me.Alert.Description.bad_certificate:i="Bad certificate.";break;case me.Alert.Description.unsupported_certificate:i="Unsupported certificate.";break;case me.Alert.Description.certificate_revoked:i="Certificate revoked.";break;case me.Alert.Description.certificate_expired:i="Certificate expired.";break;case me.Alert.Description.certificate_unknown:i="Certificate unknown.";break;case me.Alert.Description.illegal_parameter:i="Illegal parameter.";break;case me.Alert.Description.unknown_ca:i="Unknown certificate authority.";break;case me.Alert.Description.access_denied:i="Access denied.";break;case me.Alert.Description.decode_error:i="Decode error.";break;case me.Alert.Description.decrypt_error:i="Decrypt error.";break;case me.Alert.Description.export_restriction:i="Export restriction.";break;case me.Alert.Description.protocol_version:i="Unsupported protocol version.";break;case me.Alert.Description.insufficient_security:i="Insufficient security.";break;case me.Alert.Description.internal_error:i="Internal error.";break;case me.Alert.Description.user_canceled:i="User canceled.";break;case me.Alert.Description.no_renegotiation:i="Renegotiation not supported.";break;default:i="Unknown error.";break}if(n.description===me.Alert.Description.close_notify)return t.close();t.error(t,{message:i,send:!1,origin:t.entity===me.ConnectionEnd.client?"server":"client",alert:n}),t.process()};me.handleHandshake=function(t,e){var r=e.fragment,n=r.getByte(),i=r.getInt24();if(i>r.length())return t.fragmented=e,e.fragment=it.util.createBuffer(),r.read-=4,t.process();t.fragmented=null,r.read-=4;var a=r.bytes(i+4);r.read+=4,n in mx[t.entity][t.expect]?(t.entity===me.ConnectionEnd.server&&!t.open&&!t.fail&&(t.handshaking=!0,t.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:it.md.md5.create(),sha1:it.md.sha1.create()}),n!==me.HandshakeType.hello_request&&n!==me.HandshakeType.certificate_verify&&n!==me.HandshakeType.finished&&(t.session.md5.update(a),t.session.sha1.update(a)),mx[t.entity][t.expect][n](t,e,i)):me.handleUnexpected(t,e)};me.handleApplicationData=function(t,e){t.data.putBuffer(e.fragment),t.dataReady(t),t.process()};me.handleHeartbeat=function(t,e){var r=e.fragment,n=r.getByte(),i=r.getInt16(),a=r.getBytes(i);if(n===me.HeartbeatMessageType.heartbeat_request){if(t.handshaking||i>a.length)return t.process();me.queue(t,me.createRecord(t,{type:me.ContentType.heartbeat,data:me.createHeartbeat(me.HeartbeatMessageType.heartbeat_response,a)})),me.flush(t)}else if(n===me.HeartbeatMessageType.heartbeat_response){if(a!==t.expectedHeartbeatPayload)return t.process();t.heartbeatReceived&&t.heartbeatReceived(t,it.util.createBuffer(a))}t.process()};var Tz=0,kz=1,gC=2,Nz=3,Pz=4,j7=5,Rz=6,Mz=7,Uz=8,Oz=0,Vz=1,H3=2,Gz=3,hv=4,zz=5,Kz=6,pe=me.handleUnexpected,$7=me.handleChangeCipherSpec,Gn=me.handleAlert,gi=me.handleHandshake,W7=me.handleApplicationData,zn=me.handleHeartbeat,xv=[];xv[me.ConnectionEnd.client]=[[pe,Gn,gi,pe,zn],[pe,Gn,gi,pe,zn],[pe,Gn,gi,pe,zn],[pe,Gn,gi,pe,zn],[pe,Gn,gi,pe,zn],[$7,Gn,pe,pe,zn],[pe,Gn,gi,pe,zn],[pe,Gn,gi,W7,zn],[pe,Gn,gi,pe,zn]];xv[me.ConnectionEnd.server]=[[pe,Gn,gi,pe,zn],[pe,Gn,gi,pe,zn],[pe,Gn,gi,pe,zn],[pe,Gn,gi,pe,zn],[$7,Gn,pe,pe,zn],[pe,Gn,gi,pe,zn],[pe,Gn,gi,W7,zn],[pe,Gn,gi,pe,zn]];var Qs=me.handleHelloRequest,qz=me.handleServerHello,Y7=me.handleCertificate,mC=me.handleServerKeyExchange,bg=me.handleCertificateRequest,Th=me.handleServerHelloDone,Z7=me.handleFinished,mx=[];mx[me.ConnectionEnd.client]=[[pe,pe,qz,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe],[Qs,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,Y7,mC,bg,Th,pe,pe,pe,pe,pe,pe],[Qs,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,mC,bg,Th,pe,pe,pe,pe,pe,pe],[Qs,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,bg,Th,pe,pe,pe,pe,pe,pe],[Qs,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,Th,pe,pe,pe,pe,pe,pe],[Qs,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe],[Qs,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,Z7],[Qs,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe],[Qs,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe]];var Qz=me.handleClientHello,Hz=me.handleClientKeyExchange,jz=me.handleCertificateVerify;mx[me.ConnectionEnd.server]=[[pe,Qz,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe],[pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,Y7,pe,pe,pe,pe,pe,pe,pe,pe,pe],[pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,Hz,pe,pe,pe,pe],[pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,jz,pe,pe,pe,pe,pe],[pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe],[pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,Z7],[pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe],[pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe,pe]];me.generateKeys=function(t,e){var r=Np,n=e.client_random+e.server_random;t.session.resuming||(e.master_secret=r(e.pre_master_secret,"master secret",n,48).bytes(),e.pre_master_secret=null),n=e.server_random+e.client_random;var i=2*e.mac_key_length+2*e.enc_key_length,a=t.version.major===me.Versions.TLS_1_0.major&&t.version.minor===me.Versions.TLS_1_0.minor;a&&(i+=2*e.fixed_iv_length);var o=r(e.master_secret,"key expansion",n,i),s={client_write_MAC_key:o.getBytes(e.mac_key_length),server_write_MAC_key:o.getBytes(e.mac_key_length),client_write_key:o.getBytes(e.enc_key_length),server_write_key:o.getBytes(e.enc_key_length)};return a&&(s.client_write_IV=o.getBytes(e.fixed_iv_length),s.server_write_IV=o.getBytes(e.fixed_iv_length)),s};me.createConnectionState=function(t){var e=t.entity===me.ConnectionEnd.client,r=function(){var a={sequenceNumber:[0,0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:function(o){return!0},compressionState:null,compressFunction:function(o){return!0},updateSequenceNumber:function(){a.sequenceNumber[1]===4294967295?(a.sequenceNumber[1]=0,++a.sequenceNumber[0]):++a.sequenceNumber[1]}};return a},n={read:r(),write:r()};if(n.read.update=function(a,o){return n.read.cipherFunction(o,n.read)?n.read.compressFunction(a,o,n.read)||a.error(a,{message:"Could not decompress record.",send:!0,alert:{level:me.Alert.Level.fatal,description:me.Alert.Description.decompression_failure}}):a.error(a,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:me.Alert.Level.fatal,description:me.Alert.Description.bad_record_mac}}),!a.fail},n.write.update=function(a,o){return n.write.compressFunction(a,o,n.write)?n.write.cipherFunction(o,n.write)||a.error(a,{message:"Could not encrypt record.",send:!1,alert:{level:me.Alert.Level.fatal,description:me.Alert.Description.internal_error}}):a.error(a,{message:"Could not compress record.",send:!1,alert:{level:me.Alert.Level.fatal,description:me.Alert.Description.internal_error}}),!a.fail},t.session){var i=t.session.sp;switch(t.session.cipherSuite.initSecurityParameters(i),i.keys=me.generateKeys(t,i),n.read.macKey=e?i.keys.server_write_MAC_key:i.keys.client_write_MAC_key,n.write.macKey=e?i.keys.client_write_MAC_key:i.keys.server_write_MAC_key,t.session.cipherSuite.initConnectionState(n,t,i),i.compression_algorithm){case me.CompressionMethod.none:break;case me.CompressionMethod.deflate:n.read.compressFunction=Dz,n.write.compressFunction=Fz;break;default:throw new Error("Unsupported compression algorithm.")}}return n};me.createRandom=function(){var t=new Date,e=+t+t.getTimezoneOffset()*6e4,r=it.util.createBuffer();return r.putInt32(e),r.putBytes(it.random.getBytes(28)),r};me.createRecord=function(t,e){if(!e.data)return null;var r={type:e.type,version:{major:t.version.major,minor:t.version.minor},length:e.data.length(),fragment:e.data};return r};me.createAlert=function(t,e){var r=it.util.createBuffer();return r.putByte(e.level),r.putByte(e.description),me.createRecord(t,{type:me.ContentType.alert,data:r})};me.createClientHello=function(t){t.session.clientHelloVersion={major:t.version.major,minor:t.version.minor};for(var e=it.util.createBuffer(),r=0;r<t.cipherSuites.length;++r){var n=t.cipherSuites[r];e.putByte(n.id[0]),e.putByte(n.id[1])}var i=e.length(),a=it.util.createBuffer();a.putByte(me.CompressionMethod.none);var o=a.length(),s=it.util.createBuffer();if(t.virtualHost){var u=it.util.createBuffer();u.putByte(0),u.putByte(0);var l=it.util.createBuffer();l.putByte(0),ma(l,2,it.util.createBuffer(t.virtualHost));var c=it.util.createBuffer();ma(c,2,l),ma(u,2,c),s.putBuffer(u)}var f=s.length();f>0&&(f+=2);var d=t.session.id,h=d.length+1+2+4+28+2+i+1+o+f,y=it.util.createBuffer();return y.putByte(me.HandshakeType.client_hello),y.putInt24(h),y.putByte(t.version.major),y.putByte(t.version.minor),y.putBytes(t.session.sp.client_random),ma(y,1,it.util.createBuffer(d)),ma(y,2,e),ma(y,1,a),f>0&&ma(y,2,s),y};me.createServerHello=function(t){var e=t.session.id,r=e.length+1+2+4+28+2+1,n=it.util.createBuffer();return n.putByte(me.HandshakeType.server_hello),n.putInt24(r),n.putByte(t.version.major),n.putByte(t.version.minor),n.putBytes(t.session.sp.server_random),ma(n,1,it.util.createBuffer(e)),n.putByte(t.session.cipherSuite.id[0]),n.putByte(t.session.cipherSuite.id[1]),n.putByte(t.session.compressionMethod),n};me.createCertificate=function(t){var e=t.entity===me.ConnectionEnd.client,r=null;if(t.getCertificate){var n;e?n=t.session.certificateRequest:n=t.session.extensions.server_name.serverNameList,r=t.getCertificate(t,n)}var i=it.util.createBuffer();if(r!==null)try{it.util.isArray(r)||(r=[r]);for(var a=null,o=0;o<r.length;++o){var s=it.pem.decode(r[o])[0];if(s.type!=="CERTIFICATE"&&s.type!=="X509 CERTIFICATE"&&s.type!=="TRUSTED CERTIFICATE"){var u=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw u.headerType=s.type,u}if(s.procType&&s.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var l=it.util.createBuffer(s.body);a===null&&(a=it.asn1.fromDer(l.bytes(),!1));var c=it.util.createBuffer();ma(c,3,l),i.putBuffer(c)}r=it.pki.certificateFromAsn1(a),e?t.session.clientCertificate=r:t.session.serverCertificate=r}catch(h){return t.error(t,{message:"Could not send certificate list.",cause:h,send:!0,alert:{level:me.Alert.Level.fatal,description:me.Alert.Description.bad_certificate}})}var f=3+i.length(),d=it.util.createBuffer();return d.putByte(me.HandshakeType.certificate),d.putInt24(f),ma(d,3,i),d};me.createClientKeyExchange=function(t){var e=it.util.createBuffer();e.putByte(t.session.clientHelloVersion.major),e.putByte(t.session.clientHelloVersion.minor),e.putBytes(it.random.getBytes(46));var r=t.session.sp;r.pre_master_secret=e.getBytes();var n=t.session.serverCertificate.publicKey;e=n.encrypt(r.pre_master_secret);var i=e.length+2,a=it.util.createBuffer();return a.putByte(me.HandshakeType.client_key_exchange),a.putInt24(i),a.putInt16(e.length),a.putBytes(e),a};me.createServerKeyExchange=function(t){var e=it.util.createBuffer();return e};me.getClientSignature=function(t,e){var r=it.util.createBuffer();r.putBuffer(t.session.md5.digest()),r.putBuffer(t.session.sha1.digest()),r=r.getBytes(),t.getSignature=t.getSignature||function(n,i,a){var o=null;if(n.getPrivateKey)try{o=n.getPrivateKey(n,n.session.clientCertificate),o=it.pki.privateKeyFromPem(o)}catch(s){n.error(n,{message:"Could not get private key.",cause:s,send:!0,alert:{level:me.Alert.Level.fatal,description:me.Alert.Description.internal_error}})}o===null?n.error(n,{message:"No private key set.",send:!0,alert:{level:me.Alert.Level.fatal,description:me.Alert.Description.internal_error}}):i=o.sign(i,null),a(n,i)},t.getSignature(t,r,e)};me.createCertificateVerify=function(t,e){var r=e.length+2,n=it.util.createBuffer();return n.putByte(me.HandshakeType.certificate_verify),n.putInt24(r),n.putInt16(e.length),n.putBytes(e),n};me.createCertificateRequest=function(t){var e=it.util.createBuffer();e.putByte(1);var r=it.util.createBuffer();for(var n in t.caStore.certs){var i=t.caStore.certs[n],a=it.pki.distinguishedNameToAsn1(i.subject),o=it.asn1.toDer(a);r.putInt16(o.length()),r.putBuffer(o)}var s=1+e.length()+2+r.length(),u=it.util.createBuffer();return u.putByte(me.HandshakeType.certificate_request),u.putInt24(s),ma(u,1,e),ma(u,2,r),u};me.createServerHelloDone=function(t){var e=it.util.createBuffer();return e.putByte(me.HandshakeType.server_hello_done),e.putInt24(0),e};me.createChangeCipherSpec=function(){var t=it.util.createBuffer();return t.putByte(1),t};me.createFinished=function(t){var e=it.util.createBuffer();e.putBuffer(t.session.md5.digest()),e.putBuffer(t.session.sha1.digest());var r=t.entity===me.ConnectionEnd.client,n=t.session.sp,i=12,a=Np,o=r?"client finished":"server finished";e=a(n.master_secret,o,e.getBytes(),i);var s=it.util.createBuffer();return s.putByte(me.HandshakeType.finished),s.putInt24(e.length()),s.putBuffer(e),s};me.createHeartbeat=function(t,e,r){typeof r>"u"&&(r=e.length);var n=it.util.createBuffer();n.putByte(t),n.putInt16(r),n.putBytes(e);var i=n.length(),a=Math.max(16,i-r-3);return n.putBytes(it.random.getBytes(a)),n};me.queue=function(t,e){if(e&&!(e.fragment.length()===0&&(e.type===me.ContentType.handshake||e.type===me.ContentType.alert||e.type===me.ContentType.change_cipher_spec))){if(e.type===me.ContentType.handshake){var r=e.fragment.bytes();t.session.md5.update(r),t.session.sha1.update(r),r=null}var n;if(e.fragment.length()<=me.MaxFragment)n=[e];else{n=[];for(var i=e.fragment.bytes();i.length>me.MaxFragment;)n.push(me.createRecord(t,{type:e.type,data:it.util.createBuffer(i.slice(0,me.MaxFragment))})),i=i.slice(me.MaxFragment);i.length>0&&n.push(me.createRecord(t,{type:e.type,data:it.util.createBuffer(i)}))}for(var a=0;a<n.length&&!t.fail;++a){var o=n[a],s=t.state.current.write;s.update(t,o)&&t.records.push(o)}}};me.flush=function(t){for(var e=0;e<t.records.length;++e){var r=t.records[e];t.tlsData.putByte(r.type),t.tlsData.putByte(r.version.major),t.tlsData.putByte(r.version.minor),t.tlsData.putInt16(r.fragment.length()),t.tlsData.putBuffer(t.records[e].fragment)}return t.records=[],t.tlsDataReady(t)};var Sg=function(t){switch(t){case!0:return!0;case it.pki.certificateError.bad_certificate:return me.Alert.Description.bad_certificate;case it.pki.certificateError.unsupported_certificate:return me.Alert.Description.unsupported_certificate;case it.pki.certificateError.certificate_revoked:return me.Alert.Description.certificate_revoked;case it.pki.certificateError.certificate_expired:return me.Alert.Description.certificate_expired;case it.pki.certificateError.certificate_unknown:return me.Alert.Description.certificate_unknown;case it.pki.certificateError.unknown_ca:return me.Alert.Description.unknown_ca;default:return me.Alert.Description.bad_certificate}},$z=function(t){switch(t){case!0:return!0;case me.Alert.Description.bad_certificate:return it.pki.certificateError.bad_certificate;case me.Alert.Description.unsupported_certificate:return it.pki.certificateError.unsupported_certificate;case me.Alert.Description.certificate_revoked:return it.pki.certificateError.certificate_revoked;case me.Alert.Description.certificate_expired:return it.pki.certificateError.certificate_expired;case me.Alert.Description.certificate_unknown:return it.pki.certificateError.certificate_unknown;case me.Alert.Description.unknown_ca:return it.pki.certificateError.unknown_ca;default:return it.pki.certificateError.bad_certificate}};me.verifyCertificateChain=function(t,e){try{var r={};for(var n in t.verifyOptions)r[n]=t.verifyOptions[n];r.verify=function(a,o,s){var u=Sg(a),l=t.verify(t,a,o,s);if(l!==!0){if(typeof l=="object"&&!it.util.isArray(l)){var c=new Error("The application rejected the certificate.");throw c.send=!0,c.alert={level:me.Alert.Level.fatal,description:me.Alert.Description.bad_certificate},l.message&&(c.message=l.message),l.alert&&(c.alert.description=l.alert),c}l!==a&&(l=$z(l))}return l},it.pki.verifyCertificateChain(t.caStore,e,r)}catch(a){var i=a;(typeof i!="object"||it.util.isArray(i))&&(i={send:!0,alert:{level:me.Alert.Level.fatal,description:Sg(a)}}),"send"in i||(i.send=!0),"alert"in i||(i.alert={level:me.Alert.Level.fatal,description:Sg(i.error)}),t.error(t,i)}return!t.fail};me.createSessionCache=function(t,e){var r=null;if(t&&t.getSession&&t.setSession&&t.order)r=t;else{r={},r.cache=t||{},r.capacity=Math.max(e||100,1),r.order=[];for(var n in t)r.order.length<=e?r.order.push(n):delete t[n];r.getSession=function(i){var a=null,o=null;if(i?o=it.util.bytesToHex(i):r.order.length>0&&(o=r.order[0]),o!==null&&o in r.cache){a=r.cache[o],delete r.cache[o];for(var s in r.order)if(r.order[s]===o){r.order.splice(s,1);break}}return a},r.setSession=function(i,a){if(r.order.length===r.capacity){var o=r.order.shift();delete r.cache[o]}var o=it.util.bytesToHex(i);r.order.push(o),r.cache[o]=a}}return r};me.createConnection=function(t){var e=null;t.caStore?it.util.isArray(t.caStore)?e=it.pki.createCaStore(t.caStore):e=t.caStore:e=it.pki.createCaStore();var r=t.cipherSuites||null;if(r===null){r=[];for(var n in me.CipherSuites)r.push(me.CipherSuites[n])}var i=t.server?me.ConnectionEnd.server:me.ConnectionEnd.client,a=t.sessionCache?me.createSessionCache(t.sessionCache):null,o={version:{major:me.Version.major,minor:me.Version.minor},entity:i,sessionId:t.sessionId,caStore:e,sessionCache:a,cipherSuites:r,connected:t.connected,virtualHost:t.virtualHost||null,verifyClient:t.verifyClient||!1,verify:t.verify||function(c,f,d,h){return f},verifyOptions:t.verifyOptions||{},getCertificate:t.getCertificate||null,getPrivateKey:t.getPrivateKey||null,getSignature:t.getSignature||null,input:it.util.createBuffer(),tlsData:it.util.createBuffer(),data:it.util.createBuffer(),tlsDataReady:t.tlsDataReady,dataReady:t.dataReady,heartbeatReceived:t.heartbeatReceived,closed:t.closed,error:function(c,f){f.origin=f.origin||(c.entity===me.ConnectionEnd.client?"client":"server"),f.send&&(me.queue(c,me.createAlert(c,f.alert)),me.flush(c));var d=f.fatal!==!1;d&&(c.fail=!0),t.error(c,f),d&&c.close(!1)},deflate:t.deflate||null,inflate:t.inflate||null};o.reset=function(c){o.version={major:me.Version.major,minor:me.Version.minor},o.record=null,o.session=null,o.peerCertificate=null,o.state={pending:null,current:null},o.expect=o.entity===me.ConnectionEnd.client?Tz:Oz,o.fragmented=null,o.records=[],o.open=!1,o.handshakes=0,o.handshaking=!1,o.isConnected=!1,o.fail=!(c||typeof c>"u"),o.input.clear(),o.tlsData.clear(),o.data.clear(),o.state.current=me.createConnectionState(o)},o.reset();var s=function(c,f){var d=f.type-me.ContentType.change_cipher_spec,h=xv[c.entity][c.expect];d in h?h[d](c,f):me.handleUnexpected(c,f)},u=function(c){var f=0,d=c.input,h=d.length();if(h<5)f=5-h;else{c.record={type:d.getByte(),version:{major:d.getByte(),minor:d.getByte()},length:d.getInt16(),fragment:it.util.createBuffer(),ready:!1};var y=c.record.version.major===c.version.major;y&&c.session&&c.session.version&&(y=c.record.version.minor===c.version.minor),y||c.error(c,{message:"Incompatible TLS version.",send:!0,alert:{level:me.Alert.Level.fatal,description:me.Alert.Description.protocol_version}})}return f},l=function(c){var f=0,d=c.input,h=d.length();if(h<c.record.length)f=c.record.length-h;else{c.record.fragment.putBytes(d.getBytes(c.record.length)),d.compact();var y=c.state.current.read;y.update(c,c.record)&&(c.fragmented!==null&&(c.fragmented.type===c.record.type?(c.fragmented.fragment.putBuffer(c.record.fragment),c.record=c.fragmented):c.error(c,{message:"Invalid fragmented record.",send:!0,alert:{level:me.Alert.Level.fatal,description:me.Alert.Description.unexpected_message}})),c.record.ready=!0)}return f};return o.handshake=function(c){if(o.entity!==me.ConnectionEnd.client)o.error(o,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(o.handshaking)o.error(o,{message:"Handshake already in progress.",fatal:!1});else{o.fail&&!o.open&&o.handshakes===0&&(o.fail=!1),o.handshaking=!0,c=c||"";var f=null;c.length>0&&(o.sessionCache&&(f=o.sessionCache.getSession(c)),f===null&&(c="")),c.length===0&&o.sessionCache&&(f=o.sessionCache.getSession(),f!==null&&(c=f.id)),o.session={id:c,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:it.md.md5.create(),sha1:it.md.sha1.create()},f&&(o.version=f.version,o.session.sp=f.sp),o.session.sp.client_random=me.createRandom().getBytes(),o.open=!0,me.queue(o,me.createRecord(o,{type:me.ContentType.handshake,data:me.createClientHello(o)})),me.flush(o)}},o.process=function(c){var f=0;return c&&o.input.putBytes(c),o.fail||(o.record!==null&&o.record.ready&&o.record.fragment.isEmpty()&&(o.record=null),o.record===null&&(f=u(o)),!o.fail&&o.record!==null&&!o.record.ready&&(f=l(o)),!o.fail&&o.record!==null&&o.record.ready&&s(o,o.record)),f},o.prepare=function(c){return me.queue(o,me.createRecord(o,{type:me.ContentType.application_data,data:it.util.createBuffer(c)})),me.flush(o)},o.prepareHeartbeatRequest=function(c,f){return c instanceof it.util.ByteBuffer&&(c=c.bytes()),typeof f>"u"&&(f=c.length),o.expectedHeartbeatPayload=c,me.queue(o,me.createRecord(o,{type:me.ContentType.heartbeat,data:me.createHeartbeat(me.HeartbeatMessageType.heartbeat_request,c,f)})),me.flush(o)},o.close=function(c){if(!o.fail&&o.sessionCache&&o.session){var f={id:o.session.id,version:o.session.version,sp:o.session.sp};f.sp.keys=null,o.sessionCache.setSession(f.id,f)}o.open&&(o.open=!1,o.input.clear(),(o.isConnected||o.handshaking)&&(o.isConnected=o.handshaking=!1,me.queue(o,me.createAlert(o,{level:me.Alert.Level.warning,description:me.Alert.Description.close_notify})),me.flush(o)),o.closed(o)),o.reset(c)},o};it.tls=it.tls||{};for(var Ig in me)typeof me[Ig]!="function"&&(it.tls[Ig]=me[Ig]);it.tls.prf_tls1=Np;it.tls.hmac_sha1=Lz;it.tls.createSessionCache=me.createSessionCache;it.tls.createConnection=me.createConnection;var _0=tr,Ba=_0.tls;Ba.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:function(t){t.bulk_cipher_algorithm=Ba.BulkCipherAlgorithm.aes,t.cipher_type=Ba.CipherType.block,t.enc_key_length=16,t.block_length=16,t.fixed_iv_length=16,t.record_iv_length=16,t.mac_algorithm=Ba.MACAlgorithm.hmac_sha1,t.mac_length=20,t.mac_key_length=20},initConnectionState:X7};Ba.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:function(t){t.bulk_cipher_algorithm=Ba.BulkCipherAlgorithm.aes,t.cipher_type=Ba.CipherType.block,t.enc_key_length=32,t.block_length=16,t.fixed_iv_length=16,t.record_iv_length=16,t.mac_algorithm=Ba.MACAlgorithm.hmac_sha1,t.mac_length=20,t.mac_key_length=20},initConnectionState:X7};function X7(t,e,r){var n=e.entity===_0.tls.ConnectionEnd.client;t.read.cipherState={init:!1,cipher:_0.cipher.createDecipher("AES-CBC",n?r.keys.server_write_key:r.keys.client_write_key),iv:n?r.keys.server_write_IV:r.keys.client_write_IV},t.write.cipherState={init:!1,cipher:_0.cipher.createCipher("AES-CBC",n?r.keys.client_write_key:r.keys.server_write_key),iv:n?r.keys.client_write_IV:r.keys.server_write_IV},t.read.cipherFunction=Xz,t.write.cipherFunction=Wz,t.read.macLength=t.write.macLength=r.mac_length,t.read.macFunction=t.write.macFunction=Ba.hmac_sha1}function Wz(t,e){var r=!1,n=e.macFunction(e.macKey,e.sequenceNumber,t);t.fragment.putBytes(n),e.updateSequenceNumber();var i;t.version.minor===Ba.Versions.TLS_1_0.minor?i=e.cipherState.init?null:e.cipherState.iv:i=_0.random.getBytesSync(16),e.cipherState.init=!0;var a=e.cipherState.cipher;return a.start({iv:i}),t.version.minor>=Ba.Versions.TLS_1_1.minor&&a.output.putBytes(i),a.update(t.fragment),a.finish(Yz)&&(t.fragment=a.output,t.length=t.fragment.length(),r=!0),r}function Yz(t,e,r){if(!r){var n=t-e.length()%t;e.fillWithByte(n-1,n)}return!0}function Zz(t,e,r){var n=!0;if(r){for(var i=e.length(),a=e.last(),o=i-1-a;o<i-1;++o)n=n&&e.at(o)==a;n&&e.truncate(a+1)}return n}function Xz(t,e){var r=!1,n;t.version.minor===Ba.Versions.TLS_1_0.minor?n=e.cipherState.init?null:e.cipherState.iv:n=t.fragment.getBytes(16),e.cipherState.init=!0;var i=e.cipherState.cipher;i.start({iv:n}),i.update(t.fragment),r=i.finish(Zz);var a=e.macLength,o=_0.random.getBytesSync(a),s=i.output.length();s>=a?(t.fragment=i.output.getBytes(s-a),o=i.output.getBytes(a)):t.fragment=i.output.getBytes(),t.fragment=_0.util.createBuffer(t.fragment),t.length=t.fragment.length();var u=e.macFunction(e.macKey,e.sequenceNumber,t);return e.updateSequenceNumber(),r=Jz(e.macKey,o,u)&&r,r}function Jz(t,e,r){var n=_0.hmac.create();return n.start("SHA1",t),n.update(e),e=n.digest().getBytes(),n.start(null,null),n.update(r),r=n.digest().getBytes(),e===r}var Qr=tr,Wd=Qr.sha512=Qr.sha512||{};Qr.md.sha512=Qr.md.algorithms.sha512=Wd;var J7=Qr.sha384=Qr.sha512.sha384=Qr.sha512.sha384||{};J7.create=function(){return Wd.create("SHA-384")};Qr.md.sha384=Qr.md.algorithms.sha384=J7;Qr.sha512.sha256=Qr.sha512.sha256||{create:function(){return Wd.create("SHA-512/256")}};Qr.md["sha512/256"]=Qr.md.algorithms["sha512/256"]=Qr.sha512.sha256;Qr.sha512.sha224=Qr.sha512.sha224||{create:function(){return Wd.create("SHA-512/224")}};Qr.md["sha512/224"]=Qr.md.algorithms["sha512/224"]=Qr.sha512.sha224;Wd.create=function(t){if(eb||eK(),typeof t>"u"&&(t="SHA-512"),!(t in el))throw new Error("Invalid SHA-512 algorithm: "+t);for(var e=el[t],r=null,n=Qr.util.createBuffer(),i=new Array(80),a=0;a<80;++a)i[a]=new Array(2);var o=64;switch(t){case"SHA-384":o=48;break;case"SHA-512/256":o=32;break;case"SHA-512/224":o=28;break}var s={algorithm:t.replace("-","").toLowerCase(),blockLength:128,digestLength:o,messageLength:0,fullMessageLength:null,messageLengthSize:16};return s.start=function(){s.messageLength=0,s.fullMessageLength=s.messageLength128=[];for(var u=s.messageLengthSize/4,l=0;l<u;++l)s.fullMessageLength.push(0);n=Qr.util.createBuffer(),r=new Array(e.length);for(var l=0;l<e.length;++l)r[l]=e[l].slice(0);return s},s.start(),s.update=function(u,l){l==="utf8"&&(u=Qr.util.encodeUtf8(u));var c=u.length;s.messageLength+=c,c=[c/4294967296>>>0,c>>>0];for(var f=s.fullMessageLength.length-1;f>=0;--f)s.fullMessageLength[f]+=c[1],c[1]=c[0]+(s.fullMessageLength[f]/4294967296>>>0),s.fullMessageLength[f]=s.fullMessageLength[f]>>>0,c[0]=c[1]/4294967296>>>0;return n.putBytes(u),yC(r,i,n),(n.read>2048||n.length()===0)&&n.compact(),s},s.digest=function(){var u=Qr.util.createBuffer();u.putBytes(n.bytes());var l=s.fullMessageLength[s.fullMessageLength.length-1]+s.messageLengthSize,c=l&s.blockLength-1;u.putBytes(j3.substr(0,s.blockLength-c));for(var f,d,h=s.fullMessageLength[0]*8,y=0;y<s.fullMessageLength.length-1;++y)f=s.fullMessageLength[y+1]*8,d=f/4294967296>>>0,h+=d,u.putInt32(h>>>0),h=f>>>0;u.putInt32(h);for(var w=new Array(r.length),y=0;y<r.length;++y)w[y]=r[y].slice(0);yC(w,i,u);var _=Qr.util.createBuffer(),E;t==="SHA-512"?E=w.length:t==="SHA-384"?E=w.length-2:E=w.length-4;for(var y=0;y<E;++y)_.putInt32(w[y][0]),(y!==E-1||t!=="SHA-512/224")&&_.putInt32(w[y][1]);return _},s};var j3=null,eb=!1,$3=null,el=null;function eK(){j3="",j3+=Qr.util.fillString("\0",128),$3=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],el={},el["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],el["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],el["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],el["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],eb=!0}function yC(t,e,r){for(var n,i,a,o,s,u,l,c,f,d,h,y,w,_,E,p,m,S,F,I,v,A,D,L,j,Y,O,B,C,N,U,G,$,Z,W,P=r.length();P>=128;){for(C=0;C<16;++C)e[C][0]=r.getInt32()>>>0,e[C][1]=r.getInt32()>>>0;for(;C<80;++C)G=e[C-2],N=G[0],U=G[1],n=((N>>>19|U<<13)^(U>>>29|N<<3)^N>>>6)>>>0,i=((N<<13|U>>>19)^(U<<3|N>>>29)^(N<<26|U>>>6))>>>0,Z=e[C-15],N=Z[0],U=Z[1],a=((N>>>1|U<<31)^(N>>>8|U<<24)^N>>>7)>>>0,o=((N<<31|U>>>1)^(N<<24|U>>>8)^(N<<25|U>>>7))>>>0,$=e[C-7],W=e[C-16],U=i+$[1]+o+W[1],e[C][0]=n+$[0]+a+W[0]+(U/4294967296>>>0)>>>0,e[C][1]=U>>>0;for(w=t[0][0],_=t[0][1],E=t[1][0],p=t[1][1],m=t[2][0],S=t[2][1],F=t[3][0],I=t[3][1],v=t[4][0],A=t[4][1],D=t[5][0],L=t[5][1],j=t[6][0],Y=t[6][1],O=t[7][0],B=t[7][1],C=0;C<80;++C)l=((v>>>14|A<<18)^(v>>>18|A<<14)^(A>>>9|v<<23))>>>0,c=((v<<18|A>>>14)^(v<<14|A>>>18)^(A<<23|v>>>9))>>>0,f=(j^v&(D^j))>>>0,d=(Y^A&(L^Y))>>>0,s=((w>>>28|_<<4)^(_>>>2|w<<30)^(_>>>7|w<<25))>>>0,u=((w<<4|_>>>28)^(_<<30|w>>>2)^(_<<25|w>>>7))>>>0,h=(w&E|m&(w^E))>>>0,y=(_&p|S&(_^p))>>>0,U=B+c+d+$3[C][1]+e[C][1],n=O+l+f+$3[C][0]+e[C][0]+(U/4294967296>>>0)>>>0,i=U>>>0,U=u+y,a=s+h+(U/4294967296>>>0)>>>0,o=U>>>0,O=j,B=Y,j=D,Y=L,D=v,L=A,U=I+i,v=F+n+(U/4294967296>>>0)>>>0,A=U>>>0,F=m,I=S,m=E,S=p,E=w,p=_,U=i+o,w=n+a+(U/4294967296>>>0)>>>0,_=U>>>0;U=t[0][1]+_,t[0][0]=t[0][0]+w+(U/4294967296>>>0)>>>0,t[0][1]=U>>>0,U=t[1][1]+p,t[1][0]=t[1][0]+E+(U/4294967296>>>0)>>>0,t[1][1]=U>>>0,U=t[2][1]+S,t[2][0]=t[2][0]+m+(U/4294967296>>>0)>>>0,t[2][1]=U>>>0,U=t[3][1]+I,t[3][0]=t[3][0]+F+(U/4294967296>>>0)>>>0,t[3][1]=U>>>0,U=t[4][1]+A,t[4][0]=t[4][0]+v+(U/4294967296>>>0)>>>0,t[4][1]=U>>>0,U=t[5][1]+L,t[5][0]=t[5][0]+D+(U/4294967296>>>0)>>>0,t[5][1]=U>>>0,U=t[6][1]+Y,t[6][0]=t[6][0]+j+(U/4294967296>>>0)>>>0,t[6][1]=U>>>0,U=t[7][1]+B,t[7][0]=t[7][0]+O+(U/4294967296>>>0)>>>0,t[7][1]=U>>>0,P-=128}}var pv={},tK=tr,Ln=tK.asn1;pv.privateKeyValidator={name:"PrivateKeyInfo",tagClass:Ln.Class.UNIVERSAL,type:Ln.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:Ln.Class.UNIVERSAL,type:Ln.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:Ln.Class.UNIVERSAL,type:Ln.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:Ln.Class.UNIVERSAL,type:Ln.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:Ln.Class.UNIVERSAL,type:Ln.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]};pv.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:Ln.Class.UNIVERSAL,type:Ln.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:Ln.Class.UNIVERSAL,type:Ln.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:Ln.Class.UNIVERSAL,type:Ln.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:Ln.Class.UNIVERSAL,type:Ln.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]};var qn=tr,tb=pv,rK=tb.publicKeyValidator,nK=tb.privateKeyValidator;if(typeof iK>"u")var iK=qn.jsbn.BigInteger;var W3=qn.util.ByteBuffer,Vi=typeof Buffer>"u"?Uint8Array:Buffer;qn.pki=qn.pki||{};qn.pki.ed25519=qn.ed25519=qn.ed25519||{};var or=qn.ed25519;or.constants={};or.constants.PUBLIC_KEY_BYTE_LENGTH=32;or.constants.PRIVATE_KEY_BYTE_LENGTH=64;or.constants.SEED_BYTE_LENGTH=32;or.constants.SIGN_BYTE_LENGTH=64;or.constants.HASH_BYTE_LENGTH=64;or.generateKeyPair=function(t){t=t||{};var e=t.seed;if(e===void 0)e=qn.random.getBytesSync(or.constants.SEED_BYTE_LENGTH);else if(typeof e=="string"){if(e.length!==or.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+or.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(e instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');e=Is({message:e,encoding:"binary"});for(var r=new Vi(or.constants.PUBLIC_KEY_BYTE_LENGTH),n=new Vi(or.constants.PRIVATE_KEY_BYTE_LENGTH),i=0;i<32;++i)n[i]=e[i];return lK(r,n),{publicKey:r,privateKey:n}};or.privateKeyFromAsn1=function(t){var e={},r=[],n=qn.asn1.validate(t,nK,e,r);if(!n){var i=new Error("Invalid Key.");throw i.errors=r,i}var a=qn.asn1.derToOid(e.privateKeyOid),o=qn.oids.EdDSA25519;if(a!==o)throw new Error('Invalid OID "'+a+'"; OID must be "'+o+'".');var s=e.privateKey,u=Is({message:qn.asn1.fromDer(s).value,encoding:"binary"});return{privateKeyBytes:u}};or.publicKeyFromAsn1=function(t){var e={},r=[],n=qn.asn1.validate(t,rK,e,r);if(!n){var i=new Error("Invalid Key.");throw i.errors=r,i}var a=qn.asn1.derToOid(e.publicKeyOid),o=qn.oids.EdDSA25519;if(a!==o)throw new Error('Invalid OID "'+a+'"; OID must be "'+o+'".');var s=e.ed25519PublicKey;if(s.length!==or.constants.PUBLIC_KEY_BYTE_LENGTH)throw new Error("Key length is invalid.");return Is({message:s,encoding:"binary"})};or.publicKeyFromPrivateKey=function(t){t=t||{};var e=Is({message:t.privateKey,encoding:"binary"});if(e.length!==or.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+or.constants.PRIVATE_KEY_BYTE_LENGTH);for(var r=new Vi(or.constants.PUBLIC_KEY_BYTE_LENGTH),n=0;n<r.length;++n)r[n]=e[32+n];return r};or.sign=function(t){t=t||{};var e=Is(t),r=Is({message:t.privateKey,encoding:"binary"});if(r.length===or.constants.SEED_BYTE_LENGTH){var n=or.generateKeyPair({seed:r});r=n.privateKey}else if(r.length!==or.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+or.constants.SEED_BYTE_LENGTH+" or "+or.constants.PRIVATE_KEY_BYTE_LENGTH);var i=new Vi(or.constants.SIGN_BYTE_LENGTH+e.length);cK(i,e,e.length,r);for(var a=new Vi(or.constants.SIGN_BYTE_LENGTH),o=0;o<a.length;++o)a[o]=i[o];return a};or.verify=function(t){t=t||{};var e=Is(t);if(t.signature===void 0)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var r=Is({message:t.signature,encoding:"binary"});if(r.length!==or.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+or.constants.SIGN_BYTE_LENGTH);var n=Is({message:t.publicKey,encoding:"binary"});if(n.length!==or.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+or.constants.PUBLIC_KEY_BYTE_LENGTH);var i=new Vi(or.constants.SIGN_BYTE_LENGTH+e.length),a=new Vi(or.constants.SIGN_BYTE_LENGTH+e.length),o;for(o=0;o<or.constants.SIGN_BYTE_LENGTH;++o)i[o]=r[o];for(o=0;o<e.length;++o)i[o+or.constants.SIGN_BYTE_LENGTH]=e[o];return uK(a,i,i.length,n)>=0};function Is(t){var e=t.message;if(e instanceof Uint8Array||e instanceof Vi)return e;var r=t.encoding;if(e===void 0)if(t.md)e=t.md.digest().getBytes(),r="binary";else throw new TypeError('"options.message" or "options.md" not specified.');if(typeof e=="string"&&!r)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if(typeof e=="string"){if(typeof Buffer<"u")return Buffer.from(e,r);e=new W3(e,r)}else if(!(e instanceof W3))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var n=new Vi(e.length()),i=0;i<n.length;++i)n[i]=e.at(i);return n}var Y3=Rt(),yx=Rt([1]),aK=Rt([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),oK=Rt([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),vC=Rt([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),EC=Rt([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),Lg=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),sK=Rt([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function zf(t,e){var r=qn.md.sha512.create(),n=new W3(t);r.update(n.getBytes(e),"binary");var i=r.digest().getBytes();if(typeof Buffer<"u")return Buffer.from(i,"binary");for(var a=new Vi(or.constants.HASH_BYTE_LENGTH),o=0;o<64;++o)a[o]=i.charCodeAt(o);return a}function lK(t,e){var r=[Rt(),Rt(),Rt(),Rt()],n,i=zf(e,32);for(i[0]&=248,i[31]&=127,i[31]|=64,mv(r,i),gv(t,r),n=0;n<32;++n)e[n+32]=t[n];return 0}function cK(t,e,r,n){var i,a,o=new Float64Array(64),s=[Rt(),Rt(),Rt(),Rt()],u=zf(n,32);u[0]&=248,u[31]&=127,u[31]|=64;var l=r+64;for(i=0;i<r;++i)t[64+i]=e[i];for(i=0;i<32;++i)t[32+i]=u[32+i];var c=zf(t.subarray(32),r+32);for(Z3(c),mv(s,c),gv(t,s),i=32;i<64;++i)t[i]=n[i];var f=zf(t,r+64);for(Z3(f),i=32;i<64;++i)o[i]=0;for(i=0;i<32;++i)o[i]=c[i];for(i=0;i<32;++i)for(a=0;a<32;a++)o[i+a]+=f[i]*u[a];return rb(t.subarray(32),o),l}function uK(t,e,r,n){var i,a,o=new Vi(32),s=[Rt(),Rt(),Rt(),Rt()],u=[Rt(),Rt(),Rt(),Rt()];if(a=-1,r<64||fK(u,n))return-1;for(i=0;i<r;++i)t[i]=e[i];for(i=0;i<32;++i)t[i+32]=n[i];var l=zf(t,r);if(Z3(l),ab(s,u,l),mv(u,e.subarray(32)),X3(s,u),gv(o,s),r-=64,nb(e,0,o,0)){for(i=0;i<r;++i)t[i]=0;return-1}for(i=0;i<r;++i)t[i]=e[i+64];return a=r,a}function rb(t,e){var r,n,i,a;for(n=63;n>=32;--n){for(r=0,i=n-32,a=n-12;i<a;++i)e[i]+=r-16*e[n]*Lg[i-(n-32)],r=e[i]+128>>8,e[i]-=r*256;e[i]+=r,e[n]=0}for(r=0,i=0;i<32;++i)e[i]+=r-(e[31]>>4)*Lg[i],r=e[i]>>8,e[i]&=255;for(i=0;i<32;++i)e[i]-=r*Lg[i];for(n=0;n<32;++n)e[n+1]+=e[n]>>8,t[n]=e[n]&255}function Z3(t){for(var e=new Float64Array(64),r=0;r<64;++r)e[r]=t[r],t[r]=0;rb(t,e)}function X3(t,e){var r=Rt(),n=Rt(),i=Rt(),a=Rt(),o=Rt(),s=Rt(),u=Rt(),l=Rt(),c=Rt();mc(r,t[1],t[0]),mc(c,e[1],e[0]),Nr(r,r,c),tc(n,t[0],t[1]),tc(c,e[0],e[1]),Nr(n,n,c),Nr(i,t[3],e[3]),Nr(i,i,oK),Nr(a,t[2],e[2]),tc(a,a,a),mc(o,n,r),mc(s,a,i),tc(u,a,i),tc(l,n,r),Nr(t[0],o,s),Nr(t[1],l,u),Nr(t[2],u,s),Nr(t[3],o,l)}function CC(t,e,r){for(var n=0;n<4;++n)ob(t[n],e[n],r)}function gv(t,e){var r=Rt(),n=Rt(),i=Rt();pK(i,e[2]),Nr(r,e[0],i),Nr(n,e[1],i),vx(t,n),t[31]^=ib(r)<<7}function vx(t,e){var r,n,i,a=Rt(),o=Rt();for(r=0;r<16;++r)o[r]=e[r];for(Fg(o),Fg(o),Fg(o),n=0;n<2;++n){for(a[0]=o[0]-65517,r=1;r<15;++r)a[r]=o[r]-65535-(a[r-1]>>16&1),a[r-1]&=65535;a[15]=o[15]-32767-(a[14]>>16&1),i=a[15]>>16&1,a[14]&=65535,ob(o,a,1-i)}for(r=0;r<16;r++)t[2*r]=o[r]&255,t[2*r+1]=o[r]>>8}function fK(t,e){var r=Rt(),n=Rt(),i=Rt(),a=Rt(),o=Rt(),s=Rt(),u=Rt();return f0(t[2],yx),dK(t[1],e),tl(i,t[1]),Nr(a,i,aK),mc(i,i,t[2]),tc(a,t[2],a),tl(o,a),tl(s,o),Nr(u,s,o),Nr(r,u,i),Nr(r,r,a),hK(r,r),Nr(r,r,i),Nr(r,r,a),Nr(r,r,a),Nr(t[0],r,a),tl(n,t[0]),Nr(n,n,a),AC(n,i)&&Nr(t[0],t[0],sK),tl(n,t[0]),Nr(n,n,a),AC(n,i)?-1:(ib(t[0])===e[31]>>7&&mc(t[0],Y3,t[0]),Nr(t[3],t[0],t[1]),0)}function dK(t,e){var r;for(r=0;r<16;++r)t[r]=e[2*r]+(e[2*r+1]<<8);t[15]&=32767}function hK(t,e){var r=Rt(),n;for(n=0;n<16;++n)r[n]=e[n];for(n=250;n>=0;--n)tl(r,r),n!==1&&Nr(r,r,e);for(n=0;n<16;++n)t[n]=r[n]}function AC(t,e){var r=new Vi(32),n=new Vi(32);return vx(r,t),vx(n,e),nb(r,0,n,0)}function nb(t,e,r,n){return xK(t,e,r,n,32)}function xK(t,e,r,n,i){var a,o=0;for(a=0;a<i;++a)o|=t[e+a]^r[n+a];return(1&o-1>>>8)-1}function ib(t){var e=new Vi(32);return vx(e,t),e[0]&1}function ab(t,e,r){var n,i;for(f0(t[0],Y3),f0(t[1],yx),f0(t[2],yx),f0(t[3],Y3),i=255;i>=0;--i)n=r[i/8|0]>>(i&7)&1,CC(t,e,n),X3(e,t),X3(t,t),CC(t,e,n)}function mv(t,e){var r=[Rt(),Rt(),Rt(),Rt()];f0(r[0],vC),f0(r[1],EC),f0(r[2],yx),Nr(r[3],vC,EC),ab(t,r,e)}function f0(t,e){var r;for(r=0;r<16;r++)t[r]=e[r]|0}function pK(t,e){var r=Rt(),n;for(n=0;n<16;++n)r[n]=e[n];for(n=253;n>=0;--n)tl(r,r),n!==2&&n!==4&&Nr(r,r,e);for(n=0;n<16;++n)t[n]=r[n]}function Fg(t){var e,r,n=1;for(e=0;e<16;++e)r=t[e]+n+65535,n=Math.floor(r/65536),t[e]=r-n*65536;t[0]+=n-1+37*(n-1)}function ob(t,e,r){for(var n,i=~(r-1),a=0;a<16;++a)n=i&(t[a]^e[a]),t[a]^=n,e[a]^=n}function Rt(t){var e,r=new Float64Array(16);if(t)for(e=0;e<t.length;++e)r[e]=t[e];return r}function tc(t,e,r){for(var n=0;n<16;++n)t[n]=e[n]+r[n]}function mc(t,e,r){for(var n=0;n<16;++n)t[n]=e[n]-r[n]}function tl(t,e){Nr(t,e,e)}function Nr(t,e,r){var n,i,a=0,o=0,s=0,u=0,l=0,c=0,f=0,d=0,h=0,y=0,w=0,_=0,E=0,p=0,m=0,S=0,F=0,I=0,v=0,A=0,D=0,L=0,j=0,Y=0,O=0,B=0,C=0,N=0,U=0,G=0,$=0,Z=r[0],W=r[1],P=r[2],R=r[3],re=r[4],T=r[5],x=r[6],z=r[7],b=r[8],J=r[9],V=r[10],g=r[11],M=r[12],Q=r[13],k=r[14],K=r[15];n=e[0],a+=n*Z,o+=n*W,s+=n*P,u+=n*R,l+=n*re,c+=n*T,f+=n*x,d+=n*z,h+=n*b,y+=n*J,w+=n*V,_+=n*g,E+=n*M,p+=n*Q,m+=n*k,S+=n*K,n=e[1],o+=n*Z,s+=n*W,u+=n*P,l+=n*R,c+=n*re,f+=n*T,d+=n*x,h+=n*z,y+=n*b,w+=n*J,_+=n*V,E+=n*g,p+=n*M,m+=n*Q,S+=n*k,F+=n*K,n=e[2],s+=n*Z,u+=n*W,l+=n*P,c+=n*R,f+=n*re,d+=n*T,h+=n*x,y+=n*z,w+=n*b,_+=n*J,E+=n*V,p+=n*g,m+=n*M,S+=n*Q,F+=n*k,I+=n*K,n=e[3],u+=n*Z,l+=n*W,c+=n*P,f+=n*R,d+=n*re,h+=n*T,y+=n*x,w+=n*z,_+=n*b,E+=n*J,p+=n*V,m+=n*g,S+=n*M,F+=n*Q,I+=n*k,v+=n*K,n=e[4],l+=n*Z,c+=n*W,f+=n*P,d+=n*R,h+=n*re,y+=n*T,w+=n*x,_+=n*z,E+=n*b,p+=n*J,m+=n*V,S+=n*g,F+=n*M,I+=n*Q,v+=n*k,A+=n*K,n=e[5],c+=n*Z,f+=n*W,d+=n*P,h+=n*R,y+=n*re,w+=n*T,_+=n*x,E+=n*z,p+=n*b,m+=n*J,S+=n*V,F+=n*g,I+=n*M,v+=n*Q,A+=n*k,D+=n*K,n=e[6],f+=n*Z,d+=n*W,h+=n*P,y+=n*R,w+=n*re,_+=n*T,E+=n*x,p+=n*z,m+=n*b,S+=n*J,F+=n*V,I+=n*g,v+=n*M,A+=n*Q,D+=n*k,L+=n*K,n=e[7],d+=n*Z,h+=n*W,y+=n*P,w+=n*R,_+=n*re,E+=n*T,p+=n*x,m+=n*z,S+=n*b,F+=n*J,I+=n*V,v+=n*g,A+=n*M,D+=n*Q,L+=n*k,j+=n*K,n=e[8],h+=n*Z,y+=n*W,w+=n*P,_+=n*R,E+=n*re,p+=n*T,m+=n*x,S+=n*z,F+=n*b,I+=n*J,v+=n*V,A+=n*g,D+=n*M,L+=n*Q,j+=n*k,Y+=n*K,n=e[9],y+=n*Z,w+=n*W,_+=n*P,E+=n*R,p+=n*re,m+=n*T,S+=n*x,F+=n*z,I+=n*b,v+=n*J,A+=n*V,D+=n*g,L+=n*M,j+=n*Q,Y+=n*k,O+=n*K,n=e[10],w+=n*Z,_+=n*W,E+=n*P,p+=n*R,m+=n*re,S+=n*T,F+=n*x,I+=n*z,v+=n*b,A+=n*J,D+=n*V,L+=n*g,j+=n*M,Y+=n*Q,O+=n*k,B+=n*K,n=e[11],_+=n*Z,E+=n*W,p+=n*P,m+=n*R,S+=n*re,F+=n*T,I+=n*x,v+=n*z,A+=n*b,D+=n*J,L+=n*V,j+=n*g,Y+=n*M,O+=n*Q,B+=n*k,C+=n*K,n=e[12],E+=n*Z,p+=n*W,m+=n*P,S+=n*R,F+=n*re,I+=n*T,v+=n*x,A+=n*z,D+=n*b,L+=n*J,j+=n*V,Y+=n*g,O+=n*M,B+=n*Q,C+=n*k,N+=n*K,n=e[13],p+=n*Z,m+=n*W,S+=n*P,F+=n*R,I+=n*re,v+=n*T,A+=n*x,D+=n*z,L+=n*b,j+=n*J,Y+=n*V,O+=n*g,B+=n*M,C+=n*Q,N+=n*k,U+=n*K,n=e[14],m+=n*Z,S+=n*W,F+=n*P,I+=n*R,v+=n*re,A+=n*T,D+=n*x,L+=n*z,j+=n*b,Y+=n*J,O+=n*V,B+=n*g,C+=n*M,N+=n*Q,U+=n*k,G+=n*K,n=e[15],S+=n*Z,F+=n*W,I+=n*P,v+=n*R,A+=n*re,D+=n*T,L+=n*x,j+=n*z,Y+=n*b,O+=n*J,B+=n*V,C+=n*g,N+=n*M,U+=n*Q,G+=n*k,$+=n*K,a+=38*F,o+=38*I,s+=38*v,u+=38*A,l+=38*D,c+=38*L,f+=38*j,d+=38*Y,h+=38*O,y+=38*B,w+=38*C,_+=38*N,E+=38*U,p+=38*G,m+=38*$,i=1,n=a+i+65535,i=Math.floor(n/65536),a=n-i*65536,n=o+i+65535,i=Math.floor(n/65536),o=n-i*65536,n=s+i+65535,i=Math.floor(n/65536),s=n-i*65536,n=u+i+65535,i=Math.floor(n/65536),u=n-i*65536,n=l+i+65535,i=Math.floor(n/65536),l=n-i*65536,n=c+i+65535,i=Math.floor(n/65536),c=n-i*65536,n=f+i+65535,i=Math.floor(n/65536),f=n-i*65536,n=d+i+65535,i=Math.floor(n/65536),d=n-i*65536,n=h+i+65535,i=Math.floor(n/65536),h=n-i*65536,n=y+i+65535,i=Math.floor(n/65536),y=n-i*65536,n=w+i+65535,i=Math.floor(n/65536),w=n-i*65536,n=_+i+65535,i=Math.floor(n/65536),_=n-i*65536,n=E+i+65535,i=Math.floor(n/65536),E=n-i*65536,n=p+i+65535,i=Math.floor(n/65536),p=n-i*65536,n=m+i+65535,i=Math.floor(n/65536),m=n-i*65536,n=S+i+65535,i=Math.floor(n/65536),S=n-i*65536,a+=i-1+37*(i-1),i=1,n=a+i+65535,i=Math.floor(n/65536),a=n-i*65536,n=o+i+65535,i=Math.floor(n/65536),o=n-i*65536,n=s+i+65535,i=Math.floor(n/65536),s=n-i*65536,n=u+i+65535,i=Math.floor(n/65536),u=n-i*65536,n=l+i+65535,i=Math.floor(n/65536),l=n-i*65536,n=c+i+65535,i=Math.floor(n/65536),c=n-i*65536,n=f+i+65535,i=Math.floor(n/65536),f=n-i*65536,n=d+i+65535,i=Math.floor(n/65536),d=n-i*65536,n=h+i+65535,i=Math.floor(n/65536),h=n-i*65536,n=y+i+65535,i=Math.floor(n/65536),y=n-i*65536,n=w+i+65535,i=Math.floor(n/65536),w=n-i*65536,n=_+i+65535,i=Math.floor(n/65536),_=n-i*65536,n=E+i+65535,i=Math.floor(n/65536),E=n-i*65536,n=p+i+65535,i=Math.floor(n/65536),p=n-i*65536,n=m+i+65535,i=Math.floor(n/65536),m=n-i*65536,n=S+i+65535,i=Math.floor(n/65536),S=n-i*65536,a+=i-1+37*(i-1),t[0]=a,t[1]=o,t[2]=s,t[3]=u,t[4]=l,t[5]=c,t[6]=f,t[7]=d,t[8]=h,t[9]=y,t[10]=w,t[11]=_,t[12]=E,t[13]=p,t[14]=m,t[15]=S}var Ji=tr;Ji.kem=Ji.kem||{};var wC=Ji.jsbn.BigInteger;Ji.kem.rsa={};Ji.kem.rsa.create=function(t,e){e=e||{};var r=e.prng||Ji.random,n={};return n.encrypt=function(i,a){var o=Math.ceil(i.n.bitLength()/8),s;do s=new wC(Ji.util.bytesToHex(r.getBytesSync(o)),16).mod(i.n);while(s.compareTo(wC.ONE)<=0);s=Ji.util.hexToBytes(s.toString(16));var u=o-s.length;u>0&&(s=Ji.util.fillString("\0",u)+s);var l=i.encrypt(s,"NONE"),c=t.generate(s,a);return{encapsulation:l,key:c}},n.decrypt=function(i,a,o){var s=i.decrypt(a,"NONE");return t.generate(s,o)},n};Ji.kem.kdf1=function(t,e){sb(this,t,0,e||t.digestLength)};Ji.kem.kdf2=function(t,e){sb(this,t,1,e||t.digestLength)};function sb(t,e,r,n){t.generate=function(i,a){for(var o=new Ji.util.ByteBuffer,s=Math.ceil(a/n)+r,u=new Ji.util.ByteBuffer,l=r;l<s;++l){u.putInt32(l),e.start(),e.update(i+u.getBytes());var c=e.digest();o.putBytes(c.getBytes(n))}return o.truncate(o.length()-a),o.getBytes()}}var fr=tr;fr.log=fr.log||{};fr.log.levels=["none","error","warning","info","debug","verbose","max"];var Ex={},J3=[],Kf=null;fr.log.LEVEL_LOCKED=2;fr.log.NO_LEVEL_CHECK=4;fr.log.INTERPOLATE=8;for(var d0=0;d0<fr.log.levels.length;++d0){var _C=fr.log.levels[d0];Ex[_C]={index:d0,name:_C.toUpperCase()}}fr.log.logMessage=function(t){for(var e=Ex[t.level].index,r=0;r<J3.length;++r){var n=J3[r];if(n.flags&fr.log.NO_LEVEL_CHECK)n.f(t);else{var i=Ex[n.level].index;e<=i&&n.f(n,t)}}};fr.log.prepareStandard=function(t){"standard"in t||(t.standard=Ex[t.level].name+" ["+t.category+"] "+t.message)};fr.log.prepareFull=function(t){if(!("full"in t)){var e=[t.message];e=e.concat([]),t.full=fr.util.format.apply(this,e)}};fr.log.prepareStandardFull=function(t){"standardFull"in t||(fr.log.prepareStandard(t),t.standardFull=t.standard)};for(var BC=["error","warning","info","debug","verbose"],d0=0;d0<BC.length;++d0)(function(e){fr.log[e]=function(r,n){var i=Array.prototype.slice.call(arguments).slice(2),a={timestamp:new Date,level:e,category:r,message:n,arguments:i};fr.log.logMessage(a)}})(BC[d0]);fr.log.makeLogger=function(t){var e={flags:0,f:t};return fr.log.setLevel(e,"none"),e};fr.log.setLevel=function(t,e){var r=!1;if(t&&!(t.flags&fr.log.LEVEL_LOCKED))for(var n=0;n<fr.log.levels.length;++n){var i=fr.log.levels[n];if(e==i){t.level=e,r=!0;break}}return r};fr.log.lock=function(t,e){typeof e>"u"||e?t.flags|=fr.log.LEVEL_LOCKED:t.flags&=~fr.log.LEVEL_LOCKED};fr.log.addLogger=function(t){J3.push(t)};if(typeof console<"u"&&"log"in console){var Ju;if(console.error&&console.warn&&console.info&&console.debug){var gK={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug},yv=function(t,e){fr.log.prepareStandard(e);var r=gK[e.level],n=[e.standard];n=n.concat(e.arguments.slice()),r.apply(console,n)};Ju=fr.log.makeLogger(yv)}else{var yv=function(e,r){fr.log.prepareStandardFull(r),console.log(r.standardFull)};Ju=fr.log.makeLogger(yv)}fr.log.setLevel(Ju,"debug"),fr.log.addLogger(Ju),Kf=Ju}else console={log:function(){}};if(Kf!==null&&typeof window<"u"&&window.location){var kh=new URL(window.location.href).searchParams;if(kh.has("console.level")&&fr.log.setLevel(Kf,kh.get("console.level").slice(-1)[0]),kh.has("console.lock")){var mK=kh.get("console.lock").slice(-1)[0];mK=="true"&&fr.log.lock(Kf)}}fr.log.consoleLogger=Kf;var pt=tr,Te=pt.asn1,mi=pt.pkcs7=pt.pkcs7||{};mi.messageFromPem=function(t){var e=pt.pem.decode(t)[0];if(e.type!=="PKCS7"){var r=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw r.headerType=e.type,r}if(e.procType&&e.procType.type==="ENCRYPTED")throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var n=Te.fromDer(e.body);return mi.messageFromAsn1(n)};mi.messageToPem=function(t,e){var r={type:"PKCS7",body:Te.toDer(t.toAsn1()).getBytes()};return pt.pem.encode(r,{maxline:e})};mi.messageFromAsn1=function(t){var e={},r=[];if(!Te.validate(t,mi.asn1.contentInfoValidator,e,r)){var n=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw n.errors=r,n}var i=Te.derToOid(e.contentType),a;switch(i){case pt.pki.oids.envelopedData:a=mi.createEnvelopedData();break;case pt.pki.oids.encryptedData:a=mi.createEncryptedData();break;case pt.pki.oids.signedData:a=mi.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+i+" is not (yet) supported.")}return a.fromAsn1(e.content.value[0]),a};mi.createSignedData=function(){var t=null;return t={type:pt.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(n){if(vv(t,n,mi.asn1.signedDataValidator),t.certificates=[],t.crls=[],t.digestAlgorithmIdentifiers=[],t.contentInfo=null,t.signerInfos=[],t.rawCapture.certificates)for(var i=t.rawCapture.certificates.value,a=0;a<i.length;++a)t.certificates.push(pt.pki.certificateFromAsn1(i[a]))},toAsn1:function(){t.contentInfo||t.sign();for(var n=[],i=0;i<t.certificates.length;++i)n.push(pt.pki.certificateToAsn1(t.certificates[i]));var a=[],o=Te.create(Te.Class.CONTEXT_SPECIFIC,0,!0,[Te.create(Te.Class.UNIVERSAL,Te.Type.SEQUENCE,!0,[Te.create(Te.Class.UNIVERSAL,Te.Type.INTEGER,!1,Te.integerToDer(t.version).getBytes()),Te.create(Te.Class.UNIVERSAL,Te.Type.SET,!0,t.digestAlgorithmIdentifiers),t.contentInfo])]);return n.length>0&&o.value[0].value.push(Te.create(Te.Class.CONTEXT_SPECIFIC,0,!0,n)),a.length>0&&o.value[0].value.push(Te.create(Te.Class.CONTEXT_SPECIFIC,1,!0,a)),o.value[0].value.push(Te.create(Te.Class.UNIVERSAL,Te.Type.SET,!0,t.signerInfos)),Te.create(Te.Class.UNIVERSAL,Te.Type.SEQUENCE,!0,[Te.create(Te.Class.UNIVERSAL,Te.Type.OID,!1,Te.oidToDer(t.type).getBytes()),o])},addSigner:function(n){var i=n.issuer,a=n.serialNumber;if(n.certificate){var o=n.certificate;typeof o=="string"&&(o=pt.pki.certificateFromPem(o)),i=o.issuer.attributes,a=o.serialNumber}var s=n.key;if(!s)throw new Error("Could not add PKCS#7 signer; no private key specified.");typeof s=="string"&&(s=pt.pki.privateKeyFromPem(s));var u=n.digestAlgorithm||pt.pki.oids.sha1;switch(u){case pt.pki.oids.sha1:case pt.pki.oids.sha256:case pt.pki.oids.sha384:case pt.pki.oids.sha512:case pt.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+u)}var l=n.authenticatedAttributes||[];if(l.length>0){for(var c=!1,f=!1,d=0;d<l.length;++d){var h=l[d];if(!c&&h.type===pt.pki.oids.contentType){if(c=!0,f)break;continue}if(!f&&h.type===pt.pki.oids.messageDigest){if(f=!0,c)break;continue}}if(!c||!f)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}t.signers.push({key:s,version:1,issuer:i,serialNumber:a,digestAlgorithm:u,signatureAlgorithm:pt.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:l,unauthenticatedAttributes:[]})},sign:function(n){if(n=n||{},(typeof t.content!="object"||t.contentInfo===null)&&(t.contentInfo=Te.create(Te.Class.UNIVERSAL,Te.Type.SEQUENCE,!0,[Te.create(Te.Class.UNIVERSAL,Te.Type.OID,!1,Te.oidToDer(pt.pki.oids.data).getBytes())]),"content"in t)){var i;t.content instanceof pt.util.ByteBuffer?i=t.content.bytes():typeof t.content=="string"&&(i=pt.util.encodeUtf8(t.content)),n.detached?t.detachedContent=Te.create(Te.Class.UNIVERSAL,Te.Type.OCTETSTRING,!1,i):t.contentInfo.value.push(Te.create(Te.Class.CONTEXT_SPECIFIC,0,!0,[Te.create(Te.Class.UNIVERSAL,Te.Type.OCTETSTRING,!1,i)]))}if(t.signers.length!==0){var a=e();r(a)}},verify:function(){throw new Error("PKCS#7 signature verification not yet implemented.")},addCertificate:function(n){typeof n=="string"&&(n=pt.pki.certificateFromPem(n)),t.certificates.push(n)},addCertificateRevokationList:function(n){throw new Error("PKCS#7 CRL support not yet implemented.")}},t;function e(){for(var n={},i=0;i<t.signers.length;++i){var a=t.signers[i],o=a.digestAlgorithm;o in n||(n[o]=pt.md[pt.pki.oids[o]].create()),a.authenticatedAttributes.length===0?a.md=n[o]:a.md=pt.md[pt.pki.oids[o]].create()}t.digestAlgorithmIdentifiers=[];for(var o in n)t.digestAlgorithmIdentifiers.push(Te.create(Te.Class.UNIVERSAL,Te.Type.SEQUENCE,!0,[Te.create(Te.Class.UNIVERSAL,Te.Type.OID,!1,Te.oidToDer(o).getBytes()),Te.create(Te.Class.UNIVERSAL,Te.Type.NULL,!1,"")]));return n}function r(n){var i;if(t.detachedContent?i=t.detachedContent:(i=t.contentInfo.value[1],i=i.value[0]),!i)throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var a=Te.derToOid(t.contentInfo.value[0].value),o=Te.toDer(i);o.getByte(),Te.getBerValueLength(o),o=o.getBytes();for(var s in n)n[s].start().update(o);for(var u=new Date,l=0;l<t.signers.length;++l){var c=t.signers[l];if(c.authenticatedAttributes.length===0){if(a!==pt.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{c.authenticatedAttributesAsn1=Te.create(Te.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var f=Te.create(Te.Class.UNIVERSAL,Te.Type.SET,!0,[]),d=0;d<c.authenticatedAttributes.length;++d){var h=c.authenticatedAttributes[d];h.type===pt.pki.oids.messageDigest?h.value=n[c.digestAlgorithm].digest():h.type===pt.pki.oids.signingTime&&(h.value||(h.value=u)),f.value.push(ey(h)),c.authenticatedAttributesAsn1.value.push(ey(h))}o=Te.toDer(f).getBytes(),c.md.start().update(o)}c.signature=c.key.sign(c.md,"RSASSA-PKCS1-V1_5")}t.signerInfos=wK(t.signers)}};mi.createEncryptedData=function(){var t=null;return t={type:pt.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:pt.pki.oids["aes256-CBC"]},fromAsn1:function(e){vv(t,e,mi.asn1.encryptedDataValidator)},decrypt:function(e){e!==void 0&&(t.encryptedContent.key=e),lb(t)}},t};mi.createEnvelopedData=function(){var t=null;return t={type:pt.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:pt.pki.oids["aes256-CBC"]},fromAsn1:function(e){var r=vv(t,e,mi.asn1.envelopedDataValidator);t.recipients=EK(r.recipientInfos.value)},toAsn1:function(){return Te.create(Te.Class.UNIVERSAL,Te.Type.SEQUENCE,!0,[Te.create(Te.Class.UNIVERSAL,Te.Type.OID,!1,Te.oidToDer(t.type).getBytes()),Te.create(Te.Class.CONTEXT_SPECIFIC,0,!0,[Te.create(Te.Class.UNIVERSAL,Te.Type.SEQUENCE,!0,[Te.create(Te.Class.UNIVERSAL,Te.Type.INTEGER,!1,Te.integerToDer(t.version).getBytes()),Te.create(Te.Class.UNIVERSAL,Te.Type.SET,!0,CK(t.recipients)),Te.create(Te.Class.UNIVERSAL,Te.Type.SEQUENCE,!0,_K(t.encryptedContent))])])])},findRecipient:function(e){for(var r=e.issuer.attributes,n=0;n<t.recipients.length;++n){var i=t.recipients[n],a=i.issuer;if(i.serialNumber===e.serialNumber&&a.length===r.length){for(var o=!0,s=0;s<r.length;++s)if(a[s].type!==r[s].type||a[s].value!==r[s].value){o=!1;break}if(o)return i}}return null},decrypt:function(e,r){if(t.encryptedContent.key===void 0&&e!==void 0&&r!==void 0)switch(e.encryptedContent.algorithm){case pt.pki.oids.rsaEncryption:case pt.pki.oids.desCBC:var n=r.decrypt(e.encryptedContent.content);t.encryptedContent.key=pt.util.createBuffer(n);break;default:throw new Error("Unsupported asymmetric cipher, OID "+e.encryptedContent.algorithm)}lb(t)},addRecipient:function(e){t.recipients.push({version:0,issuer:e.issuer.attributes,serialNumber:e.serialNumber,encryptedContent:{algorithm:pt.pki.oids.rsaEncryption,key:e.publicKey}})},encrypt:function(e,r){if(t.encryptedContent.content===void 0){r=r||t.encryptedContent.algorithm,e=e||t.encryptedContent.key;var n,i,a;switch(r){case pt.pki.oids["aes128-CBC"]:n=16,i=16,a=pt.aes.createEncryptionCipher;break;case pt.pki.oids["aes192-CBC"]:n=24,i=16,a=pt.aes.createEncryptionCipher;break;case pt.pki.oids["aes256-CBC"]:n=32,i=16,a=pt.aes.createEncryptionCipher;break;case pt.pki.oids["des-EDE3-CBC"]:n=24,i=8,a=pt.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+r)}if(e===void 0)e=pt.util.createBuffer(pt.random.getBytes(n));else if(e.length()!=n)throw new Error("Symmetric key has wrong length; got "+e.length()+" bytes, expected "+n+".");t.encryptedContent.algorithm=r,t.encryptedContent.key=e,t.encryptedContent.parameter=pt.util.createBuffer(pt.random.getBytes(i));var o=a(e);if(o.start(t.encryptedContent.parameter.copy()),o.update(t.content),!o.finish())throw new Error("Symmetric encryption failed.");t.encryptedContent.content=o.output}for(var s=0;s<t.recipients.length;++s){var u=t.recipients[s];if(u.encryptedContent.content===void 0)switch(u.encryptedContent.algorithm){case pt.pki.oids.rsaEncryption:u.encryptedContent.content=u.encryptedContent.key.encrypt(t.encryptedContent.key.data);break;default:throw new Error("Unsupported asymmetric cipher, OID "+u.encryptedContent.algorithm)}}}},t};function yK(t){var e={},r=[];if(!Te.validate(t,mi.asn1.recipientInfoValidator,e,r)){var n=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw n.errors=r,n}return{version:e.version.charCodeAt(0),issuer:pt.pki.RDNAttributesAsArray(e.issuer),serialNumber:pt.util.createBuffer(e.serial).toHex(),encryptedContent:{algorithm:Te.derToOid(e.encAlgorithm),parameter:e.encParameter?e.encParameter.value:void 0,content:e.encKey}}}function vK(t){return Te.create(Te.Class.UNIVERSAL,Te.Type.SEQUENCE,!0,[Te.create(Te.Class.UNIVERSAL,Te.Type.INTEGER,!1,Te.integerToDer(t.version).getBytes()),Te.create(Te.Class.UNIVERSAL,Te.Type.SEQUENCE,!0,[pt.pki.distinguishedNameToAsn1({attributes:t.issuer}),Te.create(Te.Class.UNIVERSAL,Te.Type.INTEGER,!1,pt.util.hexToBytes(t.serialNumber))]),Te.create(Te.Class.UNIVERSAL,Te.Type.SEQUENCE,!0,[Te.create(Te.Class.UNIVERSAL,Te.Type.OID,!1,Te.oidToDer(t.encryptedContent.algorithm).getBytes()),Te.create(Te.Class.UNIVERSAL,Te.Type.NULL,!1,"")]),Te.create(Te.Class.UNIVERSAL,Te.Type.OCTETSTRING,!1,t.encryptedContent.content)])}function EK(t){for(var e=[],r=0;r<t.length;++r)e.push(yK(t[r]));return e}function CK(t){for(var e=[],r=0;r<t.length;++r)e.push(vK(t[r]));return e}function AK(t){var e=Te.create(Te.Class.UNIVERSAL,Te.Type.SEQUENCE,!0,[Te.create(Te.Class.UNIVERSAL,Te.Type.INTEGER,!1,Te.integerToDer(t.version).getBytes()),Te.create(Te.Class.UNIVERSAL,Te.Type.SEQUENCE,!0,[pt.pki.distinguishedNameToAsn1({attributes:t.issuer}),Te.create(Te.Class.UNIVERSAL,Te.Type.INTEGER,!1,pt.util.hexToBytes(t.serialNumber))]),Te.create(Te.Class.UNIVERSAL,Te.Type.SEQUENCE,!0,[Te.create(Te.Class.UNIVERSAL,Te.Type.OID,!1,Te.oidToDer(t.digestAlgorithm).getBytes()),Te.create(Te.Class.UNIVERSAL,Te.Type.NULL,!1,"")])]);if(t.authenticatedAttributesAsn1&&e.value.push(t.authenticatedAttributesAsn1),e.value.push(Te.create(Te.Class.UNIVERSAL,Te.Type.SEQUENCE,!0,[Te.create(Te.Class.UNIVERSAL,Te.Type.OID,!1,Te.oidToDer(t.signatureAlgorithm).getBytes()),Te.create(Te.Class.UNIVERSAL,Te.Type.NULL,!1,"")])),e.value.push(Te.create(Te.Class.UNIVERSAL,Te.Type.OCTETSTRING,!1,t.signature)),t.unauthenticatedAttributes.length>0){for(var r=Te.create(Te.Class.CONTEXT_SPECIFIC,1,!0,[]),n=0;n<t.unauthenticatedAttributes.length;++n){var i=t.unauthenticatedAttributes[n];r.values.push(ey(i))}e.value.push(r)}return e}function wK(t){for(var e=[],r=0;r<t.length;++r)e.push(AK(t[r]));return e}function ey(t){var e;if(t.type===pt.pki.oids.contentType)e=Te.create(Te.Class.UNIVERSAL,Te.Type.OID,!1,Te.oidToDer(t.value).getBytes());else if(t.type===pt.pki.oids.messageDigest)e=Te.create(Te.Class.UNIVERSAL,Te.Type.OCTETSTRING,!1,t.value.bytes());else if(t.type===pt.pki.oids.signingTime){var r=new Date("1950-01-01T00:00:00Z"),n=new Date("2050-01-01T00:00:00Z"),i=t.value;if(typeof i=="string"){var a=Date.parse(i);isNaN(a)?i.length===13?i=Te.utcTimeToDate(i):i=Te.generalizedTimeToDate(i):i=new Date(a)}i>=r&&i<n?e=Te.create(Te.Class.UNIVERSAL,Te.Type.UTCTIME,!1,Te.dateToUtcTime(i)):e=Te.create(Te.Class.UNIVERSAL,Te.Type.GENERALIZEDTIME,!1,Te.dateToGeneralizedTime(i))}return Te.create(Te.Class.UNIVERSAL,Te.Type.SEQUENCE,!0,[Te.create(Te.Class.UNIVERSAL,Te.Type.OID,!1,Te.oidToDer(t.type).getBytes()),Te.create(Te.Class.UNIVERSAL,Te.Type.SET,!0,[e])])}function _K(t){return[Te.create(Te.Class.UNIVERSAL,Te.Type.OID,!1,Te.oidToDer(pt.pki.oids.data).getBytes()),Te.create(Te.Class.UNIVERSAL,Te.Type.SEQUENCE,!0,[Te.create(Te.Class.UNIVERSAL,Te.Type.OID,!1,Te.oidToDer(t.algorithm).getBytes()),t.parameter?Te.create(Te.Class.UNIVERSAL,Te.Type.OCTETSTRING,!1,t.parameter.getBytes()):void 0]),Te.create(Te.Class.CONTEXT_SPECIFIC,0,!0,[Te.create(Te.Class.UNIVERSAL,Te.Type.OCTETSTRING,!1,t.content.getBytes())])]}function vv(t,e,r){var n={},i=[];if(!Te.validate(e,r,n,i)){var a=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw a.errors=a,a}var o=Te.derToOid(n.contentType);if(o!==pt.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(n.encryptedContent){var s="";if(pt.util.isArray(n.encryptedContent))for(var u=0;u<n.encryptedContent.length;++u){if(n.encryptedContent[u].type!==Te.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");s+=n.encryptedContent[u].value}else s=n.encryptedContent;t.encryptedContent={algorithm:Te.derToOid(n.encAlgorithm),parameter:pt.util.createBuffer(n.encParameter.value),content:pt.util.createBuffer(s)}}if(n.content){var s="";if(pt.util.isArray(n.content))for(var u=0;u<n.content.length;++u){if(n.content[u].type!==Te.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");s+=n.content[u].value}else s=n.content;t.content=pt.util.createBuffer(s)}return t.version=n.version.charCodeAt(0),t.rawCapture=n,n}function lb(t){if(t.encryptedContent.key===void 0)throw new Error("Symmetric key not available.");if(t.content===void 0){var e;switch(t.encryptedContent.algorithm){case pt.pki.oids["aes128-CBC"]:case pt.pki.oids["aes192-CBC"]:case pt.pki.oids["aes256-CBC"]:e=pt.aes.createDecryptionCipher(t.encryptedContent.key);break;case pt.pki.oids.desCBC:case pt.pki.oids["des-EDE3-CBC"]:e=pt.des.createDecryptionCipher(t.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+t.encryptedContent.algorithm)}if(e.start(t.encryptedContent.parameter),e.update(t.encryptedContent.content),!e.finish())throw new Error("Symmetric decryption failed.");t.content=e.output}}var pn=tr,Pp=pn.ssh=pn.ssh||{};Pp.privateKeyToPutty=function(t,e,r){r=r||"",e=e||"";var n="ssh-rsa",i=e===""?"none":"aes256-cbc",a="PuTTY-User-Key-File-2: "+n+`\r
`;a+="Encryption: "+i+`\r
`,a+="Comment: "+r+`\r
`;var o=pn.util.createBuffer();yc(o,n),Bo(o,t.e),Bo(o,t.n);var s=pn.util.encode64(o.bytes(),64),u=Math.floor(s.length/66)+1;a+="Public-Lines: "+u+`\r
`,a+=s;var l=pn.util.createBuffer();Bo(l,t.d),Bo(l,t.p),Bo(l,t.q),Bo(l,t.qInv);var c;if(!e)c=pn.util.encode64(l.bytes(),64);else{var f=l.length()+16-1;f-=f%16;var d=Nh(l.bytes());d.truncate(d.length()-f+l.length()),l.putBuffer(d);var h=pn.util.createBuffer();h.putBuffer(Nh("\0\0\0\0",e)),h.putBuffer(Nh("\0\0\0",e));var y=pn.aes.createEncryptionCipher(h.truncate(8),"CBC");y.start(pn.util.createBuffer().fillWithByte(0,16)),y.update(l.copy()),y.finish();var w=y.output;w.truncate(16),c=pn.util.encode64(w.bytes(),64)}u=Math.floor(c.length/66)+1,a+=`\r
Private-Lines: `+u+`\r
`,a+=c;var _=Nh("putty-private-key-file-mac-key",e),E=pn.util.createBuffer();yc(E,n),yc(E,i),yc(E,r),E.putInt32(o.length()),E.putBuffer(o),E.putInt32(l.length()),E.putBuffer(l);var p=pn.hmac.create();return p.start("sha1",_),p.update(E.bytes()),a+=`\r
Private-MAC: `+p.digest().toHex()+`\r
`,a};Pp.publicKeyToOpenSSH=function(t,e){var r="ssh-rsa";e=e||"";var n=pn.util.createBuffer();return yc(n,r),Bo(n,t.e),Bo(n,t.n),r+" "+pn.util.encode64(n.bytes())+" "+e};Pp.privateKeyToOpenSSH=function(t,e){return e?pn.pki.encryptRsaPrivateKey(t,e,{legacy:!0,algorithm:"aes128"}):pn.pki.privateKeyToPem(t)};Pp.getPublicKeyFingerprint=function(t,e){e=e||{};var r=e.md||pn.md.md5.create(),n="ssh-rsa",i=pn.util.createBuffer();yc(i,n),Bo(i,t.e),Bo(i,t.n),r.start(),r.update(i.getBytes());var a=r.digest();if(e.encoding==="hex"){var o=a.toHex();return e.delimiter?o.match(/.{2}/g).join(e.delimiter):o}else{if(e.encoding==="binary")return a.getBytes();if(e.encoding)throw new Error('Unknown encoding "'+e.encoding+'".')}return a};function Bo(t,e){var r=e.toString(16);r[0]>="8"&&(r="00"+r);var n=pn.util.hexToBytes(r);t.putInt32(n.length),t.putBytes(n)}function yc(t,e){t.putInt32(e.length),t.putString(e)}function Nh(){for(var t=pn.md.sha1.create(),e=arguments.length,r=0;r<e;++r)t.update(arguments[r]);return t.digest()}var BK=tr,Cn=function(){return Cn=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Cn.apply(this,arguments)};function Xc(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}var bK=function(e,r,n,i){var a=n?n.call(i,e,r):void 0;if(a!==void 0)return!!a;if(e===r)return!0;if(typeof e!="object"||!e||typeof r!="object"||!r)return!1;var o=Object.keys(e),s=Object.keys(r);if(o.length!==s.length)return!1;for(var u=Object.prototype.hasOwnProperty.bind(r),l=0;l<o.length;l++){var c=o[l];if(!u(c))return!1;var f=e[c],d=r[c];if(a=n?n.call(i,f,d,c):void 0,a===!1||a===void 0&&f!==d)return!1}return!0};const SK=lu(bK);var Kr="-ms-",qf="-moz-",Ir="-webkit-",cb="comm",Rp="rule",Ev="decl",IK="@import",ub="@keyframes",LK="@layer",fb=Math.abs,Cv=String.fromCharCode,ty=Object.assign;function FK(t,e){return Dn(t,0)^45?(((e<<2^Dn(t,0))<<2^Dn(t,1))<<2^Dn(t,2))<<2^Dn(t,3):0}function db(t){return t.trim()}function ls(t,e){return(t=e.exec(t))?t[0]:t}function Xt(t,e,r){return t.replace(e,r)}function g1(t,e,r){return t.indexOf(e,r)}function Dn(t,e){return t.charCodeAt(e)|0}function Jc(t,e,r){return t.slice(e,r)}function bo(t){return t.length}function hb(t){return t.length}function yf(t,e){return e.push(t),t}function DK(t,e){return t.map(e).join("")}function bC(t,e){return t.filter(function(r){return!ls(r,e)})}var Mp=1,eu=1,xb=0,Da=0,vn=0,Iu="";function Up(t,e,r,n,i,a,o,s){return{value:t,root:e,parent:r,type:n,props:i,children:a,line:Mp,column:eu,length:o,return:"",siblings:s}}function Ws(t,e){return ty(Up("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function Yl(t){for(;t.root;)t=Ws(t.root,{children:[t]});yf(t,t.siblings)}function TK(){return vn}function kK(){return vn=Da>0?Dn(Iu,--Da):0,eu--,vn===10&&(eu=1,Mp--),vn}function no(){return vn=Da<xb?Dn(Iu,Da++):0,eu++,vn===10&&(eu=1,Mp++),vn}function ml(){return Dn(Iu,Da)}function m1(){return Da}function Op(t,e){return Jc(Iu,t,e)}function ry(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function NK(t){return Mp=eu=1,xb=bo(Iu=t),Da=0,[]}function PK(t){return Iu="",t}function Dg(t){return db(Op(Da-1,ny(t===91?t+2:t===40?t+1:t)))}function RK(t){for(;(vn=ml())&&vn<33;)no();return ry(t)>2||ry(vn)>3?"":" "}function MK(t,e){for(;--e&&no()&&!(vn<48||vn>102||vn>57&&vn<65||vn>70&&vn<97););return Op(t,m1()+(e<6&&ml()==32&&no()==32))}function ny(t){for(;no();)switch(vn){case t:return Da;case 34:case 39:t!==34&&t!==39&&ny(vn);break;case 40:t===41&&ny(t);break;case 92:no();break}return Da}function UK(t,e){for(;no()&&t+vn!==57;)if(t+vn===84&&ml()===47)break;return"/*"+Op(e,Da-1)+"*"+Cv(t===47?t:no())}function OK(t){for(;!ry(ml());)no();return Op(t,Da)}function VK(t){return PK(y1("",null,null,null,[""],t=NK(t),0,[0],t))}function y1(t,e,r,n,i,a,o,s,u){for(var l=0,c=0,f=o,d=0,h=0,y=0,w=1,_=1,E=1,p=0,m="",S=i,F=a,I=n,v=m;_;)switch(y=p,p=no()){case 40:if(y!=108&&Dn(v,f-1)==58){g1(v+=Xt(Dg(p),"&","&\f"),"&\f",fb(l?s[l-1]:0))!=-1&&(E=-1);break}case 34:case 39:case 91:v+=Dg(p);break;case 9:case 10:case 13:case 32:v+=RK(y);break;case 92:v+=MK(m1()-1,7);continue;case 47:switch(ml()){case 42:case 47:yf(GK(UK(no(),m1()),e,r,u),u);break;default:v+="/"}break;case 123*w:s[l++]=bo(v)*E;case 125*w:case 59:case 0:switch(p){case 0:case 125:_=0;case 59+c:E==-1&&(v=Xt(v,/\f/g,"")),h>0&&bo(v)-f&&yf(h>32?IC(v+";",n,r,f-1,u):IC(Xt(v," ","")+";",n,r,f-2,u),u);break;case 59:v+=";";default:if(yf(I=SC(v,e,r,l,c,i,s,m,S=[],F=[],f,a),a),p===123)if(c===0)y1(v,e,I,I,S,a,f,s,F);else switch(d===99&&Dn(v,3)===110?100:d){case 100:case 108:case 109:case 115:y1(t,I,I,n&&yf(SC(t,I,I,0,0,i,s,m,i,S=[],f,F),F),i,F,f,s,n?S:F);break;default:y1(v,I,I,I,[""],F,0,s,F)}}l=c=h=0,w=E=1,m=v="",f=o;break;case 58:f=1+bo(v),h=y;default:if(w<1){if(p==123)--w;else if(p==125&&w++==0&&kK()==125)continue}switch(v+=Cv(p),p*w){case 38:E=c>0?1:(v+="\f",-1);break;case 44:s[l++]=(bo(v)-1)*E,E=1;break;case 64:ml()===45&&(v+=Dg(no())),d=ml(),c=f=bo(m=v+=OK(m1())),p++;break;case 45:y===45&&bo(v)==2&&(w=0)}}return a}function SC(t,e,r,n,i,a,o,s,u,l,c,f){for(var d=i-1,h=i===0?a:[""],y=hb(h),w=0,_=0,E=0;w<n;++w)for(var p=0,m=Jc(t,d+1,d=fb(_=o[w])),S=t;p<y;++p)(S=db(_>0?h[p]+" "+m:Xt(m,/&\f/g,h[p])))&&(u[E++]=S);return Up(t,e,r,i===0?Rp:s,u,l,c,f)}function GK(t,e,r,n){return Up(t,e,r,cb,Cv(TK()),Jc(t,2,-2),0,n)}function IC(t,e,r,n,i){return Up(t,e,r,Ev,Jc(t,0,n),Jc(t,n+1,-1),n,i)}function pb(t,e,r){switch(FK(t,e)){case 5103:return Ir+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ir+t+t;case 4789:return qf+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Ir+t+qf+t+Kr+t+t;case 5936:switch(Dn(t,e+11)){case 114:return Ir+t+Kr+Xt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Ir+t+Kr+Xt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Ir+t+Kr+Xt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return Ir+t+Kr+t+t;case 6165:return Ir+t+Kr+"flex-"+t+t;case 5187:return Ir+t+Xt(t,/(\w+).+(:[^]+)/,Ir+"box-$1$2"+Kr+"flex-$1$2")+t;case 5443:return Ir+t+Kr+"flex-item-"+Xt(t,/flex-|-self/g,"")+(ls(t,/flex-|baseline/)?"":Kr+"grid-row-"+Xt(t,/flex-|-self/g,""))+t;case 4675:return Ir+t+Kr+"flex-line-pack"+Xt(t,/align-content|flex-|-self/g,"")+t;case 5548:return Ir+t+Kr+Xt(t,"shrink","negative")+t;case 5292:return Ir+t+Kr+Xt(t,"basis","preferred-size")+t;case 6060:return Ir+"box-"+Xt(t,"-grow","")+Ir+t+Kr+Xt(t,"grow","positive")+t;case 4554:return Ir+Xt(t,/([^-])(transform)/g,"$1"+Ir+"$2")+t;case 6187:return Xt(Xt(Xt(t,/(zoom-|grab)/,Ir+"$1"),/(image-set)/,Ir+"$1"),t,"")+t;case 5495:case 3959:return Xt(t,/(image-set\([^]*)/,Ir+"$1$`$1");case 4968:return Xt(Xt(t,/(.+:)(flex-)?(.*)/,Ir+"box-pack:$3"+Kr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ir+t+t;case 4200:if(!ls(t,/flex-|baseline/))return Kr+"grid-column-align"+Jc(t,e)+t;break;case 2592:case 3360:return Kr+Xt(t,"template-","")+t;case 4384:case 3616:return r&&r.some(function(n,i){return e=i,ls(n.props,/grid-\w+-end/)})?~g1(t+(r=r[e].value),"span",0)?t:Kr+Xt(t,"-start","")+t+Kr+"grid-row-span:"+(~g1(r,"span",0)?ls(r,/\d+/):+ls(r,/\d+/)-+ls(t,/\d+/))+";":Kr+Xt(t,"-start","")+t;case 4896:case 4128:return r&&r.some(function(n){return ls(n.props,/grid-\w+-start/)})?t:Kr+Xt(Xt(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return Xt(t,/(.+)-inline(.+)/,Ir+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(bo(t)-1-e>6)switch(Dn(t,e+1)){case 109:if(Dn(t,e+4)!==45)break;case 102:return Xt(t,/(.+:)(.+)-([^]+)/,"$1"+Ir+"$2-$3$1"+qf+(Dn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~g1(t,"stretch",0)?pb(Xt(t,"stretch","fill-available"),e,r)+t:t}break;case 5152:case 5920:return Xt(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(n,i,a,o,s,u,l){return Kr+i+":"+a+l+(o?Kr+i+"-span:"+(s?u:+u-+a)+l:"")+t});case 4949:if(Dn(t,e+6)===121)return Xt(t,":",":"+Ir)+t;break;case 6444:switch(Dn(t,Dn(t,14)===45?18:11)){case 120:return Xt(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Ir+(Dn(t,14)===45?"inline-":"")+"box$3$1"+Ir+"$2$3$1"+Kr+"$2box$3")+t;case 100:return Xt(t,":",":"+Kr)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Xt(t,"scroll-","scroll-snap-")+t}return t}function Cx(t,e){for(var r="",n=0;n<t.length;n++)r+=e(t[n],n,t,e)||"";return r}function zK(t,e,r,n){switch(t.type){case LK:if(t.children.length)break;case IK:case Ev:return t.return=t.return||t.value;case cb:return"";case ub:return t.return=t.value+"{"+Cx(t.children,n)+"}";case Rp:if(!bo(t.value=t.props.join(",")))return""}return bo(r=Cx(t.children,n))?t.return=t.value+"{"+r+"}":""}function KK(t){var e=hb(t);return function(r,n,i,a){for(var o="",s=0;s<e;s++)o+=t[s](r,n,i,a)||"";return o}}function qK(t){return function(e){e.root||(e=e.return)&&t(e)}}function QK(t,e,r,n){if(t.length>-1&&!t.return)switch(t.type){case Ev:t.return=pb(t.value,t.length,r);return;case ub:return Cx([Ws(t,{value:Xt(t.value,"@","@"+Ir)})],n);case Rp:if(t.length)return DK(r=t.props,function(i){switch(ls(i,n=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Yl(Ws(t,{props:[Xt(i,/:(read-\w+)/,":"+qf+"$1")]})),Yl(Ws(t,{props:[i]})),ty(t,{props:bC(r,n)});break;case"::placeholder":Yl(Ws(t,{props:[Xt(i,/:(plac\w+)/,":"+Ir+"input-$1")]})),Yl(Ws(t,{props:[Xt(i,/:(plac\w+)/,":"+qf+"$1")]})),Yl(Ws(t,{props:[Xt(i,/:(plac\w+)/,Kr+"input-$1")]})),Yl(Ws(t,{props:[i]})),ty(t,{props:bC(r,n)});break}return""})}}var HK={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Qi={},k0=typeof process<"u"&&Qi!==void 0&&(Qi.REACT_APP_SC_ATTR||Qi.SC_ATTR)||"data-styled",gb="active",Ax="data-styled-version",bl="6.1.13",Av=`/*!sc*/
`,wx=typeof window<"u"&&"HTMLElement"in window,jK=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Qi!==void 0&&Qi.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Qi.REACT_APP_SC_DISABLE_SPEEDY!==""?Qi.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Qi.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Qi!==void 0&&Qi.SC_DISABLE_SPEEDY!==void 0&&Qi.SC_DISABLE_SPEEDY!==""&&Qi.SC_DISABLE_SPEEDY!=="false"&&Qi.SC_DISABLE_SPEEDY),$K={},Vp=Object.freeze([]),tu=Object.freeze({});function wv(t,e,r){return r===void 0&&(r=tu),t.theme!==r.theme&&t.theme||e||r.theme}var mb=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),WK=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,YK=/(^-|-$)/g;function LC(t){return t.replace(WK,"-").replace(YK,"")}var ZK=/(a)(d)/gi,Ph=52,FC=function(t){return String.fromCharCode(t+(t>25?39:97))};function iy(t){var e,r="";for(e=Math.abs(t);e>Ph;e=e/Ph|0)r=FC(e%Ph)+r;return(FC(e%Ph)+r).replace(ZK,"$1-$2")}var Tg,yb=5381,vc=function(t,e){for(var r=e.length;r;)t=33*t^e.charCodeAt(--r);return t},vb=function(t){return vc(yb,t)};function _v(t){return iy(vb(t)>>>0)}function Eb(t){return t.displayName||t.name||"Component"}function kg(t){return typeof t=="string"&&!0}var Cb=typeof Symbol=="function"&&Symbol.for,Ab=Cb?Symbol.for("react.memo"):60115,XK=Cb?Symbol.for("react.forward_ref"):60112,JK={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},eq={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},wb={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},tq=((Tg={})[XK]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Tg[Ab]=wb,Tg);function DC(t){return("type"in(e=t)&&e.type.$$typeof)===Ab?wb:"$$typeof"in t?tq[t.$$typeof]:JK;var e}var rq=Object.defineProperty,nq=Object.getOwnPropertyNames,TC=Object.getOwnPropertySymbols,iq=Object.getOwnPropertyDescriptor,aq=Object.getPrototypeOf,kC=Object.prototype;function Bv(t,e,r){if(typeof e!="string"){if(kC){var n=aq(e);n&&n!==kC&&Bv(t,n,r)}var i=nq(e);TC&&(i=i.concat(TC(e)));for(var a=DC(t),o=DC(e),s=0;s<i.length;++s){var u=i[s];if(!(u in eq||r&&r[u]||o&&u in o||a&&u in a)){var l=iq(e,u);try{rq(t,u,l)}catch{}}}}return t}function Sl(t){return typeof t=="function"}function Gp(t){return typeof t=="object"&&"styledComponentId"in t}function fl(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function vd(t,e){if(t.length===0)return"";for(var r=t[0],n=1;n<t.length;n++)r+=e?e+t[n]:t[n];return r}function Ed(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function ay(t,e,r){if(r===void 0&&(r=!1),!r&&!Ed(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var n=0;n<e.length;n++)t[n]=ay(t[n],e[n]);else if(Ed(e))for(var n in e)t[n]=ay(t[n],e[n]);return t}function bv(t,e){Object.defineProperty(t,"toString",{value:e})}function ba(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var oq=function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var r=0,n=0;n<e;n++)r+=this.groupSizes[n];return r},t.prototype.insertRules=function(e,r){if(e>=this.groupSizes.length){for(var n=this.groupSizes,i=n.length,a=i;e>=a;)if((a<<=1)<0)throw ba(16,"".concat(e));this.groupSizes=new Uint32Array(a),this.groupSizes.set(n),this.length=a;for(var o=i;o<a;o++)this.groupSizes[o]=0}for(var s=this.indexOfGroup(e+1),u=(o=0,r.length);o<u;o++)this.tag.insertRule(s,r[o])&&(this.groupSizes[e]++,s++)},t.prototype.clearGroup=function(e){if(e<this.length){var r=this.groupSizes[e],n=this.indexOfGroup(e),i=n+r;this.groupSizes[e]=0;for(var a=n;a<i;a++)this.tag.deleteRule(n)}},t.prototype.getGroup=function(e){var r="";if(e>=this.length||this.groupSizes[e]===0)return r;for(var n=this.groupSizes[e],i=this.indexOfGroup(e),a=i+n,o=i;o<a;o++)r+="".concat(this.tag.getRule(o)).concat(Av);return r},t}(),v1=new Map,_x=new Map,E1=1,Rh=function(t){if(v1.has(t))return v1.get(t);for(;_x.has(E1);)E1++;var e=E1++;return v1.set(t,e),_x.set(e,t),e},sq=function(t,e){E1=e+1,v1.set(t,e),_x.set(e,t)},lq="style[".concat(k0,"][").concat(Ax,'="').concat(bl,'"]'),cq=new RegExp("^".concat(k0,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),uq=function(t,e,r){for(var n,i=r.split(","),a=0,o=i.length;a<o;a++)(n=i[a])&&t.registerName(e,n)},fq=function(t,e){for(var r,n=((r=e.textContent)!==null&&r!==void 0?r:"").split(Av),i=[],a=0,o=n.length;a<o;a++){var s=n[a].trim();if(s){var u=s.match(cq);if(u){var l=0|parseInt(u[1],10),c=u[2];l!==0&&(sq(c,l),uq(t,c,u[3]),t.getTag().insertRules(l,i)),i.length=0}else i.push(s)}}},NC=function(t){for(var e=document.querySelectorAll(lq),r=0,n=e.length;r<n;r++){var i=e[r];i&&i.getAttribute(k0)!==gb&&(fq(t,i),i.parentNode&&i.parentNode.removeChild(i))}};function oy(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var _b=function(t){var e=document.head,r=t||e,n=document.createElement("style"),i=function(s){var u=Array.from(s.querySelectorAll("style[".concat(k0,"]")));return u[u.length-1]}(r),a=i!==void 0?i.nextSibling:null;n.setAttribute(k0,gb),n.setAttribute(Ax,bl);var o=oy();return o&&n.setAttribute("nonce",o),r.insertBefore(n,a),n},dq=function(){function t(e){this.element=_b(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(r){if(r.sheet)return r.sheet;for(var n=document.styleSheets,i=0,a=n.length;i<a;i++){var o=n[i];if(o.ownerNode===r)return o}throw ba(17)}(this.element),this.length=0}return t.prototype.insertRule=function(e,r){try{return this.sheet.insertRule(r,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var r=this.sheet.cssRules[e];return r&&r.cssText?r.cssText:""},t}(),hq=function(){function t(e){this.element=_b(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,r){if(e<=this.length&&e>=0){var n=document.createTextNode(r);return this.element.insertBefore(n,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t}(),xq=function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,r){return e<=this.length&&(this.rules.splice(e,0,r),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t}(),PC=wx,pq={isServer:!wx,useCSSOMInjection:!jK},ru=function(){function t(e,r,n){e===void 0&&(e=tu),r===void 0&&(r={});var i=this;this.options=Cn(Cn({},pq),e),this.gs=r,this.names=new Map(n),this.server=!!e.isServer,!this.server&&wx&&PC&&(PC=!1,NC(this)),bv(this,function(){return function(a){for(var o=a.getTag(),s=o.length,u="",l=function(f){var d=function(E){return _x.get(E)}(f);if(d===void 0)return"continue";var h=a.names.get(d),y=o.getGroup(f);if(h===void 0||!h.size||y.length===0)return"continue";var w="".concat(k0,".g").concat(f,'[id="').concat(d,'"]'),_="";h!==void 0&&h.forEach(function(E){E.length>0&&(_+="".concat(E,","))}),u+="".concat(y).concat(w,'{content:"').concat(_,'"}').concat(Av)},c=0;c<s;c++)l(c);return u}(i)})}return t.registerId=function(e){return Rh(e)},t.prototype.rehydrate=function(){!this.server&&wx&&NC(this)},t.prototype.reconstructWithOptions=function(e,r){return r===void 0&&(r=!0),new t(Cn(Cn({},this.options),e),this.gs,r&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=function(r){var n=r.useCSSOMInjection,i=r.target;return r.isServer?new xq(i):n?new dq(i):new hq(i)}(this.options),new oq(e)));var e},t.prototype.hasNameForId=function(e,r){return this.names.has(e)&&this.names.get(e).has(r)},t.prototype.registerName=function(e,r){if(Rh(e),this.names.has(e))this.names.get(e).add(r);else{var n=new Set;n.add(r),this.names.set(e,n)}},t.prototype.insertRules=function(e,r,n){this.registerName(e,r),this.getTag().insertRules(Rh(e),n)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(Rh(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t}(),gq=/&/g,mq=/^\s*\/\/.*$/gm;function Bb(t,e){return t.map(function(r){return r.type==="rule"&&(r.value="".concat(e," ").concat(r.value),r.value=r.value.replaceAll(",",",".concat(e," ")),r.props=r.props.map(function(n){return"".concat(e," ").concat(n)})),Array.isArray(r.children)&&r.type!=="@keyframes"&&(r.children=Bb(r.children,e)),r})}function bb(t){var e,r,n,i=t===void 0?tu:t,a=i.options,o=a===void 0?tu:a,s=i.plugins,u=s===void 0?Vp:s,l=function(d,h,y){return y.startsWith(r)&&y.endsWith(r)&&y.replaceAll(r,"").length>0?".".concat(e):d},c=u.slice();c.push(function(d){d.type===Rp&&d.value.includes("&")&&(d.props[0]=d.props[0].replace(gq,r).replace(n,l))}),o.prefix&&c.push(QK),c.push(zK);var f=function(d,h,y,w){h===void 0&&(h=""),y===void 0&&(y=""),w===void 0&&(w="&"),e=w,r=h,n=new RegExp("\\".concat(r,"\\b"),"g");var _=d.replace(mq,""),E=VK(y||h?"".concat(y," ").concat(h," { ").concat(_," }"):_);o.namespace&&(E=Bb(E,o.namespace));var p=[];return Cx(E,KK(c.concat(qK(function(m){return p.push(m)})))),p};return f.hash=u.length?u.reduce(function(d,h){return h.name||ba(15),vc(d,h.name)},yb).toString():"",f}var Sb=new ru,sy=bb(),zp=Bn.createContext({shouldForwardProp:void 0,styleSheet:Sb,stylis:sy}),yq=zp.Consumer,vq=Bn.createContext(void 0);function Bx(){return Dt.useContext(zp)}function Ib(t){var e=Dt.useState(t.stylisPlugins),r=e[0],n=e[1],i=Bx().styleSheet,a=Dt.useMemo(function(){var u=i;return t.sheet?u=t.sheet:t.target&&(u=u.reconstructWithOptions({target:t.target},!1)),t.disableCSSOMInjection&&(u=u.reconstructWithOptions({useCSSOMInjection:!1})),u},[t.disableCSSOMInjection,t.sheet,t.target,i]),o=Dt.useMemo(function(){return bb({options:{namespace:t.namespace,prefix:t.enableVendorPrefixes},plugins:r})},[t.enableVendorPrefixes,t.namespace,r]);Dt.useEffect(function(){SK(r,t.stylisPlugins)||n(t.stylisPlugins)},[t.stylisPlugins]);var s=Dt.useMemo(function(){return{shouldForwardProp:t.shouldForwardProp,styleSheet:a,stylis:o}},[t.shouldForwardProp,a,o]);return Bn.createElement(zp.Provider,{value:s},Bn.createElement(vq.Provider,{value:o},t.children))}var Lb=function(){function t(e,r){var n=this;this.inject=function(i,a){a===void 0&&(a=sy);var o=n.name+a.hash;i.hasNameForId(n.id,o)||i.insertRules(n.id,o,a(n.rules,o,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=r,bv(this,function(){throw ba(12,String(n.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=sy),this.name+e.hash},t}(),Eq=function(t){return t>="A"&&t<="Z"};function RC(t){for(var e="",r=0;r<t.length;r++){var n=t[r];if(r===1&&n==="-"&&t[0]==="-")return t;Eq(n)?e+="-"+n.toLowerCase():e+=n}return e.startsWith("ms-")?"-"+e:e}var Fb=function(t){return t==null||t===!1||t===""},Db=function(t){var e,r,n=[];for(var i in t){var a=t[i];t.hasOwnProperty(i)&&!Fb(a)&&(Array.isArray(a)&&a.isCss||Sl(a)?n.push("".concat(RC(i),":"),a,";"):Ed(a)?n.push.apply(n,Xc(Xc(["".concat(i," {")],Db(a),!1),["}"],!1)):n.push("".concat(RC(i),": ").concat((e=i,(r=a)==null||typeof r=="boolean"||r===""?"":typeof r!="number"||r===0||e in HK||e.startsWith("--")?String(r).trim():"".concat(r,"px")),";")))}return n};function B0(t,e,r,n){if(Fb(t))return[];if(Gp(t))return[".".concat(t.styledComponentId)];if(Sl(t)){if(!Sl(a=t)||a.prototype&&a.prototype.isReactComponent||!e)return[t];var i=t(e);return B0(i,e,r,n)}var a;return t instanceof Lb?r?(t.inject(r,n),[t.getName(n)]):[t]:Ed(t)?Db(t):Array.isArray(t)?Array.prototype.concat.apply(Vp,t.map(function(o){return B0(o,e,r,n)})):[t.toString()]}function Tb(t){for(var e=0;e<t.length;e+=1){var r=t[e];if(Sl(r)&&!Gp(r))return!1}return!0}var Cq=vb(bl),Aq=function(){function t(e,r,n){this.rules=e,this.staticRulesId="",this.isStatic=(n===void 0||n.isStatic)&&Tb(e),this.componentId=r,this.baseHash=vc(Cq,r),this.baseStyle=n,ru.registerId(r)}return t.prototype.generateAndInjectStyles=function(e,r,n){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,r,n):"";if(this.isStatic&&!n.hash)if(this.staticRulesId&&r.hasNameForId(this.componentId,this.staticRulesId))i=fl(i,this.staticRulesId);else{var a=vd(B0(this.rules,e,r,n)),o=iy(vc(this.baseHash,a)>>>0);if(!r.hasNameForId(this.componentId,o)){var s=n(a,".".concat(o),void 0,this.componentId);r.insertRules(this.componentId,o,s)}i=fl(i,o),this.staticRulesId=o}else{for(var u=vc(this.baseHash,n.hash),l="",c=0;c<this.rules.length;c++){var f=this.rules[c];if(typeof f=="string")l+=f;else if(f){var d=vd(B0(f,e,r,n));u=vc(u,d+c),l+=d}}if(l){var h=iy(u>>>0);r.hasNameForId(this.componentId,h)||r.insertRules(this.componentId,h,n(l,".".concat(h),void 0,this.componentId)),i=fl(i,h)}}return i},t}(),N0=Bn.createContext(void 0),wq=N0.Consumer;function _q(){var t=Dt.useContext(N0);if(!t)throw ba(18);return t}function Bq(t){var e=Bn.useContext(N0),r=Dt.useMemo(function(){return function(n,i){if(!n)throw ba(14);if(Sl(n)){var a=n(i);return a}if(Array.isArray(n)||typeof n!="object")throw ba(8);return i?Cn(Cn({},i),n):n}(t.theme,e)},[t.theme,e]);return t.children?Bn.createElement(N0.Provider,{value:r},t.children):null}var Ng={};function bq(t,e,r){var n=Gp(t),i=t,a=!kg(t),o=e.attrs,s=o===void 0?Vp:o,u=e.componentId,l=u===void 0?function(S,F){var I=typeof S!="string"?"sc":LC(S);Ng[I]=(Ng[I]||0)+1;var v="".concat(I,"-").concat(_v(bl+I+Ng[I]));return F?"".concat(F,"-").concat(v):v}(e.displayName,e.parentComponentId):u,c=e.displayName,f=c===void 0?function(S){return kg(S)?"styled.".concat(S):"Styled(".concat(Eb(S),")")}(t):c,d=e.displayName&&e.componentId?"".concat(LC(e.displayName),"-").concat(e.componentId):e.componentId||l,h=n&&i.attrs?i.attrs.concat(s).filter(Boolean):s,y=e.shouldForwardProp;if(n&&i.shouldForwardProp){var w=i.shouldForwardProp;if(e.shouldForwardProp){var _=e.shouldForwardProp;y=function(S,F){return w(S,F)&&_(S,F)}}else y=w}var E=new Aq(r,d,n?i.componentStyle:void 0);function p(S,F){return function(I,v,A){var D=I.attrs,L=I.componentStyle,j=I.defaultProps,Y=I.foldedComponentIds,O=I.styledComponentId,B=I.target,C=Bn.useContext(N0),N=Bx(),U=I.shouldForwardProp||N.shouldForwardProp,G=wv(v,C,j)||tu,$=function(T,x,z){for(var b,J=Cn(Cn({},x),{className:void 0,theme:z}),V=0;V<T.length;V+=1){var g=Sl(b=T[V])?b(J):b;for(var M in g)J[M]=M==="className"?fl(J[M],g[M]):M==="style"?Cn(Cn({},J[M]),g[M]):g[M]}return x.className&&(J.className=fl(J.className,x.className)),J}(D,v,G),Z=$.as||B,W={};for(var P in $)$[P]===void 0||P[0]==="$"||P==="as"||P==="theme"&&$.theme===G||(P==="forwardedAs"?W.as=$.forwardedAs:U&&!U(P,Z)||(W[P]=$[P]));var R=function(T,x){var z=Bx(),b=T.generateAndInjectStyles(x,z.styleSheet,z.stylis);return b}(L,$),re=fl(Y,O);return R&&(re+=" "+R),$.className&&(re+=" "+$.className),W[kg(Z)&&!mb.has(Z)?"class":"className"]=re,W.ref=A,Dt.createElement(Z,W)}(m,S,F)}p.displayName=f;var m=Bn.forwardRef(p);return m.attrs=h,m.componentStyle=E,m.displayName=f,m.shouldForwardProp=y,m.foldedComponentIds=n?fl(i.foldedComponentIds,i.styledComponentId):"",m.styledComponentId=d,m.target=n?i.target:t,Object.defineProperty(m,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(S){this._foldedDefaultProps=n?function(F){for(var I=[],v=1;v<arguments.length;v++)I[v-1]=arguments[v];for(var A=0,D=I;A<D.length;A++)ay(F,D[A],!0);return F}({},i.defaultProps,S):S}}),bv(m,function(){return".".concat(m.styledComponentId)}),a&&Bv(m,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),m}function MC(t,e){for(var r=[t[0]],n=0,i=e.length;n<i;n+=1)r.push(e[n],t[n+1]);return r}var UC=function(t){return Object.assign(t,{isCss:!0})};function Kp(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(Sl(t)||Ed(t))return UC(B0(MC(Vp,Xc([t],e,!0))));var n=t;return e.length===0&&n.length===1&&typeof n[0]=="string"?B0(n):UC(B0(MC(n,e)))}function ly(t,e,r){if(r===void 0&&(r=tu),!e)throw ba(1,e);var n=function(i){for(var a=[],o=1;o<arguments.length;o++)a[o-1]=arguments[o];return t(e,r,Kp.apply(void 0,Xc([i],a,!1)))};return n.attrs=function(i){return ly(t,e,Cn(Cn({},r),{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},n.withConfig=function(i){return ly(t,e,Cn(Cn({},r),i))},n}var kb=function(t){return ly(bq,t)},cy=kb;mb.forEach(function(t){cy[t]=kb(t)});var Sq=function(){function t(e,r){this.rules=e,this.componentId=r,this.isStatic=Tb(e),ru.registerId(this.componentId+1)}return t.prototype.createStyles=function(e,r,n,i){var a=i(vd(B0(this.rules,r,n,i)),""),o=this.componentId+e;n.insertRules(o,o,a)},t.prototype.removeStyles=function(e,r){r.clearRules(this.componentId+e)},t.prototype.renderStyles=function(e,r,n,i){e>2&&ru.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,r,n,i)},t}();function Iq(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=Kp.apply(void 0,Xc([t],e,!1)),i="sc-global-".concat(_v(JSON.stringify(n))),a=new Sq(n,i),o=function(u){var l=Bx(),c=Bn.useContext(N0),f=Bn.useRef(l.styleSheet.allocateGSInstance(i)).current;return l.styleSheet.server&&s(f,u,l.styleSheet,c,l.stylis),Bn.useLayoutEffect(function(){if(!l.styleSheet.server)return s(f,u,l.styleSheet,c,l.stylis),function(){return a.removeStyles(f,l.styleSheet)}},[f,u,l.styleSheet,c,l.stylis]),null};function s(u,l,c,f,d){if(a.isStatic)a.renderStyles(u,$K,c,d);else{var h=Cn(Cn({},l),{theme:wv(l,f,o.defaultProps)});a.renderStyles(u,h,c,d)}}return Bn.memo(o)}function Lq(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=vd(Kp.apply(void 0,Xc([t],e,!1))),i=_v(n);return new Lb(i,n)}function Fq(t){var e=Bn.forwardRef(function(r,n){var i=wv(r,Bn.useContext(N0),t.defaultProps);return Bn.createElement(t,Cn({},r,{theme:i,ref:n}))});return e.displayName="WithTheme(".concat(Eb(t),")"),Bv(e,t)}var Dq=function(){function t(){var e=this;this._emitSheetCSS=function(){var r=e.instance.toString();if(!r)return"";var n=oy(),i=vd([n&&'nonce="'.concat(n,'"'),"".concat(k0,'="true"'),"".concat(Ax,'="').concat(bl,'"')].filter(Boolean)," ");return"<style ".concat(i,">").concat(r,"</style>")},this.getStyleTags=function(){if(e.sealed)throw ba(2);return e._emitSheetCSS()},this.getStyleElement=function(){var r;if(e.sealed)throw ba(2);var n=e.instance.toString();if(!n)return[];var i=((r={})[k0]="",r[Ax]=bl,r.dangerouslySetInnerHTML={__html:n},r),a=oy();return a&&(i.nonce=a),[Bn.createElement("style",Cn({},i,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new ru({isServer:!0}),this.sealed=!1}return t.prototype.collectStyles=function(e){if(this.sealed)throw ba(2);return Bn.createElement(Ib,{sheet:this.instance},e)},t.prototype.interleaveWithNodeStream=function(e){throw ba(3)},t}(),Tq={StyleSheet:ru,mainSheet:Sb};const kq=Object.freeze(Object.defineProperty({__proto__:null,ServerStyleSheet:Dq,StyleSheetConsumer:yq,StyleSheetContext:zp,StyleSheetManager:Ib,ThemeConsumer:wq,ThemeContext:N0,ThemeProvider:Bq,__PRIVATE__:Tq,createGlobalStyle:Iq,css:Kp,default:cy,isStyledComponent:Gp,keyframes:Lq,styled:cy,useTheme:_q,version:bl,withTheme:Fq},Symbol.toStringTag,{value:"Module"})),fo=_y(kq);var Nq=Object.create,qp=Object.defineProperty,Pq=Object.getOwnPropertyDescriptor,Rq=Object.getOwnPropertyNames,Mq=Object.getPrototypeOf,Uq=Object.prototype.hasOwnProperty,Oq=(t,e)=>{for(var r in e)qp(t,r,{get:e[r],enumerable:!0})},Nb=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Rq(e))!Uq.call(t,i)&&i!==r&&qp(t,i,{get:()=>e[i],enumerable:!(n=Pq(e,i))||n.enumerable});return t},sa=(t,e,r)=>(r=t!=null?Nq(Mq(t)):{},Nb(!t||!t.__esModule?qp(r,"default",{value:t,enumerable:!0}):r,t)),Vq=t=>Nb(qp({},"__esModule",{value:!0}),t),Pb={};Oq(Pb,{AnonAadhaarProof:()=>rQ,AnonAadhaarProvider:()=>Wq,LaunchProveModal:()=>tH,LogInWithAnonAadhaar:()=>ZQ,processAadhaarArgs:()=>Ob,proveAndSerialize:()=>Ub,useAnonAadhaar:()=>zq,useProver:()=>aH,verifySignature:()=>Sv});var kc=Vq(Pb),Rb=Dt,Gq=Us;function zq(){const t=(0,Rb.useContext)(q0);return[t.state,t.startReq]}var q0=(0,Rb.createContext)({state:{status:"logged-out"},startReq:()=>{},appName:"",proverState:Gq.ProverState.Initializing,useTestAadhaar:!1}),rs=Dt,cs=Us,Pg=sa(Dt),bx=Us,OC=Us,Kq=sa(UO),qq=(t,e)=>new Promise((r,n)=>{if(t.target.files)try{const i=new FileReader;i.readAsDataURL(t.target.files[0]),i.onload=a=>{if(a.target&&a.target.result)try{const o=new Image;o.onload=()=>{const s=document.createElement("canvas");s.width=o.width,s.height=o.height;const u=s.getContext("2d");if(!u)throw Error("Image cannot be reconstructed");u.drawImage(o,0,0);const l=u.getImageData(0,0,o.width,o.height),c=(0,Kq.default)(l.data,o.width,o.height);c!=null?(r({qrValue:c.data}),e("QR code scanned, verifying QR Code 🔎")):e("QR code invalid ❌")},o.src=a.target.result.toString()}catch(o){e("QR code invalid ❌"),console.error(o),n(o)}}}catch{e(null),n(new Error("No file selected"))}});function Qq(t){const e=new ArrayBuffer(t.length),r=new Uint8Array(e);for(let n=0,i=t.length;n<i;n++)r[n]=t.charCodeAt(n);return e}var Di=t=>{const e=new Blob([t],{type:"image/svg+xml"});return URL.createObjectURL(e)},VC=BK,Mb=`-----BEGIN CERTIFICATE-----
MIID6jCCAtKgAwIBAgIBATANBgkqhkiG9w0BAQsFADBpMRQwEgYDVQQDEwtleGFt
cGxlLm9yZzELMAkGA1UEBhMCVVMxETAPBgNVBAgTCFZpcmdpbmlhMRMwEQYDVQQH
EwpCbGFja3NidXJnMQ0wCwYDVQQKEwRUZXN0MQ0wCwYDVQQLEwRUZXN0MB4XDTI0
MDMwMTE2MTc0MFoXDTI1MDMwMTE2MTc0MFowaTEUMBIGA1UEAxMLZXhhbXBsZS5v
cmcxCzAJBgNVBAYTAlVTMREwDwYDVQQIEwhWaXJnaW5pYTETMBEGA1UEBxMKQmxh
Y2tzYnVyZzENMAsGA1UEChMEVGVzdDENMAsGA1UECxMEVGVzdDCCASIwDQYJKoZI
hvcNAQEBBQADggEPADCCAQoCggEBAJXoH3UGWVzCYq3c/d012AQFWyrfRtxxnFa1
ju4ZmZXvoaMlRxBiCseAHpdvROO+RU2w8ZDj99TjWYlyEXNE3lL894JvhJSIqVmn
s9Iett0DRRZi6og+7u/eiJoUmbmkf5UExfCWwmK5bSPRl1AzLZ6X62FB0mHel5lN
TEFjypy+PgdyIbRCU9z4FglCi2g1HuPptg0rNR/apu6MKKhFI5+X3nzA/l0UTkdI
E/tD7Fg/gbTuMowiFnM0iY0hC6AXom7GiUDwXfIr2cyGu8OkNUOSNy1WYWd2m3Nb
oSyjWA+RnBvYunDEwqsKzysJvC+umB88ApWm4enySPUAcwlP+vECAwEAAaOBnDCB
mTAMBgNVHRMEBTADAQH/MAsGA1UdDwQEAwIC9DA7BgNVHSUENDAyBggrBgEFBQcD
AQYIKwYBBQUHAwIGCCsGAQUFBwMDBggrBgEFBQcDBAYIKwYBBQUHAwgwEQYJYIZI
AYb4QgEBBAQDAgD3MCwGA1UdEQQlMCOGG2h0dHA6Ly9leGFtcGxlLm9yZy93ZWJp
ZCNtZYcEfwAAATANBgkqhkiG9w0BAQsFAAOCAQEAjDnIK8R7ruSiJpdUeZ2ZxaGI
ewf020sAc0ENw6x3jaKKFINNLnMqEKLntZzIg7WbjnKLhtUhb/SLHP59mfT2OJVS
YMW7uRmnajfEd0MzfrXIUKBwCeWTCyP/bcdlJOT4u24ngFnkUyWaEKnqH3YuI8cw
BKWQ26Lq7ODq6e6Otxf0KOtWTeVSzlCL66MGBvQ36LF1g8PLEZ9hvvX06ieaE99W
HDK9/pGSuobx6Fi7ufzqymirT/GOuxslquB4mleCu4ArCg2qAVC2wDjQymgvq8FS
bVukYnC6XdwqYhvIuTPnEys4gGdeirY+UPGQeqxMrNm+ZpKPTS0NwzxHwlhutw==
-----END CERTIFICATE-----`,Hq=`-----BEGIN CERTIFICATE-----
MIIHwjCCBqqgAwIBAgIEU5laMzANBgkqhkiG9w0BAQsFADCB/DELMAkGA1UEBhMC
SU4xQTA/BgNVBAoTOEd1amFyYXQgTmFybWFkYSBWYWxsZXkgRmVydGlsaXplcnMg
YW5kIENoZW1pY2FscyBMaW1pdGVkMR0wGwYDVQQLExRDZXJ0aWZ5aW5nIEF1dGhv
cml0eTEPMA0GA1UEERMGMzgwMDU0MRAwDgYDVQQIEwdHdWphcmF0MSYwJAYDVQQJ
Ex1Cb2Rha2RldiwgUyBHIFJvYWQsIEFobWVkYWJhZDEcMBoGA1UEMxMTMzAxLCBH
TkZDIEluZm90b3dlcjEiMCAGA1UEAxMZKG4pQ29kZSBTb2x1dGlvbnMgQ0EgMjAx
NDAeFw0yMTAyMjYxMTU0MjRaFw0yNDAyMjcwMDI3MTFaMIHdMQswCQYDVQQGEwJJ
TjExMC8GA1UEChMoVU5JUVVFIElERU5USUZJQ0FUSU9OIEFVVEhPUklUWSBPRiBJ
TkRJQTEPMA0GA1UEERMGMTEwMDAxMQ4wDAYDVQQIEwVEZWxoaTEbMBkGA1UECRMS
QkVISU5EIEtBTEkgTUFORElSMSQwIgYDVQQzExtBQURIQVIgSFEgQkFOR0xBIFNB
SElCIFJPQUQxNzA1BgNVBAMTLkRTIFVOSVFVRSBJREVOVElGSUNBVElPTiBBVVRI
T1JJVFkgT0YgSU5ESUEgMDUwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIB
AQCiciwOXy3lunB+2T8DbsKx8LlVkyOQ+swPC8vyDIChXAiLSIaGa3LrJasL9Vov
4Gtp7b1cyDt0x3CdshQebAfGi834WdPa9/P87SQdByBV3BVIhHS0XCyYL6lUqlKq
b/+ySBhhxlCF2EtkFY6fQ9nzXKabSM6TAFIhAqTK4JO//UdLCNMtHQQG9of35VvS
JqI4S/WKQcOEw5dPHHxRFYGckm3jrfPsu5kExIbx9dUwOXe+pjWENnMptcFor9yV
Ehcx9/SNQ6988x9pseO755Sdx6ixDAvd66ur3r6gdqHPgWat8GqKQd7fFDv/g129
K9W7C2HSRywjSm1EEbybU2CVAgMBAAGjggNnMIIDYzAOBgNVHQ8BAf8EBAMCBsAw
KgYDVR0lBCMwIQYIKwYBBQUHAwQGCisGAQQBgjcKAwwGCSqGSIb3LwEBBTCCAQIG
A1UdIASB+jCB9zCBhgYGYIJkZAICMHwwegYIKwYBBQUHAgIwbgxsQ2xhc3MgMiBj
ZXJ0aWZpY2F0ZXMgYXJlIHVzZWQgZm9yIGZvcm0gc2lnbmluZywgZm9ybSBhdXRo
ZW50aWNhdGlvbiBhbmQgc2lnbmluZyBvdGhlciBsb3cgcmlzayB0cmFuc2FjdGlv
bnMuMGwGBmCCZGQKATBiMGAGCCsGAQUFBwICMFQMUlRoaXMgY2VydGlmaWNhdGUg
cHJvdmlkZXMgaGlnaGVyIGxldmVsIG9mIGFzc3VyYW5jZSBmb3IgZG9jdW1lbnQg
c2lnbmluZyBmdW5jdGlvbi4wDAYDVR0TAQH/BAIwADAjBgNVHREEHDAagRhyYWh1
bC5rdW1hckB1aWRhaS5uZXQuaW4wggFuBgNVHR8EggFlMIIBYTCCAR6gggEaoIIB
FqSCARIwggEOMQswCQYDVQQGEwJJTjFBMD8GA1UEChM4R3VqYXJhdCBOYXJtYWRh
IFZhbGxleSBGZXJ0aWxpemVycyBhbmQgQ2hlbWljYWxzIExpbWl0ZWQxHTAbBgNV
BAsTFENlcnRpZnlpbmcgQXV0aG9yaXR5MQ8wDQYDVQQREwYzODAwNTQxEDAOBgNV
BAgTB0d1amFyYXQxJjAkBgNVBAkTHUJvZGFrZGV2LCBTIEcgUm9hZCwgQWhtZWRh
YmFkMRwwGgYDVQQzExMzMDEsIEdORkMgSW5mb3Rvd2VyMSIwIAYDVQQDExkobilD
b2RlIFNvbHV0aW9ucyBDQSAyMDE0MRAwDgYDVQQDEwdDUkw1Njk0MD2gO6A5hjdo
dHRwczovL3d3dy5uY29kZXNvbHV0aW9ucy5jb20vcmVwb3NpdG9yeS9uY29kZWNh
MTQuY3JsMCsGA1UdEAQkMCKADzIwMjEwMjI2MTE1NDI0WoEPMjAyNDAyMjcwMDI3
MTFaMBMGA1UdIwQMMAqACE0HvvGenfu9MB0GA1UdDgQWBBTpS5Cfqf2zdwqjupLA
qMwk/bqX9DAZBgkqhkiG9n0HQQAEDDAKGwRWOC4xAwIDKDANBgkqhkiG9w0BAQsF
AAOCAQEAbTlOC4sonzb44+u5+VZ3wGz3OFg0uJGsufbBu5efh7kO2DlYnx7okdEf
ayQQs6AUzDvsH1yBSBjsaZo3fwBgQUIMaNKdKSrRI0eOTDqilizldHqj113f4eUz
U2j4okcNSF7TxQWMjxwyM86QsQ6vxZK7arhBhVjwp443+pxfSIdFUu428K6yH4JB
GhZSzWuqD6GNhOhDzS+sS23MkwHFq0GX4erhVfN/W7XLeSjzF4zmjg+O77vTySCN
e2VRYDrfFS8EAOcO4q7szc7+6xdg8RlgzoZHoRG/GqUp9inpJUn7OIzhHi2e8Mll
aMdtXo0nbr150tMe8ZSvY2fMiTCY1w==
-----END CERTIFICATE-----
`,jq=`-----BEGIN CERTIFICATE-----
MIIHCjCCBfKgAwIBAgIEYklh9TANBgkqhkiG9w0BAQsFADCBkTELMAkGA1UEBhMC
SU4xQTA/BgNVBAoTOEd1amFyYXQgTmFybWFkYSBWYWxsZXkgRmVydGlsaXplcnMg
YW5kIENoZW1pY2FscyBMaW1pdGVkMQ8wDQYDVQQLEwZTdWItQ0ExLjAsBgNVBAMT
JShuKUNvZGUgU29sdXRpb25zIFN1Yi1DQSBmb3IgRFNDIDIwMjIwHhcNMjQwMjIx
MTIyMzE5WhcNMjYwMjE2MjIyNzQwWjCB8zELMAkGA1UEBhMCSU4xMTAvBgNVBAoT
KFVOSVFVRSBJREVOVElGSUNBVElPTiBBVVRIT1JJVFkgT0YgSU5ESUExDzANBgNV
BBETBjExMDAwMTEOMAwGA1UECBMFRGVsaGkxODA2BgNVBAkTL0JhbmdsYSBTYWhp
YiBSb2FkIEJlaGluZCBLYWxpIE1hbmRpciBHb2xlTWFya2V0MR0wGwYDVQQzExRB
YWRoYWFyIEhlYWRxdWFydGVyczE3MDUGA1UEAxMuRFMgVW5pcXVlIElkZW50aWZp
Y2F0aW9uIEF1dGhvcml0eSBvZiBJbmRpYSAwNTCCASIwDQYJKoZIhvcNAQEBBQAD
ggEPADCCAQoCggEBAJjCCSo9vCXEzdQe9qdv6YMwwqILobP62yF4Df8mzTYdDVTq
2VdipZa5k+VTmJTKwAabyKeyVP5+oZmt/zteJ+5754Cf8t3KJYfK5O5rA8FQDu2b
lQ/hgs32mDyy5FEvsKh+zOxThyJ/6ciaNUZMZvfJTt3cqMeUbixtlKpuyX1SKJpt
Le0CiaDOa3/CTbz13cLMTfPXlpU9gX+wRf/xtxSohe2R37yMsqrXv96K0URvzPNE
Ki6wz9USHjmud2U4CC13MkDm9smTqjR94jdrkikbLrDTte06ORTm9ifR3ecCDLg7
988ODFk6ygFrk2KJ/dEEnhkSr9XeQEDUbdMeXUsCAwEAAaOCAwQwggMAMA4GA1Ud
DwEB/wQEAwIGwDAqBgNVHSUEIzAhBggrBgEFBQcDBAYKKwYBBAGCNwoDDAYJKoZI
hvcvAQEFMIIBAgYDVR0gBIH6MIH3MIGGBgZggmRkAgIwfDB6BggrBgEFBQcCAjBu
DGxDbGFzcyAyIGNlcnRpZmljYXRlcyBhcmUgdXNlZCBmb3IgZm9ybSBzaWduaW5n
LCBmb3JtIGF1dGhlbnRpY2F0aW9uIGFuZCBzaWduaW5nIG90aGVyIGxvdyByaXNr
IHRyYW5zYWN0aW9ucy4wbAYGYIJkZAoBMGIwYAYIKwYBBQUHAgIwVAxSVGhpcyBj
ZXJ0aWZpY2F0ZSBwcm92aWRlcyBoaWdoZXIgbGV2ZWwgb2YgYXNzdXJhbmNlIGZv
ciBkb2N1bWVudCBzaWduaW5nIGZ1bmN0aW9uLjAMBgNVHRMBAf8EAjAAMCIGA1Ud
EQQbMBmBF2Rpci5sY2ktaHFAdWlkYWkubmV0LmluMIIBAAYDVR0fBIH4MIH1MEKg
QKA+hjxodHRwOi8vd3d3Lm5jb2Rlc29sdXRpb25zLmNvbS9yZXBvc2l0b3J5L25j
b2RlY2EyMnN1YmNhMS5jcmwwga6ggauggaikgaUwgaIxCzAJBgNVBAYTAklOMUEw
PwYDVQQKEzhHdWphcmF0IE5hcm1hZGEgVmFsbGV5IEZlcnRpbGl6ZXJzIGFuZCBD
aGVtaWNhbHMgTGltaXRlZDEPMA0GA1UECxMGU3ViLUNBMS4wLAYDVQQDEyUobilD
b2RlIFNvbHV0aW9ucyBTdWItQ0EgZm9yIERTQyAyMDIyMQ8wDQYDVQQDEwZDUkwx
ODMwKwYDVR0QBCQwIoAPMjAyNDAyMjExMjIzMTlagQ8yMDI2MDIxNjIyMjc0MFow
HwYDVR0jBBgwFoAURsE2obZEOWzewDFm8UhoheJjvzswHQYDVR0OBBYEFKzhXAem
Tyikhe8ZRfMcBEnWfEfTMBkGCSqGSIb2fQdBAAQMMAobBFY4LjMDAgMoMA0GCSqG
SIb3DQEBCwUAA4IBAQAw7POBP18z1+IG4bjBk6vgfIyTH6Vz+e1j7jcmG+sUfY0E
GVKonznB87M4hNcVcylDrwZscJwZxKaYUAt/q1Uph46v37jRjZyAvawZBD/oL1lS
qUmIGQxI+zqUFYrc5dWSHROoCGfkyHAskr60Y3tN489NKo+AsFC1iu1dY29FW2hK
Wt1dQEDYkTeYJu8WPf/XaOR562gq566IFgL6cpYujNrMuKOGj+5o2UbjmCTjkbTp
HdTU+Mja3mYfUDdBia4YVQwDXB07xZD7FiMbhm1oYsATfjiFA1jCy3X8q9dsFkMe
tMjs/7td7cCA1L45savQhcL7+c902NZMolXgRnFx
-----END CERTIFICATE-----
`,Rg=async(t,e,r)=>{const n=VC.pki.certificateFromPem(t).publicKey,i=VC.pki.publicKeyToPem(n),s=i.substring("-----BEGIN PUBLIC KEY-----".length,i.length-"-----END PUBLIC KEY-----".length-2),u=window.atob(s),l=Qq(u),c=await window.crypto.subtle.importKey("spki",l,{name:"RSASSA-PKCS1-v1_5",hash:"SHA-256"},!0,["verify"]);return{isSignatureValid:await window.crypto.subtle.verify({name:"RSASSA-PKCS1-v1_5"},c,e.buffer,r.buffer),certificate:t}},Sv=async(t,e)=>{const r=BigInt(t),n=(0,OC.convertBigIntToByteArray)(r),i=(0,OC.decompressByteArray)(n),a=i.slice(i.length-256,i.length),o=i.slice(0,i.length-256);if(e){const{isSignatureValid:s,certificate:u}=await Rg(Mb,a,o);return s?{isSignatureValid:s,certificate:u}:{isSignatureValid:s}}else{const u=(await Promise.all([Rg(Hq,a,o),Rg(jq,a,o)])).find(l=>l.isSignatureValid);return u?{isSignatureValid:!0,certificate:u.certificate}:{isSignatureValid:!1}}},Ub=async(t,e)=>{let r,n;try{r=await(0,bx.prove)(t,e),n=await(0,bx.serialize)(r)}catch(i){throw console.error(i),new Error("Error while generating the proof")}return{anonAadhaarProof:r,serialized:n}},Ob=async(t,e,r,n,i)=>{let a=null;try{if(e)return(0,bx.generateArgs)({qrData:t,certificateFile:Mb,nullifierSeed:r,fieldsToRevealArray:n,signal:i});{const{isSignatureValid:o,certificate:s}=await Sv(t,e);if(!s)throw new Error("[processAadhaarArgs]: Error while processing the arguments, no certificate retrieved");if(o&&(a=s),!a)throw Error("Error while fetching public key.");return(0,bx.generateArgs)({qrData:t,certificateFile:a,nullifierSeed:r,fieldsToRevealArray:n,signal:i})}}catch(o){throw o instanceof Error?new Error(o.message):new Error(JSON.stringify(o))}},$q=we;function Wq(t){const[e,r]=(0,rs.useState)(null),[n,i]=(0,rs.useState)(null),[a,o]=(0,rs.useState)("The current application"),[s,u]=(0,rs.useState)(cs.ProverState.Initializing),[l,c]=(0,rs.useState)(!1),[f,d]=(0,rs.useState)({status:"logged-out"});(0,rs.useEffect)(()=>{t._appName!==void 0&&o(t._appName),t._useTestAadhaar&&c(!0)},[t._appName,t._useTestAadhaar]),(0,rs.useEffect)(()=>{let _;t._artifactslinks?_={wasmURL:t._artifactslinks.wasm_url,zkeyURL:t._artifactslinks.zkey_url,vkeyURL:t._artifactslinks.vkey_url,artifactsOrigin:cs.ArtifactsOrigin.server}:_={wasmURL:cs.artifactUrls.v2.wasm,zkeyURL:cs.artifactUrls.v2.chunked,vkeyURL:cs.artifactUrls.v2.vk,artifactsOrigin:cs.ArtifactsOrigin.chunked},(0,cs.init)(_).then().catch(E=>{throw Error(E)})},[t._artifactslinks]),(0,rs.useEffect)(()=>{Yq().then(h)},[]);const h=_=>{console.log(`[ANON-AADHAAR] new state ${uy(_)}`),d(_),Zq(_)},y=Pg.default.useCallback(_=>{console.log(`[ANON-AADHAAR] startReq ${uy(_)}`),h(eQ(_,f,r,i,u))},[h,r,i]);Pg.default.useEffect(()=>{e===null||n===null||(console.log(`[ANON-AADHAAR] trying to log in with ${e}`),tQ(f,e,n,l).then(_=>{_?h(_):console.log(`[ANON-AADHAAR] ${f.status}, ignoring anonAadhaarProof: ${e}`)}).catch(_=>{h({status:"logged-out"}),console.error(_),console.error(`[ANON-AADHAAR] error logging in, ignoring anonAadhaarProof: ${e}`)}))},[e]);const w=Pg.default.useMemo(()=>({state:f,startReq:y,proverState:s,appName:a,useTestAadhaar:l}),[f,s,a,l]);return(0,$q.jsx)(q0.Provider,{value:w,children:t.children})}async function Yq(){const t=window.localStorage.anonAadhaar;try{const e=await Jq(t);return console.log(`[ANON-AADHAAR] read stored state: ${uy(e)}`),e}catch(e){return console.error(`[ANON-AADHAAR] error parsing stored state: ${e}`),{status:"logged-out"}}}function Zq(t){console.log(`[ANON-AADHAAR] writing to local storage, status ${t.status}`),window.localStorage.anonAadhaar=Xq(t)}function Xq(t){const{status:e}=t;let r;return e==="logged-out"?r={status:"logged-out"}:r={status:e,anonAadhaarProofs:t.anonAadhaarProofs},JSON.stringify(r)}async function Jq(t){if(t==null||t.trim()==="")return{status:"logged-out"};const e=JSON.parse(t);if(!["logged-out","logged-in"].includes(e.status))throw new Error(`Invalid status ${e.status}`);if(e.status==="logged-out")return{status:e.status};const{status:r,anonAadhaarProofs:n}=e;if(n==null)throw new Error("Missing serialized AnonAadhaarProof");if(n[0].type!==cs.AnonAadhaarCorePackage.name)throw new Error(`Invalid AnonAadhaarProof type ${n[0].type}`);return{status:r,anonAadhaarProofs:n}}function uy(t){return JSON.stringify(t,function(e,r){return e===""?r:r==null?null:typeof r=="bigint"?""+r:Array.isArray(r)?"<array>":typeof r=="object"?"<object>":r})}function eQ(t,e,r,n,i){const{type:a}=t;switch(a){case"login":try{const{args:o}=t;Ub(o,i).then(({anonAadhaarProof:s,serialized:u})=>{r(u),n(s)})}catch(o){console.log(o)}return{status:"logging-in",...e.status!=="logged-out"?{anonAadhaarProofs:e.anonAadhaarProofs}:{}};case"logout":return{status:"logged-out"};default:throw new Error(`Invalid request type ${a}`)}}async function tQ(t,e,r,n){if(t.status!=="logging-in")return console.log(`[ANON-AADHAAR] ignoring message. State != logging-in: ${t}`),null;if(!await(0,cs.verify)(r,n))throw new Error("Invalid proof");const i=t.anonAadhaarProofs===void 0?0:Object.keys(t.anonAadhaarProofs).length;return{status:"logged-in",anonAadhaarProofs:{...t.anonAadhaarProofs,[i]:e}}}var GC=Dt,Vb=sa(fo),Zl=we,rQ=({code:t,label:e})=>{const[r,n]=(0,GC.useState)(!0),i=(0,GC.useCallback)(()=>{n(o=>!o)},[]);let a=r?"Show proof":"Hide proof";return e!==void 0&&(a+=" "+e),r?(0,Zl.jsx)(zC,{onClick:i,children:a}):(0,Zl.jsxs)(Zl.Fragment,{children:[(0,Zl.jsx)(zC,{onClick:i,children:a}),(0,Zl.jsx)(nQ,{children:(0,Zl.jsx)("pre",{children:t})})]})},nQ=Vb.default.div`
  border-radius: 8px;
  border: 1px solid grey;
  overflow-y: scroll;
  max-width: 100%;
  padding: 8px;
`,zC=Vb.default.button`
  font-size: 1rem;
  cursor: pointer;
  color: #000000;
  font-weight: bold;
  border-radius: 1.3125rem;
  background: #fff;
  box-shadow: 0px 3px 8px 1px rgba(0, 0, 0, 0.25);
  border: none;
  min-width: 8rem;
  min-height: 2rem;
  border-radius: 0.5rem;
`,ef=Dt,Mh=Dt,Gb=sa(fo),KC=Dt,Iv=sa(fo),tf=we,iQ=({message:t,setErrorMessage:e})=>{const[r,n]=(0,KC.useState)(!1);(0,KC.useEffect)(()=>{t&&n(!0)},[t]);const i=()=>{n(!1),e(null)};return(0,tf.jsx)(tf.Fragment,{children:r&&(0,tf.jsxs)(aQ,{children:[(0,tf.jsx)(oQ,{children:t}),(0,tf.jsx)(sQ,{onClick:i})]})})},aQ=Iv.default.div`
  display: flex;
  position: absolute;
  width: 85%;
  border-radius: 5px;
  background-color: #efc8c8;
  padding: 4px;
  align-items: flex-start;
`,oQ=Iv.default.div`
  text-align: left;
  margin-left: 3px;
  font-size: 0.875rem;
  color: #a00f0f;
  flex: 1;
  width: fit-content;
  max-width: 92%;
  overflow: hidden;
  text-overflow: ellipsis;
`,sQ=Iv.default.button`
  border: none;
  background: none;
  color: #a00f0f;
  cursor: pointer;
  width: 24px;
  height: 24px;
  display: flex;
  align-items: center;
  justify-content: center;

  &::before,
  &::after {
    content: '';
    position: absolute;
    width: 2px;
    height: 12px;
    background-color: currentColor;
  }

  &::before {
    transform: rotate(45deg);
  }

  &::after {
    transform: rotate(-45deg);
  }
`,ho=sa(fo),qC=Dt,Os=sa(fo),nu={aalogo:'<svg xmlns="http://www.w3.org/2000/svg" width="173" height="173" fill="none"><path fill="#FD8B0E" d="M80.39.81v22.03c0 .45-.36.81-.81.81H31.52c-4.2 0-7.6 3.4-7.6 7.6V79.7c0 .45-.36.81-.81.81H.81c-.45 0-.81-.36-.81-.81V53.47c0-3.69 1.47-7.24 4.08-9.85l39.5-39.49c2.6-2.6 6.13-4.07 9.82-4.08L79.57 0c.45 0 .82.36.82.81"/><path fill="#081224" d="M91.85.81v22.03c0 .45.36.81.81.81h48.05c4.2 0 7.6 3.4 7.6 7.6V79.7c0 .45.36.81.81.81h22.29c.45 0 .81-.36.81-.81V53.47c0-3.69-1.47-7.24-4.08-9.85L128.66 4.13a13.94 13.94 0 0 0-9.82-4.08L92.67 0c-.45 0-.82.36-.82.81M80.39 171.56v-22.03c0-.45-.36-.81-.81-.81H31.52c-4.2 0-7.6-3.4-7.6-7.6V92.67c0-.45-.36-.81-.81-.81H.81c-.45 0-.81.36-.81.81v26.23c0 3.69 1.47 7.24 4.08 9.85l39.5 39.5c2.61 2.61 6.14 4.07 9.82 4.08l26.18.05c.45 0 .82-.36.82-.81z"/><path fill="#009A08" d="M91.85 171.56v-22.03c0-.45.36-.81.81-.81h48.05c4.2 0 7.6-3.4 7.6-7.6V92.67c0-.45.36-.81.81-.81h22.29c.45 0 .81.36.81.81v26.23c0 3.69-1.47 7.24-4.08 9.85l-39.5 39.5a13.934 13.934 0 0 1-9.82 4.08l-26.18.05c-.45 0-.82-.36-.82-.81z"/></svg>',illustration:'<svg xmlns="http://www.w3.org/2000/svg" width="82" height="82" fill="none"><path fill="#191919" d="M46.733 19.72c-1.386-2.03-4.097-1.749-6.242-1.734-5 .033-25.743.008-27.2.08-2.244.116-4.497 1.025-4.861 3.258-.197 1.206-.022 2.496.023 3.712.18 4.921.316 11.01.922 15.395.164 1.193.38 2.388 1.122 3.374 1.171 1.556 3.492 2.103 5.44 2.136.022.038 17.84.457 24.28-.025 1.875-.14 4.156-.282 5.42-1.885.633-.805.686-1.964.813-2.94.456-3.504.76-9.433 1.158-15.791.114-1.816.202-4.002-.875-5.58m.492 4.424c-.013.727-.555 9.325-.59 9.846-.12 1.764-.509 7.313-1.01 9.046-.496 1.71-2.724 2.131-4.238 2.292a51.503 51.503 0 0 1-3.863.26c-6.62.214-20.998.17-21.574.154-2.332-.108-4.949-.791-5.828-3.211a13.11 13.11 0 0 1-.534-3.384c-.438-5.278-.37-6.87-.707-14.994-.048-1.163-.285-2.53.248-3.618 1.17-2.376 4.702-2.043 6.866-2.067 2.545-.028 24.146-.044 25.483-.055 1.189-.01 2.472-.07 3.58.446 1.996.93 2.202 3.345 2.167 5.283zM28.015 47.531c.312.704 1.48.348 1.072-.592a.592.592 0 0 0-.879-.258c-.248.17-.465.627-.185.87a.08.08 0 0 0 .124-.012.08.08 0 0 0 .014-.045c.017-.186-.02-.384.135-.523a.368.368 0 0 1 .574.061.431.431 0 0 1-.075.583.49.49 0 0 1-.65-.16c-.051-.084-.168-.01-.13.076M26.426 51.863c.628.107 1.264.15 1.9.13.694.02 1.392.044 2.086.04a.178.178 0 0 0 0-.357c-.694-.028-1.392-.03-2.086-.033a9.359 9.359 0 0 0-1.9.063.083.083 0 0 0-.042.128c.01.014.026.024.042.03"/><path fill="#191919" d="M49.812 18.044a4.262 4.262 0 0 0-2.337-2.22c-1.325-.52-2.8-.438-4.195-.425-5.942.055-30.336.037-32.016.106a7.593 7.593 0 0 0-3.727 1.034c-2.533 1.6-1.955 4.27-1.854 7.262.195 5.755.343 12.898.988 18.013.17 1.347.357 2.71 1.08 3.891 1.292 2.106 3.908 2.901 6.369 2.891.095 0 5.565.131 11.839.178.01.331.075.697.112 1.046-.137-.017-3.82.075-4.903.23a.156.156 0 0 0-.113.21c-.555.47-1.046 1.051-1.552 1.564-.622.628-1.28 1.237-1.86 1.903a.133.133 0 0 0 .187.188c.652-.598 1.244-1.27 1.857-1.907.51-.532 1.094-1.046 1.554-1.627a45.948 45.948 0 0 1 4.856-.175c.003.264-.011.577.251.71.04.022.11.007.118-.048.02-.35.005-.7-.043-1.046a3.288 3.288 0 0 0-.195-1.045c1.462.01 2.964.015 4.449.013a3.567 3.567 0 0 0-.08 1.859.095.095 0 0 0 .18 0 2.31 2.31 0 0 0 .093-.538c.823.11 1.504.033 3.721.172.337.02.817.026 1.1.024a8.072 8.072 0 0 0 1.461 1.538c.541.532 1.111 1.033 1.707 1.501.144.109.322-.129.193-.25-.574-.524-1.177-1.015-1.75-1.543a15.075 15.075 0 0 0-1.395-1.314.111.111 0 0 0-.048-.13 2.664 2.664 0 0 0-1.063-.167c-.48-.03-.96-.054-1.44-.07-.819-.081-1.643-.11-2.466-.086.023-.357.084-.686.087-.996 4.236-.01 8.298-.083 10.846-.285 2.163-.172 4.81-.298 6.29-2.132.767-.948.839-2.26.99-3.425.635-4.92.901-12.521 1.303-18.152.162-2.21.352-4.681-.594-6.752m.26 5.067c-.023.68-.62 10.508-.683 11.488-.136 2.065-.582 8.506-1.144 10.524-.543 1.95-2.943 2.52-4.684 2.732a51.73 51.73 0 0 1-4.504.328c-7.638.26-24.618.165-24.922.154-2.77-.121-5.716-1.018-6.666-3.912-.42-1.28-.471-2.677-.578-4.013-.42-5.297-.391-6.99-.764-17.321-.05-1.37-.293-2.89.097-4.226.917-3.134 5.046-2.929 7.593-2.962 3.013-.04 28.773-.071 30.311-.08 1.386-.008 2.879.027 4.053.865 1.944 1.386 1.967 4.277 1.892 6.422zM3.215 64.738c.243-.345 5.932-6.756 6.215-7.075a1.717 1.717 0 0 1 1.467-.603c3.875-.023 7.751-.047 11.626.015 7.231.118 23.137-.287 23.67-.282.523.006 1.198-.115 1.597.269.38.366 4.316 5.719 5.691 7.152.214.223.552-.115.339-.338-1.347-1.405-4.71-5.932-5.259-6.616a2.778 2.778 0 0 0-.764-.812c-.686-.342-8.65.075-12.054.153-4.03.092-2.993.02-24.419.015-.948 0-1.619.04-2.243.816-.718.893-5.823 6.814-6.052 7.196-.071.122.107.22.186.11M53.128 66.26c.351-.598 1.079-1.576.73-1.689-.54-.172-50.546.289-50.546.289s-.962.025-.04.883c.922.857.965 1.077 2.63 1.012 1.664-.064 42.49-.194 43.629-.176 1.138.018 3.374.06 3.597-.319"/><path fill="#191919" d="M8.526 60.692c-.354.438-1.925 2.053-1.989 2.453a.174.174 0 0 0 .077.188c.214.138 6.734 0 8.187-.005 3.07-.013 24.83.12 25.381.128.421.005.72-.084.513-.556-.703-1.608-1.402-3.217-2.116-4.82-.182-.407-.327-.462-.764-.46 0 0-26.107 0-26.933-.01a.149.149 0 0 0 0 .298c5.161.05 25.73-.014 27.178.072.117.007-.04-.265 2.258 4.918.033.072.024.201-.357.21-.264.006-25.514-.1-31.297-.057-.308 0-1.611.054-1.602-.023.032-.259 2.042-2.395 3.757-5.022.059-.09-.08-.165-.142-.083-.003-.001-1.366 1.796-2.151 2.769M41.396 62.223c.132.387.301.76.505 1.115.12.166.201.164.402.17 1.122.035 4.24-.107 7.36-.046.206.004 1.057.134 1.045-.201-.016-.492-1.511-2.231-3.573-5.448-.235-.368-.336-.39-.802-.37-.76.032-5.242.194-6.721.242-.197.006-.198.312 0 .306 7.633-.241 7.045-.26 7.092-.23.15.096.301.466.398.614.215.327 2.834 4.225 3.071 4.566.142.203.003.191-.281.186-.322-.007-7.309.038-7.536.036-.281-.004-.419-.553-.534-.798-1.474-3.151-1.71-3.637-2.112-4.294-.064-.104-.228-.072-.183.033.705 1.651 1.228 2.67 1.869 4.119"/><path fill="#F2AE7F" d="M23.74 26.961c-.133-1.717.603-3.482 1.326-4.222a4.21 4.21 0 0 1 5.554-.171 5.759 5.759 0 0 1 1.92 3.575c.078.329.361 1.16-.764 1.236-.08.006-.311-.197-.343-.26-.322-.623-.376-1.343-.648-1.988a3.582 3.582 0 0 0-1.725-1.896 2.417 2.417 0 0 0-2.48.232 3.69 3.69 0 0 0-1.189 2.232c-.367 2.346.55 4.007.783 4.107a.983.983 0 0 0 .412.05c1.106-.027 5.503-.201 6.55-.18.111.003.358.04.428.233.25.694.108 2.377.095 2.55-.054.663-.46.233-1.14.66-2.272-.281-3.067-.394-3.499-.27a.676.676 0 0 0-.426.32.694.694 0 0 0 .408.876c.33.146.727.192.992.335-.022.442.03.61.009 1.055a.77.77 0 0 0 .032.332.514.514 0 0 0 .41.281c.173.015.348 0 .516-.044a4.75 4.75 0 0 1 .273-1.625c.334.055.708.191 1.042.247.04.009-.293 1.113-.23 1.559.022.158.287.115.313.147.39.495.54.597.81.662.303.074.349.212.406.575.402 2.563-2.19 4.877-4.859 4.923-1.495.027-4.084 0-5.957-2.702a3.587 3.587 0 0 1-.684-2.017c.048-.174.128-.337.235-.482.647-.618 1.153-1.153 1.066-2.283-.072-.937-.456-1.786-1.35-1.953-.078-.014-.254-.28-.266-.358a9.533 9.533 0 0 1-.057-2.506.357.357 0 0 1 .156-.15c.504-.107 1.778-.033 2.279-.127a.49.49 0 0 0 .134-.38 9.466 9.466 0 0 1-.533-2.573"/><path fill="#191919" d="M38.797 29.258c-.046.755-.507 9.873-.32 10.614a.1.1 0 0 0 .098.072.102.102 0 0 0 .097-.072c.216-.703.222-9.724.21-10.614a.043.043 0 0 0-.042-.043.043.043 0 0 0-.043.043M58.86 32.705a4.651 4.651 0 0 0-3.388.274c-1.367.668-2.26 2.064-2.794 3.547a1.563 1.563 0 0 0-.792-.668c-.599-.223-1.794 0-1.827.796a.12.12 0 0 0 .206.084c.42-.336.876-.68 1.448-.467a1.06 1.06 0 0 1 .68.82 1.136 1.136 0 0 1-.647 1.127 1.389 1.389 0 0 1-1.609-.556c-.02-.024-.068-.02-.064.016.084.903 1.352 1.287 2.096.793-.379 2.206.095 4.806 2.095 5.823a4.169 4.169 0 0 0 5.692-1.916c.127-.262-.26-.492-.394-.23a3.703 3.703 0 0 1-4.581 1.922c-1.999-.644-2.622-2.922-2.466-4.81.119-1.211.457-2.39.999-3.48.37-.88.986-1.636 1.775-2.174a4.352 4.352 0 0 1 3.173-.526c1.751.377 2.778 2.431 2.618 4.078-.009.086.116.09.142.018.624-1.71-.696-3.897-2.363-4.47"/><path fill="#191919" d="M58.41 41.094c-.608.469-1.2.997-2.005 1.045-1.422.087-2.805-1.633-1.835-4.208.478-1.269 1.522-3.032 3.051-3.08a1.76 1.76 0 0 1 1.61.907c.197.39.092.801.234 1.19.04.11.223.17.283.037.385-.847-.208-1.89-.956-2.308-1.126-.629-2.408-.12-3.214.775-1.477 1.644-2.843 5.164-.486 6.704 1.177.77 2.633.087 3.428-.917.061-.073-.02-.216-.11-.145M29.34 32.979a4.936 4.936 0 0 1 1.718.086c2.65.327 5.288 1.008 6.985.893.062-.005.087-.103.015-.117-1.176-.224-2.386-.26-3.568-.464-1.132-.195-2.26-.418-3.398-.57a6.135 6.135 0 0 0-1.772-.142 1.126 1.126 0 0 0-1.046-.47c-1.352.01-1.642 1.475-1.134 2.342.16.273.364.52.603.729a.314.314 0 0 1 .09.348 39.27 39.27 0 0 1-.774 1.94.175.175 0 0 0 .012.163.173.173 0 0 0 .142.08c.79.022 1.613.053 2.401.036a.171.171 0 0 0 .167-.154.173.173 0 0 0-.01-.08c-.27-.695-.42-1.344-.696-2.014a.307.307 0 0 1 .088-.358 1.104 1.104 0 0 0 .378-.883c.644.246-.07 1.184.175 1.636.141.26.831.368 1.092.305.466-.114.338-1.304.49-1.557.093-.158.753.047.777.09a1.64 1.64 0 0 1-.076.373c-.066.361-.362 1.012.092 1.175.173.028.348.043.523.044.134.042.273.07.413.086.45-.035.344-.729.418-1.081.104-.503.364-.37.773-.294a37.46 37.46 0 0 0 3.71.634c.169.014.211-.275.04-.301-1.006-.152-1.998-.3-2.991-.519a6.425 6.425 0 0 0-1.453-.295c-.3.013-.313.23-.362.491a3.217 3.217 0 0 1-.143.882c-.125.186-.306.08-.506.062-.48-.043-.305-.279-.294-.344.044-.263.306-.942.066-1.163a2.648 2.648 0 0 0-1.006-.227c-.17.026-.197.11-.246.257-.057.22-.102.441-.135.665-.029.137.033.799-.5.644-.3-.118-.338-.161-.373-.487-.036-.326.148-.676.11-.996-.03-.246-.103-.268-.349-.326-.264-.062-.574-.035-.795-.22-.444-.372-.053-.796.349-.899M49.026 33.319v.071c0 .006.01.006.01 0 0-.023 0-.048.004-.071 0-.008-.014-.009-.014 0M17.623 54.048s21.258-.274 21.464-.23c.206.046-.05 1.42-.684 1.417-.633-.004-19.623.149-19.93.027-.307-.121-1.178-1.21-.85-1.214M61.926 35.055c.718.008 5.775-.568 6.485-.495.727.073 10.023 1.952 10.746 1.92.055 0 .09-.087.031-.114-.672-.306-9.827-2.09-10.686-2.168-.74-.064-5.3.285-6.584.791a.033.033 0 0 0 .008.066"/><path fill="#191919" d="M58.777 38.473c5.509.25 8.002-2.433 11.887-1.649.172.035.414.033.45-.138.04-.182-.209-.255-.39-.295a7.166 7.166 0 0 0-4.377.272 26.14 26.14 0 0 1-7.57 1.73.04.04 0 0 0-.03.068.04.04 0 0 0 .03.012"/><path fill="#191919" d="M59.245 39.578c1.792 2.044 5.152 1.198 7.425.8 2.237-.393 4.046.607 6.213.885.757.098 1.717.181 2.423-.17.126-.064.047-.225-.065-.239-.483-.059-1.22.189-2.797-.137-.975-.202-1.884-.563-2.838-.822-2.395-.643-4.745.764-7.114.569-2.89-.236-3.795-2.01-3.852-2.01.135.406.34.787.605 1.124M60.363 43.519c1.665.085 3.335.167 4.987.395 2.301.319 4.488 1.37 6.843 1.229 2.356-.14 4.592-1.096 6.963-1.116a.126.126 0 0 0 .064-.233c-1.254-.652-2.319.007-4.026.348-1.459.29-2.875.692-4.359.494-1.83-.245-3.559-.954-5.397-1.185a19.28 19.28 0 0 0-5.092-.043c-.063.011-.043.108.017.11M10.286 62.706l.003-.001v-.006l-.003-.001-.002.001v.006zM38.604 61.193c-.361-.006-.97-.01-1.775-.013-.194-.485.084.236-.7-1.741.705 0 1.245 0 1.575.004a.125.125 0 0 0 0-.25c-.338-.004-.916-.009-1.679-.012-.183-.442-.243-.51-.39-.588a.09.09 0 0 0-.11.017.09.09 0 0 0-.019.034c-.047.135-.053.217.058.535-1.41-.005-3.318-.007-5.45-.008a3.787 3.787 0 0 0-.326-.72.083.083 0 0 0-.154.04c.005.229.032.456.08.679-1.814 0-3.774 0-5.717.004l-.03-.513a.095.095 0 0 0-.094-.088.094.094 0 0 0-.094.088c-.017.171-.035.343-.05.514-2.026.002-4.022.007-5.81.012a1.032 1.032 0 0 0-.06-.459c-.018-.043-.075-.071-.11-.03a1.02 1.02 0 0 0-.214.49c-2.034.007-3.766.016-4.908.026.117-.182.215-.376.29-.58.061-.17-.197-.328-.315-.182-.199.249-.387.505-.566.768-.273.001-.547.006-.82.015a.082.082 0 0 0-.058.14.082.082 0 0 0 .058.023c.187.014.413.027.673.038-.955 1.42-.877 1.267-1.218 1.782a48.47 48.47 0 0 0-1.105.016.081.081 0 0 0-.082.082.082.082 0 0 0 .082.082c.225.016.55.03.961.04a7.85 7.85 0 0 0-.54.986.07.07 0 0 0 .078.102.07.07 0 0 0 .042-.032c.241-.35.51-.702.786-1.046 1.368.031 3.466.044 5.915.046a3.712 3.712 0 0 0-.21.953c-.007.117.145.133.202.054.21-.308.372-.647.479-1.005 1.955 0 4.11-.005 6.284-.013-.04.341-.002.686.113 1.01a.14.14 0 0 0 .19.05.14.14 0 0 0 .051-.05c.129-.321.181-.667.154-1.012 2.14-.008 4.284-.019 6.256-.028.087.314.211.617.37.902a.126.126 0 0 0 .233-.063 3.954 3.954 0 0 0-.132-.84c2.198-.01 4.159-.019 5.63-.019.134.371.317.723.544 1.046.057.076.22.066.208-.056a4.194 4.194 0 0 0-.252-.99c.719 0 1.29.003 1.678.01a.126.126 0 0 0 .115-.078.124.124 0 0 0-.117-.172m-27.523.022c.509-.624 1.02-1.223 1.386-1.756 1.226.04 2.97.058 4.979.065-.146.564-.323 1.12-.53 1.664-2.431.008-4.505.017-5.835.027m6.293-.028c.38-1.275.419-1.287.497-1.662 1.807.005 3.807 0 5.825-.01-.09 1.012-.061 1.057-.112 1.659-2.07.003-4.14.007-6.21.013m6.683-.014c-.023-.537.005-.683-.042-1.659 1.97-.009 3.946-.023 5.771-.036.1.393-.017-.103.46 1.69-1.952.001-4.073.002-6.189.005m6.66-.003-.504-1.695c2.141-.015 4.048-.029 5.447-.035.314.824.215.508.67 1.738a1774.75 1774.75 0 0 0-5.612-.008M48.372 61.506c-.216-.077-.409-.108-1.347-.096a22.81 22.81 0 0 0-1.212-2.085c.401.022.803-.014 1.194-.106a.127.127 0 0 0 0-.242 4.396 4.396 0 0 0-1.47-.073 33.517 33.517 0 0 0-.402-.588.109.109 0 0 0-.188.11l.274.49c-.67.024-1.755.07-2.466.102a3.967 3.967 0 0 0-.595-.74.072.072 0 0 0-.085-.01.072.072 0 0 0-.033.078c.066.239.153.47.26.693a7.32 7.32 0 0 0-1.429.123.082.082 0 0 0 0 .159c.532.11 1.077.139 1.618.087.215.395.458.78.66 1.153.163.3.316.622.48.938a6.609 6.609 0 0 0-1.542.116.08.08 0 0 0-.065.08.08.08 0 0 0 .065.078c.574.108 1.16.14 1.743.098.16.294.352.57.573.822.06.066.155-.006.14-.08a3.796 3.796 0 0 0-.235-.742c.855-.004 1.986-.014 2.534-.022.126.227.27.444.43.649.062.08.208.04.175-.073a4.88 4.88 0 0 0-.217-.58c.384.027.77-.006 1.144-.097a.126.126 0 0 0-.004-.242m-4.243-.02c-.196-.39-.425-.769-.625-1.131-.167-.301-.335-.633-.52-.956.603-.014 1.401-.036 2.47-.065.582 1.045.922 1.672 1.147 2.084-.532.008-1.053.026-2.472.066z"/></svg>',alert:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none"><path fill="#fff" fill-rule="evenodd" d="M12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16M2 12C2 6.477 6.477 2 12 2s10 4.477 10 10-4.477 10-10 10S2 17.523 2 12" clip-rule="evenodd"/><path fill="#fff" d="M13 8a1 1 0 1 0-2 0v4a1 1 0 1 0 2 0zM12 15a1 1 0 1 0 0 2 1 1 0 0 0 0-2"/></svg>',arrowDown:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none"><path fill="#fff" fill-rule="evenodd" d="M5.293 9.707a1 1 0 0 1 1.32-1.497l.094.083L12 13.585l5.293-5.292a1 1 0 0 1 1.32-.083l.094.083a1 1 0 0 1 .083 1.32l-.083.094-6 6a1 1 0 0 1-1.32.083l-.094-.083z" clip-rule="evenodd"/></svg>',arrowUp:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none"><path fill="#fff" fill-rule="evenodd" d="M18.707 14.293a1 1 0 0 1-1.32 1.497l-.094-.083L12 10.415l-5.293 5.292a1 1 0 0 1-1.32.083l-.094-.083a1 1 0 0 1-.083-1.32l.083-.094 6-6a1 1 0 0 1 1.32-.083l.094.083z" clip-rule="evenodd"/></svg>',arrow:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none"><path fill="#fff" fill-rule="evenodd" d="m16.58 11.012-2.29-2.285v-.01a.987.987 0 0 1 0-1.418c.39-.399 1.02-.399 1.42 0l4 3.992c.236.23.33.554.28.86a1 1 0 0 1-.39.656L15.7 16.7c-.19.18-.45.289-.71.289L15 17c-.27 0-.53-.11-.71-.29a.996.996 0 0 1-.01-1.417v-.01l2.28-2.275H5c-.56 0-1-.45-1-.998a.99.99 0 0 1 1-.998z" clip-rule="evenodd"/></svg>',externalLink:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none"><path fill="#fff" fill-rule="evenodd" d="M20.383 3.076A.997.997 0 0 0 20 3h-5l-.117.007A1 1 0 0 0 14 4l.007.117A1 1 0 0 0 15 5h2.586l-8.293 8.293-.083.094a1 1 0 0 0 1.497 1.32L19 6.414V9l.007.117A1 1 0 0 0 21 9V4a1.001 1.001 0 0 0-.617-.924M11 6a1 1 0 0 1 .117 1.993L11 8H6a1 1 0 0 0-.993.883L5 9v9a1 1 0 0 0 .883.993L6 19h9a1 1 0 0 0 .993-.883L16 18v-5a1 1 0 0 1 1.993-.117L18 13v5a3 3 0 0 1-2.824 2.995L15 21H6a3 3 0 0 1-2.995-2.824L3 18V9a3 3 0 0 1 2.824-2.995L6 6z" clip-rule="evenodd"/></svg>',menu:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none"><path fill="#fff" fill-rule="evenodd" d="M20 5a1 1 0 0 1 .117 1.993L20 7H4a1 1 0 0 1-.117-1.993L4 5zm0 6a1 1 0 0 1 .117 1.993L20 13H4a1 1 0 0 1-.117-1.993L4 11zm1 7a1 1 0 0 0-1-1H4l-.117.007A1 1 0 0 0 4 19h16l.117-.007A1 1 0 0 0 21 18" clip-rule="evenodd"/></svg>',x:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none"><path fill="#fff" fill-rule="evenodd" d="M7.382 6.18a.857.857 0 0 0-1.13 1.283L10.787 12 6.25 16.537l-.071.08a.857.857 0 0 0 1.283 1.132L12 13.212l4.537 4.537.08.071a.857.857 0 0 0 1.132-1.283L13.212 12l4.537-4.537.071-.08a.857.857 0 0 0-1.283-1.132L12 10.788 7.463 6.25z" clip-rule="evenodd"/></svg>',fileUpload:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none"><path fill="#081224" fill-rule="evenodd" d="M17 22zc1.65 0 3-1.35 3-3V8a1.011 1.011 0 0 0-.29-.71l-5-5A.966.966 0 0 0 14 2H7C5.34 2 4 3.34 4 5v14c0 1.65 1.34 3 3 3zM13 4H7c-.56 0-1 .44-1 1v14c0 .55.44 1 1 1h10c.55 0 1-.45 1-1V9h-3a2 2 0 0 1-2-2zm2 1.41V7h1.59zM12 18c-.56 0-1-.45-1-1v-3.585L9.71 14.71v-.01c-.4.39-1.03.39-1.42 0-.4-.4-.4-1.03 0-1.42l3-3c.38-.4 1.02-.4 1.41-.01l3 3c.39.38.39 1.02 0 1.41h-.01c-.19.18-.45.29-.71.29L15 15c-.27 0-.53-.11-.71-.29L13 13.414V17c0 .55-.45 1-1 1" clip-rule="evenodd"/></svg>',xBlack:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none"><path fill="#334155" fill-rule="evenodd" d="M7.382 6.18a.857.857 0 0 0-1.13 1.283L10.787 12 6.25 16.537l-.071.08a.857.857 0 0 0 1.283 1.132L12 13.212l4.537 4.537.08.071a.857.857 0 0 0 1.132-1.283L13.212 12l4.537-4.537.071-.08a.857.857 0 0 0-1.283-1.132L12 10.788 7.463 6.25z" clip-rule="evenodd"/></svg>',eyeOff:'<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="none"><path fill="#B6B9C3" d="M4.478 4.478c-1.54 1.159-2.39 2.71-2.776 3.577a2.315 2.315 0 0 0 0 1.89C2.356 11.41 4.42 15 9 15c1.906 0 3.395-.63 4.522-1.478l-1.074-1.074c-.872.61-1.997 1.052-3.448 1.052-3.641 0-5.332-2.83-5.927-4.165a.815.815 0 0 1 0-.67C3.418 7.89 4.166 6.55 5.48 5.603a.758.758 0 0 0 .067-.054z"/><path fill="#B6B9C3" d="M6.879 6.879a3 3 0 1 0 4.243 4.243L10.06 10.06A1.5 1.5 0 1 1 7.94 7.94zM9 3c4.582 0 6.646 3.59 7.298 5.055a2.316 2.316 0 0 1 0 1.89 9.937 9.937 0 0 1-.476.93.75.75 0 1 1-1.298-.75c.172-.298.305-.57.403-.79a.816.816 0 0 0 0-.67C14.333 7.33 12.642 4.5 9 4.5h-.75a.75.75 0 1 1 0-1.5z"/><path fill="#B6B9C3" fill-rule="evenodd" d="M1.72 1.72a.75.75 0 0 1 1.06 0l13.5 13.5a.75.75 0 1 1-1.06 1.06L1.72 2.78a.75.75 0 0 1 0-1.06" clip-rule="evenodd"/></svg>',eye:'<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="none"><path fill="#009A08" fill-rule="evenodd" d="M9 4.5c-3.641 0-5.332 2.83-5.927 4.165a.816.816 0 0 0 0 .67C3.668 10.67 5.359 13.5 9 13.5c3.642 0 5.333-2.83 5.927-4.165a.816.816 0 0 0 0-.67C14.333 7.33 12.642 4.5 9 4.5M1.703 8.055C2.355 6.59 4.419 3 9 3c4.582 0 6.646 3.59 7.298 5.055a2.316 2.316 0 0 1 0 1.89C15.646 11.409 13.582 15 9 15c-4.581 0-6.645-3.59-7.297-5.055a2.316 2.316 0 0 1 0-1.89" clip-rule="evenodd"/><path fill="#009A08" fill-rule="evenodd" d="M9 6a3 3 0 1 0 0 6 3 3 0 0 0 0-6m-.064 1.501L9 7.5a1.5 1.5 0 1 1-1.499 1.436 1.125 1.125 0 0 0 1.435-1.435" clip-rule="evenodd"/></svg>'},kr=we,lQ=({onChange:t,id:e,setQrStatus:r,qrStatus:n})=>{const[i,a]=(0,qC.useState)(null),o=(0,qC.useRef)(null),s=Di(nu.fileUpload),u=Di(nu.xBlack),l=()=>{o.current&&(o.current.value="",a(null),r(null))};return(0,kr.jsxs)(kr.Fragment,{children:[(0,kr.jsxs)(cQ,{htmlFor:e,children:[(0,kr.jsx)("input",{type:"file",id:e,ref:o,onChange:c=>{c.target.files&&(a(c.target.files[0].name),t(c))},accept:"image/*",hidden:!0}),(0,kr.jsx)(Oh,{src:s}),(0,kr.jsx)(Uh,{id:"file-chosen",children:"Choose file"})]}),i&&(()=>{switch(n){case"QR code invalid ❌":return(0,kr.jsxs)(kr.Fragment,{children:[(0,kr.jsxs)(dQ,{children:[(0,kr.jsx)(Uh,{id:"file-chosen",children:i}),(0,kr.jsx)("button",{onClick:l,children:(0,kr.jsx)(Oh,{src:u})})]}),(0,kr.jsx)(pQ,{children:"Invalid QR Code."})]});case"Signature verified ✅":return(0,kr.jsxs)(kr.Fragment,{children:[(0,kr.jsxs)(fQ,{children:[(0,kr.jsx)(Uh,{id:"file-chosen",children:i}),(0,kr.jsx)("button",{onClick:l,children:(0,kr.jsx)(Oh,{src:u})})]}),(0,kr.jsx)(hQ,{children:"Valid QR Code."})]});case"QR code scanned, verifying QR Code 🔎":return(0,kr.jsxs)(kr.Fragment,{children:[(0,kr.jsxs)(uQ,{children:[(0,kr.jsx)(Uh,{id:"file-chosen",children:i}),(0,kr.jsx)("button",{onClick:l,children:(0,kr.jsx)(Oh,{src:u})})]}),(0,kr.jsx)(xQ,{children:"Verifying QR Code."})]})}})()]})},Uh=Os.default.span`
  margin-left: 5px;
`,cQ=Os.default.label`
  display: flex;
  align-items: center;
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
  max-width: 80%;
  border-radius: 4px;
  border-width: 1px;
  border-color: black;
  max-width: 100%;
  font-size: '16px';
  line-height: 1.25rem;
  color: #111827;
  padding-top: 6px;
  padding-bottom: 6px;
  padding-left: 14px;
  padding-right: 14px;
  cursor: pointer;
  margin-top: 0.3rem;
`,uQ=Os.default.label`
  flex-direction: row;
  justify-content: space-between;
  align-items: center;
  width: 100%;
  display: flex;
  align-items: center;
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
  max-width: 80%;
  border-radius: 4px;
  border-width: 1px;
  border-color: black;
  max-width: 100%;
  font-size: '16px';
  line-height: 1.25rem;
  color: #111827;
  padding-top: 6px;
  padding-bottom: 6px;
  padding-left: 14px;
  padding-right: 14px;
  cursor: pointer;
  margin-top: 0.3rem;
`,fQ=Os.default.label`
  flex-direction: row;
  justify-content: space-between;
  align-items: center;
  width: 100%;
  display: flex;
  align-items: center;
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
  max-width: 80%;
  border-radius: 4px;
  border-width: 2px;
  border-color: #00bf06;
  max-width: 100%;
  font-size: '16px';
  line-height: 1.25rem;
  color: #111827;
  padding-top: 6px;
  padding-bottom: 6px;
  padding-left: 14px;
  padding-right: 14px;
  cursor: pointer;
  margin-top: 0.3rem;
`,dQ=Os.default.label`
  flex-direction: row;
  justify-content: space-between;
  align-items: center;
  width: 100%;
  display: flex;
  align-items: center;
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
  max-width: 80%;
  border-radius: 4px;
  border-width: 2px;
  border-color: #ef4444;
  max-width: 100%;
  font-size: '16px';
  line-height: 1.25rem;
  color: #111827;
  padding-top: 6px;
  padding-bottom: 6px;
  padding-left: 14px;
  padding-right: 14px;
  cursor: pointer;
  margin-top: 0.3rem;
`,Oh=Os.default.img`
  height: 1.5rem;
`,hQ=Os.default.div`
  color: #00bf06;
  position: absolute;
  font-size: 0.875rem;
  margin-top: 4px;
`,xQ=Os.default.div`
  color: #717686;
  position: absolute;
  font-size: 0.875rem;
  margin-top: 4px;
`,pQ=Os.default.div`
  color: #ef4444;
  position: absolute;
  font-size: 0.875rem;
  margin-top: 4px;
`,gQ=Dt,zb=()=>{(0,gQ.useEffect)(()=>{if(window){const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("type","text/css"),t.setAttribute("href","https://fonts.googleapis.com/css2?family=Rajdhani:wght@300;400;500;600;700&display=swap"),document.getElementsByTagName("head")[0].appendChild(t)}},[])},Yr=we,mQ=({qrStatus:t,provingEnabled:e,setQrStatus:r,setQrData:n,setCurrentView:i,useTestAadhaar:a})=>(zb(),(0,Yr.jsxs)(BQ,{children:[(0,Yr.jsxs)(QC,{children:[(0,Yr.jsx)(EQ,{children:(0,Yr.jsxs)(CQ,{children:["Anon Aadhaar allows you to create a proof of your Aadhaar ID without revealing any personal data. This process is local to your browser for privacy, and QR images are not uploaded to any server.",(0,Yr.jsx)("p",{children:" "}),(0,Yr.jsx)("p",{children:"Note: Internet speed may affect processing time."}),(0,Yr.jsx)(wQ,{}),(0,Yr.jsx)(HC,{children:"GENERATE A QR CODE:"}),a?(0,Yr.jsxs)(Yr.Fragment,{children:["You can try this example app by generating a test Adhaar QR Code",(0,Yr.jsx)("p",{children:" "}),(0,Yr.jsx)(Mg,{href:"https://documentation.anon-aadhaar.pse.dev/docs/generate-qr",target:"_blank",rel:"noreferrer",children:"Link to generate a QR Code"})]}):(0,Yr.jsxs)(Yr.Fragment,{children:["Open mAadhaar app"," ",(0,Yr.jsx)(Mg,{href:"https://apps.apple.com/in/app/maadhaar/id1435469474",target:"_blank",rel:"noreferrer",children:"iOS"})," ","or"," ",(0,Yr.jsx)(Mg,{href:"https://play.google.com/store/apps/details?id=in.gov.uidai.mAadhaarPlus&hl=en_IN&pli=1",target:"_blank",rel:"noreferrer",children:"Android"}),(0,Yr.jsx)("p",{children:"By entering your Aadhaar number and OTP verification. You can then save the QR as an image using the 'Share' button for import."})]})]})}),(0,Yr.jsx)(AQ,{children:(0,Yr.jsxs)(yQ,{children:[(0,Yr.jsxs)(HC,{children:["UPLOAD YOUR AADHAAR SECURE QR CODE:"," "]}),(0,Yr.jsx)(lQ,{onChange:async o=>{const{qrValue:s}=await qq(o,r);n(s)},id:"handlePdfChange",setQrStatus:r,qrStatus:t})]})})]}),(0,Yr.jsxs)(QC,{children:[(0,Yr.jsx)(_Q,{disabled:!e,onClick:()=>i("Prove"),children:"CONTINUE"}),(0,Yr.jsx)(vQ,{children:"No Aadhaar data ever leaves your device!"})]})]})),yQ=ho.default.div`
  margin-top: 20px;
  margin-bottom: 30px;
`,vQ=ho.default.p`
  font-size: small;
  color: #717686;
  text-decoration: wavy;
  text-align: center;
  margin-top: 10px;
`,EQ=ho.default.div`
  color: #111827;
  flex-shrink: 0;
  row-gap: 1rem;
  margin-left: auto;
  margin-right: auto;
  display: flex;
  flex-flow: column;
`,CQ=ho.default.span`
  color: #717686;
  font-size: 14px;
  font-weight: normal;
  line-height: 20px;
`,AQ=ho.default.div`
  row-gap: 1rem;
  max-width: 100%;
`,Mg=ho.default.a`
  color: #1d24e0;
  margin-top: 0.3rem;
  font-size: 0.9rem;
  font-weight: normal;
  text-decoration: underline;
`,QC=ho.default.div`
  width: 100%;
`,wQ=ho.default.div`
  height: 2px;
  margin: 20px 0;
  width: 5rem;
  background-color: rgba(0, 154, 8, 1);
  margin-left: auto;
  margin-right: auto;
`,HC=ho.default.p`
  font-family: 'Rajdhani', sans-serif;
  font-weight: 600; // Regular weight
  font-size: 16px; // Example font size
  color: #333; // Example text color
  margin: 10px 0;
  line-height: 1.5;
  text-transform: capitalize;
`,_Q=ho.default.button`
  font-family: 'Rajdhani', sans-serif;
  font-weight: 600;
  display: flex;
  width: 100%;
  align-items: center;
  justify-content: center;
  padding: 0.5rem 1rem;
  font-size: 16px;
  cursor: pointer;
  color: white;
  background-color: #009a08;
  border: none;
  min-width: 12rem;
  min-height: 3rem;
  border-radius: 6px;

  &:hover {
    opacity: 70%;
  }

  &:active {
    background: #f8f8f8;
  }

  &:disabled {
    color: #a8aaaf;
    background: #e8e8e8;
    cursor: default;
    cursor: not-allowed;
  }
`,BQ=ho.default.div`
  flex: 1;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  height: 100%;
  width: 100%;
`,Ug=Dt,Yo=sa(fo),bQ=sa(fo),SQ=Dt,IQ=we,LQ=({qrData:t,provingEnabled:e,setErrorMessage:r,signal:n,fieldsToReveal:i,nullifierSeed:a,setQrStatus:o,setCurrentView:s,useTestAadhaar:u=!1})=>{const{startReq:l}=(0,SQ.useContext)(q0),c=async()=>{try{if(s("Proving"),t===null)throw new Error("Missing QR code data.");i===void 0&&(i=[]);const f=await Ob(t,u,a,i,n);l({type:"login",args:f}),o(null)}catch(f){console.log(f),f instanceof Error&&r(f.message)}};return(0,IQ.jsxs)(FQ,{disabled:!e,onClick:c,children:[" ","GENERATE ANON AADHAAR PROOF"," "]})},FQ=bQ.default.button`
  font-family: 'Rajdhani', sans-serif;
  font-weight: 600;
  display: flex;
  width: 100%;
  align-items: center;
  justify-content: center;
  padding: 0.5rem 1rem;
  font-size: 16px;
  cursor: pointer;
  color: white;
  background-color: #009a08;
  border: none;
  min-width: 12rem;
  min-height: 3rem;
  border-radius: 6px;

  &:hover {
    opacity: 70%;
  }

  &:active {
    background: #f8f8f8;
  }

  &:disabled {
    color: #a8aaaf;
    background: #e8e8e8;
    cursor: default;
    cursor: not-allowed;
  }
`,DQ=sa(fo),TQ=we,kQ=({signal:t})=>{const r=typeof t=="object"&&t!==null?JSON.stringify(t,null,2):t;return(0,TQ.jsx)(NQ,{children:r})},NQ=DQ.default.div`
  display: flex;
  flex-direction: row;
  width: 100%;
  border: solid;
  align-items: center;
  border-color: #b6b9c3;
  font-size: 14px;
  border-radius: 4px;
  color: black;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 12px;
  padding-right: 12px;
  margin-top: 10px;
`,jC=Us,fn=we,PQ=({setErrorMessage:t,qrStatus:e,qrData:r,setQrStatus:n,signal:i,fieldsToReveal:a,nullifierSeed:o,setCurrentView:s,useTestAadhaar:u})=>{const[l,c]=(0,Ug.useState)(!1),{appName:f}=(0,Ug.useContext)(q0),d=Di(nu.eyeOff),h=Di(nu.eye);return(0,Ug.useEffect)(()=>{c(e==="Signature verified ✅")},[e]),(0,fn.jsxs)(OQ,{children:[(0,fn.jsxs)("div",{children:[(0,fn.jsx)(RQ,{children:"YOUR QR CODE IS VERIFIED!"}),(0,fn.jsxs)(WC,{children:[(0,fn.jsxs)(YC,{children:["Data you are sharing to ",f,": "]}),(0,fn.jsx)(UQ,{children:a?jC.fieldsLabel.map(({key:y,label:w})=>a.includes(y)?(0,fn.jsx)(Vg,{children:(0,fn.jsxs)(MQ,{children:[(0,fn.jsx)(Og,{src:h}),w.toLocaleUpperCase()]})},y):(0,fn.jsx)(Vg,{children:(0,fn.jsxs)($C,{children:[(0,fn.jsx)(Og,{src:d}),w.toLocaleUpperCase()]})},y)):jC.fieldsLabel.map(({key:y,label:w})=>(0,fn.jsx)(Vg,{children:(0,fn.jsxs)($C,{children:[(0,fn.jsx)(Og,{src:d}),w.toLocaleUpperCase()]})},y))})]}),i&&(0,fn.jsxs)(WC,{children:[(0,fn.jsx)(YC,{children:"Data you are signing: "}),(0,fn.jsx)(kQ,{signal:i})]})]}),(0,fn.jsxs)("div",{children:[(0,fn.jsx)(LQ,{qrData:r,provingEnabled:l,setErrorMessage:t,signal:i,setQrStatus:n,nullifierSeed:o,fieldsToReveal:a,setCurrentView:s,useTestAadhaar:u}),(0,fn.jsx)(VQ,{children:"No Aadhaar data ever leaves your device!"})]})]})},RQ=Yo.default.div`
  font-family: 'Rajdhani', sans-serif;
  font-weight: 600; // Regular weight
  font-size: 16px; // Example font size
  color: #333; // Example text color
  line-height: 1.5;
  text-transform: capitalize;
`,Og=Yo.default.img`
  height: 1.5rem;
  margin-right: 5px;
`,MQ=Yo.default.div`
  display: flex;
  flex-direction: row;
  width: 100%;
  border: solid;
  align-items: center;
  border-color: #009a08;
  border-radius: 4px;
  font-family: 'Rajdhani', sans-serif;
  font-weight: 600;
  color: black;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 12px;
  padding-right: 12px;
`,$C=Yo.default.div`
  display: flex;
  flex-direction: row;
  width: 100%;
  border: solid;
  align-items: center;
  border-color: #b6b9c3;
  border-radius: 4px;
  font-family: 'Rajdhani', sans-serif;
  font-weight: 600;
  color: #b6b9c3;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 12px;
  padding-right: 12px;
`,WC=Yo.default.div`
  margin-top: 15px;
  row-gap: 1rem;
  max-width: 100%;
`,YC=Yo.default.div`
  font-size: 14px;
  text-align: left;
  font-weight: 400;
  color: #6b7280;
`,UQ=Yo.default.div`
  display: flex;
  flex-direction: column;
  row-gap: 10px;
  margin-top: 10px;
`,Vg=Yo.default.div`
  display: flex;
  align-items: center;
`,OQ=Yo.default.div`
  flex: 1;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  height: 100%;
  width: 100%;
`,VQ=Yo.default.p`
  font-size: small;
  color: #717686;
  text-decoration: wavy;
  text-align: center;
  margin-top: 10px;
`,Vh=Dt,ql=sa(fo),ns={bottomLeftPlain:'<svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" fill="none"><path fill="#081224" d="M63.813 63.116V45.86a.632.632 0 0 0-.636-.635H25.474a5.956 5.956 0 0 1-5.963-5.953V1.322a.632.632 0 0 0-.636-.635H1.385a.632.632 0 0 0-.635.635v20.545c0 2.89 1.153 5.671 3.201 7.716l30.978 30.932a10.948 10.948 0 0 0 7.706 3.196l20.534.039a.64.64 0 0 0 .644-.635"/></svg>',bottomLeft:'<svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" fill="none"><path stroke="#081224" stroke-width=".674" d="M4.19 29.344a10.575 10.575 0 0 1-3.103-7.477V1.322c0-.166.13-.298.298-.298h17.49c.168 0 .299.132.299.298v37.95c0 3.477 2.819 6.29 6.3 6.29h37.703c.167 0 .298.132.298.298v17.255c0 .16-.133.298-.306.298l-20.533-.04a10.611 10.611 0 0 1-7.469-3.097z"/></svg>',bottomRightPlain:'<svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" fill="none"><path fill="#FD8B0E" d="M.188 63.116V45.86c0-.353.282-.635.635-.635h37.703a5.956 5.956 0 0 0 5.963-5.953V1.322c0-.353.283-.635.636-.635h17.49c.353 0 .635.282.635.635v20.545c0 2.89-1.153 5.671-3.201 7.716L29.071 60.515a10.948 10.948 0 0 1-7.706 3.196L.831 63.75a.64.64 0 0 1-.643-.635"/></svg>',bottomRight:'<svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" fill="none"><path stroke="#FD8B0E" stroke-width=".674" d="M59.81 29.344a10.575 10.575 0 0 0 3.103-7.477V1.322a.295.295 0 0 0-.298-.298h-17.49a.295.295 0 0 0-.299.298v37.95c0 3.477-2.819 6.29-6.3 6.29H.823a.295.295 0 0 0-.298.298v17.255c0 .16.133.298.306.298l20.534-.04a10.611 10.611 0 0 0 7.468-3.097z"/></svg>',topLeftPlain:'<svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" fill="none"><path fill="#009A08" d="M63.813.884V18.14a.632.632 0 0 1-.636.635H25.474a5.956 5.956 0 0 0-5.963 5.953v37.95a.632.632 0 0 1-.636.635H1.385a.632.632 0 0 1-.635-.635V42.134c0-2.89 1.153-5.671 3.201-7.716L34.929 3.485A10.948 10.948 0 0 1 42.635.289L63.169.25a.64.64 0 0 1 .644.634"/></svg>',topLeft:'<svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" fill="none"><path stroke="#009A08" stroke-width=".674" d="M4.19 34.656a10.575 10.575 0 0 0-3.103 7.477v20.545c0 .166.13.298.298.298h17.49a.295.295 0 0 0 .299-.297V24.728c0-3.477 2.819-6.29 6.3-6.29h37.703a.295.295 0 0 0 .298-.298V.884a.302.302 0 0 0-.306-.297l-20.533.04a10.611 10.611 0 0 0-7.469 3.097z"/></svg>',topRightPlain:'<svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" fill="none"><path fill="#081224" d="M.188.884V18.14c0 .353.282.635.635.635h37.703a5.956 5.956 0 0 1 5.963 5.953v37.95c0 .353.283.635.636.635h17.49a.632.632 0 0 0 .635-.635V42.134c0-2.89-1.153-5.671-3.201-7.716L29.071 3.485A10.949 10.949 0 0 0 21.365.289L.831.25a.64.64 0 0 0-.643.634"/></svg>',topRight:'<svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" fill="none"><path stroke="#081224" stroke-width=".674" d="M59.81 34.656a10.575 10.575 0 0 1 3.103 7.477v20.545a.295.295 0 0 1-.298.298h-17.49a.295.295 0 0 1-.299-.298v-37.95c0-3.477-2.819-6.29-6.3-6.29H.823a.295.295 0 0 1-.298-.298V.884c0-.16.133-.297.306-.297l20.534.04a10.611 10.611 0 0 1 7.468 3.097z"/></svg>'},Xl=Us,da=we,GQ=()=>{zb();const{proverState:t}=(0,Vh.useContext)(q0),[e,r]=(0,Vh.useState)({topLeft:!1,topRight:!1,bottomLeft:!1,bottomRight:!1}),n=(0,Vh.useMemo)(()=>({topLeft:Di(ns.topLeft),topLeftPlain:Di(ns.topLeftPlain),topRight:Di(ns.topRight),topRightPlain:Di(ns.topRightPlain),bottomLeft:Di(ns.bottomLeft),bottomLeftPlain:Di(ns.bottomLeftPlain),bottomRight:Di(ns.bottomRight),bottomRightPlain:Di(ns.bottomRightPlain)}),[ns]);return(0,Vh.useEffect)(()=>{const i=setInterval(()=>{r(a=>{const o={...a};if(!o.topLeft)o.topLeft=!0;else if(!o.topRight)o.topRight=!0;else if(!o.bottomRight)o.bottomRight=!0;else if(!o.bottomLeft)o.bottomLeft=!0;else return{topLeft:!1,topRight:!1,bottomLeft:!1,bottomRight:!1};return o})},1e3);return()=>{clearInterval(i),Object.values(n).forEach(URL.revokeObjectURL)}},[n]),(0,da.jsxs)(da.Fragment,{children:[(0,da.jsx)(QQ,{children:(0,da.jsxs)(zQ,{children:[(0,da.jsxs)(KQ,{children:[(0,da.jsx)(Gh,{src:e.topLeft?n.topLeftPlain:n.topLeft,alt:"Top left icon"}),(0,da.jsx)(Gh,{src:e.topRight?n.topRightPlain:n.topRight,alt:"Top right icon"})]}),(0,da.jsxs)(qQ,{children:[(0,da.jsx)(Gh,{src:e.bottomLeft?n.bottomLeftPlain:n.bottomLeft,alt:"Bottom left icon"}),(0,da.jsx)(Gh,{src:e.bottomRight?n.bottomRightPlain:n.bottomRight,alt:"Bottom right icon"})]}),(0,da.jsxs)(HQ,{children:[t===Xl.ProverState.Initializing&&"GENERATE PROOF...",t===Xl.ProverState.Completed&&"GENERATE PROOF...",t===Xl.ProverState.FetchingWasm&&"SEARCHING FOR WASM FILE...",t===Xl.ProverState.FetchingZkey&&"SEARCHING FOR ZKEY FILE...",t===Xl.ProverState.Proving&&"GENERATING PROOF...",t===Xl.ProverState.Error&&"Oops, something went wrong..."]})]})}),(0,da.jsx)(jQ,{children:"Proof generation on a MacBook Pro M1 - 16GB is about 26 seconds"})]})},zQ=ql.default.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 8px;
`,KQ=ql.default.div`
  display: flex;
  flex-direction: row;
  gap: 8px;
`,qQ=ql.default.div`
  display: flex;
  flex-direction: row;
  gap: 8px;
`,Gh=ql.default.img`
  height: 65px;
`,QQ=ql.default.div`
  flex: 1;
  display: flex;
  flex-direction: column;
  justify-content: center;
  height: 100%;
  width: 100%;
`,HQ=ql.default.div`
  margin-top: 20px;
  font-family: 'Rajdhani', sans-serif;
  font-weight: 500; // Regular weight
  font-size: 28px; // Example font size
  color: #333; // Example text color
  line-height: 1.5;
  text-transform: capitalize;
`,jQ=ql.default.p`
  font-size: 12px;
  color: black;
  text-decoration: wavy;
  text-align: center;
  margin-top: 10px;
`,Jl=we,fy=({isOpen:t,onClose:e,errorMessage:r,setErrorMessage:n,qrStatus:i,setQrStatus:a,signal:o,fieldsToReveal:s,nullifierSeed:u,currentView:l,setCurrentView:c,useTestAadhaar:f=!1})=>{const[d,h]=(0,Mh.useState)(null),[y,w]=(0,Mh.useState)(!1);return(0,Mh.useEffect)(()=>{d&&Sv(d,f).then(_=>{_.isSignatureValid?a("Signature verified ✅"):a("QR code invalid ❌")}).catch(_=>{a("QR code invalid ❌"),console.error(_)})},[d]),(0,Mh.useEffect)(()=>{w(i==="Signature verified ✅")},[i]),t?(0,Jl.jsx)($Q,{onClick:e,children:(0,Jl.jsxs)(WQ,{onClick:_=>_.stopPropagation(),children:[r!==null&&(0,Jl.jsx)(iQ,{message:r,setErrorMessage:n}),(()=>{switch(l){case"Verify":return(0,Jl.jsx)(mQ,{provingEnabled:y,qrStatus:i,setQrStatus:a,setQrData:h,setCurrentView:c,useTestAadhaar:f});case"Prove":return(0,Jl.jsx)(PQ,{setErrorMessage:n,qrStatus:i,qrData:d,setQrStatus:a,signal:o,fieldsToReveal:s,nullifierSeed:u,setCurrentView:c,useTestAadhaar:f});case"Proving":return(0,Jl.jsx)(GQ,{})}})()]})}):null},$Q=Gb.default.div`
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.2);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 9999;
`,WQ=Gb.default.div`
  position: fixed;
  display: flex;
  flex-direction: column;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background-color: #ffffff;
  border-radius: 1rem;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
  padding: 2rem;

  /* Mobile devices */
  @media screen and (max-width: 480px) {
    width: 90%;
    min-height: 450px;
    padding: 1.5rem;
  }

  /* Tablets and Desktop */
  @media screen and (min-width: 481px) {
    width: 450px;
    height: 600px;
  }

  /* Very small screens */
  @media screen and (max-height: 550px) {
    min-height: 400px;
    padding: 1rem;
  }
`,Yd=sa(fo),ZC=Dt,YQ=Us,ha=we,ZQ=({signal:t,fieldsToReveal:e,nullifierSeed:r})=>{const[n,i]=(0,ef.useState)(!1),[a,o]=(0,ef.useState)(null),[s,u]=(0,ef.useState)(null),[l,c]=(0,ef.useState)("Verify"),[f,d]=(0,ef.useState)(!1),{state:h,startReq:y,proverState:w,useTestAadhaar:_}=(0,ZC.useContext)(q0),E=Di(nu.aalogo),p=()=>{d(!f)};(0,ZC.useEffect)(()=>{w===YQ.ProverState.Completed&&S()},[w]);const m=()=>{i(!0)},S=()=>{i(!1),o(null),u(null),c("Verify")};return(0,ha.jsxs)("div",{children:[(h.status==="logged-out"||h.status==="logging-in")&&(0,ha.jsxs)("div",{children:[(0,ha.jsxs)(JC,{onClick:m,children:[(0,ha.jsx)(XC,{src:E}),"Login"]}),(0,ha.jsx)(fy,{isOpen:n,onClose:S,errorMessage:a,setErrorMessage:o,logo:E,qrStatus:s,setQrStatus:u,signal:t,fieldsToReveal:e,nullifierSeed:r,setCurrentView:c,currentView:l,useTestAadhaar:_})]}),h.status==="logged-in"&&(0,ha.jsxs)(JQ,{children:[(0,ha.jsxs)(JC,{onClick:p,children:[(0,ha.jsx)(XC,{src:E}),"Menu"]}),(0,ha.jsxs)(XQ,{$isopen:f,children:[(0,ha.jsx)(eA,{onClick:m,children:"Create a proof"}),(0,ha.jsx)(fy,{isOpen:n,onClose:S,errorMessage:a,setErrorMessage:o,logo:E,qrStatus:s,setQrStatus:u,signal:t,fieldsToReveal:e,nullifierSeed:r,setCurrentView:c,currentView:l,useTestAadhaar:_}),(0,ha.jsx)(eA,{onClick:()=>y({type:"logout"}),children:"Logout"})]})]})]})},XC=Yd.default.img`
  height: 1.5rem;
  margin-right: 0.5rem;
`,JC=Yd.default.button`
  display: flex;
  padding: 0 1rem;
  font-size: 1rem;
  cursor: pointer;
  color: #000000;
  font-weight: bold;
  border-radius: 1.3125rem;
  background: #fff;
  box-shadow: 0px 3px 8px 1px rgba(0, 0, 0, 0.25);
  border: none;
  min-height: 2.5rem;
  border-radius: 0.5rem;
  align-items: center;

  &:hover {
    background: #fafafa;
  }

  &:active {
    background: #f8f8f8;
  }

  &:disabled {
    color: #a8aaaf;
    background: #e8e8e8;
    cursor: default;
  }
`,eA=Yd.default.button`
  display: block;
  width: 100%;
  padding: 0.5rem 1rem;
  font-size: 1rem;
  color: #000000;
  text-align: left;
  background: none;
  border: none;
  border-bottom: 1px solid #cccccc;
  cursor: pointer;

  &:hover {
    border-radius: 0.5rem;
    background-color: #f2f2f2;
  }

  &:last-child {
    border-bottom: none;
  }
`,XQ=Yd.default.div`
  display: ${t=>t.$isopen?"block":"none"};
  position: absolute;
  margin-top: 0.5rem;
  top: 100%;
  right: 0;
  width: 130%;
  background: #fff;
  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
  border-radius: 0.5rem;
  z-index: 10;
`,JQ=Yd.default.div`
  position: relative;
  display: inline-block;
`,zh=Dt,Kb=sa(fo),tA=Dt,eH=Us,Kh=we,tH=({signal:t,buttonStyle:e,fieldsToReveal:r,nullifierSeed:n,buttonTitle:i="Generate a proof"})=>{const[a,o]=(0,zh.useState)(!1),[s,u]=(0,zh.useState)(null),[l,c]=(0,zh.useState)(null),[f,d]=(0,zh.useState)("Verify"),{proverState:h,useTestAadhaar:y}=(0,tA.useContext)(q0),w=Di(nu.aalogo);(0,tA.useEffect)(()=>{h===eH.ProverState.Completed&&E()},[h]);const _=()=>{o(!0)},E=()=>{o(!1),u(null),c(null),d("Verify")};return(0,Kh.jsxs)("div",{children:[(0,Kh.jsxs)(nH,{style:e,onClick:_,children:[(0,Kh.jsx)(rH,{src:w}),i]}),(0,Kh.jsx)(fy,{isOpen:a,onClose:E,errorMessage:s,setErrorMessage:u,logo:w,qrStatus:l,setQrStatus:c,signal:t,fieldsToReveal:r,nullifierSeed:n,setCurrentView:d,currentView:f,useTestAadhaar:y})]})},rH=Kb.default.img`
  height: 1.5rem;
  margin-right: 0.5rem;
`,nH=Kb.default.button`
  display: flex;
  padding: 0 1rem;
  font-size: 1rem;
  cursor: pointer;
  color: #000000;
  font-weight: bold;
  border-radius: 1.3125rem;
  background: #fff;
  box-shadow: 0px 3px 8px 1px rgba(0, 0, 0, 0.25);
  border: none;
  min-height: 2.5rem;
  border-radius: 0.5rem;
  align-items: center;

  &:hover {
    background: #fafafa;
  }

  &:active {
    background: #f8f8f8;
  }

  &:disabled {
    color: #a8aaaf;
    background: #e8e8e8;
    cursor: default;
  }
`,Gg=Dt,iH=Us;function aH(){const[t,e]=(0,Gg.useState)(),{proverState:r,state:n}=(0,Gg.useContext)(q0);return(0,Gg.useEffect)(()=>{n.status==="logged-in"&&(0,iH.deserialize)(n.anonAadhaarProofs[Object.keys(n.anonAadhaarProofs).length-1].pcd).then(i=>e(i))},[r,n]),[r,t]}var Lv={exports:{}};Lv.exports;(function(t){(function(e,r){function n(O,B){if(!O)throw new Error(B||"Assertion failed")}function i(O,B){O.super_=B;var C=function(){};C.prototype=B.prototype,O.prototype=new C,O.prototype.constructor=O}function a(O,B,C){if(a.isBN(O))return O;this.negative=0,this.words=null,this.length=0,this.red=null,O!==null&&((B==="le"||B==="be")&&(C=B,B=10),this._init(O||0,B||10,C||"be"))}typeof e=="object"?e.exports=a:r.BN=a,a.BN=a,a.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=O0.Buffer}catch{}a.isBN=function(B){return B instanceof a?!0:B!==null&&typeof B=="object"&&B.constructor.wordSize===a.wordSize&&Array.isArray(B.words)},a.max=function(B,C){return B.cmp(C)>0?B:C},a.min=function(B,C){return B.cmp(C)<0?B:C},a.prototype._init=function(B,C,N){if(typeof B=="number")return this._initNumber(B,C,N);if(typeof B=="object")return this._initArray(B,C,N);C==="hex"&&(C=16),n(C===(C|0)&&C>=2&&C<=36),B=B.toString().replace(/\s+/g,"");var U=0;B[0]==="-"&&(U++,this.negative=1),U<B.length&&(C===16?this._parseHex(B,U,N):(this._parseBase(B,C,U),N==="le"&&this._initArray(this.toArray(),C,N)))},a.prototype._initNumber=function(B,C,N){B<0&&(this.negative=1,B=-B),B<67108864?(this.words=[B&67108863],this.length=1):B<4503599627370496?(this.words=[B&67108863,B/67108864&67108863],this.length=2):(n(B<9007199254740992),this.words=[B&67108863,B/67108864&67108863,1],this.length=3),N==="le"&&this._initArray(this.toArray(),C,N)},a.prototype._initArray=function(B,C,N){if(n(typeof B.length=="number"),B.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(B.length/3),this.words=new Array(this.length);for(var U=0;U<this.length;U++)this.words[U]=0;var G,$,Z=0;if(N==="be")for(U=B.length-1,G=0;U>=0;U-=3)$=B[U]|B[U-1]<<8|B[U-2]<<16,this.words[G]|=$<<Z&67108863,this.words[G+1]=$>>>26-Z&67108863,Z+=24,Z>=26&&(Z-=26,G++);else if(N==="le")for(U=0,G=0;U<B.length;U+=3)$=B[U]|B[U+1]<<8|B[U+2]<<16,this.words[G]|=$<<Z&67108863,this.words[G+1]=$>>>26-Z&67108863,Z+=24,Z>=26&&(Z-=26,G++);return this._strip()};function s(O,B){var C=O.charCodeAt(B);if(C>=48&&C<=57)return C-48;if(C>=65&&C<=70)return C-55;if(C>=97&&C<=102)return C-87;n(!1,"Invalid character in "+O)}function u(O,B,C){var N=s(O,C);return C-1>=B&&(N|=s(O,C-1)<<4),N}a.prototype._parseHex=function(B,C,N){this.length=Math.ceil((B.length-C)/6),this.words=new Array(this.length);for(var U=0;U<this.length;U++)this.words[U]=0;var G=0,$=0,Z;if(N==="be")for(U=B.length-1;U>=C;U-=2)Z=u(B,C,U)<<G,this.words[$]|=Z&67108863,G>=18?(G-=18,$+=1,this.words[$]|=Z>>>26):G+=8;else{var W=B.length-C;for(U=W%2===0?C+1:C;U<B.length;U+=2)Z=u(B,C,U)<<G,this.words[$]|=Z&67108863,G>=18?(G-=18,$+=1,this.words[$]|=Z>>>26):G+=8}this._strip()};function l(O,B,C,N){for(var U=0,G=0,$=Math.min(O.length,C),Z=B;Z<$;Z++){var W=O.charCodeAt(Z)-48;U*=N,W>=49?G=W-49+10:W>=17?G=W-17+10:G=W,n(W>=0&&G<N,"Invalid character"),U+=G}return U}a.prototype._parseBase=function(B,C,N){this.words=[0],this.length=1;for(var U=0,G=1;G<=67108863;G*=C)U++;U--,G=G/C|0;for(var $=B.length-N,Z=$%U,W=Math.min($,$-Z)+N,P=0,R=N;R<W;R+=U)P=l(B,R,R+U,C),this.imuln(G),this.words[0]+P<67108864?this.words[0]+=P:this._iaddn(P);if(Z!==0){var re=1;for(P=l(B,R,B.length,C),R=0;R<Z;R++)re*=C;this.imuln(re),this.words[0]+P<67108864?this.words[0]+=P:this._iaddn(P)}this._strip()},a.prototype.copy=function(B){B.words=new Array(this.length);for(var C=0;C<this.length;C++)B.words[C]=this.words[C];B.length=this.length,B.negative=this.negative,B.red=this.red};function c(O,B){O.words=B.words,O.length=B.length,O.negative=B.negative,O.red=B.red}if(a.prototype._move=function(B){c(B,this)},a.prototype.clone=function(){var B=new a(null);return this.copy(B),B},a.prototype._expand=function(B){for(;this.length<B;)this.words[this.length++]=0;return this},a.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{a.prototype[Symbol.for("nodejs.util.inspect.custom")]=f}catch{a.prototype.inspect=f}else a.prototype.inspect=f;function f(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],y=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(B,C){B=B||10,C=C|0||1;var N;if(B===16||B==="hex"){N="";for(var U=0,G=0,$=0;$<this.length;$++){var Z=this.words[$],W=((Z<<U|G)&16777215).toString(16);G=Z>>>24-U&16777215,U+=2,U>=26&&(U-=26,$--),G!==0||$!==this.length-1?N=d[6-W.length]+W+N:N=W+N}for(G!==0&&(N=G.toString(16)+N);N.length%C!==0;)N="0"+N;return this.negative!==0&&(N="-"+N),N}if(B===(B|0)&&B>=2&&B<=36){var P=h[B],R=y[B];N="";var re=this.clone();for(re.negative=0;!re.isZero();){var T=re.modrn(R).toString(B);re=re.idivn(R),re.isZero()?N=T+N:N=d[P-T.length]+T+N}for(this.isZero()&&(N="0"+N);N.length%C!==0;)N="0"+N;return this.negative!==0&&(N="-"+N),N}n(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var B=this.words[0];return this.length===2?B+=this.words[1]*67108864:this.length===3&&this.words[2]===1?B+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-B:B},a.prototype.toJSON=function(){return this.toString(16,2)},o&&(a.prototype.toBuffer=function(B,C){return this.toArrayLike(o,B,C)}),a.prototype.toArray=function(B,C){return this.toArrayLike(Array,B,C)};var w=function(B,C){return B.allocUnsafe?B.allocUnsafe(C):new B(C)};a.prototype.toArrayLike=function(B,C,N){this._strip();var U=this.byteLength(),G=N||Math.max(1,U);n(U<=G,"byte array longer than desired length"),n(G>0,"Requested array length <= 0");var $=w(B,G),Z=C==="le"?"LE":"BE";return this["_toArrayLike"+Z]($,U),$},a.prototype._toArrayLikeLE=function(B,C){for(var N=0,U=0,G=0,$=0;G<this.length;G++){var Z=this.words[G]<<$|U;B[N++]=Z&255,N<B.length&&(B[N++]=Z>>8&255),N<B.length&&(B[N++]=Z>>16&255),$===6?(N<B.length&&(B[N++]=Z>>24&255),U=0,$=0):(U=Z>>>24,$+=2)}if(N<B.length)for(B[N++]=U;N<B.length;)B[N++]=0},a.prototype._toArrayLikeBE=function(B,C){for(var N=B.length-1,U=0,G=0,$=0;G<this.length;G++){var Z=this.words[G]<<$|U;B[N--]=Z&255,N>=0&&(B[N--]=Z>>8&255),N>=0&&(B[N--]=Z>>16&255),$===6?(N>=0&&(B[N--]=Z>>24&255),U=0,$=0):(U=Z>>>24,$+=2)}if(N>=0)for(B[N--]=U;N>=0;)B[N--]=0},Math.clz32?a.prototype._countBits=function(B){return 32-Math.clz32(B)}:a.prototype._countBits=function(B){var C=B,N=0;return C>=4096&&(N+=13,C>>>=13),C>=64&&(N+=7,C>>>=7),C>=8&&(N+=4,C>>>=4),C>=2&&(N+=2,C>>>=2),N+C},a.prototype._zeroBits=function(B){if(B===0)return 26;var C=B,N=0;return C&8191||(N+=13,C>>>=13),C&127||(N+=7,C>>>=7),C&15||(N+=4,C>>>=4),C&3||(N+=2,C>>>=2),C&1||N++,N},a.prototype.bitLength=function(){var B=this.words[this.length-1],C=this._countBits(B);return(this.length-1)*26+C};function _(O){for(var B=new Array(O.bitLength()),C=0;C<B.length;C++){var N=C/26|0,U=C%26;B[C]=O.words[N]>>>U&1}return B}a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var B=0,C=0;C<this.length;C++){var N=this._zeroBits(this.words[C]);if(B+=N,N!==26)break}return B},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(B){return this.negative!==0?this.abs().inotn(B).iaddn(1):this.clone()},a.prototype.fromTwos=function(B){return this.testn(B-1)?this.notn(B).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(B){for(;this.length<B.length;)this.words[this.length++]=0;for(var C=0;C<B.length;C++)this.words[C]=this.words[C]|B.words[C];return this._strip()},a.prototype.ior=function(B){return n((this.negative|B.negative)===0),this.iuor(B)},a.prototype.or=function(B){return this.length>B.length?this.clone().ior(B):B.clone().ior(this)},a.prototype.uor=function(B){return this.length>B.length?this.clone().iuor(B):B.clone().iuor(this)},a.prototype.iuand=function(B){var C;this.length>B.length?C=B:C=this;for(var N=0;N<C.length;N++)this.words[N]=this.words[N]&B.words[N];return this.length=C.length,this._strip()},a.prototype.iand=function(B){return n((this.negative|B.negative)===0),this.iuand(B)},a.prototype.and=function(B){return this.length>B.length?this.clone().iand(B):B.clone().iand(this)},a.prototype.uand=function(B){return this.length>B.length?this.clone().iuand(B):B.clone().iuand(this)},a.prototype.iuxor=function(B){var C,N;this.length>B.length?(C=this,N=B):(C=B,N=this);for(var U=0;U<N.length;U++)this.words[U]=C.words[U]^N.words[U];if(this!==C)for(;U<C.length;U++)this.words[U]=C.words[U];return this.length=C.length,this._strip()},a.prototype.ixor=function(B){return n((this.negative|B.negative)===0),this.iuxor(B)},a.prototype.xor=function(B){return this.length>B.length?this.clone().ixor(B):B.clone().ixor(this)},a.prototype.uxor=function(B){return this.length>B.length?this.clone().iuxor(B):B.clone().iuxor(this)},a.prototype.inotn=function(B){n(typeof B=="number"&&B>=0);var C=Math.ceil(B/26)|0,N=B%26;this._expand(C),N>0&&C--;for(var U=0;U<C;U++)this.words[U]=~this.words[U]&67108863;return N>0&&(this.words[U]=~this.words[U]&67108863>>26-N),this._strip()},a.prototype.notn=function(B){return this.clone().inotn(B)},a.prototype.setn=function(B,C){n(typeof B=="number"&&B>=0);var N=B/26|0,U=B%26;return this._expand(N+1),C?this.words[N]=this.words[N]|1<<U:this.words[N]=this.words[N]&~(1<<U),this._strip()},a.prototype.iadd=function(B){var C;if(this.negative!==0&&B.negative===0)return this.negative=0,C=this.isub(B),this.negative^=1,this._normSign();if(this.negative===0&&B.negative!==0)return B.negative=0,C=this.isub(B),B.negative=1,C._normSign();var N,U;this.length>B.length?(N=this,U=B):(N=B,U=this);for(var G=0,$=0;$<U.length;$++)C=(N.words[$]|0)+(U.words[$]|0)+G,this.words[$]=C&67108863,G=C>>>26;for(;G!==0&&$<N.length;$++)C=(N.words[$]|0)+G,this.words[$]=C&67108863,G=C>>>26;if(this.length=N.length,G!==0)this.words[this.length]=G,this.length++;else if(N!==this)for(;$<N.length;$++)this.words[$]=N.words[$];return this},a.prototype.add=function(B){var C;return B.negative!==0&&this.negative===0?(B.negative=0,C=this.sub(B),B.negative^=1,C):B.negative===0&&this.negative!==0?(this.negative=0,C=B.sub(this),this.negative=1,C):this.length>B.length?this.clone().iadd(B):B.clone().iadd(this)},a.prototype.isub=function(B){if(B.negative!==0){B.negative=0;var C=this.iadd(B);return B.negative=1,C._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(B),this.negative=1,this._normSign();var N=this.cmp(B);if(N===0)return this.negative=0,this.length=1,this.words[0]=0,this;var U,G;N>0?(U=this,G=B):(U=B,G=this);for(var $=0,Z=0;Z<G.length;Z++)C=(U.words[Z]|0)-(G.words[Z]|0)+$,$=C>>26,this.words[Z]=C&67108863;for(;$!==0&&Z<U.length;Z++)C=(U.words[Z]|0)+$,$=C>>26,this.words[Z]=C&67108863;if($===0&&Z<U.length&&U!==this)for(;Z<U.length;Z++)this.words[Z]=U.words[Z];return this.length=Math.max(this.length,Z),U!==this&&(this.negative=1),this._strip()},a.prototype.sub=function(B){return this.clone().isub(B)};function E(O,B,C){C.negative=B.negative^O.negative;var N=O.length+B.length|0;C.length=N,N=N-1|0;var U=O.words[0]|0,G=B.words[0]|0,$=U*G,Z=$&67108863,W=$/67108864|0;C.words[0]=Z;for(var P=1;P<N;P++){for(var R=W>>>26,re=W&67108863,T=Math.min(P,B.length-1),x=Math.max(0,P-O.length+1);x<=T;x++){var z=P-x|0;U=O.words[z]|0,G=B.words[x]|0,$=U*G+re,R+=$/67108864|0,re=$&67108863}C.words[P]=re|0,W=R|0}return W!==0?C.words[P]=W|0:C.length--,C._strip()}var p=function(B,C,N){var U=B.words,G=C.words,$=N.words,Z=0,W,P,R,re=U[0]|0,T=re&8191,x=re>>>13,z=U[1]|0,b=z&8191,J=z>>>13,V=U[2]|0,g=V&8191,M=V>>>13,Q=U[3]|0,k=Q&8191,K=Q>>>13,ie=U[4]|0,ne=ie&8191,le=ie>>>13,he=U[5]|0,fe=he&8191,ce=he>>>13,Ae=U[6]|0,Fe=Ae&8191,Me=Ae>>>13,Ke=U[7]|0,$e=Ke&8191,oe=Ke>>>13,X=U[8]|0,te=X&8191,de=X>>>13,Ce=U[9]|0,Se=Ce&8191,ge=Ce>>>13,q=G[0]|0,H=q&8191,ye=q>>>13,_e=G[1]|0,ve=_e&8191,Ie=_e>>>13,Le=G[2]|0,Pe=Le&8191,Re=Le>>>13,Oe=G[3]|0,Ue=Oe&8191,Ge=Oe>>>13,et=G[4]|0,We=et&8191,Ve=et>>>13,Xe=G[5]|0,Je=Xe&8191,Ze=Xe>>>13,tt=G[6]|0,nt=tt&8191,Qe=tt>>>13,ft=G[7]|0,Et=ft&8191,dt=ft>>>13,Lt=G[8]|0,wt=Lt&8191,xt=Lt>>>13,Ft=G[9]|0,bt=Ft&8191,Bt=Ft>>>13;N.negative=B.negative^C.negative,N.length=19,W=Math.imul(T,H),P=Math.imul(T,ye),P=P+Math.imul(x,H)|0,R=Math.imul(x,ye);var Gt=(Z+W|0)+((P&8191)<<13)|0;Z=(R+(P>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,W=Math.imul(b,H),P=Math.imul(b,ye),P=P+Math.imul(J,H)|0,R=Math.imul(J,ye),W=W+Math.imul(T,ve)|0,P=P+Math.imul(T,Ie)|0,P=P+Math.imul(x,ve)|0,R=R+Math.imul(x,Ie)|0;var _r=(Z+W|0)+((P&8191)<<13)|0;Z=(R+(P>>>13)|0)+(_r>>>26)|0,_r&=67108863,W=Math.imul(g,H),P=Math.imul(g,ye),P=P+Math.imul(M,H)|0,R=Math.imul(M,ye),W=W+Math.imul(b,ve)|0,P=P+Math.imul(b,Ie)|0,P=P+Math.imul(J,ve)|0,R=R+Math.imul(J,Ie)|0,W=W+Math.imul(T,Pe)|0,P=P+Math.imul(T,Re)|0,P=P+Math.imul(x,Pe)|0,R=R+Math.imul(x,Re)|0;var ir=(Z+W|0)+((P&8191)<<13)|0;Z=(R+(P>>>13)|0)+(ir>>>26)|0,ir&=67108863,W=Math.imul(k,H),P=Math.imul(k,ye),P=P+Math.imul(K,H)|0,R=Math.imul(K,ye),W=W+Math.imul(g,ve)|0,P=P+Math.imul(g,Ie)|0,P=P+Math.imul(M,ve)|0,R=R+Math.imul(M,Ie)|0,W=W+Math.imul(b,Pe)|0,P=P+Math.imul(b,Re)|0,P=P+Math.imul(J,Pe)|0,R=R+Math.imul(J,Re)|0,W=W+Math.imul(T,Ue)|0,P=P+Math.imul(T,Ge)|0,P=P+Math.imul(x,Ue)|0,R=R+Math.imul(x,Ge)|0;var Dr=(Z+W|0)+((P&8191)<<13)|0;Z=(R+(P>>>13)|0)+(Dr>>>26)|0,Dr&=67108863,W=Math.imul(ne,H),P=Math.imul(ne,ye),P=P+Math.imul(le,H)|0,R=Math.imul(le,ye),W=W+Math.imul(k,ve)|0,P=P+Math.imul(k,Ie)|0,P=P+Math.imul(K,ve)|0,R=R+Math.imul(K,Ie)|0,W=W+Math.imul(g,Pe)|0,P=P+Math.imul(g,Re)|0,P=P+Math.imul(M,Pe)|0,R=R+Math.imul(M,Re)|0,W=W+Math.imul(b,Ue)|0,P=P+Math.imul(b,Ge)|0,P=P+Math.imul(J,Ue)|0,R=R+Math.imul(J,Ge)|0,W=W+Math.imul(T,We)|0,P=P+Math.imul(T,Ve)|0,P=P+Math.imul(x,We)|0,R=R+Math.imul(x,Ve)|0;var Pr=(Z+W|0)+((P&8191)<<13)|0;Z=(R+(P>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,W=Math.imul(fe,H),P=Math.imul(fe,ye),P=P+Math.imul(ce,H)|0,R=Math.imul(ce,ye),W=W+Math.imul(ne,ve)|0,P=P+Math.imul(ne,Ie)|0,P=P+Math.imul(le,ve)|0,R=R+Math.imul(le,Ie)|0,W=W+Math.imul(k,Pe)|0,P=P+Math.imul(k,Re)|0,P=P+Math.imul(K,Pe)|0,R=R+Math.imul(K,Re)|0,W=W+Math.imul(g,Ue)|0,P=P+Math.imul(g,Ge)|0,P=P+Math.imul(M,Ue)|0,R=R+Math.imul(M,Ge)|0,W=W+Math.imul(b,We)|0,P=P+Math.imul(b,Ve)|0,P=P+Math.imul(J,We)|0,R=R+Math.imul(J,Ve)|0,W=W+Math.imul(T,Je)|0,P=P+Math.imul(T,Ze)|0,P=P+Math.imul(x,Je)|0,R=R+Math.imul(x,Ze)|0;var Yn=(Z+W|0)+((P&8191)<<13)|0;Z=(R+(P>>>13)|0)+(Yn>>>26)|0,Yn&=67108863,W=Math.imul(Fe,H),P=Math.imul(Fe,ye),P=P+Math.imul(Me,H)|0,R=Math.imul(Me,ye),W=W+Math.imul(fe,ve)|0,P=P+Math.imul(fe,Ie)|0,P=P+Math.imul(ce,ve)|0,R=R+Math.imul(ce,Ie)|0,W=W+Math.imul(ne,Pe)|0,P=P+Math.imul(ne,Re)|0,P=P+Math.imul(le,Pe)|0,R=R+Math.imul(le,Re)|0,W=W+Math.imul(k,Ue)|0,P=P+Math.imul(k,Ge)|0,P=P+Math.imul(K,Ue)|0,R=R+Math.imul(K,Ge)|0,W=W+Math.imul(g,We)|0,P=P+Math.imul(g,Ve)|0,P=P+Math.imul(M,We)|0,R=R+Math.imul(M,Ve)|0,W=W+Math.imul(b,Je)|0,P=P+Math.imul(b,Ze)|0,P=P+Math.imul(J,Je)|0,R=R+Math.imul(J,Ze)|0,W=W+Math.imul(T,nt)|0,P=P+Math.imul(T,Qe)|0,P=P+Math.imul(x,nt)|0,R=R+Math.imul(x,Qe)|0;var ca=(Z+W|0)+((P&8191)<<13)|0;Z=(R+(P>>>13)|0)+(ca>>>26)|0,ca&=67108863,W=Math.imul($e,H),P=Math.imul($e,ye),P=P+Math.imul(oe,H)|0,R=Math.imul(oe,ye),W=W+Math.imul(Fe,ve)|0,P=P+Math.imul(Fe,Ie)|0,P=P+Math.imul(Me,ve)|0,R=R+Math.imul(Me,Ie)|0,W=W+Math.imul(fe,Pe)|0,P=P+Math.imul(fe,Re)|0,P=P+Math.imul(ce,Pe)|0,R=R+Math.imul(ce,Re)|0,W=W+Math.imul(ne,Ue)|0,P=P+Math.imul(ne,Ge)|0,P=P+Math.imul(le,Ue)|0,R=R+Math.imul(le,Ge)|0,W=W+Math.imul(k,We)|0,P=P+Math.imul(k,Ve)|0,P=P+Math.imul(K,We)|0,R=R+Math.imul(K,Ve)|0,W=W+Math.imul(g,Je)|0,P=P+Math.imul(g,Ze)|0,P=P+Math.imul(M,Je)|0,R=R+Math.imul(M,Ze)|0,W=W+Math.imul(b,nt)|0,P=P+Math.imul(b,Qe)|0,P=P+Math.imul(J,nt)|0,R=R+Math.imul(J,Qe)|0,W=W+Math.imul(T,Et)|0,P=P+Math.imul(T,dt)|0,P=P+Math.imul(x,Et)|0,R=R+Math.imul(x,dt)|0;var ui=(Z+W|0)+((P&8191)<<13)|0;Z=(R+(P>>>13)|0)+(ui>>>26)|0,ui&=67108863,W=Math.imul(te,H),P=Math.imul(te,ye),P=P+Math.imul(de,H)|0,R=Math.imul(de,ye),W=W+Math.imul($e,ve)|0,P=P+Math.imul($e,Ie)|0,P=P+Math.imul(oe,ve)|0,R=R+Math.imul(oe,Ie)|0,W=W+Math.imul(Fe,Pe)|0,P=P+Math.imul(Fe,Re)|0,P=P+Math.imul(Me,Pe)|0,R=R+Math.imul(Me,Re)|0,W=W+Math.imul(fe,Ue)|0,P=P+Math.imul(fe,Ge)|0,P=P+Math.imul(ce,Ue)|0,R=R+Math.imul(ce,Ge)|0,W=W+Math.imul(ne,We)|0,P=P+Math.imul(ne,Ve)|0,P=P+Math.imul(le,We)|0,R=R+Math.imul(le,Ve)|0,W=W+Math.imul(k,Je)|0,P=P+Math.imul(k,Ze)|0,P=P+Math.imul(K,Je)|0,R=R+Math.imul(K,Ze)|0,W=W+Math.imul(g,nt)|0,P=P+Math.imul(g,Qe)|0,P=P+Math.imul(M,nt)|0,R=R+Math.imul(M,Qe)|0,W=W+Math.imul(b,Et)|0,P=P+Math.imul(b,dt)|0,P=P+Math.imul(J,Et)|0,R=R+Math.imul(J,dt)|0,W=W+Math.imul(T,wt)|0,P=P+Math.imul(T,xt)|0,P=P+Math.imul(x,wt)|0,R=R+Math.imul(x,xt)|0;var ua=(Z+W|0)+((P&8191)<<13)|0;Z=(R+(P>>>13)|0)+(ua>>>26)|0,ua&=67108863,W=Math.imul(Se,H),P=Math.imul(Se,ye),P=P+Math.imul(ge,H)|0,R=Math.imul(ge,ye),W=W+Math.imul(te,ve)|0,P=P+Math.imul(te,Ie)|0,P=P+Math.imul(de,ve)|0,R=R+Math.imul(de,Ie)|0,W=W+Math.imul($e,Pe)|0,P=P+Math.imul($e,Re)|0,P=P+Math.imul(oe,Pe)|0,R=R+Math.imul(oe,Re)|0,W=W+Math.imul(Fe,Ue)|0,P=P+Math.imul(Fe,Ge)|0,P=P+Math.imul(Me,Ue)|0,R=R+Math.imul(Me,Ge)|0,W=W+Math.imul(fe,We)|0,P=P+Math.imul(fe,Ve)|0,P=P+Math.imul(ce,We)|0,R=R+Math.imul(ce,Ve)|0,W=W+Math.imul(ne,Je)|0,P=P+Math.imul(ne,Ze)|0,P=P+Math.imul(le,Je)|0,R=R+Math.imul(le,Ze)|0,W=W+Math.imul(k,nt)|0,P=P+Math.imul(k,Qe)|0,P=P+Math.imul(K,nt)|0,R=R+Math.imul(K,Qe)|0,W=W+Math.imul(g,Et)|0,P=P+Math.imul(g,dt)|0,P=P+Math.imul(M,Et)|0,R=R+Math.imul(M,dt)|0,W=W+Math.imul(b,wt)|0,P=P+Math.imul(b,xt)|0,P=P+Math.imul(J,wt)|0,R=R+Math.imul(J,xt)|0,W=W+Math.imul(T,bt)|0,P=P+Math.imul(T,Bt)|0,P=P+Math.imul(x,bt)|0,R=R+Math.imul(x,Bt)|0;var Zn=(Z+W|0)+((P&8191)<<13)|0;Z=(R+(P>>>13)|0)+(Zn>>>26)|0,Zn&=67108863,W=Math.imul(Se,ve),P=Math.imul(Se,Ie),P=P+Math.imul(ge,ve)|0,R=Math.imul(ge,Ie),W=W+Math.imul(te,Pe)|0,P=P+Math.imul(te,Re)|0,P=P+Math.imul(de,Pe)|0,R=R+Math.imul(de,Re)|0,W=W+Math.imul($e,Ue)|0,P=P+Math.imul($e,Ge)|0,P=P+Math.imul(oe,Ue)|0,R=R+Math.imul(oe,Ge)|0,W=W+Math.imul(Fe,We)|0,P=P+Math.imul(Fe,Ve)|0,P=P+Math.imul(Me,We)|0,R=R+Math.imul(Me,Ve)|0,W=W+Math.imul(fe,Je)|0,P=P+Math.imul(fe,Ze)|0,P=P+Math.imul(ce,Je)|0,R=R+Math.imul(ce,Ze)|0,W=W+Math.imul(ne,nt)|0,P=P+Math.imul(ne,Qe)|0,P=P+Math.imul(le,nt)|0,R=R+Math.imul(le,Qe)|0,W=W+Math.imul(k,Et)|0,P=P+Math.imul(k,dt)|0,P=P+Math.imul(K,Et)|0,R=R+Math.imul(K,dt)|0,W=W+Math.imul(g,wt)|0,P=P+Math.imul(g,xt)|0,P=P+Math.imul(M,wt)|0,R=R+Math.imul(M,xt)|0,W=W+Math.imul(b,bt)|0,P=P+Math.imul(b,Bt)|0,P=P+Math.imul(J,bt)|0,R=R+Math.imul(J,Bt)|0;var Ra=(Z+W|0)+((P&8191)<<13)|0;Z=(R+(P>>>13)|0)+(Ra>>>26)|0,Ra&=67108863,W=Math.imul(Se,Pe),P=Math.imul(Se,Re),P=P+Math.imul(ge,Pe)|0,R=Math.imul(ge,Re),W=W+Math.imul(te,Ue)|0,P=P+Math.imul(te,Ge)|0,P=P+Math.imul(de,Ue)|0,R=R+Math.imul(de,Ge)|0,W=W+Math.imul($e,We)|0,P=P+Math.imul($e,Ve)|0,P=P+Math.imul(oe,We)|0,R=R+Math.imul(oe,Ve)|0,W=W+Math.imul(Fe,Je)|0,P=P+Math.imul(Fe,Ze)|0,P=P+Math.imul(Me,Je)|0,R=R+Math.imul(Me,Ze)|0,W=W+Math.imul(fe,nt)|0,P=P+Math.imul(fe,Qe)|0,P=P+Math.imul(ce,nt)|0,R=R+Math.imul(ce,Qe)|0,W=W+Math.imul(ne,Et)|0,P=P+Math.imul(ne,dt)|0,P=P+Math.imul(le,Et)|0,R=R+Math.imul(le,dt)|0,W=W+Math.imul(k,wt)|0,P=P+Math.imul(k,xt)|0,P=P+Math.imul(K,wt)|0,R=R+Math.imul(K,xt)|0,W=W+Math.imul(g,bt)|0,P=P+Math.imul(g,Bt)|0,P=P+Math.imul(M,bt)|0,R=R+Math.imul(M,Bt)|0;var Si=(Z+W|0)+((P&8191)<<13)|0;Z=(R+(P>>>13)|0)+(Si>>>26)|0,Si&=67108863,W=Math.imul(Se,Ue),P=Math.imul(Se,Ge),P=P+Math.imul(ge,Ue)|0,R=Math.imul(ge,Ge),W=W+Math.imul(te,We)|0,P=P+Math.imul(te,Ve)|0,P=P+Math.imul(de,We)|0,R=R+Math.imul(de,Ve)|0,W=W+Math.imul($e,Je)|0,P=P+Math.imul($e,Ze)|0,P=P+Math.imul(oe,Je)|0,R=R+Math.imul(oe,Ze)|0,W=W+Math.imul(Fe,nt)|0,P=P+Math.imul(Fe,Qe)|0,P=P+Math.imul(Me,nt)|0,R=R+Math.imul(Me,Qe)|0,W=W+Math.imul(fe,Et)|0,P=P+Math.imul(fe,dt)|0,P=P+Math.imul(ce,Et)|0,R=R+Math.imul(ce,dt)|0,W=W+Math.imul(ne,wt)|0,P=P+Math.imul(ne,xt)|0,P=P+Math.imul(le,wt)|0,R=R+Math.imul(le,xt)|0,W=W+Math.imul(k,bt)|0,P=P+Math.imul(k,Bt)|0,P=P+Math.imul(K,bt)|0,R=R+Math.imul(K,Bt)|0;var Jr=(Z+W|0)+((P&8191)<<13)|0;Z=(R+(P>>>13)|0)+(Jr>>>26)|0,Jr&=67108863,W=Math.imul(Se,We),P=Math.imul(Se,Ve),P=P+Math.imul(ge,We)|0,R=Math.imul(ge,Ve),W=W+Math.imul(te,Je)|0,P=P+Math.imul(te,Ze)|0,P=P+Math.imul(de,Je)|0,R=R+Math.imul(de,Ze)|0,W=W+Math.imul($e,nt)|0,P=P+Math.imul($e,Qe)|0,P=P+Math.imul(oe,nt)|0,R=R+Math.imul(oe,Qe)|0,W=W+Math.imul(Fe,Et)|0,P=P+Math.imul(Fe,dt)|0,P=P+Math.imul(Me,Et)|0,R=R+Math.imul(Me,dt)|0,W=W+Math.imul(fe,wt)|0,P=P+Math.imul(fe,xt)|0,P=P+Math.imul(ce,wt)|0,R=R+Math.imul(ce,xt)|0,W=W+Math.imul(ne,bt)|0,P=P+Math.imul(ne,Bt)|0,P=P+Math.imul(le,bt)|0,R=R+Math.imul(le,Bt)|0;var Ma=(Z+W|0)+((P&8191)<<13)|0;Z=(R+(P>>>13)|0)+(Ma>>>26)|0,Ma&=67108863,W=Math.imul(Se,Je),P=Math.imul(Se,Ze),P=P+Math.imul(ge,Je)|0,R=Math.imul(ge,Ze),W=W+Math.imul(te,nt)|0,P=P+Math.imul(te,Qe)|0,P=P+Math.imul(de,nt)|0,R=R+Math.imul(de,Qe)|0,W=W+Math.imul($e,Et)|0,P=P+Math.imul($e,dt)|0,P=P+Math.imul(oe,Et)|0,R=R+Math.imul(oe,dt)|0,W=W+Math.imul(Fe,wt)|0,P=P+Math.imul(Fe,xt)|0,P=P+Math.imul(Me,wt)|0,R=R+Math.imul(Me,xt)|0,W=W+Math.imul(fe,bt)|0,P=P+Math.imul(fe,Bt)|0,P=P+Math.imul(ce,bt)|0,R=R+Math.imul(ce,Bt)|0;var Ua=(Z+W|0)+((P&8191)<<13)|0;Z=(R+(P>>>13)|0)+(Ua>>>26)|0,Ua&=67108863,W=Math.imul(Se,nt),P=Math.imul(Se,Qe),P=P+Math.imul(ge,nt)|0,R=Math.imul(ge,Qe),W=W+Math.imul(te,Et)|0,P=P+Math.imul(te,dt)|0,P=P+Math.imul(de,Et)|0,R=R+Math.imul(de,dt)|0,W=W+Math.imul($e,wt)|0,P=P+Math.imul($e,xt)|0,P=P+Math.imul(oe,wt)|0,R=R+Math.imul(oe,xt)|0,W=W+Math.imul(Fe,bt)|0,P=P+Math.imul(Fe,Bt)|0,P=P+Math.imul(Me,bt)|0,R=R+Math.imul(Me,Bt)|0;var Ki=(Z+W|0)+((P&8191)<<13)|0;Z=(R+(P>>>13)|0)+(Ki>>>26)|0,Ki&=67108863,W=Math.imul(Se,Et),P=Math.imul(Se,dt),P=P+Math.imul(ge,Et)|0,R=Math.imul(ge,dt),W=W+Math.imul(te,wt)|0,P=P+Math.imul(te,xt)|0,P=P+Math.imul(de,wt)|0,R=R+Math.imul(de,xt)|0,W=W+Math.imul($e,bt)|0,P=P+Math.imul($e,Bt)|0,P=P+Math.imul(oe,bt)|0,R=R+Math.imul(oe,Bt)|0;var Oa=(Z+W|0)+((P&8191)<<13)|0;Z=(R+(P>>>13)|0)+(Oa>>>26)|0,Oa&=67108863,W=Math.imul(Se,wt),P=Math.imul(Se,xt),P=P+Math.imul(ge,wt)|0,R=Math.imul(ge,xt),W=W+Math.imul(te,bt)|0,P=P+Math.imul(te,Bt)|0,P=P+Math.imul(de,bt)|0,R=R+Math.imul(de,Bt)|0;var ue=(Z+W|0)+((P&8191)<<13)|0;Z=(R+(P>>>13)|0)+(ue>>>26)|0,ue&=67108863,W=Math.imul(Se,bt),P=Math.imul(Se,Bt),P=P+Math.imul(ge,bt)|0,R=Math.imul(ge,Bt);var ee=(Z+W|0)+((P&8191)<<13)|0;return Z=(R+(P>>>13)|0)+(ee>>>26)|0,ee&=67108863,$[0]=Gt,$[1]=_r,$[2]=ir,$[3]=Dr,$[4]=Pr,$[5]=Yn,$[6]=ca,$[7]=ui,$[8]=ua,$[9]=Zn,$[10]=Ra,$[11]=Si,$[12]=Jr,$[13]=Ma,$[14]=Ua,$[15]=Ki,$[16]=Oa,$[17]=ue,$[18]=ee,Z!==0&&($[19]=Z,N.length++),N};Math.imul||(p=E);function m(O,B,C){C.negative=B.negative^O.negative,C.length=O.length+B.length;for(var N=0,U=0,G=0;G<C.length-1;G++){var $=U;U=0;for(var Z=N&67108863,W=Math.min(G,B.length-1),P=Math.max(0,G-O.length+1);P<=W;P++){var R=G-P,re=O.words[R]|0,T=B.words[P]|0,x=re*T,z=x&67108863;$=$+(x/67108864|0)|0,z=z+Z|0,Z=z&67108863,$=$+(z>>>26)|0,U+=$>>>26,$&=67108863}C.words[G]=Z,N=$,$=U}return N!==0?C.words[G]=N:C.length--,C._strip()}function S(O,B,C){return m(O,B,C)}a.prototype.mulTo=function(B,C){var N,U=this.length+B.length;return this.length===10&&B.length===10?N=p(this,B,C):U<63?N=E(this,B,C):U<1024?N=m(this,B,C):N=S(this,B,C),N},a.prototype.mul=function(B){var C=new a(null);return C.words=new Array(this.length+B.length),this.mulTo(B,C)},a.prototype.mulf=function(B){var C=new a(null);return C.words=new Array(this.length+B.length),S(this,B,C)},a.prototype.imul=function(B){return this.clone().mulTo(B,this)},a.prototype.imuln=function(B){var C=B<0;C&&(B=-B),n(typeof B=="number"),n(B<67108864);for(var N=0,U=0;U<this.length;U++){var G=(this.words[U]|0)*B,$=(G&67108863)+(N&67108863);N>>=26,N+=G/67108864|0,N+=$>>>26,this.words[U]=$&67108863}return N!==0&&(this.words[U]=N,this.length++),C?this.ineg():this},a.prototype.muln=function(B){return this.clone().imuln(B)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(B){var C=_(B);if(C.length===0)return new a(1);for(var N=this,U=0;U<C.length&&C[U]===0;U++,N=N.sqr());if(++U<C.length)for(var G=N.sqr();U<C.length;U++,G=G.sqr())C[U]!==0&&(N=N.mul(G));return N},a.prototype.iushln=function(B){n(typeof B=="number"&&B>=0);var C=B%26,N=(B-C)/26,U=67108863>>>26-C<<26-C,G;if(C!==0){var $=0;for(G=0;G<this.length;G++){var Z=this.words[G]&U,W=(this.words[G]|0)-Z<<C;this.words[G]=W|$,$=Z>>>26-C}$&&(this.words[G]=$,this.length++)}if(N!==0){for(G=this.length-1;G>=0;G--)this.words[G+N]=this.words[G];for(G=0;G<N;G++)this.words[G]=0;this.length+=N}return this._strip()},a.prototype.ishln=function(B){return n(this.negative===0),this.iushln(B)},a.prototype.iushrn=function(B,C,N){n(typeof B=="number"&&B>=0);var U;C?U=(C-C%26)/26:U=0;var G=B%26,$=Math.min((B-G)/26,this.length),Z=67108863^67108863>>>G<<G,W=N;if(U-=$,U=Math.max(0,U),W){for(var P=0;P<$;P++)W.words[P]=this.words[P];W.length=$}if($!==0)if(this.length>$)for(this.length-=$,P=0;P<this.length;P++)this.words[P]=this.words[P+$];else this.words[0]=0,this.length=1;var R=0;for(P=this.length-1;P>=0&&(R!==0||P>=U);P--){var re=this.words[P]|0;this.words[P]=R<<26-G|re>>>G,R=re&Z}return W&&R!==0&&(W.words[W.length++]=R),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},a.prototype.ishrn=function(B,C,N){return n(this.negative===0),this.iushrn(B,C,N)},a.prototype.shln=function(B){return this.clone().ishln(B)},a.prototype.ushln=function(B){return this.clone().iushln(B)},a.prototype.shrn=function(B){return this.clone().ishrn(B)},a.prototype.ushrn=function(B){return this.clone().iushrn(B)},a.prototype.testn=function(B){n(typeof B=="number"&&B>=0);var C=B%26,N=(B-C)/26,U=1<<C;if(this.length<=N)return!1;var G=this.words[N];return!!(G&U)},a.prototype.imaskn=function(B){n(typeof B=="number"&&B>=0);var C=B%26,N=(B-C)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=N)return this;if(C!==0&&N++,this.length=Math.min(N,this.length),C!==0){var U=67108863^67108863>>>C<<C;this.words[this.length-1]&=U}return this._strip()},a.prototype.maskn=function(B){return this.clone().imaskn(B)},a.prototype.iaddn=function(B){return n(typeof B=="number"),n(B<67108864),B<0?this.isubn(-B):this.negative!==0?this.length===1&&(this.words[0]|0)<=B?(this.words[0]=B-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(B),this.negative=1,this):this._iaddn(B)},a.prototype._iaddn=function(B){this.words[0]+=B;for(var C=0;C<this.length&&this.words[C]>=67108864;C++)this.words[C]-=67108864,C===this.length-1?this.words[C+1]=1:this.words[C+1]++;return this.length=Math.max(this.length,C+1),this},a.prototype.isubn=function(B){if(n(typeof B=="number"),n(B<67108864),B<0)return this.iaddn(-B);if(this.negative!==0)return this.negative=0,this.iaddn(B),this.negative=1,this;if(this.words[0]-=B,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var C=0;C<this.length&&this.words[C]<0;C++)this.words[C]+=67108864,this.words[C+1]-=1;return this._strip()},a.prototype.addn=function(B){return this.clone().iaddn(B)},a.prototype.subn=function(B){return this.clone().isubn(B)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(B,C,N){var U=B.length+N,G;this._expand(U);var $,Z=0;for(G=0;G<B.length;G++){$=(this.words[G+N]|0)+Z;var W=(B.words[G]|0)*C;$-=W&67108863,Z=($>>26)-(W/67108864|0),this.words[G+N]=$&67108863}for(;G<this.length-N;G++)$=(this.words[G+N]|0)+Z,Z=$>>26,this.words[G+N]=$&67108863;if(Z===0)return this._strip();for(n(Z===-1),Z=0,G=0;G<this.length;G++)$=-(this.words[G]|0)+Z,Z=$>>26,this.words[G]=$&67108863;return this.negative=1,this._strip()},a.prototype._wordDiv=function(B,C){var N=this.length-B.length,U=this.clone(),G=B,$=G.words[G.length-1]|0,Z=this._countBits($);N=26-Z,N!==0&&(G=G.ushln(N),U.iushln(N),$=G.words[G.length-1]|0);var W=U.length-G.length,P;if(C!=="mod"){P=new a(null),P.length=W+1,P.words=new Array(P.length);for(var R=0;R<P.length;R++)P.words[R]=0}var re=U.clone()._ishlnsubmul(G,1,W);re.negative===0&&(U=re,P&&(P.words[W]=1));for(var T=W-1;T>=0;T--){var x=(U.words[G.length+T]|0)*67108864+(U.words[G.length+T-1]|0);for(x=Math.min(x/$|0,67108863),U._ishlnsubmul(G,x,T);U.negative!==0;)x--,U.negative=0,U._ishlnsubmul(G,1,T),U.isZero()||(U.negative^=1);P&&(P.words[T]=x)}return P&&P._strip(),U._strip(),C!=="div"&&N!==0&&U.iushrn(N),{div:P||null,mod:U}},a.prototype.divmod=function(B,C,N){if(n(!B.isZero()),this.isZero())return{div:new a(0),mod:new a(0)};var U,G,$;return this.negative!==0&&B.negative===0?($=this.neg().divmod(B,C),C!=="mod"&&(U=$.div.neg()),C!=="div"&&(G=$.mod.neg(),N&&G.negative!==0&&G.iadd(B)),{div:U,mod:G}):this.negative===0&&B.negative!==0?($=this.divmod(B.neg(),C),C!=="mod"&&(U=$.div.neg()),{div:U,mod:$.mod}):this.negative&B.negative?($=this.neg().divmod(B.neg(),C),C!=="div"&&(G=$.mod.neg(),N&&G.negative!==0&&G.isub(B)),{div:$.div,mod:G}):B.length>this.length||this.cmp(B)<0?{div:new a(0),mod:this}:B.length===1?C==="div"?{div:this.divn(B.words[0]),mod:null}:C==="mod"?{div:null,mod:new a(this.modrn(B.words[0]))}:{div:this.divn(B.words[0]),mod:new a(this.modrn(B.words[0]))}:this._wordDiv(B,C)},a.prototype.div=function(B){return this.divmod(B,"div",!1).div},a.prototype.mod=function(B){return this.divmod(B,"mod",!1).mod},a.prototype.umod=function(B){return this.divmod(B,"mod",!0).mod},a.prototype.divRound=function(B){var C=this.divmod(B);if(C.mod.isZero())return C.div;var N=C.div.negative!==0?C.mod.isub(B):C.mod,U=B.ushrn(1),G=B.andln(1),$=N.cmp(U);return $<0||G===1&&$===0?C.div:C.div.negative!==0?C.div.isubn(1):C.div.iaddn(1)},a.prototype.modrn=function(B){var C=B<0;C&&(B=-B),n(B<=67108863);for(var N=(1<<26)%B,U=0,G=this.length-1;G>=0;G--)U=(N*U+(this.words[G]|0))%B;return C?-U:U},a.prototype.modn=function(B){return this.modrn(B)},a.prototype.idivn=function(B){var C=B<0;C&&(B=-B),n(B<=67108863);for(var N=0,U=this.length-1;U>=0;U--){var G=(this.words[U]|0)+N*67108864;this.words[U]=G/B|0,N=G%B}return this._strip(),C?this.ineg():this},a.prototype.divn=function(B){return this.clone().idivn(B)},a.prototype.egcd=function(B){n(B.negative===0),n(!B.isZero());var C=this,N=B.clone();C.negative!==0?C=C.umod(B):C=C.clone();for(var U=new a(1),G=new a(0),$=new a(0),Z=new a(1),W=0;C.isEven()&&N.isEven();)C.iushrn(1),N.iushrn(1),++W;for(var P=N.clone(),R=C.clone();!C.isZero();){for(var re=0,T=1;!(C.words[0]&T)&&re<26;++re,T<<=1);if(re>0)for(C.iushrn(re);re-- >0;)(U.isOdd()||G.isOdd())&&(U.iadd(P),G.isub(R)),U.iushrn(1),G.iushrn(1);for(var x=0,z=1;!(N.words[0]&z)&&x<26;++x,z<<=1);if(x>0)for(N.iushrn(x);x-- >0;)($.isOdd()||Z.isOdd())&&($.iadd(P),Z.isub(R)),$.iushrn(1),Z.iushrn(1);C.cmp(N)>=0?(C.isub(N),U.isub($),G.isub(Z)):(N.isub(C),$.isub(U),Z.isub(G))}return{a:$,b:Z,gcd:N.iushln(W)}},a.prototype._invmp=function(B){n(B.negative===0),n(!B.isZero());var C=this,N=B.clone();C.negative!==0?C=C.umod(B):C=C.clone();for(var U=new a(1),G=new a(0),$=N.clone();C.cmpn(1)>0&&N.cmpn(1)>0;){for(var Z=0,W=1;!(C.words[0]&W)&&Z<26;++Z,W<<=1);if(Z>0)for(C.iushrn(Z);Z-- >0;)U.isOdd()&&U.iadd($),U.iushrn(1);for(var P=0,R=1;!(N.words[0]&R)&&P<26;++P,R<<=1);if(P>0)for(N.iushrn(P);P-- >0;)G.isOdd()&&G.iadd($),G.iushrn(1);C.cmp(N)>=0?(C.isub(N),U.isub(G)):(N.isub(C),G.isub(U))}var re;return C.cmpn(1)===0?re=U:re=G,re.cmpn(0)<0&&re.iadd(B),re},a.prototype.gcd=function(B){if(this.isZero())return B.abs();if(B.isZero())return this.abs();var C=this.clone(),N=B.clone();C.negative=0,N.negative=0;for(var U=0;C.isEven()&&N.isEven();U++)C.iushrn(1),N.iushrn(1);do{for(;C.isEven();)C.iushrn(1);for(;N.isEven();)N.iushrn(1);var G=C.cmp(N);if(G<0){var $=C;C=N,N=$}else if(G===0||N.cmpn(1)===0)break;C.isub(N)}while(!0);return N.iushln(U)},a.prototype.invm=function(B){return this.egcd(B).a.umod(B)},a.prototype.isEven=function(){return(this.words[0]&1)===0},a.prototype.isOdd=function(){return(this.words[0]&1)===1},a.prototype.andln=function(B){return this.words[0]&B},a.prototype.bincn=function(B){n(typeof B=="number");var C=B%26,N=(B-C)/26,U=1<<C;if(this.length<=N)return this._expand(N+1),this.words[N]|=U,this;for(var G=U,$=N;G!==0&&$<this.length;$++){var Z=this.words[$]|0;Z+=G,G=Z>>>26,Z&=67108863,this.words[$]=Z}return G!==0&&(this.words[$]=G,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(B){var C=B<0;if(this.negative!==0&&!C)return-1;if(this.negative===0&&C)return 1;this._strip();var N;if(this.length>1)N=1;else{C&&(B=-B),n(B<=67108863,"Number is too big");var U=this.words[0]|0;N=U===B?0:U<B?-1:1}return this.negative!==0?-N|0:N},a.prototype.cmp=function(B){if(this.negative!==0&&B.negative===0)return-1;if(this.negative===0&&B.negative!==0)return 1;var C=this.ucmp(B);return this.negative!==0?-C|0:C},a.prototype.ucmp=function(B){if(this.length>B.length)return 1;if(this.length<B.length)return-1;for(var C=0,N=this.length-1;N>=0;N--){var U=this.words[N]|0,G=B.words[N]|0;if(U!==G){U<G?C=-1:U>G&&(C=1);break}}return C},a.prototype.gtn=function(B){return this.cmpn(B)===1},a.prototype.gt=function(B){return this.cmp(B)===1},a.prototype.gten=function(B){return this.cmpn(B)>=0},a.prototype.gte=function(B){return this.cmp(B)>=0},a.prototype.ltn=function(B){return this.cmpn(B)===-1},a.prototype.lt=function(B){return this.cmp(B)===-1},a.prototype.lten=function(B){return this.cmpn(B)<=0},a.prototype.lte=function(B){return this.cmp(B)<=0},a.prototype.eqn=function(B){return this.cmpn(B)===0},a.prototype.eq=function(B){return this.cmp(B)===0},a.red=function(B){return new j(B)},a.prototype.toRed=function(B){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),B.convertTo(this)._forceRed(B)},a.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(B){return this.red=B,this},a.prototype.forceRed=function(B){return n(!this.red,"Already a number in reduction context"),this._forceRed(B)},a.prototype.redAdd=function(B){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,B)},a.prototype.redIAdd=function(B){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,B)},a.prototype.redSub=function(B){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,B)},a.prototype.redISub=function(B){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,B)},a.prototype.redShl=function(B){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,B)},a.prototype.redMul=function(B){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,B),this.red.mul(this,B)},a.prototype.redIMul=function(B){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,B),this.red.imul(this,B)},a.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(B){return n(this.red&&!B.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,B)};var F={k256:null,p224:null,p192:null,p25519:null};function I(O,B){this.name=O,this.p=new a(B,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}I.prototype._tmp=function(){var B=new a(null);return B.words=new Array(Math.ceil(this.n/13)),B},I.prototype.ireduce=function(B){var C=B,N;do this.split(C,this.tmp),C=this.imulK(C),C=C.iadd(this.tmp),N=C.bitLength();while(N>this.n);var U=N<this.n?-1:C.ucmp(this.p);return U===0?(C.words[0]=0,C.length=1):U>0?C.isub(this.p):C.strip!==void 0?C.strip():C._strip(),C},I.prototype.split=function(B,C){B.iushrn(this.n,0,C)},I.prototype.imulK=function(B){return B.imul(this.k)};function v(){I.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(v,I),v.prototype.split=function(B,C){for(var N=4194303,U=Math.min(B.length,9),G=0;G<U;G++)C.words[G]=B.words[G];if(C.length=U,B.length<=9){B.words[0]=0,B.length=1;return}var $=B.words[9];for(C.words[C.length++]=$&N,G=10;G<B.length;G++){var Z=B.words[G]|0;B.words[G-10]=(Z&N)<<4|$>>>22,$=Z}$>>>=22,B.words[G-10]=$,$===0&&B.length>10?B.length-=10:B.length-=9},v.prototype.imulK=function(B){B.words[B.length]=0,B.words[B.length+1]=0,B.length+=2;for(var C=0,N=0;N<B.length;N++){var U=B.words[N]|0;C+=U*977,B.words[N]=C&67108863,C=U*64+(C/67108864|0)}return B.words[B.length-1]===0&&(B.length--,B.words[B.length-1]===0&&B.length--),B};function A(){I.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(A,I);function D(){I.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(D,I);function L(){I.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(L,I),L.prototype.imulK=function(B){for(var C=0,N=0;N<B.length;N++){var U=(B.words[N]|0)*19+C,G=U&67108863;U>>>=26,B.words[N]=G,C=U}return C!==0&&(B.words[B.length++]=C),B},a._prime=function(B){if(F[B])return F[B];var C;if(B==="k256")C=new v;else if(B==="p224")C=new A;else if(B==="p192")C=new D;else if(B==="p25519")C=new L;else throw new Error("Unknown prime "+B);return F[B]=C,C};function j(O){if(typeof O=="string"){var B=a._prime(O);this.m=B.p,this.prime=B}else n(O.gtn(1),"modulus must be greater than 1"),this.m=O,this.prime=null}j.prototype._verify1=function(B){n(B.negative===0,"red works only with positives"),n(B.red,"red works only with red numbers")},j.prototype._verify2=function(B,C){n((B.negative|C.negative)===0,"red works only with positives"),n(B.red&&B.red===C.red,"red works only with red numbers")},j.prototype.imod=function(B){return this.prime?this.prime.ireduce(B)._forceRed(this):(c(B,B.umod(this.m)._forceRed(this)),B)},j.prototype.neg=function(B){return B.isZero()?B.clone():this.m.sub(B)._forceRed(this)},j.prototype.add=function(B,C){this._verify2(B,C);var N=B.add(C);return N.cmp(this.m)>=0&&N.isub(this.m),N._forceRed(this)},j.prototype.iadd=function(B,C){this._verify2(B,C);var N=B.iadd(C);return N.cmp(this.m)>=0&&N.isub(this.m),N},j.prototype.sub=function(B,C){this._verify2(B,C);var N=B.sub(C);return N.cmpn(0)<0&&N.iadd(this.m),N._forceRed(this)},j.prototype.isub=function(B,C){this._verify2(B,C);var N=B.isub(C);return N.cmpn(0)<0&&N.iadd(this.m),N},j.prototype.shl=function(B,C){return this._verify1(B),this.imod(B.ushln(C))},j.prototype.imul=function(B,C){return this._verify2(B,C),this.imod(B.imul(C))},j.prototype.mul=function(B,C){return this._verify2(B,C),this.imod(B.mul(C))},j.prototype.isqr=function(B){return this.imul(B,B.clone())},j.prototype.sqr=function(B){return this.mul(B,B)},j.prototype.sqrt=function(B){if(B.isZero())return B.clone();var C=this.m.andln(3);if(n(C%2===1),C===3){var N=this.m.add(new a(1)).iushrn(2);return this.pow(B,N)}for(var U=this.m.subn(1),G=0;!U.isZero()&&U.andln(1)===0;)G++,U.iushrn(1);n(!U.isZero());var $=new a(1).toRed(this),Z=$.redNeg(),W=this.m.subn(1).iushrn(1),P=this.m.bitLength();for(P=new a(2*P*P).toRed(this);this.pow(P,W).cmp(Z)!==0;)P.redIAdd(Z);for(var R=this.pow(P,U),re=this.pow(B,U.addn(1).iushrn(1)),T=this.pow(B,U),x=G;T.cmp($)!==0;){for(var z=T,b=0;z.cmp($)!==0;b++)z=z.redSqr();n(b<x);var J=this.pow(R,new a(1).iushln(x-b-1));re=re.redMul(J),R=J.redSqr(),T=T.redMul(R),x=b}return re},j.prototype.invm=function(B){var C=B._invmp(this.m);return C.negative!==0?(C.negative=0,this.imod(C).redNeg()):this.imod(C)},j.prototype.pow=function(B,C){if(C.isZero())return new a(1).toRed(this);if(C.cmpn(1)===0)return B.clone();var N=4,U=new Array(1<<N);U[0]=new a(1).toRed(this),U[1]=B;for(var G=2;G<U.length;G++)U[G]=this.mul(U[G-1],B);var $=U[0],Z=0,W=0,P=C.bitLength()%26;for(P===0&&(P=26),G=C.length-1;G>=0;G--){for(var R=C.words[G],re=P-1;re>=0;re--){var T=R>>re&1;if($!==U[0]&&($=this.sqr($)),T===0&&Z===0){W=0;continue}Z<<=1,Z|=T,W++,!(W!==N&&(G!==0||re!==0))&&($=this.mul($,U[Z]),W=0,Z=0)}P=26}return $},j.prototype.convertTo=function(B){var C=B.umod(this.m);return C===B?C.clone():C},j.prototype.convertFrom=function(B){var C=B.clone();return C.red=null,C},a.mont=function(B){return new Y(B)};function Y(O){j.call(this,O),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(Y,j),Y.prototype.convertTo=function(B){return this.imod(B.ushln(this.shift))},Y.prototype.convertFrom=function(B){var C=this.imod(B.mul(this.rinv));return C.red=null,C},Y.prototype.imul=function(B,C){if(B.isZero()||C.isZero())return B.words[0]=0,B.length=1,B;var N=B.imul(C),U=N.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),G=N.isub(U).iushrn(this.shift),$=G;return G.cmp(this.m)>=0?$=G.isub(this.m):G.cmpn(0)<0&&($=G.iadd(this.m)),$._forceRed(this)},Y.prototype.mul=function(B,C){if(B.isZero()||C.isZero())return new a(0)._forceRed(this);var N=B.mul(C),U=N.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),G=N.isub(U).iushrn(this.shift),$=G;return G.cmp(this.m)>=0?$=G.isub(this.m):G.cmpn(0)<0&&($=G.iadd(this.m)),$._forceRed(this)},Y.prototype.invm=function(B){var C=this.imod(B._invmp(this.m).mul(this.r2));return C._forceRed(this)}})(t,Kn)})(Lv);var oH=Lv.exports;const $t=lu(oH),sH="logger/5.7.0";let rA=!1,nA=!1;const C1={debug:1,default:2,info:2,warning:3,error:4,off:5};let iA=C1.default,zg=null;function lH(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("é".normalize("NFD")!=="é")throw new Error("broken implementation")}catch(t){return t.message}return null}const aA=lH();var dy;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(dy||(dy={}));var Wa;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Wa||(Wa={}));const oA="0123456789abcdef";class qe{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();C1[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(iA>C1[n])&&console.log.apply(console,r)}debug(...e){this._log(qe.levels.DEBUG,e)}info(...e){this._log(qe.levels.INFO,e)}warn(...e){this._log(qe.levels.WARNING,e)}makeError(e,r,n){if(nA)return this.makeError("censored error",r,{});r||(r=qe.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(u=>{const l=n[u];try{if(l instanceof Uint8Array){let c="";for(let f=0;f<l.length;f++)c+=oA[l[f]>>4],c+=oA[l[f]&15];i.push(u+"=Uint8Array(0x"+c+")")}else i.push(u+"="+JSON.stringify(l))}catch{i.push(u+"="+JSON.stringify(n[u].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const a=e;let o="";switch(r){case Wa.NUMERIC_FAULT:{o="NUMERIC_FAULT";const u=e;switch(u){case"overflow":case"underflow":case"division-by-zero":o+="-"+u;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case Wa.CALL_EXCEPTION:case Wa.INSUFFICIENT_FUNDS:case Wa.MISSING_NEW:case Wa.NONCE_EXPIRED:case Wa.REPLACEMENT_UNDERPRICED:case Wa.TRANSACTION_REPLACED:case Wa.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const s=new Error(e);return s.reason=a,s.code=r,Object.keys(n).forEach(function(u){s[u]=n[u]}),s}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,qe.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){aA&&this.throwError("platform missing String.prototype.normalize",qe.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:aA})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,qe.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,qe.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,qe.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,qe.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",qe.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",qe.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",qe.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return zg||(zg=new qe(sH)),zg}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",qe.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),rA){if(!e)return;this.globalLogger().throwError("error censorship permanent",qe.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}nA=!!e,rA=!!r}static setLogLevel(e){const r=C1[e.toLowerCase()];if(r==null){qe.globalLogger().warn("invalid log level - "+e);return}iA=r}static from(e){return new qe(e)}}qe.errors=Wa;qe.levels=dy;const cH="bytes/5.7.0",sn=new qe(cH);function qb(t){return!!t.toHexString}function Nc(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Nc(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function Fv(t){return br(t)&&!(t.length%2)||Qp(t)}function sA(t){return typeof t=="number"&&t==t&&t%1===0}function Qp(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!sA(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!sA(r)||r<0||r>=256)return!1}return!0}function Mt(t,e){if(e||(e={}),typeof t=="number"){sn.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),Nc(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),qb(t)&&(t=t.toHexString()),br(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":sn.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return Nc(new Uint8Array(n))}return Qp(t)?Nc(new Uint8Array(t)):sn.throwArgumentError("invalid arrayify value","value",t)}function ra(t){const e=t.map(i=>Mt(i)),r=e.reduce((i,a)=>i+a.length,0),n=new Uint8Array(r);return e.reduce((i,a)=>(n.set(a,i),i+a.length),0),Nc(n)}function iu(t){let e=Mt(t);if(e.length===0)return e;let r=0;for(;r<e.length&&e[r]===0;)r++;return r&&(e=e.slice(r)),e}function uH(t,e){t=Mt(t),t.length>e&&sn.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(e);return r.set(t,e-t.length),Nc(r)}function br(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const Kg="0123456789abcdef";function Tt(t,e){if(e||(e={}),typeof t=="number"){sn.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=Kg[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),qb(t))return t.toHexString();if(br(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":sn.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(Qp(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=Kg[(i&240)>>4]+Kg[i&15]}return r}return sn.throwArgumentError("invalid hexlify value","value",t)}function Il(t){if(typeof t!="string")t=Tt(t);else if(!br(t)||t.length%2)return null;return(t.length-2)/2}function ai(t,e,r){return typeof t!="string"?t=Tt(t):(!br(t)||t.length%2)&&sn.throwArgumentError("invalid hexData","value",t),e=2+2*e,r!=null?"0x"+t.substring(e,2+2*r):"0x"+t.substring(e)}function ki(t){let e="0x";return t.forEach(r=>{e+=Tt(r).substring(2)}),e}function Dv(t){const e=fH(Tt(t,{hexPad:"left"}));return e==="0x"?"0x0":e}function fH(t){typeof t!="string"&&(t=Tt(t)),br(t)||sn.throwArgumentError("invalid hex string","value",t),t=t.substring(2);let e=0;for(;e<t.length&&t[e]==="0";)e++;return"0x"+t.substring(e)}function un(t,e){for(typeof t!="string"?t=Tt(t):br(t)||sn.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&sn.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function Hp(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(Fv(t)){let r=Mt(t);r.length===64?(e.v=27+(r[32]>>7),r[32]&=127,e.r=Tt(r.slice(0,32)),e.s=Tt(r.slice(32,64))):r.length===65?(e.r=Tt(r.slice(0,32)),e.s=Tt(r.slice(32,64)),e.v=r[64]):sn.throwArgumentError("invalid signature string","signature",t),e.v<27&&(e.v===0||e.v===1?e.v+=27:sn.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=Tt(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,e._vs!=null){const i=uH(Mt(e._vs),32);e._vs=Tt(i);const a=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=a:e.recoveryParam!==a&&sn.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),i[0]&=127;const o=Tt(i);e.s==null?e.s=o:e.s!==o&&sn.throwArgumentError("signature v mismatch _vs","signature",t)}if(e.recoveryParam==null)e.v==null?sn.throwArgumentError("signature missing v and recoveryParam","signature",t):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&sn.throwArgumentError("signature recoveryParam mismatch v","signature",t)}e.r==null||!br(e.r)?sn.throwArgumentError("signature missing or invalid r","signature",t):e.r=un(e.r,32),e.s==null||!br(e.s)?sn.throwArgumentError("signature missing or invalid s","signature",t):e.s=un(e.s,32);const r=Mt(e.s);r[0]>=128&&sn.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(r[0]|=128);const n=Tt(r);e._vs&&(br(e._vs)||sn.throwArgumentError("signature invalid _vs","signature",t),e._vs=un(e._vs,32)),e._vs==null?e._vs=n:e._vs!==n&&sn.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}const dH="bignumber/5.7.0";var Sx=$t.BN;const us=new qe(dH),qg={},lA=9007199254740991;let cA=!1;class gt{constructor(e,r){e!==qg&&us.throwError("cannot call constructor directly; use BigNumber.from",qe.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return Li(ur(this).fromTwos(e))}toTwos(e){return Li(ur(this).toTwos(e))}abs(){return this._hex[0]==="-"?gt.from(this._hex.substring(1)):this}add(e){return Li(ur(this).add(ur(e)))}sub(e){return Li(ur(this).sub(ur(e)))}div(e){return gt.from(e).isZero()&&xa("division-by-zero","div"),Li(ur(this).div(ur(e)))}mul(e){return Li(ur(this).mul(ur(e)))}mod(e){const r=ur(e);return r.isNeg()&&xa("division-by-zero","mod"),Li(ur(this).umod(r))}pow(e){const r=ur(e);return r.isNeg()&&xa("negative-power","pow"),Li(ur(this).pow(r))}and(e){const r=ur(e);return(this.isNegative()||r.isNeg())&&xa("unbound-bitwise-result","and"),Li(ur(this).and(r))}or(e){const r=ur(e);return(this.isNegative()||r.isNeg())&&xa("unbound-bitwise-result","or"),Li(ur(this).or(r))}xor(e){const r=ur(e);return(this.isNegative()||r.isNeg())&&xa("unbound-bitwise-result","xor"),Li(ur(this).xor(r))}mask(e){return(this.isNegative()||e<0)&&xa("negative-width","mask"),Li(ur(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&xa("negative-width","shl"),Li(ur(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&xa("negative-width","shr"),Li(ur(this).shrn(e))}eq(e){return ur(this).eq(ur(e))}lt(e){return ur(this).lt(ur(e))}lte(e){return ur(this).lte(ur(e))}gt(e){return ur(this).gt(ur(e))}gte(e){return ur(this).gte(ur(e))}isNegative(){return this._hex[0]==="-"}isZero(){return ur(this).isZero()}toNumber(){try{return ur(this).toNumber()}catch{xa("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return us.throwError("this platform does not support BigInt",qe.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?cA||(cA=!0,us.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?us.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",qe.errors.UNEXPECTED_ARGUMENT,{}):us.throwError("BigNumber.toString does not accept parameters",qe.errors.UNEXPECTED_ARGUMENT,{})),ur(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof gt)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new gt(qg,Cd(e)):e.match(/^-?[0-9]+$/)?new gt(qg,Cd(new Sx(e))):us.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&xa("underflow","BigNumber.from",e),(e>=lA||e<=-lA)&&xa("overflow","BigNumber.from",e),gt.from(String(e));const r=e;if(typeof r=="bigint")return gt.from(r.toString());if(Qp(r))return gt.from(Tt(r));if(r)if(r.toHexString){const n=r.toHexString();if(typeof n=="string")return gt.from(n)}else{let n=r._hex;if(n==null&&r.type==="BigNumber"&&(n=r.hex),typeof n=="string"&&(br(n)||n[0]==="-"&&br(n.substring(1))))return gt.from(n)}return us.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function Cd(t){if(typeof t!="string")return Cd(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&us.throwArgumentError("invalid hex","value",t),t=Cd(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function Li(t){return gt.from(Cd(t))}function ur(t){const e=gt.from(t).toHexString();return e[0]==="-"?new Sx("-"+e.substring(3),16):new Sx(e.substring(2),16)}function xa(t,e,r){const n={fault:t,operation:e};return r!=null&&(n.value=r),us.throwError(t,qe.errors.NUMERIC_FAULT,n)}function hH(t){return new Sx(t,36).toString(16)}const xH="properties/5.7.0";var pH=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(c){try{l(n.next(c))}catch(f){o(f)}}function u(c){try{l(n.throw(c))}catch(f){o(f)}}function l(c){c.done?a(c.value):i(c.value).then(s,u)}l((n=n.apply(t,e||[])).next())})};const Ix=new qe(xH);function ut(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function Po(t,e){for(let r=0;r<32;r++){if(t[e])return t[e];if(!t.prototype||typeof t.prototype!="object")break;t=Object.getPrototypeOf(t.prototype).constructor}return null}function gn(t){return pH(this,void 0,void 0,function*(){const e=Object.keys(t).map(n=>{const i=t[n];return Promise.resolve(i).then(a=>({key:n,value:a}))});return(yield Promise.all(e)).reduce((n,i)=>(n[i.key]=i.value,n),{})})}function gH(t,e){(!t||typeof t!="object")&&Ix.throwArgumentError("invalid object","object",t),Object.keys(t).forEach(r=>{e[r]||Ix.throwArgumentError("invalid object key - "+r,"transaction:"+r,t)})}function Sn(t){const e={};for(const r in t)e[r]=t[r];return e}const mH={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function Qb(t){if(t==null||mH[typeof t])return!0;if(Array.isArray(t)||typeof t=="object"){if(!Object.isFrozen(t))return!1;const e=Object.keys(t);for(let r=0;r<e.length;r++){let n=null;try{n=t[e[r]]}catch{continue}if(!Qb(n))return!1}return!0}return Ix.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function yH(t){if(Qb(t))return t;if(Array.isArray(t))return Object.freeze(t.map(e=>ks(e)));if(typeof t=="object"){const e={};for(const r in t){const n=t[r];n!==void 0&&ut(e,r,ks(n))}return e}return Ix.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function ks(t){return yH(t)}class Zd{constructor(e){for(const r in e)this[r]=ks(e[r])}}const Xd="abi/5.7.0",xr=new qe(Xd),Ll={};let uA={calldata:!0,memory:!0,storage:!0},vH={calldata:!0,memory:!0};function qh(t,e){if(t==="bytes"||t==="string"){if(uA[e])return!0}else if(t==="address"){if(e==="payable")return!0}else if((t.indexOf("[")>=0||t==="tuple")&&vH[e])return!0;return(uA[e]||e==="payable")&&xr.throwArgumentError("invalid modifier","name",e),!1}function EH(t,e){let r=t;function n(s){xr.throwArgumentError(`unexpected character at position ${s}`,"param",t)}t=t.replace(/\s/g," ");function i(s){let u={type:"",name:"",parent:s,state:{allowType:!0}};return e&&(u.indexed=!1),u}let a={type:"",name:"",state:{allowType:!0}},o=a;for(let s=0;s<t.length;s++){let u=t[s];switch(u){case"(":o.state.allowType&&o.type===""?o.type="tuple":o.state.allowParams||n(s),o.state.allowType=!1,o.type=rc(o.type),o.components=[i(o)],o=o.components[0];break;case")":delete o.state,o.name==="indexed"&&(e||n(s),o.indexed=!0,o.name=""),qh(o.type,o.name)&&(o.name=""),o.type=rc(o.type);let l=o;o=o.parent,o||n(s),delete l.parent,o.state.allowParams=!1,o.state.allowName=!0,o.state.allowArray=!0;break;case",":delete o.state,o.name==="indexed"&&(e||n(s),o.indexed=!0,o.name=""),qh(o.type,o.name)&&(o.name=""),o.type=rc(o.type);let c=i(o.parent);o.parent.components.push(c),delete o.parent,o=c;break;case" ":o.state.allowType&&o.type!==""&&(o.type=rc(o.type),delete o.state.allowType,o.state.allowName=!0,o.state.allowParams=!0),o.state.allowName&&o.name!==""&&(o.name==="indexed"?(e||n(s),o.indexed&&n(s),o.indexed=!0,o.name=""):qh(o.type,o.name)?o.name="":o.state.allowName=!1);break;case"[":o.state.allowArray||n(s),o.type+=u,o.state.allowArray=!1,o.state.allowName=!1,o.state.readArray=!0;break;case"]":o.state.readArray||n(s),o.type+=u,o.state.readArray=!1,o.state.allowArray=!0,o.state.allowName=!0;break;default:o.state.allowType?(o.type+=u,o.state.allowParams=!0,o.state.allowArray=!0):o.state.allowName?(o.name+=u,delete o.state.allowArray):o.state.readArray?o.type+=u:n(s)}}return o.parent&&xr.throwArgumentError("unexpected eof","param",t),delete a.state,o.name==="indexed"?(e||n(r.length-7),o.indexed&&n(r.length-7),o.indexed=!0,o.name=""):qh(o.type,o.name)&&(o.name=""),a.type=rc(a.type),a}function A1(t,e){for(let r in e)ut(t,r,e[r])}const Ar=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),CH=new RegExp(/^(.*)\[([0-9]*)\]$/);class Tn{constructor(e,r){e!==Ll&&xr.throwError("use fromString",qe.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),A1(this,r);let n=this.type.match(CH);n?A1(this,{arrayLength:parseInt(n[2]||"-1"),arrayChildren:Tn.fromObject({type:n[1],components:this.components}),baseType:"array"}):A1(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=Ar.sighash),Ar[e]||xr.throwArgumentError("invalid format type","format",e),e===Ar.json){let n={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(n.indexed=this.indexed),this.components&&(n.components=this.components.map(i=>JSON.parse(i.format(e)))),JSON.stringify(n)}let r="";return this.baseType==="array"?(r+=this.arrayChildren.format(e),r+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(e!==Ar.sighash&&(r+=this.type),r+="("+this.components.map(n=>n.format(e)).join(e===Ar.full?", ":",")+")"):r+=this.type,e!==Ar.sighash&&(this.indexed===!0&&(r+=" indexed"),e===Ar.full&&this.name&&(r+=" "+this.name)),r}static from(e,r){return typeof e=="string"?Tn.fromString(e,r):Tn.fromObject(e)}static fromObject(e){return Tn.isParamType(e)?e:new Tn(Ll,{name:e.name||null,type:rc(e.type),indexed:e.indexed==null?null:!!e.indexed,components:e.components?e.components.map(Tn.fromObject):null})}static fromString(e,r){function n(i){return Tn.fromObject({name:i.name,type:i.type,indexed:i.indexed,components:i.components})}return n(EH(e,!!r))}static isParamType(e){return!!(e!=null&&e._isParamType)}}function Ad(t,e){return wH(t).map(r=>Tn.fromString(r,e))}class _s{constructor(e,r){e!==Ll&&xr.throwError("use a static from method",qe.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),A1(this,r),this._isFragment=!0,Object.freeze(this)}static from(e){return _s.isFragment(e)?e:typeof e=="string"?_s.fromString(e):_s.fromObject(e)}static fromObject(e){if(_s.isFragment(e))return e;switch(e.type){case"function":return ko.fromObject(e);case"event":return ys.fromObject(e);case"constructor":return To.fromObject(e);case"error":return n0.fromObject(e);case"fallback":case"receive":return null}return xr.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return e=e.replace(/\s/g," "),e=e.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),e=e.trim(),e.split(" ")[0]==="event"?ys.fromString(e.substring(5).trim()):e.split(" ")[0]==="function"?ko.fromString(e.substring(8).trim()):e.split("(")[0].trim()==="constructor"?To.fromString(e.trim()):e.split(" ")[0]==="error"?n0.fromString(e.substring(5).trim()):xr.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!!(e&&e._isFragment)}}class ys extends _s{format(e){if(e||(e=Ar.sighash),Ar[e]||xr.throwArgumentError("invalid format type","format",e),e===Ar.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==Ar.sighash&&(r+="event "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===Ar.full?", ":",")+") ",e!==Ar.sighash&&this.anonymous&&(r+="anonymous "),r.trim()}static from(e){return typeof e=="string"?ys.fromString(e):ys.fromObject(e)}static fromObject(e){if(ys.isEventFragment(e))return e;e.type!=="event"&&xr.throwArgumentError("invalid event object","value",e);const r={name:wd(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(Tn.fromObject):[],type:"event"};return new ys(Ll,r)}static fromString(e){let r=e.match(_d);r||xr.throwArgumentError("invalid event string","value",e);let n=!1;return r[3].split(" ").forEach(i=>{switch(i.trim()){case"anonymous":n=!0;break;case"":break;default:xr.warn("unknown modifier: "+i)}}),ys.fromObject({name:r[1].trim(),anonymous:n,inputs:Ad(r[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&e.type==="event"}}function Hb(t,e){e.gas=null;let r=t.split("@");return r.length!==1?(r.length>2&&xr.throwArgumentError("invalid human-readable ABI signature","value",t),r[1].match(/^[0-9]+$/)||xr.throwArgumentError("invalid human-readable ABI signature gas","value",t),e.gas=gt.from(r[1]),r[0]):t}function jb(t,e){e.constant=!1,e.payable=!1,e.stateMutability="nonpayable",t.split(" ").forEach(r=>{switch(r.trim()){case"constant":e.constant=!0;break;case"payable":e.payable=!0,e.stateMutability="payable";break;case"nonpayable":e.payable=!1,e.stateMutability="nonpayable";break;case"pure":e.constant=!0,e.stateMutability="pure";break;case"view":e.constant=!0,e.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+r)}})}function $b(t){let e={constant:!1,payable:!0,stateMutability:"payable"};return t.stateMutability!=null?(e.stateMutability=t.stateMutability,e.constant=e.stateMutability==="view"||e.stateMutability==="pure",t.constant!=null&&!!t.constant!==e.constant&&xr.throwArgumentError("cannot have constant function with mutability "+e.stateMutability,"value",t),e.payable=e.stateMutability==="payable",t.payable!=null&&!!t.payable!==e.payable&&xr.throwArgumentError("cannot have payable function with mutability "+e.stateMutability,"value",t)):t.payable!=null?(e.payable=!!t.payable,t.constant==null&&!e.payable&&t.type!=="constructor"&&xr.throwArgumentError("unable to determine stateMutability","value",t),e.constant=!!t.constant,e.constant?e.stateMutability="view":e.stateMutability=e.payable?"payable":"nonpayable",e.payable&&e.constant&&xr.throwArgumentError("cannot have constant payable function","value",t)):t.constant!=null?(e.constant=!!t.constant,e.payable=!e.constant,e.stateMutability=e.constant?"view":"payable"):t.type!=="constructor"&&xr.throwArgumentError("unable to determine stateMutability","value",t),e}class To extends _s{format(e){if(e||(e=Ar.sighash),Ar[e]||xr.throwArgumentError("invalid format type","format",e),e===Ar.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});e===Ar.sighash&&xr.throwError("cannot format a constructor for sighash",qe.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let r="constructor("+this.inputs.map(n=>n.format(e)).join(e===Ar.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(r+=this.stateMutability+" "),r.trim()}static from(e){return typeof e=="string"?To.fromString(e):To.fromObject(e)}static fromObject(e){if(To.isConstructorFragment(e))return e;e.type!=="constructor"&&xr.throwArgumentError("invalid constructor object","value",e);let r=$b(e);r.constant&&xr.throwArgumentError("constructor cannot be constant","value",e);const n={name:null,type:e.type,inputs:e.inputs?e.inputs.map(Tn.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:e.gas?gt.from(e.gas):null};return new To(Ll,n)}static fromString(e){let r={type:"constructor"};e=Hb(e,r);let n=e.match(_d);return(!n||n[1].trim()!=="constructor")&&xr.throwArgumentError("invalid constructor string","value",e),r.inputs=Ad(n[2].trim(),!1),jb(n[3].trim(),r),To.fromObject(r)}static isConstructorFragment(e){return e&&e._isFragment&&e.type==="constructor"}}class ko extends To{format(e){if(e||(e=Ar.sighash),Ar[e]||xr.throwArgumentError("invalid format type","format",e),e===Ar.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e))),outputs:this.outputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==Ar.sighash&&(r+="function "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===Ar.full?", ":",")+") ",e!==Ar.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(r+=this.stateMutability+" "):this.constant&&(r+="view "),this.outputs&&this.outputs.length&&(r+="returns ("+this.outputs.map(n=>n.format(e)).join(", ")+") "),this.gas!=null&&(r+="@"+this.gas.toString()+" ")),r.trim()}static from(e){return typeof e=="string"?ko.fromString(e):ko.fromObject(e)}static fromObject(e){if(ko.isFunctionFragment(e))return e;e.type!=="function"&&xr.throwArgumentError("invalid function object","value",e);let r=$b(e);const n={type:e.type,name:wd(e.name),constant:r.constant,inputs:e.inputs?e.inputs.map(Tn.fromObject):[],outputs:e.outputs?e.outputs.map(Tn.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:e.gas?gt.from(e.gas):null};return new ko(Ll,n)}static fromString(e){let r={type:"function"};e=Hb(e,r);let n=e.split(" returns ");n.length>2&&xr.throwArgumentError("invalid function string","value",e);let i=n[0].match(_d);if(i||xr.throwArgumentError("invalid function signature","value",e),r.name=i[1].trim(),r.name&&wd(r.name),r.inputs=Ad(i[2],!1),jb(i[3].trim(),r),n.length>1){let a=n[1].match(_d);(a[1].trim()!=""||a[3].trim()!="")&&xr.throwArgumentError("unexpected tokens","value",e),r.outputs=Ad(a[2],!1)}else r.outputs=[];return ko.fromObject(r)}static isFunctionFragment(e){return e&&e._isFragment&&e.type==="function"}}function fA(t){const e=t.format();return(e==="Error(string)"||e==="Panic(uint256)")&&xr.throwArgumentError(`cannot specify user defined ${e} error`,"fragment",t),t}class n0 extends _s{format(e){if(e||(e=Ar.sighash),Ar[e]||xr.throwArgumentError("invalid format type","format",e),e===Ar.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==Ar.sighash&&(r+="error "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===Ar.full?", ":",")+") ",r.trim()}static from(e){return typeof e=="string"?n0.fromString(e):n0.fromObject(e)}static fromObject(e){if(n0.isErrorFragment(e))return e;e.type!=="error"&&xr.throwArgumentError("invalid error object","value",e);const r={type:e.type,name:wd(e.name),inputs:e.inputs?e.inputs.map(Tn.fromObject):[]};return fA(new n0(Ll,r))}static fromString(e){let r={type:"error"},n=e.match(_d);return n||xr.throwArgumentError("invalid error signature","value",e),r.name=n[1].trim(),r.name&&wd(r.name),r.inputs=Ad(n[2],!1),fA(n0.fromObject(r))}static isErrorFragment(e){return e&&e._isFragment&&e.type==="error"}}function rc(t){return t.match(/^uint($|[^1-9])/)?t="uint256"+t.substring(4):t.match(/^int($|[^1-9])/)&&(t="int256"+t.substring(3)),t}const AH=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function wd(t){return(!t||!t.match(AH))&&xr.throwArgumentError(`invalid identifier "${t}"`,"value",t),t}const _d=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function wH(t){t=t.trim();let e=[],r="",n=0;for(let i=0;i<t.length;i++){let a=t[i];a===","&&n===0?(e.push(r),r=""):(r+=a,a==="("?n++:a===")"&&(n--,n===-1&&xr.throwArgumentError("unbalanced parenthesis","value",t)))}return r&&e.push(r),e}const Tv=new qe(Xd);function _H(t){const e=[],r=function(n,i){if(Array.isArray(i))for(let a in i){const o=n.slice();o.push(a);try{r(o,i[a])}catch(s){e.push({path:o,error:s})}}};return r([],t),e}class Vs{constructor(e,r,n,i){this.name=e,this.type=r,this.localName=n,this.dynamic=i}_throwError(e,r){Tv.throwArgumentError(e,this.localName,r)}}class hy{constructor(e){ut(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return ki(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData(ra(e._data))}writeBytes(e){let r=Mt(e);const n=r.length%this.wordSize;return n&&(r=ra([r,this._padding.slice(n)])),this._writeData(r)}_getValue(e){let r=Mt(gt.from(e));return r.length>this.wordSize&&Tv.throwError("value out-of-bounds",qe.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:r.length}),r.length%this.wordSize&&(r=ra([this._padding.slice(r.length%this.wordSize),r])),r}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){const e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,r=>{this._data[e]=this._getValue(r)}}}class Lx{constructor(e,r,n,i){ut(this,"_data",Mt(e)),ut(this,"wordSize",r||32),ut(this,"_coerceFunc",n),ut(this,"allowLoose",i),this._offset=0}get data(){return Tt(this._data)}get consumed(){return this._offset}static coerce(e,r){let n=e.match("^u?int([0-9]+)$");return n&&parseInt(n[1])<=48&&(r=r.toNumber()),r}coerce(e,r){return this._coerceFunc?this._coerceFunc(e,r):Lx.coerce(e,r)}_peekBytes(e,r,n){let i=Math.ceil(r/this.wordSize)*this.wordSize;return this._offset+i>this._data.length&&(this.allowLoose&&n&&this._offset+r<=this._data.length?i=r:Tv.throwError("data out-of-bounds",qe.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+i})),this._data.slice(this._offset,this._offset+i)}subReader(e){return new Lx(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,r){let n=this._peekBytes(0,e,!!r);return this._offset+=n.length,n.slice(0,e)}readValue(){return gt.from(this.readBytes(this.wordSize))}}var Wb={exports:{}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */(function(t){(function(){var e="input is invalid type",r="finalize already called",n=typeof window=="object",i=n?window:{};i.JS_SHA3_NO_WINDOW&&(n=!1);var a=!n&&typeof self=="object",o=!i.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;o?i=Kn:a&&(i=self);var s=!i.JS_SHA3_NO_COMMON_JS&&!0&&t.exports,u=!i.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",l="0123456789abcdef".split(""),c=[31,7936,2031616,520093696],f=[4,1024,262144,67108864],d=[1,256,65536,16777216],h=[6,1536,393216,100663296],y=[0,8,16,24],w=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],_=[224,256,384,512],E=[128,256],p=["hex","buffer","arrayBuffer","array","digest"],m={128:168,256:136};(i.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(T){return Object.prototype.toString.call(T)==="[object Array]"}),u&&(i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(T){return typeof T=="object"&&T.buffer&&T.buffer.constructor===ArrayBuffer});for(var S=function(T,x,z){return function(b){return new P(T,x,T).update(b)[z]()}},F=function(T,x,z){return function(b,J){return new P(T,x,J).update(b)[z]()}},I=function(T,x,z){return function(b,J,V,g){return B["cshake"+T].update(b,J,V,g)[z]()}},v=function(T,x,z){return function(b,J,V,g){return B["kmac"+T].update(b,J,V,g)[z]()}},A=function(T,x,z,b){for(var J=0;J<p.length;++J){var V=p[J];T[V]=x(z,b,V)}return T},D=function(T,x){var z=S(T,x,"hex");return z.create=function(){return new P(T,x,T)},z.update=function(b){return z.create().update(b)},A(z,S,T,x)},L=function(T,x){var z=F(T,x,"hex");return z.create=function(b){return new P(T,x,b)},z.update=function(b,J){return z.create(J).update(b)},A(z,F,T,x)},j=function(T,x){var z=m[T],b=I(T,x,"hex");return b.create=function(J,V,g){return!V&&!g?B["shake"+T].create(J):new P(T,x,J).bytepad([V,g],z)},b.update=function(J,V,g,M){return b.create(V,g,M).update(J)},A(b,I,T,x)},Y=function(T,x){var z=m[T],b=v(T,x,"hex");return b.create=function(J,V,g){return new R(T,x,V).bytepad(["KMAC",g],z).bytepad([J],z)},b.update=function(J,V,g,M){return b.create(J,g,M).update(V)},A(b,v,T,x)},O=[{name:"keccak",padding:d,bits:_,createMethod:D},{name:"sha3",padding:h,bits:_,createMethod:D},{name:"shake",padding:c,bits:E,createMethod:L},{name:"cshake",padding:f,bits:E,createMethod:j},{name:"kmac",padding:f,bits:E,createMethod:Y}],B={},C=[],N=0;N<O.length;++N)for(var U=O[N],G=U.bits,$=0;$<G.length;++$){var Z=U.name+"_"+G[$];if(C.push(Z),B[Z]=U.createMethod(G[$],U.padding),U.name!=="sha3"){var W=U.name+G[$];C.push(W),B[W]=B[Z]}}function P(T,x,z){this.blocks=[],this.s=[],this.padding=x,this.outputBits=z,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(T<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=z>>5,this.extraBytes=(z&31)>>3;for(var b=0;b<50;++b)this.s[b]=0}P.prototype.update=function(T){if(this.finalized)throw new Error(r);var x,z=typeof T;if(z!=="string"){if(z==="object"){if(T===null)throw new Error(e);if(u&&T.constructor===ArrayBuffer)T=new Uint8Array(T);else if(!Array.isArray(T)&&(!u||!ArrayBuffer.isView(T)))throw new Error(e)}else throw new Error(e);x=!0}for(var b=this.blocks,J=this.byteCount,V=T.length,g=this.blockCount,M=0,Q=this.s,k,K;M<V;){if(this.reset)for(this.reset=!1,b[0]=this.block,k=1;k<g+1;++k)b[k]=0;if(x)for(k=this.start;M<V&&k<J;++M)b[k>>2]|=T[M]<<y[k++&3];else for(k=this.start;M<V&&k<J;++M)K=T.charCodeAt(M),K<128?b[k>>2]|=K<<y[k++&3]:K<2048?(b[k>>2]|=(192|K>>6)<<y[k++&3],b[k>>2]|=(128|K&63)<<y[k++&3]):K<55296||K>=57344?(b[k>>2]|=(224|K>>12)<<y[k++&3],b[k>>2]|=(128|K>>6&63)<<y[k++&3],b[k>>2]|=(128|K&63)<<y[k++&3]):(K=65536+((K&1023)<<10|T.charCodeAt(++M)&1023),b[k>>2]|=(240|K>>18)<<y[k++&3],b[k>>2]|=(128|K>>12&63)<<y[k++&3],b[k>>2]|=(128|K>>6&63)<<y[k++&3],b[k>>2]|=(128|K&63)<<y[k++&3]);if(this.lastByteIndex=k,k>=J){for(this.start=k-J,this.block=b[g],k=0;k<g;++k)Q[k]^=b[k];re(Q),this.reset=!0}else this.start=k}return this},P.prototype.encode=function(T,x){var z=T&255,b=1,J=[z];for(T=T>>8,z=T&255;z>0;)J.unshift(z),T=T>>8,z=T&255,++b;return x?J.push(b):J.unshift(b),this.update(J),J.length},P.prototype.encodeString=function(T){var x,z=typeof T;if(z!=="string"){if(z==="object"){if(T===null)throw new Error(e);if(u&&T.constructor===ArrayBuffer)T=new Uint8Array(T);else if(!Array.isArray(T)&&(!u||!ArrayBuffer.isView(T)))throw new Error(e)}else throw new Error(e);x=!0}var b=0,J=T.length;if(x)b=J;else for(var V=0;V<T.length;++V){var g=T.charCodeAt(V);g<128?b+=1:g<2048?b+=2:g<55296||g>=57344?b+=3:(g=65536+((g&1023)<<10|T.charCodeAt(++V)&1023),b+=4)}return b+=this.encode(b*8),this.update(T),b},P.prototype.bytepad=function(T,x){for(var z=this.encode(x),b=0;b<T.length;++b)z+=this.encodeString(T[b]);var J=x-z%x,V=[];return V.length=J,this.update(V),this},P.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var T=this.blocks,x=this.lastByteIndex,z=this.blockCount,b=this.s;if(T[x>>2]|=this.padding[x&3],this.lastByteIndex===this.byteCount)for(T[0]=T[z],x=1;x<z+1;++x)T[x]=0;for(T[z-1]|=2147483648,x=0;x<z;++x)b[x]^=T[x];re(b)}},P.prototype.toString=P.prototype.hex=function(){this.finalize();for(var T=this.blockCount,x=this.s,z=this.outputBlocks,b=this.extraBytes,J=0,V=0,g="",M;V<z;){for(J=0;J<T&&V<z;++J,++V)M=x[J],g+=l[M>>4&15]+l[M&15]+l[M>>12&15]+l[M>>8&15]+l[M>>20&15]+l[M>>16&15]+l[M>>28&15]+l[M>>24&15];V%T===0&&(re(x),J=0)}return b&&(M=x[J],g+=l[M>>4&15]+l[M&15],b>1&&(g+=l[M>>12&15]+l[M>>8&15]),b>2&&(g+=l[M>>20&15]+l[M>>16&15])),g},P.prototype.arrayBuffer=function(){this.finalize();var T=this.blockCount,x=this.s,z=this.outputBlocks,b=this.extraBytes,J=0,V=0,g=this.outputBits>>3,M;b?M=new ArrayBuffer(z+1<<2):M=new ArrayBuffer(g);for(var Q=new Uint32Array(M);V<z;){for(J=0;J<T&&V<z;++J,++V)Q[V]=x[J];V%T===0&&re(x)}return b&&(Q[J]=x[J],M=M.slice(0,g)),M},P.prototype.buffer=P.prototype.arrayBuffer,P.prototype.digest=P.prototype.array=function(){this.finalize();for(var T=this.blockCount,x=this.s,z=this.outputBlocks,b=this.extraBytes,J=0,V=0,g=[],M,Q;V<z;){for(J=0;J<T&&V<z;++J,++V)M=V<<2,Q=x[J],g[M]=Q&255,g[M+1]=Q>>8&255,g[M+2]=Q>>16&255,g[M+3]=Q>>24&255;V%T===0&&re(x)}return b&&(M=V<<2,Q=x[J],g[M]=Q&255,b>1&&(g[M+1]=Q>>8&255),b>2&&(g[M+2]=Q>>16&255)),g};function R(T,x,z){P.call(this,T,x,z)}R.prototype=new P,R.prototype.finalize=function(){return this.encode(this.outputBits,!0),P.prototype.finalize.call(this)};var re=function(T){var x,z,b,J,V,g,M,Q,k,K,ie,ne,le,he,fe,ce,Ae,Fe,Me,Ke,$e,oe,X,te,de,Ce,Se,ge,q,H,ye,_e,ve,Ie,Le,Pe,Re,Oe,Ue,Ge,et,We,Ve,Xe,Je,Ze,tt,nt,Qe,ft,Et,dt,Lt,wt,xt,Ft,bt,Bt,Gt,_r,ir,Dr,Pr;for(b=0;b<48;b+=2)J=T[0]^T[10]^T[20]^T[30]^T[40],V=T[1]^T[11]^T[21]^T[31]^T[41],g=T[2]^T[12]^T[22]^T[32]^T[42],M=T[3]^T[13]^T[23]^T[33]^T[43],Q=T[4]^T[14]^T[24]^T[34]^T[44],k=T[5]^T[15]^T[25]^T[35]^T[45],K=T[6]^T[16]^T[26]^T[36]^T[46],ie=T[7]^T[17]^T[27]^T[37]^T[47],ne=T[8]^T[18]^T[28]^T[38]^T[48],le=T[9]^T[19]^T[29]^T[39]^T[49],x=ne^(g<<1|M>>>31),z=le^(M<<1|g>>>31),T[0]^=x,T[1]^=z,T[10]^=x,T[11]^=z,T[20]^=x,T[21]^=z,T[30]^=x,T[31]^=z,T[40]^=x,T[41]^=z,x=J^(Q<<1|k>>>31),z=V^(k<<1|Q>>>31),T[2]^=x,T[3]^=z,T[12]^=x,T[13]^=z,T[22]^=x,T[23]^=z,T[32]^=x,T[33]^=z,T[42]^=x,T[43]^=z,x=g^(K<<1|ie>>>31),z=M^(ie<<1|K>>>31),T[4]^=x,T[5]^=z,T[14]^=x,T[15]^=z,T[24]^=x,T[25]^=z,T[34]^=x,T[35]^=z,T[44]^=x,T[45]^=z,x=Q^(ne<<1|le>>>31),z=k^(le<<1|ne>>>31),T[6]^=x,T[7]^=z,T[16]^=x,T[17]^=z,T[26]^=x,T[27]^=z,T[36]^=x,T[37]^=z,T[46]^=x,T[47]^=z,x=K^(J<<1|V>>>31),z=ie^(V<<1|J>>>31),T[8]^=x,T[9]^=z,T[18]^=x,T[19]^=z,T[28]^=x,T[29]^=z,T[38]^=x,T[39]^=z,T[48]^=x,T[49]^=z,he=T[0],fe=T[1],Ze=T[11]<<4|T[10]>>>28,tt=T[10]<<4|T[11]>>>28,ge=T[20]<<3|T[21]>>>29,q=T[21]<<3|T[20]>>>29,_r=T[31]<<9|T[30]>>>23,ir=T[30]<<9|T[31]>>>23,We=T[40]<<18|T[41]>>>14,Ve=T[41]<<18|T[40]>>>14,Ie=T[2]<<1|T[3]>>>31,Le=T[3]<<1|T[2]>>>31,ce=T[13]<<12|T[12]>>>20,Ae=T[12]<<12|T[13]>>>20,nt=T[22]<<10|T[23]>>>22,Qe=T[23]<<10|T[22]>>>22,H=T[33]<<13|T[32]>>>19,ye=T[32]<<13|T[33]>>>19,Dr=T[42]<<2|T[43]>>>30,Pr=T[43]<<2|T[42]>>>30,wt=T[5]<<30|T[4]>>>2,xt=T[4]<<30|T[5]>>>2,Pe=T[14]<<6|T[15]>>>26,Re=T[15]<<6|T[14]>>>26,Fe=T[25]<<11|T[24]>>>21,Me=T[24]<<11|T[25]>>>21,ft=T[34]<<15|T[35]>>>17,Et=T[35]<<15|T[34]>>>17,_e=T[45]<<29|T[44]>>>3,ve=T[44]<<29|T[45]>>>3,te=T[6]<<28|T[7]>>>4,de=T[7]<<28|T[6]>>>4,Ft=T[17]<<23|T[16]>>>9,bt=T[16]<<23|T[17]>>>9,Oe=T[26]<<25|T[27]>>>7,Ue=T[27]<<25|T[26]>>>7,Ke=T[36]<<21|T[37]>>>11,$e=T[37]<<21|T[36]>>>11,dt=T[47]<<24|T[46]>>>8,Lt=T[46]<<24|T[47]>>>8,Xe=T[8]<<27|T[9]>>>5,Je=T[9]<<27|T[8]>>>5,Ce=T[18]<<20|T[19]>>>12,Se=T[19]<<20|T[18]>>>12,Bt=T[29]<<7|T[28]>>>25,Gt=T[28]<<7|T[29]>>>25,Ge=T[38]<<8|T[39]>>>24,et=T[39]<<8|T[38]>>>24,oe=T[48]<<14|T[49]>>>18,X=T[49]<<14|T[48]>>>18,T[0]=he^~ce&Fe,T[1]=fe^~Ae&Me,T[10]=te^~Ce&ge,T[11]=de^~Se&q,T[20]=Ie^~Pe&Oe,T[21]=Le^~Re&Ue,T[30]=Xe^~Ze&nt,T[31]=Je^~tt&Qe,T[40]=wt^~Ft&Bt,T[41]=xt^~bt&Gt,T[2]=ce^~Fe&Ke,T[3]=Ae^~Me&$e,T[12]=Ce^~ge&H,T[13]=Se^~q&ye,T[22]=Pe^~Oe&Ge,T[23]=Re^~Ue&et,T[32]=Ze^~nt&ft,T[33]=tt^~Qe&Et,T[42]=Ft^~Bt&_r,T[43]=bt^~Gt&ir,T[4]=Fe^~Ke&oe,T[5]=Me^~$e&X,T[14]=ge^~H&_e,T[15]=q^~ye&ve,T[24]=Oe^~Ge&We,T[25]=Ue^~et&Ve,T[34]=nt^~ft&dt,T[35]=Qe^~Et&Lt,T[44]=Bt^~_r&Dr,T[45]=Gt^~ir&Pr,T[6]=Ke^~oe&he,T[7]=$e^~X&fe,T[16]=H^~_e&te,T[17]=ye^~ve&de,T[26]=Ge^~We&Ie,T[27]=et^~Ve&Le,T[36]=ft^~dt&Xe,T[37]=Et^~Lt&Je,T[46]=_r^~Dr&wt,T[47]=ir^~Pr&xt,T[8]=oe^~he&ce,T[9]=X^~fe&Ae,T[18]=_e^~te&Ce,T[19]=ve^~de&Se,T[28]=We^~Ie&Pe,T[29]=Ve^~Le&Re,T[38]=dt^~Xe&Ze,T[39]=Lt^~Je&tt,T[48]=Dr^~wt&Ft,T[49]=Pr^~xt&bt,T[0]^=w[b],T[1]^=w[b+1]};if(s)t.exports=B;else for(N=0;N<C.length;++N)i[C[N]]=B[C[N]]})()})(Wb);var BH=Wb.exports;const bH=lu(BH);function nn(t){return"0x"+bH.keccak_256(Mt(t))}const SH="rlp/5.7.0",wo=new qe(SH);function dA(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function hA(t,e,r){let n=0;for(let i=0;i<r;i++)n=n*256+t[e+i];return n}function Yb(t){if(Array.isArray(t)){let n=[];if(t.forEach(function(a){n=n.concat(Yb(a))}),n.length<=55)return n.unshift(192+n.length),n;const i=dA(n.length);return i.unshift(247+i.length),i.concat(n)}Fv(t)||wo.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(Mt(t));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=dA(e.length);return r.unshift(183+r.length),r.concat(e)}function jp(t){return Tt(Yb(t))}function xA(t,e,r,n){const i=[];for(;r<e+1+n;){const a=Zb(t,r);i.push(a.result),r+=a.consumed,r>e+1+n&&wo.throwError("child data too short",qe.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function Zb(t,e){if(t.length===0&&wo.throwError("data too short",qe.errors.BUFFER_OVERRUN,{}),t[e]>=248){const r=t[e]-247;e+1+r>t.length&&wo.throwError("data short segment too short",qe.errors.BUFFER_OVERRUN,{});const n=hA(t,e+1,r);return e+1+r+n>t.length&&wo.throwError("data long segment too short",qe.errors.BUFFER_OVERRUN,{}),xA(t,e,e+1+r,r+n)}else if(t[e]>=192){const r=t[e]-192;return e+1+r>t.length&&wo.throwError("data array too short",qe.errors.BUFFER_OVERRUN,{}),xA(t,e,e+1,r)}else if(t[e]>=184){const r=t[e]-183;e+1+r>t.length&&wo.throwError("data array too short",qe.errors.BUFFER_OVERRUN,{});const n=hA(t,e+1,r);e+1+r+n>t.length&&wo.throwError("data array too short",qe.errors.BUFFER_OVERRUN,{});const i=Tt(t.slice(e+1+r,e+1+r+n));return{consumed:1+r+n,result:i}}else if(t[e]>=128){const r=t[e]-128;e+1+r>t.length&&wo.throwError("data too short",qe.errors.BUFFER_OVERRUN,{});const n=Tt(t.slice(e+1,e+1+r));return{consumed:1+r,result:n}}return{consumed:1,result:Tt(t[e])}}function kv(t){const e=Mt(t),r=Zb(e,0);return r.consumed!==e.length&&wo.throwArgumentError("invalid rlp data","data",t),r.result}const IH="address/5.7.0",Ec=new qe(IH);function pA(t){br(t,20)||Ec.throwArgumentError("invalid address","address",t),t=t.toLowerCase();const e=t.substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=e[i].charCodeAt(0);const n=Mt(nn(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const LH=9007199254740991;function FH(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}const Nv={};for(let t=0;t<10;t++)Nv[String(t)]=String(t);for(let t=0;t<26;t++)Nv[String.fromCharCode(65+t)]=String(10+t);const gA=Math.floor(FH(LH));function DH(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>Nv[n]).join("");for(;e.length>=gA;){let n=e.substring(0,gA);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}function jn(t){let e=null;if(typeof t!="string"&&Ec.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))t.substring(0,2)!=="0x"&&(t="0x"+t),e=pA(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&Ec.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==DH(t)&&Ec.throwArgumentError("bad icap checksum","address",t),e=hH(t.substring(4));e.length<40;)e="0"+e;e=pA("0x"+e)}else Ec.throwArgumentError("invalid address","address",t);return e}function Xb(t){let e=null;try{e=jn(t.from)}catch{Ec.throwArgumentError("missing from address","transaction",t)}const r=iu(Mt(gt.from(t.nonce).toHexString()));return jn(ai(nn(jp([e,r])),12))}class TH extends Vs{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,r){try{r=jn(r)}catch(n){this._throwError(n.message,r)}return e.writeValue(r)}decode(e){return jn(un(e.readValue().toHexString(),20))}}class kH extends Vs{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,r){return this.coder.encode(e,r)}decode(e){return this.coder.decode(e)}}const Cc=new qe(Xd);function Jb(t,e,r){let n=null;if(Array.isArray(r))n=r;else if(r&&typeof r=="object"){let u={};n=e.map(l=>{const c=l.localName;return c||Cc.throwError("cannot encode object for signature with missing names",qe.errors.INVALID_ARGUMENT,{argument:"values",coder:l,value:r}),u[c]&&Cc.throwError("cannot encode object for signature with duplicate names",qe.errors.INVALID_ARGUMENT,{argument:"values",coder:l,value:r}),u[c]=!0,r[c]})}else Cc.throwArgumentError("invalid tuple value","tuple",r);e.length!==n.length&&Cc.throwArgumentError("types/value length mismatch","tuple",r);let i=new hy(t.wordSize),a=new hy(t.wordSize),o=[];e.forEach((u,l)=>{let c=n[l];if(u.dynamic){let f=a.length;u.encode(a,c);let d=i.writeUpdatableValue();o.push(h=>{d(h+f)})}else u.encode(i,c)}),o.forEach(u=>{u(i.length)});let s=t.appendWriter(i);return s+=t.appendWriter(a),s}function eS(t,e){let r=[],n=t.subReader(0);e.forEach(a=>{let o=null;if(a.dynamic){let s=t.readValue(),u=n.subReader(s.toNumber());try{o=a.decode(u)}catch(l){if(l.code===qe.errors.BUFFER_OVERRUN)throw l;o=l,o.baseType=a.name,o.name=a.localName,o.type=a.type}}else try{o=a.decode(t)}catch(s){if(s.code===qe.errors.BUFFER_OVERRUN)throw s;o=s,o.baseType=a.name,o.name=a.localName,o.type=a.type}o!=null&&r.push(o)});const i=e.reduce((a,o)=>{const s=o.localName;return s&&(a[s]||(a[s]=0),a[s]++),a},{});e.forEach((a,o)=>{let s=a.localName;if(!s||i[s]!==1||(s==="length"&&(s="_length"),r[s]!=null))return;const u=r[o];u instanceof Error?Object.defineProperty(r,s,{enumerable:!0,get:()=>{throw u}}):r[s]=u});for(let a=0;a<r.length;a++){const o=r[a];o instanceof Error&&Object.defineProperty(r,a,{enumerable:!0,get:()=>{throw o}})}return Object.freeze(r)}class NH extends Vs{constructor(e,r,n){const i=e.type+"["+(r>=0?r:"")+"]",a=r===-1||e.dynamic;super("array",i,n,a),this.coder=e,this.length=r}defaultValue(){const e=this.coder.defaultValue(),r=[];for(let n=0;n<this.length;n++)r.push(e);return r}encode(e,r){Array.isArray(r)||this._throwError("expected array value",r);let n=this.length;n===-1&&(n=r.length,e.writeValue(r.length)),Cc.checkArgumentCount(r.length,n,"coder array"+(this.localName?" "+this.localName:""));let i=[];for(let a=0;a<r.length;a++)i.push(this.coder);return Jb(e,i,r)}decode(e){let r=this.length;r===-1&&(r=e.readValue().toNumber(),r*32>e._data.length&&Cc.throwError("insufficient data length",qe.errors.BUFFER_OVERRUN,{length:e._data.length,count:r}));let n=[];for(let i=0;i<r;i++)n.push(new kH(this.coder));return e.coerce(this.name,eS(e,n))}}class PH extends Vs{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,r){return e.writeValue(r?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}class tS extends Vs{constructor(e,r){super(e,e,r,!0)}defaultValue(){return"0x"}encode(e,r){r=Mt(r);let n=e.writeValue(r.length);return n+=e.writeBytes(r),n}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}}class RH extends tS{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,Tt(super.decode(e)))}}class MH extends Vs{constructor(e,r){let n="bytes"+String(e);super(n,n,r,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,r){let n=Mt(r);return n.length!==this.size&&this._throwError("incorrect data length",r),e.writeBytes(n)}decode(e){return e.coerce(this.name,Tt(e.readBytes(this.size)))}}class UH extends Vs{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,r){return r!=null&&this._throwError("not null",r),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}}const OH="0x0000000000000000000000000000000000000000",VH=gt.from(-1),rS=gt.from(0),GH=gt.from(1),zH=gt.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),nS="0x0000000000000000000000000000000000000000000000000000000000000000";class KH extends Vs{constructor(e,r,n){const i=(r?"int":"uint")+e*8;super(i,i,n,!1),this.size=e,this.signed=r}defaultValue(){return 0}encode(e,r){let n=gt.from(r),i=zH.mask(e.wordSize*8);if(this.signed){let a=i.mask(this.size*8-1);(n.gt(a)||n.lt(a.add(GH).mul(VH)))&&this._throwError("value out-of-bounds",r)}else(n.lt(rS)||n.gt(i.mask(this.size*8)))&&this._throwError("value out-of-bounds",r);return n=n.toTwos(this.size*8).mask(this.size*8),this.signed&&(n=n.fromTwos(this.size*8).toTwos(8*e.wordSize)),e.writeValue(n)}decode(e){let r=e.readValue().mask(this.size*8);return this.signed&&(r=r.fromTwos(this.size*8)),e.coerce(this.name,r)}}const qH="strings/5.7.0",iS=new qe(qH);var Bd;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(Bd||(Bd={}));var Yi;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(Yi||(Yi={}));function QH(t,e,r,n,i){return iS.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)}function aS(t,e,r,n,i){if(t===Yi.BAD_PREFIX||t===Yi.UNEXPECTED_CONTINUE){let a=0;for(let o=e+1;o<r.length&&r[o]>>6===2;o++)a++;return a}return t===Yi.OVERRUN?r.length-e-1:0}function HH(t,e,r,n,i){return t===Yi.OVERLONG?(n.push(i),0):(n.push(65533),aS(t,e,r))}const jH=Object.freeze({error:QH,ignore:aS,replace:HH});function oS(t,e){e==null&&(e=jH.error),t=Mt(t);const r=[];let n=0;for(;n<t.length;){const i=t[n++];if(!(i>>7)){r.push(i);continue}let a=null,o=null;if((i&224)===192)a=1,o=127;else if((i&240)===224)a=2,o=2047;else if((i&248)===240)a=3,o=65535;else{(i&192)===128?n+=e(Yi.UNEXPECTED_CONTINUE,n-1,t,r):n+=e(Yi.BAD_PREFIX,n-1,t,r);continue}if(n-1+a>=t.length){n+=e(Yi.OVERRUN,n-1,t,r);continue}let s=i&(1<<8-a-1)-1;for(let u=0;u<a;u++){let l=t[n];if((l&192)!=128){n+=e(Yi.MISSING_CONTINUE,n,t,r),s=null;break}s=s<<6|l&63,n++}if(s!==null){if(s>1114111){n+=e(Yi.OUT_OF_RANGE,n-1-a,t,r,s);continue}if(s>=55296&&s<=57343){n+=e(Yi.UTF16_SURROGATE,n-1-a,t,r,s);continue}if(s<=o){n+=e(Yi.OVERLONG,n-1-a,t,r,s);continue}r.push(s)}}return r}function Gi(t,e=Bd.current){e!=Bd.current&&(iS.checkNormalize(),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;const a=t.charCodeAt(n);if(n>=t.length||(a&64512)!==56320)throw new Error("invalid utf-8 string");const o=65536+((i&1023)<<10)+(a&1023);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(o&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return Mt(r)}function $H(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function Jd(t,e){return $H(oS(t,e))}function WH(t,e=Bd.current){return oS(Gi(t,e))}class YH extends tS{constructor(e){super("string",e)}defaultValue(){return""}encode(e,r){return super.encode(e,Gi(r))}decode(e){return Jd(super.decode(e))}}class Qh extends Vs{constructor(e,r){let n=!1;const i=[];e.forEach(o=>{o.dynamic&&(n=!0),i.push(o.type)});const a="tuple("+i.join(",")+")";super("tuple",a,r,n),this.coders=e}defaultValue(){const e=[];this.coders.forEach(n=>{e.push(n.defaultValue())});const r=this.coders.reduce((n,i)=>{const a=i.localName;return a&&(n[a]||(n[a]=0),n[a]++),n},{});return this.coders.forEach((n,i)=>{let a=n.localName;!a||r[a]!==1||(a==="length"&&(a="_length"),e[a]==null&&(e[a]=e[i]))}),Object.freeze(e)}encode(e,r){return Jb(e,this.coders,r)}decode(e){return e.coerce(this.name,eS(e,this.coders))}}const Hh=new qe(Xd),ZH=new RegExp(/^bytes([0-9]*)$/),XH=new RegExp(/^(u?int)([0-9]*)$/);class JH{constructor(e){ut(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new TH(e.name);case"bool":return new PH(e.name);case"string":return new YH(e.name);case"bytes":return new RH(e.name);case"array":return new NH(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new Qh((e.components||[]).map(n=>this._getCoder(n)),e.name);case"":return new UH(e.name)}let r=e.type.match(XH);if(r){let n=parseInt(r[2]||"256");return(n===0||n>256||n%8!==0)&&Hh.throwArgumentError("invalid "+r[1]+" bit length","param",e),new KH(n/8,r[1]==="int",e.name)}if(r=e.type.match(ZH),r){let n=parseInt(r[1]);return(n===0||n>32)&&Hh.throwArgumentError("invalid bytes length","param",e),new MH(n,e.name)}return Hh.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,r){return new Lx(e,this._getWordSize(),this.coerceFunc,r)}_getWriter(){return new hy(this._getWordSize())}getDefaultValue(e){const r=e.map(i=>this._getCoder(Tn.from(i)));return new Qh(r,"_").defaultValue()}encode(e,r){e.length!==r.length&&Hh.throwError("types/values length mismatch",qe.errors.INVALID_ARGUMENT,{count:{types:e.length,values:r.length},value:{types:e,values:r}});const n=e.map(o=>this._getCoder(Tn.from(o))),i=new Qh(n,"_"),a=this._getWriter();return i.encode(a,r),a.data}decode(e,r,n){const i=e.map(o=>this._getCoder(Tn.from(o)));return new Qh(i,"_").decode(this._getReader(Mt(r),n))}}const ej=new JH;function Ac(t){return nn(Gi(t))}const sS="hash/5.7.0";function lS(t){t=atob(t);const e=[];for(let r=0;r<t.length;r++)e.push(t.charCodeAt(r));return Mt(e)}function cS(t){t=Mt(t);let e="";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return btoa(e)}function uS(t,e){e==null&&(e=1);const r=[],n=r.forEach,i=function(a,o){n.call(a,function(s){o>0&&Array.isArray(s)?i(s,o-1):r.push(s)})};return i(t,e),r}function tj(t){const e={};for(let r=0;r<t.length;r++){const n=t[r];e[n[0]]=n[1]}return e}function rj(t){let e=0;function r(){return t[e++]<<8|t[e++]}let n=r(),i=1,a=[0,1];for(let F=1;F<n;F++)a.push(i+=r());let o=r(),s=e;e+=o;let u=0,l=0;function c(){return u==0&&(l=l<<8|t[e++],u=8),l>>--u&1}const f=31,d=Math.pow(2,f),h=d>>>1,y=h>>1,w=d-1;let _=0;for(let F=0;F<f;F++)_=_<<1|c();let E=[],p=0,m=d;for(;;){let F=Math.floor(((_-p+1)*i-1)/m),I=0,v=n;for(;v-I>1;){let L=I+v>>>1;F<a[L]?v=L:I=L}if(I==0)break;E.push(I);let A=p+Math.floor(m*a[I]/i),D=p+Math.floor(m*a[I+1]/i)-1;for(;!((A^D)&h);)_=_<<1&w|c(),A=A<<1&w,D=D<<1&w|1;for(;A&~D&y;)_=_&h|_<<1&w>>>1|c(),A=A<<1^h,D=(D^h)<<1|h|1;p=A,m=1+D-A}let S=n-4;return E.map(F=>{switch(F-S){case 3:return S+65792+(t[s++]<<16|t[s++]<<8|t[s++]);case 2:return S+256+(t[s++]<<8|t[s++]);case 1:return S+t[s++];default:return F-1}})}function nj(t){let e=0;return()=>t[e++]}function ij(t){return nj(rj(t))}function aj(t){return t&1?~t>>1:t>>1}function oj(t,e){let r=Array(t);for(let n=0;n<t;n++)r[n]=1+e();return r}function mA(t,e){let r=Array(t);for(let n=0,i=-1;n<t;n++)r[n]=i+=1+e();return r}function sj(t,e){let r=Array(t);for(let n=0,i=0;n<t;n++)r[n]=i+=aj(e());return r}function Fx(t,e){let r=mA(t(),t),n=t(),i=mA(n,t),a=oj(n,t);for(let o=0;o<n;o++)for(let s=0;s<a[o];s++)r.push(i[o]+s);return e?r.map(o=>e[o]):r}function lj(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(uj(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(fj(r,t))}return tj(uS(e))}function cj(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(r)}return e}function fS(t,e,r){let n=Array(t).fill(void 0).map(()=>[]);for(let i=0;i<e;i++)sj(t,r).forEach((a,o)=>n[o].push(a));return n}function uj(t,e){let r=1+e(),n=e(),i=cj(e),a=fS(i.length,1+t,e);return uS(a.map((o,s)=>{const u=o[0],l=o.slice(1);return Array(i[s]).fill(void 0).map((c,f)=>{let d=f*n;return[u+f*r,l.map(h=>h+d)]})}))}function fj(t,e){let r=1+e();return fS(r,1+t,e).map(i=>[i[0],i.slice(1)])}function dj(t){let e=Fx(t).sort((n,i)=>n-i);return r();function r(){let n=[];for(;;){let l=Fx(t,e);if(l.length==0)break;n.push({set:new Set(l),node:r()})}n.sort((l,c)=>c.set.size-l.set.size);let i=t(),a=i%3;i=i/3|0;let o=!!(i&1);i>>=1;let s=i==1,u=i==2;return{branches:n,valid:a,fe0f:o,save:s,check:u}}}function hj(){return ij(lS("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}const $p=hj(),xj=new Set(Fx($p)),pj=new Set(Fx($p)),gj=lj($p),mj=dj($p),yA=45,vA=95;function dS(t){return WH(t)}function yj(t){return t.filter(e=>e!=65039)}function hS(t){for(let e of t.split(".")){let r=dS(e);try{for(let n=r.lastIndexOf(vA)-1;n>=0;n--)if(r[n]!==vA)throw new Error("underscore only allowed at start");if(r.length>=4&&r.every(n=>n<128)&&r[2]===yA&&r[3]===yA)throw new Error("invalid label extension")}catch(n){throw new Error(`Invalid label "${e}": ${n.message}`)}}return t}function vj(t){return hS(Ej(t,yj))}function Ej(t,e){let r=dS(t).reverse(),n=[];for(;r.length;){let i=Aj(r);if(i){n.push(...e(i));continue}let a=r.pop();if(xj.has(a)){n.push(a);continue}if(pj.has(a))continue;let o=gj[a];if(o){n.push(...o);continue}throw new Error(`Disallowed codepoint: 0x${a.toString(16).toUpperCase()}`)}return hS(Cj(String.fromCodePoint(...n)))}function Cj(t){return t.normalize("NFC")}function Aj(t,e){var r;let n=mj,i,a,o=[],s=t.length;for(;s;){let u=t[--s];if(n=(r=n.branches.find(l=>l.set.has(u)))===null||r===void 0?void 0:r.node,!n)break;if(n.save)a=u;else if(n.check&&u===a)break;o.push(u),n.fe0f&&(o.push(65039),s>0&&t[s-1]==65039&&s--),n.valid&&(i=o.slice(),n.valid==2&&i.splice(1,1),t.length=s)}return i}const wj=new qe(sS),xS=new Uint8Array(32);xS.fill(0);function EA(t){if(t.length===0)throw new Error("invalid ENS name; empty component");return t}function pS(t){const e=Gi(vj(t)),r=[];if(t.length===0)return r;let n=0;for(let i=0;i<e.length;i++)e[i]===46&&(r.push(EA(e.slice(n,i))),n=i+1);if(n>=e.length)throw new Error("invalid ENS name; empty component");return r.push(EA(e.slice(n))),r}function w1(t){typeof t!="string"&&wj.throwArgumentError("invalid ENS name; not a string","name",t);let e=xS;const r=pS(t);for(;r.length;)e=nn(ra([e,nn(r.pop())]));return Tt(e)}function _j(t){return Tt(ra(pS(t).map(e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const r=new Uint8Array(e.length+1);return r.set(e,1),r[0]=r.length-1,r})))+"00"}var Bj=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(c){try{l(n.next(c))}catch(f){o(f)}}function u(c){try{l(n.throw(c))}catch(f){o(f)}}function l(c){c.done?a(c.value):i(c.value).then(s,u)}l((n=n.apply(t,e||[])).next())})};const tn=new qe(sS),gS=new Uint8Array(32);gS.fill(0);const bj=gt.from(-1),mS=gt.from(0),yS=gt.from(1),Sj=gt.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function Ij(t){const e=Mt(t),r=e.length%32;return r?ki([e,gS.slice(r)]):Tt(e)}const Lj=un(yS.toHexString(),32),Fj=un(mS.toHexString(),32),CA={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},Qg=["name","version","chainId","verifyingContract","salt"];function AA(t){return function(e){return typeof e!="string"&&tn.throwArgumentError(`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const Dj={name:AA("name"),version:AA("version"),chainId:function(t){try{return gt.from(t).toString()}catch{}return tn.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",t)},verifyingContract:function(t){try{return jn(t).toLowerCase()}catch{}return tn.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){try{const e=Mt(t);if(e.length!==32)throw new Error("bad length");return Tt(e)}catch{}return tn.throwArgumentError('invalid domain value "salt"',"domain.salt",t)}};function Hg(t){{const e=t.match(/^(u?)int(\d*)$/);if(e){const r=e[1]==="",n=parseInt(e[2]||"256");(n%8!==0||n>256||e[2]&&e[2]!==String(n))&&tn.throwArgumentError("invalid numeric width","type",t);const i=Sj.mask(r?n-1:n),a=r?i.add(yS).mul(bj):mS;return function(o){const s=gt.from(o);return(s.lt(a)||s.gt(i))&&tn.throwArgumentError(`value out-of-bounds for ${t}`,"value",o),un(s.toTwos(256).toHexString(),32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const r=parseInt(e[1]);return(r===0||r>32||e[1]!==String(r))&&tn.throwArgumentError("invalid bytes width","type",t),function(n){return Mt(n).length!==r&&tn.throwArgumentError(`invalid length for ${t}`,"value",n),Ij(n)}}}switch(t){case"address":return function(e){return un(jn(e),32)};case"bool":return function(e){return e?Lj:Fj};case"bytes":return function(e){return nn(e)};case"string":return function(e){return Ac(e)}}return null}function wA(t,e){return`${t}(${e.map(({name:r,type:n})=>n+" "+r).join(",")})`}class Hi{constructor(e){ut(this,"types",Object.freeze(ks(e))),ut(this,"_encoderCache",{}),ut(this,"_types",{});const r={},n={},i={};Object.keys(e).forEach(s=>{r[s]={},n[s]=[],i[s]={}});for(const s in e){const u={};e[s].forEach(l=>{u[l.name]&&tn.throwArgumentError(`duplicate variable name ${JSON.stringify(l.name)} in ${JSON.stringify(s)}`,"types",e),u[l.name]=!0;const c=l.type.match(/^([^\x5b]*)(\x5b|$)/)[1];c===s&&tn.throwArgumentError(`circular type reference to ${JSON.stringify(c)}`,"types",e),!Hg(c)&&(n[c]||tn.throwArgumentError(`unknown type ${JSON.stringify(c)}`,"types",e),n[c].push(s),r[s][c]=!0)})}const a=Object.keys(n).filter(s=>n[s].length===0);a.length===0?tn.throwArgumentError("missing primary type","types",e):a.length>1&&tn.throwArgumentError(`ambiguous primary types or unused types: ${a.map(s=>JSON.stringify(s)).join(", ")}`,"types",e),ut(this,"primaryType",a[0]);function o(s,u){u[s]&&tn.throwArgumentError(`circular type reference to ${JSON.stringify(s)}`,"types",e),u[s]=!0,Object.keys(r[s]).forEach(l=>{n[l]&&(o(l,u),Object.keys(u).forEach(c=>{i[c][l]=!0}))}),delete u[s]}o(this.primaryType,{});for(const s in i){const u=Object.keys(i[s]);u.sort(),this._types[s]=wA(s,e[s])+u.map(l=>wA(l,e[l])).join("")}}getEncoder(e){let r=this._encoderCache[e];return r||(r=this._encoderCache[e]=this._getEncoder(e)),r}_getEncoder(e){{const i=Hg(e);if(i)return i}const r=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(r){const i=r[1],a=this.getEncoder(i),o=parseInt(r[3]);return s=>{o>=0&&s.length!==o&&tn.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",s);let u=s.map(a);return this._types[i]&&(u=u.map(nn)),nn(ki(u))}}const n=this.types[e];if(n){const i=Ac(this._types[e]);return a=>{const o=n.map(({name:s,type:u})=>{const l=this.getEncoder(u)(a[s]);return this._types[u]?nn(l):l});return o.unshift(i),ki(o)}}return tn.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const r=this._types[e];return r||tn.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),r}encodeData(e,r){return this.getEncoder(e)(r)}hashStruct(e,r){return nn(this.encodeData(e,r))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,r,n){if(Hg(e))return n(e,r);const i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){const o=i[1],s=parseInt(i[3]);return s>=0&&r.length!==s&&tn.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",r),r.map(u=>this._visit(o,u,n))}const a=this.types[e];return a?a.reduce((o,{name:s,type:u})=>(o[s]=this._visit(u,r[s],n),o),{}):tn.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,r){return this._visit(this.primaryType,e,r)}static from(e){return new Hi(e)}static getPrimaryType(e){return Hi.from(e).primaryType}static hashStruct(e,r,n){return Hi.from(r).hashStruct(e,n)}static hashDomain(e){const r=[];for(const n in e){const i=CA[n];i||tn.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),r.push({name:n,type:i})}return r.sort((n,i)=>Qg.indexOf(n.name)-Qg.indexOf(i.name)),Hi.hashStruct("EIP712Domain",{EIP712Domain:r},e)}static encode(e,r,n){return ki(["0x1901",Hi.hashDomain(e),Hi.from(r).hash(n)])}static hash(e,r,n){return nn(Hi.encode(e,r,n))}static resolveNames(e,r,n,i){return Bj(this,void 0,void 0,function*(){e=Sn(e);const a={};e.verifyingContract&&!br(e.verifyingContract,20)&&(a[e.verifyingContract]="0x");const o=Hi.from(r);o.visit(n,(s,u)=>(s==="address"&&!br(u,20)&&(a[u]="0x"),u));for(const s in a)a[s]=yield i(s);return e.verifyingContract&&a[e.verifyingContract]&&(e.verifyingContract=a[e.verifyingContract]),n=o.visit(n,(s,u)=>s==="address"&&a[u]?a[u]:u),{domain:e,value:n}})}static getPayload(e,r,n){Hi.hashDomain(e);const i={},a=[];Qg.forEach(u=>{const l=e[u];l!=null&&(i[u]=Dj[u](l),a.push({name:u,type:CA[u]}))});const o=Hi.from(r),s=Sn(r);return s.EIP712Domain?tn.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",r):s.EIP712Domain=a,o.encode(n),{types:s,domain:i,primaryType:o.primaryType,message:o.visit(n,(u,l)=>{if(u.match(/^bytes(\d*)/))return Tt(Mt(l));if(u.match(/^u?int/))return gt.from(l).toString();switch(u){case"address":return l.toLowerCase();case"bool":return!!l;case"string":return typeof l!="string"&&tn.throwArgumentError("invalid string","value",l),l}return tn.throwArgumentError("unsupported type","type",u)})}}}const en=new qe(Xd);class Tj extends Zd{}class kj extends Zd{}class Nj extends Zd{}class xy extends Zd{static isIndexed(e){return!!(e&&e._isIndexed)}}const Pj={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function _A(t,e){const r=new Error(`deferred error during ABI decoding triggered accessing ${t}`);return r.error=e,r}class BA{constructor(e){let r=[];typeof e=="string"?r=JSON.parse(e):r=e,ut(this,"fragments",r.map(n=>_s.from(n)).filter(n=>n!=null)),ut(this,"_abiCoder",Po(new.target,"getAbiCoder")()),ut(this,"functions",{}),ut(this,"errors",{}),ut(this,"events",{}),ut(this,"structs",{}),this.fragments.forEach(n=>{let i=null;switch(n.type){case"constructor":if(this.deploy){en.warn("duplicate definition - constructor");return}ut(this,"deploy",n);return;case"function":i=this.functions;break;case"event":i=this.events;break;case"error":i=this.errors;break;default:return}let a=n.format();if(i[a]){en.warn("duplicate definition - "+a);return}i[a]=n}),this.deploy||ut(this,"deploy",To.from({payable:!1,type:"constructor"})),ut(this,"_isInterface",!0)}format(e){e||(e=Ar.full),e===Ar.sighash&&en.throwArgumentError("interface does not support formatting sighash","format",e);const r=this.fragments.map(n=>n.format(e));return e===Ar.json?JSON.stringify(r.map(n=>JSON.parse(n))):r}static getAbiCoder(){return ej}static getAddress(e){return jn(e)}static getSighash(e){return ai(Ac(e.format()),0,4)}static getEventTopic(e){return Ac(e.format())}getFunction(e){if(br(e)){for(const n in this.functions)if(e===this.getSighash(n))return this.functions[n];en.throwArgumentError("no matching function","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.functions).filter(a=>a.split("(")[0]===n);return i.length===0?en.throwArgumentError("no matching function","name",n):i.length>1&&en.throwArgumentError("multiple matching functions","name",n),this.functions[i[0]]}const r=this.functions[ko.fromString(e).format()];return r||en.throwArgumentError("no matching function","signature",e),r}getEvent(e){if(br(e)){const n=e.toLowerCase();for(const i in this.events)if(n===this.getEventTopic(i))return this.events[i];en.throwArgumentError("no matching event","topichash",n)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.events).filter(a=>a.split("(")[0]===n);return i.length===0?en.throwArgumentError("no matching event","name",n):i.length>1&&en.throwArgumentError("multiple matching events","name",n),this.events[i[0]]}const r=this.events[ys.fromString(e).format()];return r||en.throwArgumentError("no matching event","signature",e),r}getError(e){if(br(e)){const n=Po(this.constructor,"getSighash");for(const i in this.errors){const a=this.errors[i];if(e===n(a))return this.errors[i]}en.throwArgumentError("no matching error","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.errors).filter(a=>a.split("(")[0]===n);return i.length===0?en.throwArgumentError("no matching error","name",n):i.length>1&&en.throwArgumentError("multiple matching errors","name",n),this.errors[i[0]]}const r=this.errors[ko.fromString(e).format()];return r||en.throwArgumentError("no matching error","signature",e),r}getSighash(e){if(typeof e=="string")try{e=this.getFunction(e)}catch(r){try{e=this.getError(e)}catch{throw r}}return Po(this.constructor,"getSighash")(e)}getEventTopic(e){return typeof e=="string"&&(e=this.getEvent(e)),Po(this.constructor,"getEventTopic")(e)}_decodeParams(e,r){return this._abiCoder.decode(e,r)}_encodeParams(e,r){return this._abiCoder.encode(e,r)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,r){typeof e=="string"&&(e=this.getError(e));const n=Mt(r);return Tt(n.slice(0,4))!==this.getSighash(e)&&en.throwArgumentError(`data signature does not match error ${e.name}.`,"data",Tt(n)),this._decodeParams(e.inputs,n.slice(4))}encodeErrorResult(e,r){return typeof e=="string"&&(e=this.getError(e)),Tt(ra([this.getSighash(e),this._encodeParams(e.inputs,r||[])]))}decodeFunctionData(e,r){typeof e=="string"&&(e=this.getFunction(e));const n=Mt(r);return Tt(n.slice(0,4))!==this.getSighash(e)&&en.throwArgumentError(`data signature does not match function ${e.name}.`,"data",Tt(n)),this._decodeParams(e.inputs,n.slice(4))}encodeFunctionData(e,r){return typeof e=="string"&&(e=this.getFunction(e)),Tt(ra([this.getSighash(e),this._encodeParams(e.inputs,r||[])]))}decodeFunctionResult(e,r){typeof e=="string"&&(e=this.getFunction(e));let n=Mt(r),i=null,a="",o=null,s=null,u=null;switch(n.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,n)}catch{}break;case 4:{const l=Tt(n.slice(0,4)),c=Pj[l];if(c)o=this._abiCoder.decode(c.inputs,n.slice(4)),s=c.name,u=c.signature,c.reason&&(i=o[0]),s==="Error"?a=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(o[0])}`:s==="Panic"&&(a=`; VM Exception while processing transaction: reverted with panic code ${o[0]}`);else try{const f=this.getError(l);o=this._abiCoder.decode(f.inputs,n.slice(4)),s=f.name,u=f.format()}catch{}break}}return en.throwError("call revert exception"+a,qe.errors.CALL_EXCEPTION,{method:e.format(),data:Tt(r),errorArgs:o,errorName:s,errorSignature:u,reason:i})}encodeFunctionResult(e,r){return typeof e=="string"&&(e=this.getFunction(e)),Tt(this._abiCoder.encode(e.outputs,r||[]))}encodeFilterTopics(e,r){typeof e=="string"&&(e=this.getEvent(e)),r.length>e.inputs.length&&en.throwError("too many arguments for "+e.format(),qe.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:r});let n=[];e.anonymous||n.push(this.getEventTopic(e));const i=(a,o)=>a.type==="string"?Ac(o):a.type==="bytes"?nn(Tt(o)):(a.type==="bool"&&typeof o=="boolean"&&(o=o?"0x01":"0x00"),a.type.match(/^u?int/)&&(o=gt.from(o).toHexString()),a.type==="address"&&this._abiCoder.encode(["address"],[o]),un(Tt(o),32));for(r.forEach((a,o)=>{let s=e.inputs[o];if(!s.indexed){a!=null&&en.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+s.name,a);return}a==null?n.push(null):s.baseType==="array"||s.baseType==="tuple"?en.throwArgumentError("filtering with tuples or arrays not supported","contract."+s.name,a):Array.isArray(a)?n.push(a.map(u=>i(s,u))):n.push(i(s,a))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(e,r){typeof e=="string"&&(e=this.getEvent(e));const n=[],i=[],a=[];return e.anonymous||n.push(this.getEventTopic(e)),r.length!==e.inputs.length&&en.throwArgumentError("event arguments/values mismatch","values",r),e.inputs.forEach((o,s)=>{const u=r[s];if(o.indexed)if(o.type==="string")n.push(Ac(u));else if(o.type==="bytes")n.push(nn(u));else{if(o.baseType==="tuple"||o.baseType==="array")throw new Error("not implemented");n.push(this._abiCoder.encode([o.type],[u]))}else i.push(o),a.push(u)}),{data:this._abiCoder.encode(i,a),topics:n}}decodeEventLog(e,r,n){if(typeof e=="string"&&(e=this.getEvent(e)),n!=null&&!e.anonymous){let d=this.getEventTopic(e);(!br(n[0],32)||n[0].toLowerCase()!==d)&&en.throwError("fragment/topic mismatch",qe.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:d,value:n[0]}),n=n.slice(1)}let i=[],a=[],o=[];e.inputs.forEach((d,h)=>{d.indexed?d.type==="string"||d.type==="bytes"||d.baseType==="tuple"||d.baseType==="array"?(i.push(Tn.fromObject({type:"bytes32",name:d.name})),o.push(!0)):(i.push(d),o.push(!1)):(a.push(d),o.push(!1))});let s=n!=null?this._abiCoder.decode(i,ra(n)):null,u=this._abiCoder.decode(a,r,!0),l=[],c=0,f=0;e.inputs.forEach((d,h)=>{if(d.indexed)if(s==null)l[h]=new xy({_isIndexed:!0,hash:null});else if(o[h])l[h]=new xy({_isIndexed:!0,hash:s[f++]});else try{l[h]=s[f++]}catch(y){l[h]=y}else try{l[h]=u[c++]}catch(y){l[h]=y}if(d.name&&l[d.name]==null){const y=l[h];y instanceof Error?Object.defineProperty(l,d.name,{enumerable:!0,get:()=>{throw _A(`property ${JSON.stringify(d.name)}`,y)}}):l[d.name]=y}});for(let d=0;d<l.length;d++){const h=l[d];h instanceof Error&&Object.defineProperty(l,d,{enumerable:!0,get:()=>{throw _A(`index ${d}`,h)}})}return Object.freeze(l)}parseTransaction(e){let r=this.getFunction(e.data.substring(0,10).toLowerCase());return r?new kj({args:this._abiCoder.decode(r.inputs,"0x"+e.data.substring(10)),functionFragment:r,name:r.name,signature:r.format(),sighash:this.getSighash(r),value:gt.from(e.value||"0")}):null}parseLog(e){let r=this.getEvent(e.topics[0]);return!r||r.anonymous?null:new Tj({eventFragment:r,name:r.name,signature:r.format(),topic:this.getEventTopic(r),args:this.decodeEventLog(r,e.data,e.topics)})}parseError(e){const r=Tt(e);let n=this.getError(r.substring(0,10).toLowerCase());return n?new Nj({args:this._abiCoder.decode(n.inputs,"0x"+r.substring(10)),errorFragment:n,name:n.name,signature:n.format(),sighash:this.getSighash(n)}):null}static isInterface(e){return!!(e&&e._isInterface)}}const Rj="abstract-provider/5.7.0";var Mj=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(c){try{l(n.next(c))}catch(f){o(f)}}function u(c){try{l(n.throw(c))}catch(f){o(f)}}function l(c){c.done?a(c.value):i(c.value).then(s,u)}l((n=n.apply(t,e||[])).next())})};const Uj=new qe(Rj);class Oj extends Zd{static isForkEvent(e){return!!(e&&e._isForkEvent)}}class Wp{constructor(){Uj.checkAbstract(new.target,Wp),ut(this,"_isProvider",!0)}getFeeData(){return Mj(this,void 0,void 0,function*(){const{block:e,gasPrice:r}=yield gn({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(o=>null)});let n=null,i=null,a=null;return e&&e.baseFeePerGas&&(n=e.baseFeePerGas,a=gt.from("1500000000"),i=e.baseFeePerGas.mul(2).add(a)),{lastBaseFeePerGas:n,maxFeePerGas:i,maxPriorityFeePerGas:a,gasPrice:r}})}addListener(e,r){return this.on(e,r)}removeListener(e,r){return this.off(e,r)}static isProvider(e){return!!(e&&e._isProvider)}}const Vj="abstract-signer/5.7.0";var za=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(c){try{l(n.next(c))}catch(f){o(f)}}function u(c){try{l(n.throw(c))}catch(f){o(f)}}function l(c){c.done?a(c.value):i(c.value).then(s,u)}l((n=n.apply(t,e||[])).next())})};const pa=new qe(Vj),Gj=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],zj=[qe.errors.INSUFFICIENT_FUNDS,qe.errors.NONCE_EXPIRED,qe.errors.REPLACEMENT_UNDERPRICED];class eh{constructor(){pa.checkAbstract(new.target,eh),ut(this,"_isSigner",!0)}getBalance(e){return za(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return za(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return za(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const r=yield gn(this.checkTransaction(e));return yield this.provider.estimateGas(r)})}call(e,r){return za(this,void 0,void 0,function*(){this._checkProvider("call");const n=yield gn(this.checkTransaction(e));return yield this.provider.call(n,r)})}sendTransaction(e){return za(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const r=yield this.populateTransaction(e),n=yield this.signTransaction(r);return yield this.provider.sendTransaction(n)})}getChainId(){return za(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return za(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return za(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return za(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(const n in e)Gj.indexOf(n)===-1&&pa.throwArgumentError("invalid transaction key: "+n,"transaction",e);const r=Sn(e);return r.from==null?r.from=this.getAddress():r.from=Promise.all([Promise.resolve(r.from),this.getAddress()]).then(n=>(n[0].toLowerCase()!==n[1].toLowerCase()&&pa.throwArgumentError("from address mismatch","transaction",e),n[0])),r}populateTransaction(e){return za(this,void 0,void 0,function*(){const r=yield gn(this.checkTransaction(e));r.to!=null&&(r.to=Promise.resolve(r.to).then(i=>za(this,void 0,void 0,function*(){if(i==null)return null;const a=yield this.resolveName(i);return a==null&&pa.throwArgumentError("provided ENS name resolves to null","tx.to",i),a})),r.to.catch(i=>{}));const n=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||n)?pa.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(r.type===0||r.type===1)&&n&&pa.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1)r.gasPrice==null&&(r.gasPrice=this.getGasPrice());else{const i=yield this.getFeeData();if(r.type==null)if(i.maxFeePerGas!=null&&i.maxPriorityFeePerGas!=null)if(r.type=2,r.gasPrice!=null){const a=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=a,r.maxPriorityFeePerGas=a}else r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas);else i.gasPrice!=null?(n&&pa.throwError("network does not support EIP-1559",qe.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=i.gasPrice),r.type=0):pa.throwError("failed to get consistent fee data",qe.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else r.type===2&&(r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas))}return r.nonce==null&&(r.nonce=this.getTransactionCount("pending")),r.gasLimit==null&&(r.gasLimit=this.estimateGas(r).catch(i=>{if(zj.indexOf(i.code)>=0)throw i;return pa.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",qe.errors.UNPREDICTABLE_GAS_LIMIT,{error:i,tx:r})})),r.chainId==null?r.chainId=this.getChainId():r.chainId=Promise.all([Promise.resolve(r.chainId),this.getChainId()]).then(i=>(i[1]!==0&&i[0]!==i[1]&&pa.throwArgumentError("chainId address mismatch","transaction",e),i[0])),yield gn(r)})}_checkProvider(e){this.provider||pa.throwError("missing provider",qe.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}}class Pv extends eh{constructor(e,r){super(),ut(this,"address",e),ut(this,"provider",r||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,r){return Promise.resolve().then(()=>{pa.throwError(e,qe.errors.UNSUPPORTED_OPERATION,{operation:r})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,r,n){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new Pv(this.address,e)}}var vS={},dr={},th=ES;function ES(t,e){if(!t)throw new Error(e||"Assertion failed")}ES.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var py={exports:{}};typeof Object.create=="function"?py.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:py.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}};var Kj=py.exports,qj=th,Qj=Kj;dr.inherits=Qj;function Hj(t,e){return(t.charCodeAt(e)&64512)!==55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)===56320}function jj(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t),i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(var n=0,i=0;i<t.length;i++){var a=t.charCodeAt(i);a<128?r[n++]=a:a<2048?(r[n++]=a>>6|192,r[n++]=a&63|128):Hj(t,i)?(a=65536+((a&1023)<<10)+(t.charCodeAt(++i)&1023),r[n++]=a>>18|240,r[n++]=a>>12&63|128,r[n++]=a>>6&63|128,r[n++]=a&63|128):(r[n++]=a>>12|224,r[n++]=a>>6&63|128,r[n++]=a&63|128)}else for(i=0;i<t.length;i++)r[i]=t[i]|0;return r}dr.toArray=jj;function $j(t){for(var e="",r=0;r<t.length;r++)e+=AS(t[r].toString(16));return e}dr.toHex=$j;function CS(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}dr.htonl=CS;function Wj(t,e){for(var r="",n=0;n<t.length;n++){var i=t[n];e==="little"&&(i=CS(i)),r+=wS(i.toString(16))}return r}dr.toHex32=Wj;function AS(t){return t.length===1?"0"+t:t}dr.zero2=AS;function wS(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}dr.zero8=wS;function Yj(t,e,r,n){var i=r-e;qj(i%4===0);for(var a=new Array(i/4),o=0,s=e;o<a.length;o++,s+=4){var u;n==="big"?u=t[s]<<24|t[s+1]<<16|t[s+2]<<8|t[s+3]:u=t[s+3]<<24|t[s+2]<<16|t[s+1]<<8|t[s],a[o]=u>>>0}return a}dr.join32=Yj;function Zj(t,e){for(var r=new Array(t.length*4),n=0,i=0;n<t.length;n++,i+=4){var a=t[n];e==="big"?(r[i]=a>>>24,r[i+1]=a>>>16&255,r[i+2]=a>>>8&255,r[i+3]=a&255):(r[i+3]=a>>>24,r[i+2]=a>>>16&255,r[i+1]=a>>>8&255,r[i]=a&255)}return r}dr.split32=Zj;function Xj(t,e){return t>>>e|t<<32-e}dr.rotr32=Xj;function Jj(t,e){return t<<e|t>>>32-e}dr.rotl32=Jj;function e$(t,e){return t+e>>>0}dr.sum32=e$;function t$(t,e,r){return t+e+r>>>0}dr.sum32_3=t$;function r$(t,e,r,n){return t+e+r+n>>>0}dr.sum32_4=r$;function n$(t,e,r,n,i){return t+e+r+n+i>>>0}dr.sum32_5=n$;function i$(t,e,r,n){var i=t[e],a=t[e+1],o=n+a>>>0,s=(o<n?1:0)+r+i;t[e]=s>>>0,t[e+1]=o}dr.sum64=i$;function a$(t,e,r,n){var i=e+n>>>0,a=(i<e?1:0)+t+r;return a>>>0}dr.sum64_hi=a$;function o$(t,e,r,n){var i=e+n;return i>>>0}dr.sum64_lo=o$;function s$(t,e,r,n,i,a,o,s){var u=0,l=e;l=l+n>>>0,u+=l<e?1:0,l=l+a>>>0,u+=l<a?1:0,l=l+s>>>0,u+=l<s?1:0;var c=t+r+i+o+u;return c>>>0}dr.sum64_4_hi=s$;function l$(t,e,r,n,i,a,o,s){var u=e+n+a+s;return u>>>0}dr.sum64_4_lo=l$;function c$(t,e,r,n,i,a,o,s,u,l){var c=0,f=e;f=f+n>>>0,c+=f<e?1:0,f=f+a>>>0,c+=f<a?1:0,f=f+s>>>0,c+=f<s?1:0,f=f+l>>>0,c+=f<l?1:0;var d=t+r+i+o+u+c;return d>>>0}dr.sum64_5_hi=c$;function u$(t,e,r,n,i,a,o,s,u,l){var c=e+n+a+s+l;return c>>>0}dr.sum64_5_lo=u$;function f$(t,e,r){var n=e<<32-r|t>>>r;return n>>>0}dr.rotr64_hi=f$;function d$(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}dr.rotr64_lo=d$;function h$(t,e,r){return t>>>r}dr.shr64_hi=h$;function x$(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}dr.shr64_lo=x$;var Lu={},bA=dr,p$=th;function Yp(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}Lu.BlockHash=Yp;Yp.prototype.update=function(e,r){if(e=bA.toArray(e,r),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var n=e.length%this._delta8;this.pending=e.slice(e.length-n,e.length),this.pending.length===0&&(this.pending=null),e=bA.join32(e,0,e.length-n,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this};Yp.prototype.digest=function(e){return this.update(this._pad()),p$(this.pending===null),this._digest(e)};Yp.prototype._pad=function(){var e=this.pendingTotal,r=this._delta8,n=r-(e+this.padLength)%r,i=new Array(n+this.padLength);i[0]=128;for(var a=1;a<n;a++)i[a]=0;if(e<<=3,this.endian==="big"){for(var o=8;o<this.padLength;o++)i[a++]=0;i[a++]=0,i[a++]=0,i[a++]=0,i[a++]=0,i[a++]=e>>>24&255,i[a++]=e>>>16&255,i[a++]=e>>>8&255,i[a++]=e&255}else for(i[a++]=e&255,i[a++]=e>>>8&255,i[a++]=e>>>16&255,i[a++]=e>>>24&255,i[a++]=0,i[a++]=0,i[a++]=0,i[a++]=0,o=8;o<this.padLength;o++)i[a++]=0;return i};var Fu={},Zo={},g$=dr,Vo=g$.rotr32;function m$(t,e,r,n){if(t===0)return _S(e,r,n);if(t===1||t===3)return bS(e,r,n);if(t===2)return BS(e,r,n)}Zo.ft_1=m$;function _S(t,e,r){return t&e^~t&r}Zo.ch32=_S;function BS(t,e,r){return t&e^t&r^e&r}Zo.maj32=BS;function bS(t,e,r){return t^e^r}Zo.p32=bS;function y$(t){return Vo(t,2)^Vo(t,13)^Vo(t,22)}Zo.s0_256=y$;function v$(t){return Vo(t,6)^Vo(t,11)^Vo(t,25)}Zo.s1_256=v$;function E$(t){return Vo(t,7)^Vo(t,18)^t>>>3}Zo.g0_256=E$;function C$(t){return Vo(t,17)^Vo(t,19)^t>>>10}Zo.g1_256=C$;var au=dr,A$=Lu,w$=Zo,jg=au.rotl32,rf=au.sum32,_$=au.sum32_5,B$=w$.ft_1,SS=A$.BlockHash,b$=[1518500249,1859775393,2400959708,3395469782];function qo(){if(!(this instanceof qo))return new qo;SS.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}au.inherits(qo,SS);var S$=qo;qo.blockSize=512;qo.outSize=160;qo.hmacStrength=80;qo.padLength=64;qo.prototype._update=function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=jg(n[i-3]^n[i-8]^n[i-14]^n[i-16],1);var a=this.h[0],o=this.h[1],s=this.h[2],u=this.h[3],l=this.h[4];for(i=0;i<n.length;i++){var c=~~(i/20),f=_$(jg(a,5),B$(c,o,s,u),l,n[i],b$[c]);l=u,u=s,s=jg(o,30),o=a,a=f}this.h[0]=rf(this.h[0],a),this.h[1]=rf(this.h[1],o),this.h[2]=rf(this.h[2],s),this.h[3]=rf(this.h[3],u),this.h[4]=rf(this.h[4],l)};qo.prototype._digest=function(e){return e==="hex"?au.toHex32(this.h,"big"):au.split32(this.h,"big")};var ou=dr,I$=Lu,Du=Zo,L$=th,Ka=ou.sum32,F$=ou.sum32_4,D$=ou.sum32_5,T$=Du.ch32,k$=Du.maj32,N$=Du.s0_256,P$=Du.s1_256,R$=Du.g0_256,M$=Du.g1_256,IS=I$.BlockHash,U$=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Qo(){if(!(this instanceof Qo))return new Qo;IS.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=U$,this.W=new Array(64)}ou.inherits(Qo,IS);var LS=Qo;Qo.blockSize=512;Qo.outSize=256;Qo.hmacStrength=192;Qo.padLength=64;Qo.prototype._update=function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=F$(M$(n[i-2]),n[i-7],R$(n[i-15]),n[i-16]);var a=this.h[0],o=this.h[1],s=this.h[2],u=this.h[3],l=this.h[4],c=this.h[5],f=this.h[6],d=this.h[7];for(L$(this.k.length===n.length),i=0;i<n.length;i++){var h=D$(d,P$(l),T$(l,c,f),this.k[i],n[i]),y=Ka(N$(a),k$(a,o,s));d=f,f=c,c=l,l=Ka(u,h),u=s,s=o,o=a,a=Ka(h,y)}this.h[0]=Ka(this.h[0],a),this.h[1]=Ka(this.h[1],o),this.h[2]=Ka(this.h[2],s),this.h[3]=Ka(this.h[3],u),this.h[4]=Ka(this.h[4],l),this.h[5]=Ka(this.h[5],c),this.h[6]=Ka(this.h[6],f),this.h[7]=Ka(this.h[7],d)};Qo.prototype._digest=function(e){return e==="hex"?ou.toHex32(this.h,"big"):ou.split32(this.h,"big")};var gy=dr,FS=LS;function Ns(){if(!(this instanceof Ns))return new Ns;FS.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}gy.inherits(Ns,FS);var O$=Ns;Ns.blockSize=512;Ns.outSize=224;Ns.hmacStrength=192;Ns.padLength=64;Ns.prototype._digest=function(e){return e==="hex"?gy.toHex32(this.h.slice(0,7),"big"):gy.split32(this.h.slice(0,7),"big")};var zi=dr,V$=Lu,G$=th,Go=zi.rotr64_hi,zo=zi.rotr64_lo,DS=zi.shr64_hi,TS=zi.shr64_lo,Hs=zi.sum64,$g=zi.sum64_hi,Wg=zi.sum64_lo,z$=zi.sum64_4_hi,K$=zi.sum64_4_lo,q$=zi.sum64_5_hi,Q$=zi.sum64_5_lo,kS=V$.BlockHash,H$=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function so(){if(!(this instanceof so))return new so;kS.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=H$,this.W=new Array(160)}zi.inherits(so,kS);var NS=so;so.blockSize=1024;so.outSize=512;so.hmacStrength=192;so.padLength=128;so.prototype._prepareBlock=function(e,r){for(var n=this.W,i=0;i<32;i++)n[i]=e[r+i];for(;i<n.length;i+=2){var a=nW(n[i-4],n[i-3]),o=iW(n[i-4],n[i-3]),s=n[i-14],u=n[i-13],l=tW(n[i-30],n[i-29]),c=rW(n[i-30],n[i-29]),f=n[i-32],d=n[i-31];n[i]=z$(a,o,s,u,l,c,f,d),n[i+1]=K$(a,o,s,u,l,c,f,d)}};so.prototype._update=function(e,r){this._prepareBlock(e,r);var n=this.W,i=this.h[0],a=this.h[1],o=this.h[2],s=this.h[3],u=this.h[4],l=this.h[5],c=this.h[6],f=this.h[7],d=this.h[8],h=this.h[9],y=this.h[10],w=this.h[11],_=this.h[12],E=this.h[13],p=this.h[14],m=this.h[15];G$(this.k.length===n.length);for(var S=0;S<n.length;S+=2){var F=p,I=m,v=J$(d,h),A=eW(d,h),D=j$(d,h,y,w,_),L=$$(d,h,y,w,_,E),j=this.k[S],Y=this.k[S+1],O=n[S],B=n[S+1],C=q$(F,I,v,A,D,L,j,Y,O,B),N=Q$(F,I,v,A,D,L,j,Y,O,B);F=Z$(i,a),I=X$(i,a),v=W$(i,a,o,s,u),A=Y$(i,a,o,s,u,l);var U=$g(F,I,v,A),G=Wg(F,I,v,A);p=_,m=E,_=y,E=w,y=d,w=h,d=$g(c,f,C,N),h=Wg(f,f,C,N),c=u,f=l,u=o,l=s,o=i,s=a,i=$g(C,N,U,G),a=Wg(C,N,U,G)}Hs(this.h,0,i,a),Hs(this.h,2,o,s),Hs(this.h,4,u,l),Hs(this.h,6,c,f),Hs(this.h,8,d,h),Hs(this.h,10,y,w),Hs(this.h,12,_,E),Hs(this.h,14,p,m)};so.prototype._digest=function(e){return e==="hex"?zi.toHex32(this.h,"big"):zi.split32(this.h,"big")};function j$(t,e,r,n,i){var a=t&r^~t&i;return a<0&&(a+=4294967296),a}function $$(t,e,r,n,i,a){var o=e&n^~e&a;return o<0&&(o+=4294967296),o}function W$(t,e,r,n,i){var a=t&r^t&i^r&i;return a<0&&(a+=4294967296),a}function Y$(t,e,r,n,i,a){var o=e&n^e&a^n&a;return o<0&&(o+=4294967296),o}function Z$(t,e){var r=Go(t,e,28),n=Go(e,t,2),i=Go(e,t,7),a=r^n^i;return a<0&&(a+=4294967296),a}function X$(t,e){var r=zo(t,e,28),n=zo(e,t,2),i=zo(e,t,7),a=r^n^i;return a<0&&(a+=4294967296),a}function J$(t,e){var r=Go(t,e,14),n=Go(t,e,18),i=Go(e,t,9),a=r^n^i;return a<0&&(a+=4294967296),a}function eW(t,e){var r=zo(t,e,14),n=zo(t,e,18),i=zo(e,t,9),a=r^n^i;return a<0&&(a+=4294967296),a}function tW(t,e){var r=Go(t,e,1),n=Go(t,e,8),i=DS(t,e,7),a=r^n^i;return a<0&&(a+=4294967296),a}function rW(t,e){var r=zo(t,e,1),n=zo(t,e,8),i=TS(t,e,7),a=r^n^i;return a<0&&(a+=4294967296),a}function nW(t,e){var r=Go(t,e,19),n=Go(e,t,29),i=DS(t,e,6),a=r^n^i;return a<0&&(a+=4294967296),a}function iW(t,e){var r=zo(t,e,19),n=zo(e,t,29),i=TS(t,e,6),a=r^n^i;return a<0&&(a+=4294967296),a}var my=dr,PS=NS;function Ps(){if(!(this instanceof Ps))return new Ps;PS.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}my.inherits(Ps,PS);var aW=Ps;Ps.blockSize=1024;Ps.outSize=384;Ps.hmacStrength=192;Ps.padLength=128;Ps.prototype._digest=function(e){return e==="hex"?my.toHex32(this.h.slice(0,12),"big"):my.split32(this.h.slice(0,12),"big")};Fu.sha1=S$;Fu.sha224=O$;Fu.sha256=LS;Fu.sha384=aW;Fu.sha512=NS;var RS={},Fl=dr,oW=Lu,jh=Fl.rotl32,SA=Fl.sum32,nf=Fl.sum32_3,IA=Fl.sum32_4,MS=oW.BlockHash;function Ho(){if(!(this instanceof Ho))return new Ho;MS.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}Fl.inherits(Ho,MS);RS.ripemd160=Ho;Ho.blockSize=512;Ho.outSize=160;Ho.hmacStrength=192;Ho.padLength=64;Ho.prototype._update=function(e,r){for(var n=this.h[0],i=this.h[1],a=this.h[2],o=this.h[3],s=this.h[4],u=n,l=i,c=a,f=o,d=s,h=0;h<80;h++){var y=SA(jh(IA(n,LA(h,i,a,o),e[cW[h]+r],sW(h)),fW[h]),s);n=s,s=o,o=jh(a,10),a=i,i=y,y=SA(jh(IA(u,LA(79-h,l,c,f),e[uW[h]+r],lW(h)),dW[h]),d),u=d,d=f,f=jh(c,10),c=l,l=y}y=nf(this.h[1],a,f),this.h[1]=nf(this.h[2],o,d),this.h[2]=nf(this.h[3],s,u),this.h[3]=nf(this.h[4],n,l),this.h[4]=nf(this.h[0],i,c),this.h[0]=y};Ho.prototype._digest=function(e){return e==="hex"?Fl.toHex32(this.h,"little"):Fl.split32(this.h,"little")};function LA(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function sW(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function lW(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var cW=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],uW=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],fW=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],dW=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],hW=dr,xW=th;function su(t,e,r){if(!(this instanceof su))return new su(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(hW.toArray(e,r))}var pW=su;su.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),xW(e.length<=this.blockSize);for(var r=e.length;r<this.blockSize;r++)e.push(0);for(r=0;r<e.length;r++)e[r]^=54;for(this.inner=new this.Hash().update(e),r=0;r<e.length;r++)e[r]^=106;this.outer=new this.Hash().update(e)};su.prototype.update=function(e,r){return this.inner.update(e,r),this};su.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)};(function(t){var e=t;e.utils=dr,e.common=Lu,e.sha=Fu,e.ripemd=RS,e.hmac=pW,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(vS);const Co=lu(vS);function Tu(t,e,r){return r={path:e,exports:{},require:function(n,i){return gW(n,i??r.path)}},t(r,r.exports),r.exports}function gW(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var Rv=US;function US(t,e){if(!t)throw new Error(e||"Assertion failed")}US.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var Ja=Tu(function(t,e){var r=e;function n(o,s){if(Array.isArray(o))return o.slice();if(!o)return[];var u=[];if(typeof o!="string"){for(var l=0;l<o.length;l++)u[l]=o[l]|0;return u}if(s==="hex"){o=o.replace(/[^a-z0-9]+/ig,""),o.length%2!==0&&(o="0"+o);for(var l=0;l<o.length;l+=2)u.push(parseInt(o[l]+o[l+1],16))}else for(var l=0;l<o.length;l++){var c=o.charCodeAt(l),f=c>>8,d=c&255;f?u.push(f,d):u.push(d)}return u}r.toArray=n;function i(o){return o.length===1?"0"+o:o}r.zero2=i;function a(o){for(var s="",u=0;u<o.length;u++)s+=i(o[u].toString(16));return s}r.toHex=a,r.encode=function(s,u){return u==="hex"?a(s):s}}),la=Tu(function(t,e){var r=e;r.assert=Rv,r.toArray=Ja.toArray,r.zero2=Ja.zero2,r.toHex=Ja.toHex,r.encode=Ja.encode;function n(u,l,c){var f=new Array(Math.max(u.bitLength(),c)+1);f.fill(0);for(var d=1<<l+1,h=u.clone(),y=0;y<f.length;y++){var w,_=h.andln(d-1);h.isOdd()?(_>(d>>1)-1?w=(d>>1)-_:w=_,h.isubn(w)):w=0,f[y]=w,h.iushrn(1)}return f}r.getNAF=n;function i(u,l){var c=[[],[]];u=u.clone(),l=l.clone();for(var f=0,d=0,h;u.cmpn(-f)>0||l.cmpn(-d)>0;){var y=u.andln(3)+f&3,w=l.andln(3)+d&3;y===3&&(y=-1),w===3&&(w=-1);var _;y&1?(h=u.andln(7)+f&7,(h===3||h===5)&&w===2?_=-y:_=y):_=0,c[0].push(_);var E;w&1?(h=l.andln(7)+d&7,(h===3||h===5)&&y===2?E=-w:E=w):E=0,c[1].push(E),2*f===_+1&&(f=1-f),2*d===E+1&&(d=1-d),u.iushrn(1),l.iushrn(1)}return c}r.getJSF=i;function a(u,l,c){var f="_"+l;u.prototype[l]=function(){return this[f]!==void 0?this[f]:this[f]=c.call(this)}}r.cachedProperty=a;function o(u){return typeof u=="string"?r.toArray(u,"hex"):u}r.parseBytes=o;function s(u){return new $t(u,"hex","le")}r.intFromLE=s}),Dx=la.getNAF,mW=la.getJSF,Tx=la.assert;function Q0(t,e){this.type=t,this.p=new $t(e.p,16),this.red=e.prime?$t.red(e.prime):$t.mont(this.p),this.zero=new $t(0).toRed(this.red),this.one=new $t(1).toRed(this.red),this.two=new $t(2).toRed(this.red),this.n=e.n&&new $t(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Ql=Q0;Q0.prototype.point=function(){throw new Error("Not implemented")};Q0.prototype.validate=function(){throw new Error("Not implemented")};Q0.prototype._fixedNafMul=function(e,r){Tx(e.precomputed);var n=e._getDoubles(),i=Dx(r,1,this._bitLength),a=(1<<n.step+1)-(n.step%2===0?2:1);a/=3;var o=[],s,u;for(s=0;s<i.length;s+=n.step){u=0;for(var l=s+n.step-1;l>=s;l--)u=(u<<1)+i[l];o.push(u)}for(var c=this.jpoint(null,null,null),f=this.jpoint(null,null,null),d=a;d>0;d--){for(s=0;s<o.length;s++)u=o[s],u===d?f=f.mixedAdd(n.points[s]):u===-d&&(f=f.mixedAdd(n.points[s].neg()));c=c.add(f)}return c.toP()};Q0.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var a=i.points,o=Dx(r,n,this._bitLength),s=this.jpoint(null,null,null),u=o.length-1;u>=0;u--){for(var l=0;u>=0&&o[u]===0;u--)l++;if(u>=0&&l++,s=s.dblp(l),u<0)break;var c=o[u];Tx(c!==0),e.type==="affine"?c>0?s=s.mixedAdd(a[c-1>>1]):s=s.mixedAdd(a[-c-1>>1].neg()):c>0?s=s.add(a[c-1>>1]):s=s.add(a[-c-1>>1].neg())}return e.type==="affine"?s.toP():s};Q0.prototype._wnafMulAdd=function(e,r,n,i,a){var o=this._wnafT1,s=this._wnafT2,u=this._wnafT3,l=0,c,f,d;for(c=0;c<i;c++){d=r[c];var h=d._getNAFPoints(e);o[c]=h.wnd,s[c]=h.points}for(c=i-1;c>=1;c-=2){var y=c-1,w=c;if(o[y]!==1||o[w]!==1){u[y]=Dx(n[y],o[y],this._bitLength),u[w]=Dx(n[w],o[w],this._bitLength),l=Math.max(u[y].length,l),l=Math.max(u[w].length,l);continue}var _=[r[y],null,null,r[w]];r[y].y.cmp(r[w].y)===0?(_[1]=r[y].add(r[w]),_[2]=r[y].toJ().mixedAdd(r[w].neg())):r[y].y.cmp(r[w].y.redNeg())===0?(_[1]=r[y].toJ().mixedAdd(r[w]),_[2]=r[y].add(r[w].neg())):(_[1]=r[y].toJ().mixedAdd(r[w]),_[2]=r[y].toJ().mixedAdd(r[w].neg()));var E=[-3,-1,-5,-7,0,7,5,1,3],p=mW(n[y],n[w]);for(l=Math.max(p[0].length,l),u[y]=new Array(l),u[w]=new Array(l),f=0;f<l;f++){var m=p[0][f]|0,S=p[1][f]|0;u[y][f]=E[(m+1)*3+(S+1)],u[w][f]=0,s[y]=_}}var F=this.jpoint(null,null,null),I=this._wnafT4;for(c=l;c>=0;c--){for(var v=0;c>=0;){var A=!0;for(f=0;f<i;f++)I[f]=u[f][c]|0,I[f]!==0&&(A=!1);if(!A)break;v++,c--}if(c>=0&&v++,F=F.dblp(v),c<0)break;for(f=0;f<i;f++){var D=I[f];D!==0&&(D>0?d=s[f][D-1>>1]:D<0&&(d=s[f][-D-1>>1].neg()),d.type==="affine"?F=F.mixedAdd(d):F=F.add(d))}}for(c=0;c<i;c++)s[c]=null;return a?F:F.toP()};function Na(t,e){this.curve=t,this.type=e,this.precomputed=null}Q0.BasePoint=Na;Na.prototype.eq=function(){throw new Error("Not implemented")};Na.prototype.validate=function(){return this.curve.validate(this)};Q0.prototype.decodePoint=function(e,r){e=la.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?Tx(e[e.length-1]%2===0):e[0]===7&&Tx(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};Na.prototype.encodeCompressed=function(e){return this.encode(e,!0)};Na.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};Na.prototype.encode=function(e,r){return la.encode(this._encode(r),e)};Na.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};Na.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};Na.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,a=0;a<r;a+=e){for(var o=0;o<e;o++)i=i.dbl();n.push(i)}return{step:e,points:n}};Na.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),a=1;a<n;a++)r[a]=r[a-1].add(i);return{wnd:e,points:r}};Na.prototype._getBeta=function(){return null};Na.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var Mv=Tu(function(t){typeof Object.create=="function"?t.exports=function(r,n){n&&(r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(r,n){if(n){r.super_=n;var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r}}}),yW=la.assert;function Pa(t){Ql.call(this,"short",t),this.a=new $t(t.a,16).toRed(this.red),this.b=new $t(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}Mv(Pa,Ql);var vW=Pa;Pa.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new $t(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new $t(e.lambda,16);else{var a=this._getEndoRoots(this.n);this.g.mul(a[0]).x.cmp(this.g.x.redMul(r))===0?n=a[0]:(n=a[1],yW(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var o;return e.basis?o=e.basis.map(function(s){return{a:new $t(s.a,16),b:new $t(s.b,16)}}):o=this._getEndoBasis(n),{beta:r,lambda:n,basis:o}}};Pa.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:$t.mont(e),n=new $t(2).toRed(r).redInvm(),i=n.redNeg(),a=new $t(3).toRed(r).redNeg().redSqrt().redMul(n),o=i.redAdd(a).fromRed(),s=i.redSub(a).fromRed();return[o,s]};Pa.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),a=new $t(1),o=new $t(0),s=new $t(0),u=new $t(1),l,c,f,d,h,y,w,_=0,E,p;n.cmpn(0)!==0;){var m=i.div(n);E=i.sub(m.mul(n)),p=s.sub(m.mul(a));var S=u.sub(m.mul(o));if(!f&&E.cmp(r)<0)l=w.neg(),c=a,f=E.neg(),d=p;else if(f&&++_===2)break;w=E,i=n,n=E,s=a,a=p,u=o,o=S}h=E.neg(),y=p;var F=f.sqr().add(d.sqr()),I=h.sqr().add(y.sqr());return I.cmp(F)>=0&&(h=l,y=c),f.negative&&(f=f.neg(),d=d.neg()),h.negative&&(h=h.neg(),y=y.neg()),[{a:f,b:d},{a:h,b:y}]};Pa.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],a=i.b.mul(e).divRound(this.n),o=n.b.neg().mul(e).divRound(this.n),s=a.mul(n.a),u=o.mul(i.a),l=a.mul(n.b),c=o.mul(i.b),f=e.sub(s).sub(u),d=l.add(c).neg();return{k1:f,k2:d}};Pa.prototype.pointFromX=function(e,r){e=new $t(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var a=i.fromRed().isOdd();return(r&&!a||!r&&a)&&(i=i.redNeg()),this.point(e,i)};Pa.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),a=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(a).cmpn(0)===0};Pa.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,a=this._endoWnafT2,o=0;o<e.length;o++){var s=this._endoSplit(r[o]),u=e[o],l=u._getBeta();s.k1.negative&&(s.k1.ineg(),u=u.neg(!0)),s.k2.negative&&(s.k2.ineg(),l=l.neg(!0)),i[o*2]=u,i[o*2+1]=l,a[o*2]=s.k1,a[o*2+1]=s.k2}for(var c=this._wnafMulAdd(1,i,a,o*2,n),f=0;f<o*2;f++)i[f]=null,a[f]=null;return c};function Rn(t,e,r,n){Ql.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new $t(e,16),this.y=new $t(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}Mv(Rn,Ql.BasePoint);Pa.prototype.point=function(e,r,n){return new Rn(this,e,r,n)};Pa.prototype.pointFromJSON=function(e,r){return Rn.fromJSON(this,e,r)};Rn.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(a){return n.point(a.x.redMul(n.endo.beta),a.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};Rn.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Rn.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function a(s){return e.point(s[0],s[1],n)}var o=r[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(a))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(a))}},i};Rn.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Rn.prototype.isInfinity=function(){return this.inf};Rn.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};Rn.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),a=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),o=a.redSqr().redISub(this.x.redAdd(this.x)),s=a.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,s)};Rn.prototype.getX=function(){return this.x.fromRed()};Rn.prototype.getY=function(){return this.y.fromRed()};Rn.prototype.mul=function(e){return e=new $t(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};Rn.prototype.mulAdd=function(e,r,n){var i=[this,r],a=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,a):this.curve._wnafMulAdd(1,i,a,2)};Rn.prototype.jmulAdd=function(e,r,n){var i=[this,r],a=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,a,!0):this.curve._wnafMulAdd(1,i,a,2,!0)};Rn.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};Rn.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(a){return a.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};Rn.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function Wn(t,e,r,n){Ql.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new $t(0)):(this.x=new $t(e,16),this.y=new $t(r,16),this.z=new $t(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}Mv(Wn,Ql.BasePoint);Pa.prototype.jpoint=function(e,r,n){return new Wn(this,e,r,n)};Wn.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};Wn.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};Wn.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),a=e.x.redMul(n),o=this.y.redMul(r.redMul(e.z)),s=e.y.redMul(n.redMul(this.z)),u=i.redSub(a),l=o.redSub(s);if(u.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var c=u.redSqr(),f=c.redMul(u),d=i.redMul(c),h=l.redSqr().redIAdd(f).redISub(d).redISub(d),y=l.redMul(d.redISub(h)).redISub(o.redMul(f)),w=this.z.redMul(e.z).redMul(u);return this.curve.jpoint(h,y,w)};Wn.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),a=this.y,o=e.y.redMul(r).redMul(this.z),s=n.redSub(i),u=a.redSub(o);if(s.cmpn(0)===0)return u.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var l=s.redSqr(),c=l.redMul(s),f=n.redMul(l),d=u.redSqr().redIAdd(c).redISub(f).redISub(f),h=u.redMul(f.redISub(d)).redISub(a.redMul(c)),y=this.z.redMul(s);return this.curve.jpoint(d,h,y)};Wn.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,a=this.curve.tinv,o=this.x,s=this.y,u=this.z,l=u.redSqr().redSqr(),c=s.redAdd(s);for(r=0;r<e;r++){var f=o.redSqr(),d=c.redSqr(),h=d.redSqr(),y=f.redAdd(f).redIAdd(f).redIAdd(i.redMul(l)),w=o.redMul(d),_=y.redSqr().redISub(w.redAdd(w)),E=w.redISub(_),p=y.redMul(E);p=p.redIAdd(p).redISub(h);var m=c.redMul(u);r+1<e&&(l=l.redMul(h)),o=_,u=m,c=p}return this.curve.jpoint(o,c.redMul(a),u)};Wn.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};Wn.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),a=this.y.redSqr(),o=a.redSqr(),s=this.x.redAdd(a).redSqr().redISub(i).redISub(o);s=s.redIAdd(s);var u=i.redAdd(i).redIAdd(i),l=u.redSqr().redISub(s).redISub(s),c=o.redIAdd(o);c=c.redIAdd(c),c=c.redIAdd(c),e=l,r=u.redMul(s.redISub(l)).redISub(c),n=this.y.redAdd(this.y)}else{var f=this.x.redSqr(),d=this.y.redSqr(),h=d.redSqr(),y=this.x.redAdd(d).redSqr().redISub(f).redISub(h);y=y.redIAdd(y);var w=f.redAdd(f).redIAdd(f),_=w.redSqr(),E=h.redIAdd(h);E=E.redIAdd(E),E=E.redIAdd(E),e=_.redISub(y).redISub(y),r=w.redMul(y.redISub(e)).redISub(E),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};Wn.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),a=this.y.redSqr(),o=a.redSqr(),s=this.x.redAdd(a).redSqr().redISub(i).redISub(o);s=s.redIAdd(s);var u=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),l=u.redSqr().redISub(s).redISub(s);e=l;var c=o.redIAdd(o);c=c.redIAdd(c),c=c.redIAdd(c),r=u.redMul(s.redISub(l)).redISub(c),n=this.y.redAdd(this.y)}else{var f=this.z.redSqr(),d=this.y.redSqr(),h=this.x.redMul(d),y=this.x.redSub(f).redMul(this.x.redAdd(f));y=y.redAdd(y).redIAdd(y);var w=h.redIAdd(h);w=w.redIAdd(w);var _=w.redAdd(w);e=y.redSqr().redISub(_),n=this.y.redAdd(this.z).redSqr().redISub(d).redISub(f);var E=d.redSqr();E=E.redIAdd(E),E=E.redIAdd(E),E=E.redIAdd(E),r=y.redMul(w.redISub(e)).redISub(E)}return this.curve.jpoint(e,r,n)};Wn.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,a=i.redSqr().redSqr(),o=r.redSqr(),s=n.redSqr(),u=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(a)),l=r.redAdd(r);l=l.redIAdd(l);var c=l.redMul(s),f=u.redSqr().redISub(c.redAdd(c)),d=c.redISub(f),h=s.redSqr();h=h.redIAdd(h),h=h.redIAdd(h),h=h.redIAdd(h);var y=u.redMul(d).redISub(h),w=n.redAdd(n).redMul(i);return this.curve.jpoint(f,y,w)};Wn.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),a=e.redAdd(e).redIAdd(e),o=a.redSqr(),s=this.x.redAdd(r).redSqr().redISub(e).redISub(i);s=s.redIAdd(s),s=s.redAdd(s).redIAdd(s),s=s.redISub(o);var u=s.redSqr(),l=i.redIAdd(i);l=l.redIAdd(l),l=l.redIAdd(l),l=l.redIAdd(l);var c=a.redIAdd(s).redSqr().redISub(o).redISub(u).redISub(l),f=r.redMul(c);f=f.redIAdd(f),f=f.redIAdd(f);var d=this.x.redMul(u).redISub(f);d=d.redIAdd(d),d=d.redIAdd(d);var h=this.y.redMul(c.redMul(l.redISub(c)).redISub(s.redMul(u)));h=h.redIAdd(h),h=h.redIAdd(h),h=h.redIAdd(h);var y=this.z.redAdd(s).redSqr().redISub(n).redISub(u);return this.curve.jpoint(d,h,y)};Wn.prototype.mul=function(e,r){return e=new $t(e,r),this.curve._wnafMul(this,e)};Wn.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),a=n.redMul(e.z);return this.y.redMul(a).redISub(e.y.redMul(i)).cmpn(0)===0};Wn.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),a=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(a),this.x.cmp(n)===0)return!0}};Wn.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};Wn.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var _1=Tu(function(t,e){var r=e;r.base=Ql,r.short=vW,r.mont=null,r.edwards=null}),B1=Tu(function(t,e){var r=e,n=la.assert;function i(s){s.type==="short"?this.curve=new _1.short(s):s.type==="edwards"?this.curve=new _1.edwards(s):this.curve=new _1.mont(s),this.g=this.curve.g,this.n=this.curve.n,this.hash=s.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=i;function a(s,u){Object.defineProperty(r,s,{configurable:!0,enumerable:!0,get:function(){var l=new i(u);return Object.defineProperty(r,s,{configurable:!0,enumerable:!0,value:l}),l}})}a("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Co.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),a("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Co.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),a("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Co.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),a("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Co.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),a("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Co.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),a("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Co.sha256,gRed:!1,g:["9"]}),a("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Co.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var o;try{o=null.crash()}catch{o=void 0}a("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Co.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",o]})});function P0(t){if(!(this instanceof P0))return new P0(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=Ja.toArray(t.entropy,t.entropyEnc||"hex"),r=Ja.toArray(t.nonce,t.nonceEnc||"hex"),n=Ja.toArray(t.pers,t.persEnc||"hex");Rv(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var OS=P0;P0.prototype._init=function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var a=0;a<this.V.length;a++)this.K[a]=0,this.V[a]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};P0.prototype._hmac=function(){return new Co.hmac(this.hash,this.K)};P0.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};P0.prototype.reseed=function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=Ja.toArray(e,r),n=Ja.toArray(n,i),Rv(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};P0.prototype.generate=function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=Ja.toArray(n,i||"hex"),this._update(n));for(var a=[];a.length<e;)this.V=this._hmac().update(this.V).digest(),a=a.concat(this.V);var o=a.slice(0,e);return this._update(n),this._reseed++,Ja.encode(o,r)};var yy=la.assert;function li(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var Uv=li;li.fromPublic=function(e,r,n){return r instanceof li?r:new li(e,{pub:r,pubEnc:n})};li.fromPrivate=function(e,r,n){return r instanceof li?r:new li(e,{priv:r,privEnc:n})};li.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};li.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};li.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};li.prototype._importPrivate=function(e,r){this.priv=new $t(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};li.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?yy(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&yy(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};li.prototype.derive=function(e){return e.validate()||yy(e.validate(),"public point not validated"),e.mul(this.priv).getX()};li.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};li.prototype.verify=function(e,r){return this.ec.verify(e,r,this)};li.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var EW=la.assert;function Zp(t,e){if(t instanceof Zp)return t;this._importDER(t,e)||(EW(t.r&&t.s,"Signature without r or s"),this.r=new $t(t.r,16),this.s=new $t(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var Xp=Zp;function CW(){this.place=0}function Yg(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4)return!1;for(var i=0,a=0,o=e.place;a<n;a++,o++)i<<=8,i|=t[o],i>>>=0;return i<=127?!1:(e.place=o,i)}function FA(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}Zp.prototype._importDER=function(e,r){e=la.toArray(e,r);var n=new CW;if(e[n.place++]!==48)return!1;var i=Yg(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var a=Yg(e,n);if(a===!1)return!1;var o=e.slice(n.place,a+n.place);if(n.place+=a,e[n.place++]!==2)return!1;var s=Yg(e,n);if(s===!1||e.length!==s+n.place)return!1;var u=e.slice(n.place,s+n.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(u[0]===0)if(u[1]&128)u=u.slice(1);else return!1;return this.r=new $t(o),this.s=new $t(u),this.recoveryParam=null,!0};function Zg(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}Zp.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=FA(r),n=FA(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];Zg(i,r.length),i=i.concat(r),i.push(2),Zg(i,n.length);var a=i.concat(n),o=[48];return Zg(o,a.length),o=o.concat(a),la.encode(o,e)};var AW=function(){throw new Error("unsupported")},VS=la.assert;function Ta(t){if(!(this instanceof Ta))return new Ta(t);typeof t=="string"&&(VS(Object.prototype.hasOwnProperty.call(B1,t),"Unknown curve "+t),t=B1[t]),t instanceof B1.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var wW=Ta;Ta.prototype.keyPair=function(e){return new Uv(this,e)};Ta.prototype.keyFromPrivate=function(e,r){return Uv.fromPrivate(this,e,r)};Ta.prototype.keyFromPublic=function(e,r){return Uv.fromPublic(this,e,r)};Ta.prototype.genKeyPair=function(e){e||(e={});for(var r=new OS({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||AW(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new $t(2));;){var a=new $t(r.generate(n));if(!(a.cmp(i)>0))return a.iaddn(1),this.keyFromPrivate(a)}};Ta.prototype._truncateToN=function(e,r){var n=e.byteLength()*8-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};Ta.prototype.sign=function(e,r,n,i){typeof n=="object"&&(i=n,n=null),i||(i={}),r=this.keyFromPrivate(r,n),e=this._truncateToN(new $t(e,16));for(var a=this.n.byteLength(),o=r.getPrivate().toArray("be",a),s=e.toArray("be",a),u=new OS({hash:this.hash,entropy:o,nonce:s,pers:i.pers,persEnc:i.persEnc||"utf8"}),l=this.n.sub(new $t(1)),c=0;;c++){var f=i.k?i.k(c):new $t(u.generate(this.n.byteLength()));if(f=this._truncateToN(f,!0),!(f.cmpn(1)<=0||f.cmp(l)>=0)){var d=this.g.mul(f);if(!d.isInfinity()){var h=d.getX(),y=h.umod(this.n);if(y.cmpn(0)!==0){var w=f.invm(this.n).mul(y.mul(r.getPrivate()).iadd(e));if(w=w.umod(this.n),w.cmpn(0)!==0){var _=(d.getY().isOdd()?1:0)|(h.cmp(y)!==0?2:0);return i.canonical&&w.cmp(this.nh)>0&&(w=this.n.sub(w),_^=1),new Xp({r:y,s:w,recoveryParam:_})}}}}}};Ta.prototype.verify=function(e,r,n,i){e=this._truncateToN(new $t(e,16)),n=this.keyFromPublic(n,i),r=new Xp(r,"hex");var a=r.r,o=r.s;if(a.cmpn(1)<0||a.cmp(this.n)>=0||o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var s=o.invm(this.n),u=s.mul(e).umod(this.n),l=s.mul(a).umod(this.n),c;return this.curve._maxwellTrick?(c=this.g.jmulAdd(u,n.getPublic(),l),c.isInfinity()?!1:c.eqXToP(a)):(c=this.g.mulAdd(u,n.getPublic(),l),c.isInfinity()?!1:c.getX().umod(this.n).cmp(a)===0)};Ta.prototype.recoverPubKey=function(t,e,r,n){VS((3&r)===r,"The recovery param is more than two bits"),e=new Xp(e,n);var i=this.n,a=new $t(t),o=e.r,s=e.s,u=r&1,l=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");l?o=this.curve.pointFromX(o.add(this.curve.n),u):o=this.curve.pointFromX(o,u);var c=e.r.invm(i),f=i.sub(a).mul(c).umod(i),d=s.mul(c).umod(i);return this.g.mulAdd(f,o,d)};Ta.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new Xp(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var a;try{a=this.recoverPubKey(t,e,i)}catch{continue}if(a.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var _W=Tu(function(t,e){var r=e;r.version="6.5.4",r.utils=la,r.rand=function(){throw new Error("unsupported")},r.curve=_1,r.curves=B1,r.ec=wW,r.eddsa=null}),BW=_W.ec;const bW="signing-key/5.7.0",vy=new qe(bW);let Xg=null;function Js(){return Xg||(Xg=new BW("secp256k1")),Xg}class SW{constructor(e){ut(this,"curve","secp256k1"),ut(this,"privateKey",Tt(e)),Il(this.privateKey)!==32&&vy.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const r=Js().keyFromPrivate(Mt(this.privateKey));ut(this,"publicKey","0x"+r.getPublic(!1,"hex")),ut(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),ut(this,"_isSigningKey",!0)}_addPoint(e){const r=Js().keyFromPublic(Mt(this.publicKey)),n=Js().keyFromPublic(Mt(e));return"0x"+r.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){const r=Js().keyFromPrivate(Mt(this.privateKey)),n=Mt(e);n.length!==32&&vy.throwArgumentError("bad digest length","digest",e);const i=r.sign(n,{canonical:!0});return Hp({recoveryParam:i.recoveryParam,r:un("0x"+i.r.toString(16),32),s:un("0x"+i.s.toString(16),32)})}computeSharedSecret(e){const r=Js().keyFromPrivate(Mt(this.privateKey)),n=Js().keyFromPublic(Mt(GS(e)));return un("0x"+r.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}}function IW(t,e){const r=Hp(e),n={r:Mt(r.r),s:Mt(r.s)};return"0x"+Js().recoverPubKey(Mt(t),n,r.recoveryParam).encode("hex",!1)}function GS(t,e){const r=Mt(t);return r.length===32?new SW(r).publicKey:r.length===33?"0x"+Js().keyFromPublic(r).getPublic(!1,"hex"):r.length===65?Tt(r):vy.throwArgumentError("invalid public or private key","key","[REDACTED]")}const LW="transactions/5.7.0",Gs=new qe(LW);var DA;(function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"})(DA||(DA={}));function Ov(t){return t==="0x"?null:jn(t)}function si(t){return t==="0x"?rS:gt.from(t)}function FW(t){const e=GS(t);return jn(ai(nn(ai(e,1)),12))}function zS(t,e){return FW(IW(Mt(t),e))}function Zi(t,e){const r=iu(gt.from(t).toHexString());return r.length>32&&Gs.throwArgumentError("invalid length for "+e,"transaction:"+e,t),r}function Jg(t,e){return{address:jn(t),storageKeys:(e||[]).map((r,n)=>(Il(r)!==32&&Gs.throwArgumentError("invalid access list storageKey",`accessList[${t}:${n}]`,r),r.toLowerCase()))}}function ku(t){if(Array.isArray(t))return t.map((r,n)=>Array.isArray(r)?(r.length>2&&Gs.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${n}]`,r),Jg(r[0],r[1])):Jg(r.address,r.storageKeys));const e=Object.keys(t).map(r=>{const n=t[r].reduce((i,a)=>(i[a]=!0,i),{});return Jg(r,Object.keys(n).sort())});return e.sort((r,n)=>r.address.localeCompare(n.address)),e}function KS(t){return ku(t).map(e=>[e.address,e.storageKeys])}function DW(t,e){if(t.gasPrice!=null){const n=gt.from(t.gasPrice),i=gt.from(t.maxFeePerGas||0);n.eq(i)||Gs.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:n,maxFeePerGas:i})}const r=[Zi(t.chainId||0,"chainId"),Zi(t.nonce||0,"nonce"),Zi(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Zi(t.maxFeePerGas||0,"maxFeePerGas"),Zi(t.gasLimit||0,"gasLimit"),t.to!=null?jn(t.to):"0x",Zi(t.value||0,"value"),t.data||"0x",KS(t.accessList||[])];if(e){const n=Hp(e);r.push(Zi(n.recoveryParam,"recoveryParam")),r.push(iu(n.r)),r.push(iu(n.s))}return ki(["0x02",jp(r)])}function TW(t,e){const r=[Zi(t.chainId||0,"chainId"),Zi(t.nonce||0,"nonce"),Zi(t.gasPrice||0,"gasPrice"),Zi(t.gasLimit||0,"gasLimit"),t.to!=null?jn(t.to):"0x",Zi(t.value||0,"value"),t.data||"0x",KS(t.accessList||[])];if(e){const n=Hp(e);r.push(Zi(n.recoveryParam,"recoveryParam")),r.push(iu(n.r)),r.push(iu(n.s))}return ki(["0x01",jp(r)])}function qS(t,e,r){try{const n=si(e[0]).toNumber();if(n!==0&&n!==1)throw new Error("bad recid");t.v=n}catch{Gs.throwArgumentError("invalid v for transaction type: 1","v",e[0])}t.r=un(e[1],32),t.s=un(e[2],32);try{const n=nn(r(t));t.from=zS(n,{r:t.r,s:t.s,recoveryParam:t.v})}catch{}}function kW(t){const e=kv(t.slice(1));e.length!==9&&e.length!==12&&Gs.throwArgumentError("invalid component count for transaction type: 2","payload",Tt(t));const r=si(e[2]),n=si(e[3]),i={type:2,chainId:si(e[0]).toNumber(),nonce:si(e[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:si(e[4]),to:Ov(e[5]),value:si(e[6]),data:e[7],accessList:ku(e[8])};return e.length===9||(i.hash=nn(t),qS(i,e.slice(9),DW)),i}function NW(t){const e=kv(t.slice(1));e.length!==8&&e.length!==11&&Gs.throwArgumentError("invalid component count for transaction type: 1","payload",Tt(t));const r={type:1,chainId:si(e[0]).toNumber(),nonce:si(e[1]).toNumber(),gasPrice:si(e[2]),gasLimit:si(e[3]),to:Ov(e[4]),value:si(e[5]),data:e[6],accessList:ku(e[7])};return e.length===8||(r.hash=nn(t),qS(r,e.slice(8),TW)),r}function PW(t){const e=kv(t);e.length!==9&&e.length!==6&&Gs.throwArgumentError("invalid raw transaction","rawTransaction",t);const r={nonce:si(e[0]).toNumber(),gasPrice:si(e[1]),gasLimit:si(e[2]),to:Ov(e[3]),value:si(e[4]),data:e[5],chainId:0};if(e.length===6)return r;try{r.v=gt.from(e[6]).toNumber()}catch{return r}if(r.r=un(e[7],32),r.s=un(e[8],32),gt.from(r.r).isZero()&&gt.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);let n=r.v-27;const i=e.slice(0,6);r.chainId!==0&&(i.push(Tt(r.chainId)),i.push("0x"),i.push("0x"),n-=r.chainId*2+8);const a=nn(jp(i));try{r.from=zS(a,{r:Tt(r.r),s:Tt(r.s),recoveryParam:n})}catch{}r.hash=nn(t)}return r.type=null,r}function RW(t){const e=Mt(t);if(e[0]>127)return PW(e);switch(e[0]){case 1:return NW(e);case 2:return kW(e)}return Gs.throwError(`unsupported transaction type: ${e[0]}`,qe.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}const MW="contracts/5.7.0";var Dl=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(c){try{l(n.next(c))}catch(f){o(f)}}function u(c){try{l(n.throw(c))}catch(f){o(f)}}function l(c){c.done?a(c.value):i(c.value).then(s,u)}l((n=n.apply(t,e||[])).next())})};const dn=new qe(MW);function kx(t,e){return Dl(this,void 0,void 0,function*(){const r=yield e;typeof r!="string"&&dn.throwArgumentError("invalid address or ENS name","name",r);try{return jn(r)}catch{}t||dn.throwError("a provider or signer is needed to resolve ENS names",qe.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const n=yield t.resolveName(r);return n==null&&dn.throwArgumentError("resolver or addr is not configured for ENS name","name",r),n})}function b1(t,e,r){return Dl(this,void 0,void 0,function*(){return Array.isArray(r)?yield Promise.all(r.map((n,i)=>b1(t,Array.isArray(e)?e[i]:e[n.name],n))):r.type==="address"?yield kx(t,e):r.type==="tuple"?yield b1(t,e,r.components):r.baseType==="array"?Array.isArray(e)?yield Promise.all(e.map(n=>b1(t,n,r.arrayChildren))):Promise.reject(dn.makeError("invalid value for array",qe.errors.INVALID_ARGUMENT,{argument:"value",value:e})):e})}function Jp(t,e,r){return Dl(this,void 0,void 0,function*(){let n={};r.length===e.inputs.length+1&&typeof r[r.length-1]=="object"&&(n=Sn(r.pop())),dn.checkArgumentCount(r.length,e.inputs.length,"passed to contract"),t.signer?n.from?n.from=gn({override:kx(t.signer,n.from),signer:t.signer.getAddress()}).then(l=>Dl(this,void 0,void 0,function*(){return jn(l.signer)!==l.override&&dn.throwError("Contract with a Signer cannot override from",qe.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),l.override})):n.from=t.signer.getAddress():n.from&&(n.from=kx(t.provider,n.from));const i=yield gn({args:b1(t.signer||t.provider,r,e.inputs),address:t.resolvedAddress,overrides:gn(n)||{}}),a=t.interface.encodeFunctionData(e,i.args),o={data:a,to:i.address},s=i.overrides;if(s.nonce!=null&&(o.nonce=gt.from(s.nonce).toNumber()),s.gasLimit!=null&&(o.gasLimit=gt.from(s.gasLimit)),s.gasPrice!=null&&(o.gasPrice=gt.from(s.gasPrice)),s.maxFeePerGas!=null&&(o.maxFeePerGas=gt.from(s.maxFeePerGas)),s.maxPriorityFeePerGas!=null&&(o.maxPriorityFeePerGas=gt.from(s.maxPriorityFeePerGas)),s.from!=null&&(o.from=s.from),s.type!=null&&(o.type=s.type),s.accessList!=null&&(o.accessList=ku(s.accessList)),o.gasLimit==null&&e.gas!=null){let l=21e3;const c=Mt(a);for(let f=0;f<c.length;f++)l+=4,c[f]&&(l+=64);o.gasLimit=gt.from(e.gas).add(l)}if(s.value){const l=gt.from(s.value);!l.isZero()&&!e.payable&&dn.throwError("non-payable method cannot override value",qe.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:n.value}),o.value=l}s.customData&&(o.customData=Sn(s.customData)),s.ccipReadEnabled&&(o.ccipReadEnabled=!!s.ccipReadEnabled),delete n.nonce,delete n.gasLimit,delete n.gasPrice,delete n.from,delete n.value,delete n.type,delete n.accessList,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.customData,delete n.ccipReadEnabled;const u=Object.keys(n).filter(l=>n[l]!=null);return u.length&&dn.throwError(`cannot override ${u.map(l=>JSON.stringify(l)).join(",")}`,qe.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:u}),o})}function UW(t,e){return function(...r){return Jp(t,e,r)}}function OW(t,e){const r=t.signer||t.provider;return function(...n){return Dl(this,void 0,void 0,function*(){r||dn.throwError("estimate require a provider or signer",qe.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const i=yield Jp(t,e,n);return yield r.estimateGas(i)})}}function VW(t,e){const r=e.wait.bind(e);e.wait=n=>r(n).then(i=>(i.events=i.logs.map(a=>{let o=ks(a),s=null;try{s=t.interface.parseLog(a)}catch{}return s&&(o.args=s.args,o.decode=(u,l)=>t.interface.decodeEventLog(s.eventFragment,u,l),o.event=s.name,o.eventSignature=s.signature),o.removeListener=()=>t.provider,o.getBlock=()=>t.provider.getBlock(i.blockHash),o.getTransaction=()=>t.provider.getTransaction(i.transactionHash),o.getTransactionReceipt=()=>Promise.resolve(i),o}),i))}function QS(t,e,r){const n=t.signer||t.provider;return function(...i){return Dl(this,void 0,void 0,function*(){let a;if(i.length===e.inputs.length+1&&typeof i[i.length-1]=="object"){const u=Sn(i.pop());u.blockTag!=null&&(a=yield u.blockTag),delete u.blockTag,i.push(u)}t.deployTransaction!=null&&(yield t._deployed(a));const o=yield Jp(t,e,i),s=yield n.call(o,a);try{let u=t.interface.decodeFunctionResult(e,s);return r&&e.outputs.length===1&&(u=u[0]),u}catch(u){throw u.code===qe.errors.CALL_EXCEPTION&&(u.address=t.address,u.args=i,u.transaction=o),u}})}}function GW(t,e){return function(...r){return Dl(this,void 0,void 0,function*(){t.signer||dn.throwError("sending a transaction requires a signer",qe.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),t.deployTransaction!=null&&(yield t._deployed());const n=yield Jp(t,e,r),i=yield t.signer.sendTransaction(n);return VW(t,i),i})}}function TA(t,e,r){return e.constant?QS(t,e,r):GW(t,e)}function HS(t){return t.address&&(t.topics==null||t.topics.length===0)?"*":(t.address||"*")+"@"+(t.topics?t.topics.map(e=>Array.isArray(e)?e.join("|"):e).join(":"):"")}class bd{constructor(e,r){ut(this,"tag",e),ut(this,"filter",r),this._listeners=[]}addListener(e,r){this._listeners.push({listener:e,once:r})}removeListener(e){let r=!1;this._listeners=this._listeners.filter(n=>r||n.listener!==e?!0:(r=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(e=>e.listener)}listenerCount(){return this._listeners.length}run(e){const r=this.listenerCount();return this._listeners=this._listeners.filter(n=>{const i=e.slice();return setTimeout(()=>{n.listener.apply(this,i)},0),!n.once}),r}prepareEvent(e){}getEmit(e){return[e]}}class zW extends bd{constructor(){super("error",null)}}class kA extends bd{constructor(e,r,n,i){const a={address:e};let o=r.getEventTopic(n);i?(o!==i[0]&&dn.throwArgumentError("topic mismatch","topics",i),a.topics=i.slice()):a.topics=[o],super(HS(a),a),ut(this,"address",e),ut(this,"interface",r),ut(this,"fragment",n)}prepareEvent(e){super.prepareEvent(e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=(r,n)=>this.interface.decodeEventLog(this.fragment,r,n);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(r){e.args=null,e.decodeError=r}}getEmit(e){const r=_H(e.args);if(r.length)throw r[0].error;const n=(e.args||[]).slice();return n.push(e),n}}class NA extends bd{constructor(e,r){super("*",{address:e}),ut(this,"address",e),ut(this,"interface",r)}prepareEvent(e){super.prepareEvent(e);try{const r=this.interface.parseLog(e);e.event=r.name,e.eventSignature=r.signature,e.decode=(n,i)=>this.interface.decodeEventLog(r.eventFragment,n,i),e.args=r.args}catch{}}}class KW{constructor(e,r,n){ut(this,"interface",Po(new.target,"getInterface")(r)),n==null?(ut(this,"provider",null),ut(this,"signer",null)):eh.isSigner(n)?(ut(this,"provider",n.provider||null),ut(this,"signer",n)):Wp.isProvider(n)?(ut(this,"provider",n),ut(this,"signer",null)):dn.throwArgumentError("invalid signer or provider","signerOrProvider",n),ut(this,"callStatic",{}),ut(this,"estimateGas",{}),ut(this,"functions",{}),ut(this,"populateTransaction",{}),ut(this,"filters",{});{const o={};Object.keys(this.interface.events).forEach(s=>{const u=this.interface.events[s];ut(this.filters,s,(...l)=>({address:this.address,topics:this.interface.encodeFilterTopics(u,l)})),o[u.name]||(o[u.name]=[]),o[u.name].push(s)}),Object.keys(o).forEach(s=>{const u=o[s];u.length===1?ut(this.filters,s,this.filters[u[0]]):dn.warn(`Duplicate definition of ${s} (${u.join(", ")})`)})}if(ut(this,"_runningEvents",{}),ut(this,"_wrappedEmits",{}),e==null&&dn.throwArgumentError("invalid contract address or ENS name","addressOrName",e),ut(this,"address",e),this.provider)ut(this,"resolvedAddress",kx(this.provider,e));else try{ut(this,"resolvedAddress",Promise.resolve(jn(e)))}catch{dn.throwError("provider is required to use ENS name as contract address",qe.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(o=>{});const i={},a={};Object.keys(this.interface.functions).forEach(o=>{const s=this.interface.functions[o];if(a[o]){dn.warn(`Duplicate ABI entry for ${JSON.stringify(o)}`);return}a[o]=!0;{const u=s.name;i[`%${u}`]||(i[`%${u}`]=[]),i[`%${u}`].push(o)}this[o]==null&&ut(this,o,TA(this,s,!0)),this.functions[o]==null&&ut(this.functions,o,TA(this,s,!1)),this.callStatic[o]==null&&ut(this.callStatic,o,QS(this,s,!0)),this.populateTransaction[o]==null&&ut(this.populateTransaction,o,UW(this,s)),this.estimateGas[o]==null&&ut(this.estimateGas,o,OW(this,s))}),Object.keys(i).forEach(o=>{const s=i[o];if(s.length>1)return;o=o.substring(1);const u=s[0];try{this[o]==null&&ut(this,o,this[u])}catch{}this.functions[o]==null&&ut(this.functions,o,this.functions[u]),this.callStatic[o]==null&&ut(this.callStatic,o,this.callStatic[u]),this.populateTransaction[o]==null&&ut(this.populateTransaction,o,this.populateTransaction[u]),this.estimateGas[o]==null&&ut(this.estimateGas,o,this.estimateGas[u])})}static getContractAddress(e){return Xb(e)}static getInterface(e){return BA.isInterface(e)?e:new BA(e)}deployed(){return this._deployed()}_deployed(e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,e).then(r=>(r==="0x"&&dn.throwError("contract not deployed",qe.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(e){this.signer||dn.throwError("sending a transactions require a signer",qe.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const r=Sn(e||{});return["from","to"].forEach(function(n){r[n]!=null&&dn.throwError("cannot override "+n,qe.errors.UNSUPPORTED_OPERATION,{operation:n})}),r.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(r))}connect(e){typeof e=="string"&&(e=new Pv(e,this.provider));const r=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&ut(r,"deployTransaction",this.deployTransaction),r}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return xy.isIndexed(e)}_normalizeRunningEvent(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}_getRunningEvent(e){if(typeof e=="string"){if(e==="error")return this._normalizeRunningEvent(new zW);if(e==="event")return this._normalizeRunningEvent(new bd("event",null));if(e==="*")return this._normalizeRunningEvent(new NA(this.address,this.interface));const r=this.interface.getEvent(e);return this._normalizeRunningEvent(new kA(this.address,this.interface,r))}if(e.topics&&e.topics.length>0){try{const n=e.topics[0];if(typeof n!="string")throw new Error("invalid topic");const i=this.interface.getEvent(n);return this._normalizeRunningEvent(new kA(this.address,this.interface,i,e.topics))}catch{}const r={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new bd(HS(r),r))}return this._normalizeRunningEvent(new NA(this.address,this.interface))}_checkRunningEvents(e){if(e.listenerCount()===0){delete this._runningEvents[e.tag];const r=this._wrappedEmits[e.tag];r&&e.filter&&(this.provider.off(e.filter,r),delete this._wrappedEmits[e.tag])}}_wrapEvent(e,r,n){const i=ks(r);return i.removeListener=()=>{n&&(e.removeListener(n),this._checkRunningEvents(e))},i.getBlock=()=>this.provider.getBlock(r.blockHash),i.getTransaction=()=>this.provider.getTransaction(r.transactionHash),i.getTransactionReceipt=()=>this.provider.getTransactionReceipt(r.transactionHash),e.prepareEvent(i),i}_addEventListener(e,r,n){if(this.provider||dn.throwError("events require a provider or a signer with a provider",qe.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(r,n),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){const i=a=>{let o=this._wrapEvent(e,a,r);if(o.decodeError==null)try{const s=e.getEmit(o);this.emit(e.filter,...s)}catch(s){o.decodeError=s.error}e.filter!=null&&this.emit("event",o),o.decodeError!=null&&this.emit("error",o.decodeError,o)};this._wrappedEmits[e.tag]=i,e.filter!=null&&this.provider.on(e.filter,i)}}queryFilter(e,r,n){const i=this._getRunningEvent(e),a=Sn(i.filter);return typeof r=="string"&&br(r,32)?(n!=null&&dn.throwArgumentError("cannot specify toBlock with blockhash","toBlock",n),a.blockHash=r):(a.fromBlock=r??0,a.toBlock=n??"latest"),this.provider.getLogs(a).then(o=>o.map(s=>this._wrapEvent(i,s,null)))}on(e,r){return this._addEventListener(this._getRunningEvent(e),r,!1),this}once(e,r){return this._addEventListener(this._getRunningEvent(e),r,!0),this}emit(e,...r){if(!this.provider)return!1;const n=this._getRunningEvent(e),i=n.run(r)>0;return this._checkRunningEvents(n),i}listenerCount(e){return this.provider?e==null?Object.keys(this._runningEvents).reduce((r,n)=>r+this._runningEvents[n].listenerCount(),0):this._getRunningEvent(e).listenerCount():0}listeners(e){if(!this.provider)return[];if(e==null){const r=[];for(let n in this._runningEvents)this._runningEvents[n].listeners().forEach(i=>{r.push(i)});return r}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider)return this;if(e==null){for(const n in this._runningEvents){const i=this._runningEvents[n];i.removeAllListeners(),this._checkRunningEvents(i)}return this}const r=this._getRunningEvent(e);return r.removeAllListeners(),this._checkRunningEvents(r),this}off(e,r){if(!this.provider)return this;const n=this._getRunningEvent(e);return n.removeListener(r),this._checkRunningEvents(n),this}removeListener(e,r){return this.off(e,r)}}class qW extends KW{}class jS{constructor(e){ut(this,"alphabet",e),ut(this,"base",e.length),ut(this,"_alphabetMap",{}),ut(this,"_leader",e.charAt(0));for(let r=0;r<e.length;r++)this._alphabetMap[e.charAt(r)]=r}encode(e){let r=Mt(e);if(r.length===0)return"";let n=[0];for(let a=0;a<r.length;++a){let o=r[a];for(let s=0;s<n.length;++s)o+=n[s]<<8,n[s]=o%this.base,o=o/this.base|0;for(;o>0;)n.push(o%this.base),o=o/this.base|0}let i="";for(let a=0;r[a]===0&&a<r.length-1;++a)i+=this._leader;for(let a=n.length-1;a>=0;--a)i+=this.alphabet[n[a]];return i}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let r=[];if(e.length===0)return new Uint8Array(r);r.push(0);for(let n=0;n<e.length;n++){let i=this._alphabetMap[e[n]];if(i===void 0)throw new Error("Non-base"+this.base+" character");let a=i;for(let o=0;o<r.length;++o)a+=r[o]*this.base,r[o]=a&255,a>>=8;for(;a>0;)r.push(a&255),a>>=8}for(let n=0;e[n]===this._leader&&n<e.length-1;++n)r.push(0);return Mt(new Uint8Array(r.reverse()))}}new jS("abcdefghijklmnopqrstuvwxyz234567");const Ey=new jS("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");function PA(t){return"0x"+Co.sha256().update(Mt(t)).digest("hex")}const QW="networks/5.7.1",RA=new qe(QW);function HW(t){return t&&typeof t.renetwork=="function"}function gs(t){const e=function(r,n){n==null&&(n={});const i=[];if(r.InfuraProvider&&n.infura!=="-")try{i.push(new r.InfuraProvider(t,n.infura))}catch{}if(r.EtherscanProvider&&n.etherscan!=="-")try{i.push(new r.EtherscanProvider(t,n.etherscan))}catch{}if(r.AlchemyProvider&&n.alchemy!=="-")try{i.push(new r.AlchemyProvider(t,n.alchemy))}catch{}if(r.PocketProvider&&n.pocket!=="-"){const a=["goerli","ropsten","rinkeby","sepolia"];try{const o=new r.PocketProvider(t,n.pocket);o.network&&a.indexOf(o.network.name)===-1&&i.push(o)}catch{}}if(r.CloudflareProvider&&n.cloudflare!=="-")try{i.push(new r.CloudflareProvider(t))}catch{}if(r.AnkrProvider&&n.ankr!=="-")try{const a=["ropsten"],o=new r.AnkrProvider(t,n.ankr);o.network&&a.indexOf(o.network.name)===-1&&i.push(o)}catch{}if(i.length===0)return null;if(r.FallbackProvider){let a=1;return n.quorum!=null?a=n.quorum:t==="homestead"&&(a=2),new r.FallbackProvider(i,a)}return i[0]};return e.renetwork=function(r){return gs(r)},e}function Nx(t,e){const r=function(n,i){return n.JsonRpcProvider?new n.JsonRpcProvider(t,e):null};return r.renetwork=function(n){return Nx(t,n)},r}const MA={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:gs("homestead")},UA={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:gs("ropsten")},OA={chainId:63,name:"classicMordor",_defaultProvider:Nx("https://www.ethercluster.com/mordor","classicMordor")},$h={unspecified:{chainId:0,name:"unspecified"},homestead:MA,mainnet:MA,morden:{chainId:2,name:"morden"},ropsten:UA,testnet:UA,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:gs("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:gs("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:gs("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,name:"sepolia",_defaultProvider:gs("sepolia")},classic:{chainId:61,name:"classic",_defaultProvider:Nx("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:OA,classicTestnet:OA,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:Nx("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:gs("matic")},maticmum:{chainId:80001,name:"maticmum"},optimism:{chainId:10,name:"optimism",_defaultProvider:gs("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function jW(t){if(t==null)return null;if(typeof t=="number"){for(const n in $h){const i=$h[n];if(i.chainId===t)return{name:i.name,chainId:i.chainId,ensAddress:i.ensAddress||null,_defaultProvider:i._defaultProvider||null}}return{chainId:t,name:"unknown"}}if(typeof t=="string"){const n=$h[t];return n==null?null:{name:n.name,chainId:n.chainId,ensAddress:n.ensAddress,_defaultProvider:n._defaultProvider||null}}const e=$h[t.name];if(!e)return typeof t.chainId!="number"&&RA.throwArgumentError("invalid network chainId","network",t),t;t.chainId!==0&&t.chainId!==e.chainId&&RA.throwArgumentError("network chainId mismatch","network",t);let r=t._defaultProvider||null;return r==null&&e._defaultProvider&&(HW(e._defaultProvider)?r=e._defaultProvider.renetwork(t):r=e._defaultProvider),{name:t.name,chainId:e.chainId,ensAddress:t.ensAddress||e.ensAddress||null,_defaultProvider:r}}const $W="web/5.7.1";var WW=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(c){try{l(n.next(c))}catch(f){o(f)}}function u(c){try{l(n.throw(c))}catch(f){o(f)}}function l(c){c.done?a(c.value):i(c.value).then(s,u)}l((n=n.apply(t,e||[])).next())})};function YW(t,e){return WW(this,void 0,void 0,function*(){e==null&&(e={});const r={method:e.method||"GET",headers:e.headers||{},body:e.body||void 0};if(e.skipFetchSetup!==!0&&(r.mode="cors",r.cache="no-cache",r.credentials="same-origin",r.redirect="follow",r.referrer="client"),e.fetchOptions!=null){const o=e.fetchOptions;o.mode&&(r.mode=o.mode),o.cache&&(r.cache=o.cache),o.credentials&&(r.credentials=o.credentials),o.redirect&&(r.redirect=o.redirect),o.referrer&&(r.referrer=o.referrer)}const n=yield fetch(t,r),i=yield n.arrayBuffer(),a={};return n.headers.forEach?n.headers.forEach((o,s)=>{a[s.toLowerCase()]=o}):n.headers.keys().forEach(o=>{a[o.toLowerCase()]=n.headers.get(o)}),{headers:a,statusCode:n.status,statusMessage:n.statusText,body:Mt(new Uint8Array(i))}})}var ZW=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(c){try{l(n.next(c))}catch(f){o(f)}}function u(c){try{l(n.throw(c))}catch(f){o(f)}}function l(c){c.done?a(c.value):i(c.value).then(s,u)}l((n=n.apply(t,e||[])).next())})};const Qa=new qe($W);function VA(t){return new Promise(e=>{setTimeout(e,t)})}function js(t,e){if(t==null)return null;if(typeof t=="string")return t;if(Fv(t)){if(e&&(e.split("/")[0]==="text"||e.split(";")[0].trim()==="application/json"))try{return Jd(t)}catch{}return Tt(t)}return t}function XW(t){return Gi(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,r)=>String.fromCharCode(parseInt(r,16))))}function JW(t,e,r){const n=typeof t=="object"&&t.throttleLimit!=null?t.throttleLimit:12;Qa.assertArgument(n>0&&n%1===0,"invalid connection throttle limit","connection.throttleLimit",n);const i=typeof t=="object"?t.throttleCallback:null,a=typeof t=="object"&&typeof t.throttleSlotInterval=="number"?t.throttleSlotInterval:100;Qa.assertArgument(a>0&&a%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",a);const o=typeof t=="object"?!!t.errorPassThrough:!1,s={};let u=null;const l={method:"GET"};let c=!1,f=2*60*1e3;if(typeof t=="string")u=t;else if(typeof t=="object"){if((t==null||t.url==null)&&Qa.throwArgumentError("missing URL","connection.url",t),u=t.url,typeof t.timeout=="number"&&t.timeout>0&&(f=t.timeout),t.headers)for(const E in t.headers)s[E.toLowerCase()]={key:E,value:String(t.headers[E])},["if-none-match","if-modified-since"].indexOf(E.toLowerCase())>=0&&(c=!0);if(l.allowGzip=!!t.allowGzip,t.user!=null&&t.password!=null){u.substring(0,6)!=="https:"&&t.allowInsecureAuthentication!==!0&&Qa.throwError("basic authentication requires a secure https url",qe.errors.INVALID_ARGUMENT,{argument:"url",url:u,user:t.user,password:"[REDACTED]"});const E=t.user+":"+t.password;s.authorization={key:"Authorization",value:"Basic "+cS(Gi(E))}}t.skipFetchSetup!=null&&(l.skipFetchSetup=!!t.skipFetchSetup),t.fetchOptions!=null&&(l.fetchOptions=Sn(t.fetchOptions))}const d=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),h=u?u.match(d):null;if(h)try{const E={statusCode:200,statusMessage:"OK",headers:{"content-type":h[1]||"text/plain"},body:h[2]?lS(h[3]):XW(h[3])};let p=E.body;return r&&(p=r(E.body,E)),Promise.resolve(p)}catch(E){Qa.throwError("processing response error",qe.errors.SERVER_ERROR,{body:js(h[1],h[2]),error:E,requestBody:null,requestMethod:"GET",url:u})}e&&(l.method="POST",l.body=e,s["content-type"]==null&&(s["content-type"]={key:"Content-Type",value:"application/octet-stream"}),s["content-length"]==null&&(s["content-length"]={key:"Content-Length",value:String(e.length)}));const y={};Object.keys(s).forEach(E=>{const p=s[E];y[p.key]=p.value}),l.headers=y;const w=function(){let E=null;return{promise:new Promise(function(S,F){f&&(E=setTimeout(()=>{E!=null&&(E=null,F(Qa.makeError("timeout",qe.errors.TIMEOUT,{requestBody:js(l.body,y["content-type"]),requestMethod:l.method,timeout:f,url:u})))},f))}),cancel:function(){E!=null&&(clearTimeout(E),E=null)}}}(),_=function(){return ZW(this,void 0,void 0,function*(){for(let E=0;E<n;E++){let p=null;try{if(p=yield YW(u,l),E<n){if(p.statusCode===301||p.statusCode===302){const S=p.headers.location||"";if(l.method==="GET"&&S.match(/^https:/)){u=p.headers.location;continue}}else if(p.statusCode===429){let S=!0;if(i&&(S=yield i(E,u)),S){let F=0;const I=p.headers["retry-after"];typeof I=="string"&&I.match(/^[1-9][0-9]*$/)?F=parseInt(I)*1e3:F=a*parseInt(String(Math.random()*Math.pow(2,E))),yield VA(F);continue}}}}catch(S){p=S.response,p==null&&(w.cancel(),Qa.throwError("missing response",qe.errors.SERVER_ERROR,{requestBody:js(l.body,y["content-type"]),requestMethod:l.method,serverError:S,url:u}))}let m=p.body;if(c&&p.statusCode===304?m=null:!o&&(p.statusCode<200||p.statusCode>=300)&&(w.cancel(),Qa.throwError("bad response",qe.errors.SERVER_ERROR,{status:p.statusCode,headers:p.headers,body:js(m,p.headers?p.headers["content-type"]:null),requestBody:js(l.body,y["content-type"]),requestMethod:l.method,url:u})),r)try{const S=yield r(m,p);return w.cancel(),S}catch(S){if(S.throttleRetry&&E<n){let F=!0;if(i&&(F=yield i(E,u)),F){const I=a*parseInt(String(Math.random()*Math.pow(2,E)));yield VA(I);continue}}w.cancel(),Qa.throwError("processing response error",qe.errors.SERVER_ERROR,{body:js(m,p.headers?p.headers["content-type"]:null),error:S,requestBody:js(l.body,y["content-type"]),requestMethod:l.method,url:u})}return w.cancel(),m}return Qa.throwError("failed response",qe.errors.SERVER_ERROR,{requestBody:js(l.body,y["content-type"]),requestMethod:l.method,url:u})})}();return Promise.race([w.promise,_])}function Vv(t,e,r){let n=(a,o)=>{let s=null;if(a!=null)try{s=JSON.parse(Jd(a))}catch(u){Qa.throwError("invalid JSON",qe.errors.SERVER_ERROR,{body:a,error:u})}return r&&(s=r(s,o)),s},i=null;if(e!=null){i=Gi(e);const a=typeof t=="string"?{url:t}:Sn(t);a.headers?Object.keys(a.headers).filter(s=>s.toLowerCase()==="content-type").length!==0||(a.headers=Sn(a.headers),a.headers["content-type"]="application/json"):a.headers={"content-type":"application/json"},t=a}return JW(t,i,n)}function vf(t,e){return e||(e={}),e=Sn(e),e.floor==null&&(e.floor=0),e.ceiling==null&&(e.ceiling=1e4),e.interval==null&&(e.interval=250),new Promise(function(r,n){let i=null,a=!1;const o=()=>a?!1:(a=!0,i&&clearTimeout(i),!0);e.timeout&&(i=setTimeout(()=>{o()&&n(new Error("timeout"))},e.timeout));const s=e.retryLimit;let u=0;function l(){return t().then(function(c){if(c!==void 0)o()&&r(c);else if(e.oncePoll)e.oncePoll.once("poll",l);else if(e.onceBlock)e.onceBlock.once("block",l);else if(!a){if(u++,u>s){o()&&n(new Error("retry limit reached"));return}let f=e.interval*parseInt(String(Math.random()*Math.pow(2,u)));f<e.floor&&(f=e.floor),f>e.ceiling&&(f=e.ceiling),setTimeout(l,f)}return null},function(c){o()&&n(c)})}l()})}var Px="qpzry9x8gf2tvdw0s3jn54khce6mua7l",Cy={};for(var Wh=0;Wh<Px.length;Wh++){var em=Px.charAt(Wh);if(Cy[em]!==void 0)throw new TypeError(em+" is ambiguous");Cy[em]=Wh}function Pc(t){var e=t>>25;return(t&33554431)<<5^-(e>>0&1)&996825010^-(e>>1&1)&642813549^-(e>>2&1)&513874426^-(e>>3&1)&1027748829^-(e>>4&1)&705979059}function $S(t){for(var e=1,r=0;r<t.length;++r){var n=t.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+t+")";e=Pc(e)^n>>5}for(e=Pc(e),r=0;r<t.length;++r){var i=t.charCodeAt(r);e=Pc(e)^i&31}return e}function eY(t,e,r){if(r=r||90,t.length+7+e.length>r)throw new TypeError("Exceeds length limit");t=t.toLowerCase();var n=$S(t);if(typeof n=="string")throw new Error(n);for(var i=t+"1",a=0;a<e.length;++a){var o=e[a];if(o>>5)throw new Error("Non 5-bit word");n=Pc(n)^o,i+=Px.charAt(o)}for(a=0;a<6;++a)n=Pc(n);for(n^=1,a=0;a<6;++a){var s=n>>(5-a)*5&31;i+=Px.charAt(s)}return i}function WS(t,e){if(e=e||90,t.length<8)return t+" too short";if(t.length>e)return"Exceeds length limit";var r=t.toLowerCase(),n=t.toUpperCase();if(t!==r&&t!==n)return"Mixed-case string "+t;t=r;var i=t.lastIndexOf("1");if(i===-1)return"No separator character for "+t;if(i===0)return"Missing prefix for "+t;var a=t.slice(0,i),o=t.slice(i+1);if(o.length<6)return"Data too short";var s=$S(a);if(typeof s=="string")return s;for(var u=[],l=0;l<o.length;++l){var c=o.charAt(l),f=Cy[c];if(f===void 0)return"Unknown character "+c;s=Pc(s)^f,!(l+6>=o.length)&&u.push(f)}return s!==1?"Invalid checksum for "+t:{prefix:a,words:u}}function tY(){var t=WS.apply(null,arguments);if(typeof t=="object")return t}function rY(t){var e=WS.apply(null,arguments);if(typeof e=="object")return e;throw new Error(e)}function e2(t,e,r,n){for(var i=0,a=0,o=(1<<r)-1,s=[],u=0;u<t.length;++u)for(i=i<<e|t[u],a+=e;a>=r;)a-=r,s.push(i>>a&o);if(n)a>0&&s.push(i<<r-a&o);else{if(a>=e)return"Excess padding";if(i<<r-a&o)return"Non-zero padding"}return s}function nY(t){var e=e2(t,8,5,!0);if(Array.isArray(e))return e}function iY(t){var e=e2(t,8,5,!0);if(Array.isArray(e))return e;throw new Error(e)}function aY(t){var e=e2(t,5,8,!1);if(Array.isArray(e))return e}function oY(t){var e=e2(t,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}var sY={decodeUnsafe:tY,decode:rY,encode:eY,toWordsUnsafe:nY,toWords:iY,fromWordsUnsafe:aY,fromWords:oY};const GA=lu(sY),t2="providers/5.7.2",af=new qe(t2);class St{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){const e={},r=this.address.bind(this),n=this.bigNumber.bind(this),i=this.blockTag.bind(this),a=this.data.bind(this),o=this.hash.bind(this),s=this.hex.bind(this),u=this.number.bind(this),l=this.type.bind(this),c=f=>this.data(f,!0);return e.transaction={hash:o,type:l,accessList:St.allowNull(this.accessList.bind(this),null),blockHash:St.allowNull(o,null),blockNumber:St.allowNull(u,null),transactionIndex:St.allowNull(u,null),confirmations:St.allowNull(u,null),from:r,gasPrice:St.allowNull(n),maxPriorityFeePerGas:St.allowNull(n),maxFeePerGas:St.allowNull(n),gasLimit:n,to:St.allowNull(r,null),value:n,nonce:u,data:a,r:St.allowNull(this.uint256),s:St.allowNull(this.uint256),v:St.allowNull(u),creates:St.allowNull(r,null),raw:St.allowNull(a)},e.transactionRequest={from:St.allowNull(r),nonce:St.allowNull(u),gasLimit:St.allowNull(n),gasPrice:St.allowNull(n),maxPriorityFeePerGas:St.allowNull(n),maxFeePerGas:St.allowNull(n),to:St.allowNull(r),value:St.allowNull(n),data:St.allowNull(c),type:St.allowNull(u),accessList:St.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:u,blockNumber:u,transactionHash:o,address:r,topics:St.arrayOf(o),data:a,logIndex:u,blockHash:o},e.receipt={to:St.allowNull(this.address,null),from:St.allowNull(this.address,null),contractAddress:St.allowNull(r,null),transactionIndex:u,root:St.allowNull(s),gasUsed:n,logsBloom:St.allowNull(a),blockHash:o,transactionHash:o,logs:St.arrayOf(this.receiptLog.bind(this)),blockNumber:u,confirmations:St.allowNull(u,null),cumulativeGasUsed:n,effectiveGasPrice:St.allowNull(n),status:St.allowNull(u),type:l},e.block={hash:St.allowNull(o),parentHash:o,number:u,timestamp:u,nonce:St.allowNull(s),difficulty:this.difficulty.bind(this),gasLimit:n,gasUsed:n,miner:St.allowNull(r),extraData:a,transactions:St.allowNull(St.arrayOf(o)),baseFeePerGas:St.allowNull(n)},e.blockWithTransactions=Sn(e.block),e.blockWithTransactions.transactions=St.allowNull(St.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:St.allowNull(i,void 0),toBlock:St.allowNull(i,void 0),blockHash:St.allowNull(o,void 0),address:St.allowNull(r,void 0),topics:St.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:St.allowNull(u),blockHash:St.allowNull(o),transactionIndex:u,removed:St.allowNull(this.boolean.bind(this)),address:r,data:St.allowFalsish(a,"0x"),topics:St.arrayOf(o),transactionHash:o,logIndex:u},e}accessList(e){return ku(e||[])}number(e){return e==="0x"?0:gt.from(e).toNumber()}type(e){return e==="0x"||e==null?0:gt.from(e).toNumber()}bigNumber(e){return gt.from(e)}boolean(e){if(typeof e=="boolean")return e;if(typeof e=="string"){if(e=e.toLowerCase(),e==="true")return!0;if(e==="false")return!1}throw new Error("invalid boolean - "+e)}hex(e,r){return typeof e=="string"&&(!r&&e.substring(0,2)!=="0x"&&(e="0x"+e),br(e))?e.toLowerCase():af.throwArgumentError("invalid hash","value",e)}data(e,r){const n=this.hex(e,r);if(n.length%2!==0)throw new Error("invalid data; odd-length - "+e);return n}address(e){return jn(e)}callAddress(e){if(!br(e,32))return null;const r=jn(ai(e,12));return r===OH?null:r}contractAddress(e){return Xb(e)}blockTag(e){if(e==null)return"latest";if(e==="earliest")return"0x0";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}if(typeof e=="number"||br(e))return Dv(e);throw new Error("invalid blockTag")}hash(e,r){const n=this.hex(e,r);return Il(n)!==32?af.throwArgumentError("invalid hash","value",e):n}difficulty(e){if(e==null)return null;const r=gt.from(e);try{return r.toNumber()}catch{}return null}uint256(e){if(!br(e))throw new Error("invalid uint256");return un(e,32)}_block(e,r){e.author!=null&&e.miner==null&&(e.miner=e.author);const n=e._difficulty!=null?e._difficulty:e.difficulty,i=St.check(r,e);return i._difficulty=n==null?null:gt.from(n),i}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return St.check(this.formats.transactionRequest,e)}transactionResponse(e){e.gas!=null&&e.gasLimit==null&&(e.gasLimit=e.gas),e.to&&gt.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),e.input!=null&&e.data==null&&(e.data=e.input),e.to==null&&e.creates==null&&(e.creates=this.contractAddress(e)),(e.type===1||e.type===2)&&e.accessList==null&&(e.accessList=[]);const r=St.check(this.formats.transaction,e);if(e.chainId!=null){let n=e.chainId;br(n)&&(n=gt.from(n).toNumber()),r.chainId=n}else{let n=e.networkId;n==null&&r.v==null&&(n=e.chainId),br(n)&&(n=gt.from(n).toNumber()),typeof n!="number"&&r.v!=null&&(n=(r.v-35)/2,n<0&&(n=0),n=parseInt(n)),typeof n!="number"&&(n=0),r.chainId=n}return r.blockHash&&r.blockHash.replace(/0/g,"")==="x"&&(r.blockHash=null),r}transaction(e){return RW(e)}receiptLog(e){return St.check(this.formats.receiptLog,e)}receipt(e){const r=St.check(this.formats.receipt,e);if(r.root!=null)if(r.root.length<=4){const n=gt.from(r.root).toNumber();n===0||n===1?(r.status!=null&&r.status!==n&&af.throwArgumentError("alt-root-status/status mismatch","value",{root:r.root,status:r.status}),r.status=n,delete r.root):af.throwArgumentError("invalid alt-root-status","value.root",r.root)}else r.root.length!==66&&af.throwArgumentError("invalid root hash","value.root",r.root);return r.status!=null&&(r.byzantium=!0),r}topics(e){return Array.isArray(e)?e.map(r=>this.topics(r)):e!=null?this.hash(e,!0):null}filter(e){return St.check(this.formats.filter,e)}filterLog(e){return St.check(this.formats.filterLog,e)}static check(e,r){const n={};for(const i in e)try{const a=e[i](r[i]);a!==void 0&&(n[i]=a)}catch(a){throw a.checkKey=i,a.checkValue=r[i],a}return n}static allowNull(e,r){return function(n){return n==null?r:e(n)}}static allowFalsish(e,r){return function(n){return n?e(n):r}}static arrayOf(e){return function(r){if(!Array.isArray(r))throw new Error("not an array");const n=[];return r.forEach(function(i){n.push(e(i))}),n}}}var qt=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(c){try{l(n.next(c))}catch(f){o(f)}}function u(c){try{l(n.throw(c))}catch(f){o(f)}}function l(c){c.done?a(c.value):i(c.value).then(s,u)}l((n=n.apply(t,e||[])).next())})};const rr=new qe(t2),lY=10;function zA(t){return t==null?"null":(Il(t)!==32&&rr.throwArgumentError("invalid topic","topic",t),t.toLowerCase())}function KA(t){for(t=t.slice();t.length>0&&t[t.length-1]==null;)t.pop();return t.map(e=>{if(Array.isArray(e)){const r={};e.forEach(i=>{r[zA(i)]=!0});const n=Object.keys(r);return n.sort(),n.join("|")}else return zA(e)}).join("&")}function cY(t){return t===""?[]:t.split(/&/g).map(e=>{if(e==="")return[];const r=e.split("|").map(n=>n==="null"?null:n);return r.length===1?r[0]:r})}function ec(t){if(typeof t=="string"){if(t=t.toLowerCase(),Il(t)===32)return"tx:"+t;if(t.indexOf(":")===-1)return t}else{if(Array.isArray(t))return"filter:*:"+KA(t);if(Oj.isForkEvent(t))throw rr.warn("not implemented"),new Error("not implemented");if(t&&typeof t=="object")return"filter:"+(t.address||"*")+":"+KA(t.topics||[])}throw new Error("invalid event - "+t)}function of(){return new Date().getTime()}function qA(t){return new Promise(e=>{setTimeout(e,t)})}const uY=["block","network","pending","poll"];class fY{constructor(e,r,n){ut(this,"tag",e),ut(this,"listener",r),ut(this,"once",n),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const e=this.tag.split(":");return e[0]!=="tx"?null:e[1]}get filter(){const e=this.tag.split(":");if(e[0]!=="filter")return null;const r=e[1],n=cY(e[2]),i={};return n.length>0&&(i.topics=n),r&&r!=="*"&&(i.address=r),i}pollable(){return this.tag.indexOf(":")>=0||uY.indexOf(this.tag)>=0}}const dY={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function tm(t){return un(gt.from(t).toHexString(),32)}function QA(t){return Ey.encode(ra([t,ai(PA(PA(t)),0,4)]))}const YS=new RegExp("^(ipfs)://(.*)$","i"),HA=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),YS,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function S1(t,e){try{return Jd(Sd(t,e))}catch{}return null}function Sd(t,e){if(t==="0x")return null;const r=gt.from(ai(t,e,e+32)).toNumber(),n=gt.from(ai(t,r,r+32)).toNumber();return ai(t,r+32,r+32+n)}function rm(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):rr.throwArgumentError("unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}function jA(t){const e=Mt(t);if(e.length>32)throw new Error("internal; should not happen");const r=new Uint8Array(32);return r.set(e,32-e.length),r}function hY(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}function ZS(t){const e=[];let r=0;for(let n=0;n<t.length;n++)e.push(null),r+=32;for(let n=0;n<t.length;n++){const i=Mt(t[n]);e[n]=jA(r),e.push(jA(i.length)),e.push(hY(i)),r+=32+Math.ceil(i.length/32)*32}return ki(e)}class $A{constructor(e,r,n,i){ut(this,"provider",e),ut(this,"name",n),ut(this,"address",e.formatter.address(r)),ut(this,"_resolvedAddress",i)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(e=>gt.from(e).eq(1)).catch(e=>{if(e.code===qe.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,e})),this._supportsEip2544}_fetch(e,r){return qt(this,void 0,void 0,function*(){const n={to:this.address,ccipReadEnabled:!0,data:ki([e,w1(this.name),r||"0x"])};let i=!1;(yield this.supportsWildcard())&&(i=!0,n.data=ki(["0x9061b923",ZS([_j(this.name),n.data])]));try{let a=yield this.provider.call(n);return Mt(a).length%32===4&&rr.throwError("resolver threw error",qe.errors.CALL_EXCEPTION,{transaction:n,data:a}),i&&(a=Sd(a,0)),a}catch(a){if(a.code===qe.errors.CALL_EXCEPTION)return null;throw a}})}_fetchBytes(e,r){return qt(this,void 0,void 0,function*(){const n=yield this._fetch(e,r);return n!=null?Sd(n,0):null})}_getAddress(e,r){const n=dY[String(e)];if(n==null&&rr.throwError(`unsupported coin type: ${e}`,qe.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`}),n.ilk==="eth")return this.provider.formatter.address(r);const i=Mt(r);if(n.p2pkh!=null){const a=r.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(a){const o=parseInt(a[1],16);if(a[2].length===o*2&&o>=1&&o<=75)return QA(ra([[n.p2pkh],"0x"+a[2]]))}}if(n.p2sh!=null){const a=r.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(a){const o=parseInt(a[1],16);if(a[2].length===o*2&&o>=1&&o<=75)return QA(ra([[n.p2sh],"0x"+a[2]]))}}if(n.prefix!=null){const a=i[1];let o=i[0];if(o===0?a!==20&&a!==32&&(o=-1):o=-1,o>=0&&i.length===2+a&&a>=1&&a<=75){const s=GA.toWords(i.slice(2));return s.unshift(o),GA.encode(n.prefix,s)}}return null}getAddress(e){return qt(this,void 0,void 0,function*(){if(e==null&&(e=60),e===60)try{const i=yield this._fetch("0x3b3b57de");return i==="0x"||i===nS?null:this.provider.formatter.callAddress(i)}catch(i){if(i.code===qe.errors.CALL_EXCEPTION)return null;throw i}const r=yield this._fetchBytes("0xf1cb7e06",tm(e));if(r==null||r==="0x")return null;const n=this._getAddress(e,r);return n==null&&rr.throwError("invalid or unsupported coin data",qe.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:r}),n})}getAvatar(){return qt(this,void 0,void 0,function*(){const e=[{type:"name",content:this.name}];try{const r=yield this.getText("avatar");if(r==null)return null;for(let n=0;n<HA.length;n++){const i=r.match(HA[n]);if(i==null)continue;const a=i[1].toLowerCase();switch(a){case"https":return e.push({type:"url",content:r}),{linkage:e,url:r};case"data":return e.push({type:"data",content:r}),{linkage:e,url:r};case"ipfs":return e.push({type:"ipfs",content:r}),{linkage:e,url:rm(r)};case"erc721":case"erc1155":{const o=a==="erc721"?"0xc87b56dd":"0x0e89341c";e.push({type:a,content:r});const s=this._resolvedAddress||(yield this.getAddress()),u=(i[2]||"").split("/");if(u.length!==2)return null;const l=yield this.provider.formatter.address(u[0]),c=un(gt.from(u[1]).toHexString(),32);if(a==="erc721"){const w=this.provider.formatter.callAddress(yield this.provider.call({to:l,data:ki(["0x6352211e",c])}));if(s!==w)return null;e.push({type:"owner",content:w})}else if(a==="erc1155"){const w=gt.from(yield this.provider.call({to:l,data:ki(["0x00fdd58e",un(s,32),c])}));if(w.isZero())return null;e.push({type:"balance",content:w.toString()})}const f={to:this.provider.formatter.address(u[0]),data:ki([o,c])};let d=S1(yield this.provider.call(f),0);if(d==null)return null;e.push({type:"metadata-url-base",content:d}),a==="erc1155"&&(d=d.replace("{id}",c.substring(2)),e.push({type:"metadata-url-expanded",content:d})),d.match(/^ipfs:/i)&&(d=rm(d)),e.push({type:"metadata-url",content:d});const h=yield Vv(d);if(!h)return null;e.push({type:"metadata",content:JSON.stringify(h)});let y=h.image;if(typeof y!="string")return null;if(!y.match(/^(https:\/\/|data:)/i)){if(y.match(YS)==null)return null;e.push({type:"url-ipfs",content:y}),y=rm(y)}return e.push({type:"url",content:y}),{linkage:e,url:y}}}}}catch{}return null})}getContentHash(){return qt(this,void 0,void 0,function*(){const e=yield this._fetchBytes("0xbc1c58d1");if(e==null||e==="0x")return null;const r=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){const o=parseInt(r[3],16);if(r[4].length===o*2)return"ipfs://"+Ey.encode("0x"+r[1])}const n=e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const o=parseInt(n[3],16);if(n[4].length===o*2)return"ipns://"+Ey.encode("0x"+n[1])}const i=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(i&&i[1].length===32*2)return"bzz://"+i[1];const a=e.match(/^0x90b2c605([0-9a-f]*)$/);if(a&&a[1].length===34*2){const o={"=":"","+":"-","/":"_"};return"sia://"+cS("0x"+a[1]).replace(/[=+\/]/g,u=>o[u])}return rr.throwError("invalid or unsupported content hash data",qe.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})})}getText(e){return qt(this,void 0,void 0,function*(){let r=Gi(e);r=ra([tm(64),tm(r.length),r]),r.length%32!==0&&(r=ra([r,un("0x",32-e.length%32)]));const n=yield this._fetchBytes("0x59d1d43c",Tt(r));return n==null||n==="0x"?null:Jd(n)})}}let nm=null,xY=1;class pY extends Wp{constructor(e){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),ut(this,"anyNetwork",e==="any"),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch(r=>{}),this._ready().catch(r=>{});else{const r=Po(new.target,"getNetwork")(e);r?(ut(this,"_network",r),this.emit("network",r,null)):rr.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return qt(this,void 0,void 0,function*(){if(this._network==null){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch{}e==null&&(e=yield this.detectNetwork()),e||rr.throwError("no network detected",qe.errors.UNKNOWN_ERROR,{}),this._network==null&&(this.anyNetwork?this._network=e:ut(this,"_network",e),this.emit("network",e,null))}return this._network})}get ready(){return vf(()=>this._ready().then(e=>e,e=>{if(!(e.code===qe.errors.NETWORK_ERROR&&e.event==="noNetwork"))throw e}))}static getFormatter(){return nm==null&&(nm=new St),nm}static getNetwork(e){return jW(e??"homestead")}ccipReadFetch(e,r,n){return qt(this,void 0,void 0,function*(){if(this.disableCcipRead||n.length===0)return null;const i=e.to.toLowerCase(),a=r.toLowerCase(),o=[];for(let s=0;s<n.length;s++){const u=n[s],l=u.replace("{sender}",i).replace("{data}",a),c=u.indexOf("{data}")>=0?null:JSON.stringify({data:a,sender:i}),f=yield Vv({url:l,errorPassThrough:!0},c,(h,y)=>(h.status=y.statusCode,h));if(f.data)return f.data;const d=f.message||"unknown error";if(f.status>=400&&f.status<500)return rr.throwError(`response not found during CCIP fetch: ${d}`,qe.errors.SERVER_ERROR,{url:u,errorMessage:d});o.push(d)}return rr.throwError(`error encountered during CCIP fetch: ${o.map(s=>JSON.stringify(s)).join(", ")}`,qe.errors.SERVER_ERROR,{urls:n,errorMessages:o})})}_getInternalBlockNumber(e){return qt(this,void 0,void 0,function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){const i=this._internalBlockNumber;try{const a=yield i;if(of()-a.respTime<=e)return a.blockNumber;break}catch{if(this._internalBlockNumber===i)break}}const r=of(),n=gn({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(i=>null,i=>i)}).then(({blockNumber:i,networkError:a})=>{if(a)throw this._internalBlockNumber===n&&(this._internalBlockNumber=null),a;const o=of();return i=gt.from(i).toNumber(),i<this._maxInternalBlockNumber&&(i=this._maxInternalBlockNumber),this._maxInternalBlockNumber=i,this._setFastBlockNumber(i),{blockNumber:i,reqTime:r,respTime:o}});return this._internalBlockNumber=n,n.catch(i=>{this._internalBlockNumber===n&&(this._internalBlockNumber=null)}),(yield n).blockNumber})}poll(){return qt(this,void 0,void 0,function*(){const e=xY++,r=[];let n=null;try{n=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(i){this.emit("error",i);return}if(this._setFastBlockNumber(n),this.emit("poll",e,n),n===this._lastBlockNumber){this.emit("didPoll",e);return}if(this._emitted.block===-2&&(this._emitted.block=n-1),Math.abs(this._emitted.block-n)>1e3)rr.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${n})`),this.emit("error",rr.makeError("network block skew detected",qe.errors.NETWORK_ERROR,{blockNumber:n,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",n);else for(let i=this._emitted.block+1;i<=n;i++)this.emit("block",i);this._emitted.block!==n&&(this._emitted.block=n,Object.keys(this._emitted).forEach(i=>{if(i==="block")return;const a=this._emitted[i];a!=="pending"&&n-a>12&&delete this._emitted[i]})),this._lastBlockNumber===-2&&(this._lastBlockNumber=n-1),this._events.forEach(i=>{switch(i.type){case"tx":{const a=i.hash;let o=this.getTransactionReceipt(a).then(s=>(!s||s.blockNumber==null||(this._emitted["t:"+a]=s.blockNumber,this.emit(a,s)),null)).catch(s=>{this.emit("error",s)});r.push(o);break}case"filter":{if(!i._inflight){i._inflight=!0,i._lastBlockNumber===-2&&(i._lastBlockNumber=n-1);const a=i.filter;a.fromBlock=i._lastBlockNumber+1,a.toBlock=n;const o=a.toBlock-this._maxFilterBlockRange;o>a.fromBlock&&(a.fromBlock=o),a.fromBlock<0&&(a.fromBlock=0);const s=this.getLogs(a).then(u=>{i._inflight=!1,u.length!==0&&u.forEach(l=>{l.blockNumber>i._lastBlockNumber&&(i._lastBlockNumber=l.blockNumber),this._emitted["b:"+l.blockHash]=l.blockNumber,this._emitted["t:"+l.transactionHash]=l.blockNumber,this.emit(a,l)})}).catch(u=>{this.emit("error",u),i._inflight=!1});r.push(s)}break}}}),this._lastBlockNumber=n,Promise.all(r).then(()=>{this.emit("didPoll",e)}).catch(i=>{this.emit("error",i)})})}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return qt(this,void 0,void 0,function*(){return rr.throwError("provider does not support network detection",qe.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return qt(this,void 0,void 0,function*(){const e=yield this._ready(),r=yield this.detectNetwork();if(e.chainId!==r.chainId){if(this.anyNetwork)return this._network=r,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",r,e),yield qA(0),this._network;const n=rr.makeError("underlying network changed",qe.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:r});throw this.emit("error",n),n}return e})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(e=>{this._setFastBlockNumber(e)},e=>{}),this._fastBlockNumber!=null?this._fastBlockNumber:-1}get polling(){return this._poller!=null}set polling(e){e&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if(typeof e!="number"||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){const e=of();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then(r=>((this._fastBlockNumber==null||r>this._fastBlockNumber)&&(this._fastBlockNumber=r),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(e){this._fastBlockNumber!=null&&e<this._fastBlockNumber||(this._fastQueryDate=of(),(this._fastBlockNumber==null||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,r,n){return qt(this,void 0,void 0,function*(){return this._waitForTransaction(e,r??1,n||0,null)})}_waitForTransaction(e,r,n,i){return qt(this,void 0,void 0,function*(){const a=yield this.getTransactionReceipt(e);return(a?a.confirmations:0)>=r?a:new Promise((o,s)=>{const u=[];let l=!1;const c=function(){return l?!0:(l=!0,u.forEach(d=>{d()}),!1)},f=d=>{d.confirmations<r||c()||o(d)};if(this.on(e,f),u.push(()=>{this.removeListener(e,f)}),i){let d=i.startBlock,h=null;const y=w=>qt(this,void 0,void 0,function*(){l||(yield qA(1e3),this.getTransactionCount(i.from).then(_=>qt(this,void 0,void 0,function*(){if(!l){if(_<=i.nonce)d=w;else{{const E=yield this.getTransaction(e);if(E&&E.blockNumber!=null)return}for(h==null&&(h=d-3,h<i.startBlock&&(h=i.startBlock));h<=w;){if(l)return;const E=yield this.getBlockWithTransactions(h);for(let p=0;p<E.transactions.length;p++){const m=E.transactions[p];if(m.hash===e)return;if(m.from===i.from&&m.nonce===i.nonce){if(l)return;const S=yield this.waitForTransaction(m.hash,r);if(c())return;let F="replaced";m.data===i.data&&m.to===i.to&&m.value.eq(i.value)?F="repriced":m.data==="0x"&&m.from===m.to&&m.value.isZero()&&(F="cancelled"),s(rr.makeError("transaction was replaced",qe.errors.TRANSACTION_REPLACED,{cancelled:F==="replaced"||F==="cancelled",reason:F,replacement:this._wrapTransaction(m),hash:e,receipt:S}));return}}h++}}l||this.once("block",y)}}),_=>{l||this.once("block",y)}))});if(l)return;this.once("block",y),u.push(()=>{this.removeListener("block",y)})}if(typeof n=="number"&&n>0){const d=setTimeout(()=>{c()||s(rr.makeError("timeout exceeded",qe.errors.TIMEOUT,{timeout:n}))},n);d.unref&&d.unref(),u.push(()=>{clearTimeout(d)})}})})}getBlockNumber(){return qt(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return qt(this,void 0,void 0,function*(){yield this.getNetwork();const e=yield this.perform("getGasPrice",{});try{return gt.from(e)}catch(r){return rr.throwError("bad result from backend",qe.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:r})}})}getBalance(e,r){return qt(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield gn({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getBalance",n);try{return gt.from(i)}catch(a){return rr.throwError("bad result from backend",qe.errors.SERVER_ERROR,{method:"getBalance",params:n,result:i,error:a})}})}getTransactionCount(e,r){return qt(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield gn({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getTransactionCount",n);try{return gt.from(i).toNumber()}catch(a){return rr.throwError("bad result from backend",qe.errors.SERVER_ERROR,{method:"getTransactionCount",params:n,result:i,error:a})}})}getCode(e,r){return qt(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield gn({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getCode",n);try{return Tt(i)}catch(a){return rr.throwError("bad result from backend",qe.errors.SERVER_ERROR,{method:"getCode",params:n,result:i,error:a})}})}getStorageAt(e,r,n){return qt(this,void 0,void 0,function*(){yield this.getNetwork();const i=yield gn({address:this._getAddress(e),blockTag:this._getBlockTag(n),position:Promise.resolve(r).then(o=>Dv(o))}),a=yield this.perform("getStorageAt",i);try{return Tt(a)}catch(o){return rr.throwError("bad result from backend",qe.errors.SERVER_ERROR,{method:"getStorageAt",params:i,result:a,error:o})}})}_wrapTransaction(e,r,n){if(r!=null&&Il(r)!==32)throw new Error("invalid response - sendTransaction");const i=e;return r!=null&&e.hash!==r&&rr.throwError("Transaction hash mismatch from Provider.sendTransaction.",qe.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:r}),i.wait=(a,o)=>qt(this,void 0,void 0,function*(){a==null&&(a=1),o==null&&(o=0);let s;a!==0&&n!=null&&(s={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:n});const u=yield this._waitForTransaction(e.hash,a,o,s);return u==null&&a===0?null:(this._emitted["t:"+e.hash]=u.blockNumber,u.status===0&&rr.throwError("transaction failed",qe.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:u}),u)}),i}sendTransaction(e){return qt(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Promise.resolve(e).then(a=>Tt(a)),n=this.formatter.transaction(e);n.confirmations==null&&(n.confirmations=0);const i=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const a=yield this.perform("sendTransaction",{signedTransaction:r});return this._wrapTransaction(n,a,i)}catch(a){throw a.transaction=n,a.transactionHash=n.hash,a}})}_getTransactionRequest(e){return qt(this,void 0,void 0,function*(){const r=yield e,n={};return["from","to"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(a=>a?this._getAddress(a):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(a=>a?gt.from(a):null))}),["type"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(a=>a??null))}),r.accessList&&(n.accessList=this.formatter.accessList(r.accessList)),["data"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(a=>a?Tt(a):null))}),this.formatter.transactionRequest(yield gn(n))})}_getFilter(e){return qt(this,void 0,void 0,function*(){e=yield e;const r={};return e.address!=null&&(r.address=this._getAddress(e.address)),["blockHash","topics"].forEach(n=>{e[n]!=null&&(r[n]=e[n])}),["fromBlock","toBlock"].forEach(n=>{e[n]!=null&&(r[n]=this._getBlockTag(e[n]))}),this.formatter.filter(yield gn(r))})}_call(e,r,n){return qt(this,void 0,void 0,function*(){n>=lY&&rr.throwError("CCIP read exceeded maximum redirections",qe.errors.SERVER_ERROR,{redirects:n,transaction:e});const i=e.to,a=yield this.perform("call",{transaction:e,blockTag:r});if(n>=0&&r==="latest"&&i!=null&&a.substring(0,10)==="0x556f1830"&&Il(a)%32===4)try{const o=ai(a,4),s=ai(o,0,32);gt.from(s).eq(i)||rr.throwError("CCIP Read sender did not match",qe.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:a});const u=[],l=gt.from(ai(o,32,64)).toNumber(),c=gt.from(ai(o,l,l+32)).toNumber(),f=ai(o,l+32);for(let E=0;E<c;E++){const p=S1(f,E*32);p==null&&rr.throwError("CCIP Read contained corrupt URL string",qe.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:a}),u.push(p)}const d=Sd(o,64);gt.from(ai(o,100,128)).isZero()||rr.throwError("CCIP Read callback selector included junk",qe.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:a});const h=ai(o,96,100),y=Sd(o,128),w=yield this.ccipReadFetch(e,d,u);w==null&&rr.throwError("CCIP Read disabled or provided no URLs",qe.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:a});const _={to:i,data:ki([h,ZS([w,y])])};return this._call(_,r,n+1)}catch(o){if(o.code===qe.errors.SERVER_ERROR)throw o}try{return Tt(a)}catch(o){return rr.throwError("bad result from backend",qe.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:r},result:a,error:o})}})}call(e,r){return qt(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield gn({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(r),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)});return this._call(n.transaction,n.blockTag,n.ccipReadEnabled?0:-1)})}estimateGas(e){return qt(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield gn({transaction:this._getTransactionRequest(e)}),n=yield this.perform("estimateGas",r);try{return gt.from(n)}catch(i){return rr.throwError("bad result from backend",qe.errors.SERVER_ERROR,{method:"estimateGas",params:r,result:n,error:i})}})}_getAddress(e){return qt(this,void 0,void 0,function*(){e=yield e,typeof e!="string"&&rr.throwArgumentError("invalid address or ENS name","name",e);const r=yield this.resolveName(e);return r==null&&rr.throwError("ENS name not configured",qe.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),r})}_getBlock(e,r){return qt(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let n=-128;const i={includeTransactions:!!r};if(br(e,32))i.blockHash=e;else try{i.blockTag=yield this._getBlockTag(e),br(i.blockTag)&&(n=parseInt(i.blockTag.substring(2),16))}catch{rr.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return vf(()=>qt(this,void 0,void 0,function*(){const a=yield this.perform("getBlock",i);if(a==null)return i.blockHash!=null&&this._emitted["b:"+i.blockHash]==null||i.blockTag!=null&&n>this._emitted.block?null:void 0;if(r){let o=null;for(let u=0;u<a.transactions.length;u++){const l=a.transactions[u];if(l.blockNumber==null)l.confirmations=0;else if(l.confirmations==null){o==null&&(o=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let c=o-l.blockNumber+1;c<=0&&(c=1),l.confirmations=c}}const s=this.formatter.blockWithTransactions(a);return s.transactions=s.transactions.map(u=>this._wrapTransaction(u)),s}return this.formatter.block(a)}),{oncePoll:this})})}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return qt(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const r={transactionHash:this.formatter.hash(e,!0)};return vf(()=>qt(this,void 0,void 0,function*(){const n=yield this.perform("getTransaction",r);if(n==null)return this._emitted["t:"+e]==null?null:void 0;const i=this.formatter.transactionResponse(n);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let o=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;o<=0&&(o=1),i.confirmations=o}return this._wrapTransaction(i)}),{oncePoll:this})})}getTransactionReceipt(e){return qt(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const r={transactionHash:this.formatter.hash(e,!0)};return vf(()=>qt(this,void 0,void 0,function*(){const n=yield this.perform("getTransactionReceipt",r);if(n==null)return this._emitted["t:"+e]==null?null:void 0;if(n.blockHash==null)return;const i=this.formatter.receipt(n);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let o=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;o<=0&&(o=1),i.confirmations=o}return i}),{oncePoll:this})})}getLogs(e){return qt(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield gn({filter:this._getFilter(e)}),n=yield this.perform("getLogs",r);return n.forEach(i=>{i.removed==null&&(i.removed=!1)}),St.arrayOf(this.formatter.filterLog.bind(this.formatter))(n)})}getEtherPrice(){return qt(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(e){return qt(this,void 0,void 0,function*(){if(e=yield e,typeof e=="number"&&e<0){e%1&&rr.throwArgumentError("invalid BlockTag","blockTag",e);let r=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return r+=e,r<0&&(r=0),this.formatter.blockTag(r)}return this.formatter.blockTag(e)})}getResolver(e){return qt(this,void 0,void 0,function*(){let r=e;for(;;){if(r===""||r==="."||e!=="eth"&&r==="eth")return null;const n=yield this._getResolver(r,"getResolver");if(n!=null){const i=new $A(this,n,e);return r!==e&&!(yield i.supportsWildcard())?null:i}r=r.split(".").slice(1).join(".")}})}_getResolver(e,r){return qt(this,void 0,void 0,function*(){r==null&&(r="ENS");const n=yield this.getNetwork();n.ensAddress||rr.throwError("network does not support ENS",qe.errors.UNSUPPORTED_OPERATION,{operation:r,network:n.name});try{const i=yield this.call({to:n.ensAddress,data:"0x0178b8bf"+w1(e).substring(2)});return this.formatter.callAddress(i)}catch{}return null})}resolveName(e){return qt(this,void 0,void 0,function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(n){if(br(e))throw n}typeof e!="string"&&rr.throwArgumentError("invalid ENS name","name",e);const r=yield this.getResolver(e);return r?yield r.getAddress():null})}lookupAddress(e){return qt(this,void 0,void 0,function*(){e=yield e,e=this.formatter.address(e);const r=e.substring(2).toLowerCase()+".addr.reverse",n=yield this._getResolver(r,"lookupAddress");if(n==null)return null;const i=S1(yield this.call({to:n,data:"0x691f3431"+w1(r).substring(2)}),0);return(yield this.resolveName(i))!=e?null:i})}getAvatar(e){return qt(this,void 0,void 0,function*(){let r=null;if(br(e)){const a=this.formatter.address(e).substring(2).toLowerCase()+".addr.reverse",o=yield this._getResolver(a,"getAvatar");if(!o)return null;r=new $A(this,o,a);try{const s=yield r.getAvatar();if(s)return s.url}catch(s){if(s.code!==qe.errors.CALL_EXCEPTION)throw s}try{const s=S1(yield this.call({to:o,data:"0x691f3431"+w1(a).substring(2)}),0);r=yield this.getResolver(s)}catch(s){if(s.code!==qe.errors.CALL_EXCEPTION)throw s;return null}}else if(r=yield this.getResolver(e),!r)return null;const n=yield r.getAvatar();return n==null?null:n.url})}perform(e,r){return rr.throwError(e+" not implemented",qe.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter(r=>r.pollable()).length>0}_stopEvent(e){this.polling=this._events.filter(r=>r.pollable()).length>0}_addEventListener(e,r,n){const i=new fY(ec(e),r,n);return this._events.push(i),this._startEvent(i),this}on(e,r){return this._addEventListener(e,r,!1)}once(e,r){return this._addEventListener(e,r,!0)}emit(e,...r){let n=!1,i=[],a=ec(e);return this._events=this._events.filter(o=>o.tag!==a?!0:(setTimeout(()=>{o.listener.apply(this,r)},0),n=!0,o.once?(i.push(o),!1):!0)),i.forEach(o=>{this._stopEvent(o)}),n}listenerCount(e){if(!e)return this._events.length;let r=ec(e);return this._events.filter(n=>n.tag===r).length}listeners(e){if(e==null)return this._events.map(n=>n.listener);let r=ec(e);return this._events.filter(n=>n.tag===r).map(n=>n.listener)}off(e,r){if(r==null)return this.removeAllListeners(e);const n=[];let i=!1,a=ec(e);return this._events=this._events.filter(o=>o.tag!==a||o.listener!=r||i?!0:(i=!0,n.push(o),!1)),n.forEach(o=>{this._stopEvent(o)}),this}removeAllListeners(e){let r=[];if(e==null)r=this._events,this._events=[];else{const n=ec(e);this._events=this._events.filter(i=>i.tag!==n?!0:(r.push(i),!1))}return r.forEach(n=>{this._stopEvent(n)}),this}}var fs=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(c){try{l(n.next(c))}catch(f){o(f)}}function u(c){try{l(n.throw(c))}catch(f){o(f)}}function l(c){c.done?a(c.value):i(c.value).then(s,u)}l((n=n.apply(t,e||[])).next())})};const mn=new qe(t2),gY=["call","estimateGas"];function Qf(t,e){if(t==null)return null;if(typeof t.message=="string"&&t.message.match("reverted")){const r=br(t.data)?t.data:null;if(!e||r)return{message:t.message,data:r}}if(typeof t=="object"){for(const r in t){const n=Qf(t[r],e);if(n)return n}return null}if(typeof t=="string")try{return Qf(JSON.parse(t),e)}catch{}return null}function XS(t,e,r){const n=r.transaction||r.signedTransaction;if(t==="call"){const a=Qf(e,!0);if(a)return a.data;mn.throwError("missing revert data in call exception; Transaction reverted without a reason string",qe.errors.CALL_EXCEPTION,{data:"0x",transaction:n,error:e})}if(t==="estimateGas"){let a=Qf(e.body,!1);a==null&&(a=Qf(e,!1)),a&&mn.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",qe.errors.UNPREDICTABLE_GAS_LIMIT,{reason:a.message,method:t,transaction:n,error:e})}let i=e.message;throw e.code===qe.errors.SERVER_ERROR&&e.error&&typeof e.error.message=="string"?i=e.error.message:typeof e.body=="string"?i=e.body:typeof e.responseText=="string"&&(i=e.responseText),i=(i||"").toLowerCase(),i.match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)&&mn.throwError("insufficient funds for intrinsic transaction cost",qe.errors.INSUFFICIENT_FUNDS,{error:e,method:t,transaction:n}),i.match(/nonce (is )?too low/i)&&mn.throwError("nonce has already been used",qe.errors.NONCE_EXPIRED,{error:e,method:t,transaction:n}),i.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&mn.throwError("replacement fee too low",qe.errors.REPLACEMENT_UNDERPRICED,{error:e,method:t,transaction:n}),i.match(/only replay-protected/i)&&mn.throwError("legacy pre-eip-155 transactions not supported",qe.errors.UNSUPPORTED_OPERATION,{error:e,method:t,transaction:n}),gY.indexOf(t)>=0&&i.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)&&mn.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",qe.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:t,transaction:n}),e}function WA(t){return new Promise(function(e){setTimeout(e,t)})}function mY(t){if(t.error){const e=new Error(t.error.message);throw e.code=t.error.code,e.data=t.error.data,e}return t.result}function sf(t){return t&&t.toLowerCase()}const Ay={};class JS extends eh{constructor(e,r,n){if(super(),e!==Ay)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");ut(this,"provider",r),n==null&&(n=0),typeof n=="string"?(ut(this,"_address",this.provider.formatter.address(n)),ut(this,"_index",null)):typeof n=="number"?(ut(this,"_index",n),ut(this,"_address",null)):mn.throwArgumentError("invalid address or index","addressOrIndex",n)}connect(e){return mn.throwError("cannot alter JSON-RPC Signer connection",qe.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new yY(Ay,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(e=>(e.length<=this._index&&mn.throwError("unknown account #"+this._index,qe.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index])))}sendUncheckedTransaction(e){e=Sn(e);const r=this.getAddress().then(n=>(n&&(n=n.toLowerCase()),n));if(e.gasLimit==null){const n=Sn(e);n.from=r,e.gasLimit=this.provider.estimateGas(n)}return e.to!=null&&(e.to=Promise.resolve(e.to).then(n=>fs(this,void 0,void 0,function*(){if(n==null)return null;const i=yield this.provider.resolveName(n);return i==null&&mn.throwArgumentError("provided ENS name resolves to null","tx.to",n),i}))),gn({tx:gn(e),sender:r}).then(({tx:n,sender:i})=>{n.from!=null?n.from.toLowerCase()!==i&&mn.throwArgumentError("from address mismatch","transaction",e):n.from=i;const a=this.provider.constructor.hexlifyTransaction(n,{from:!0});return this.provider.send("eth_sendTransaction",[a]).then(o=>o,o=>(typeof o.message=="string"&&o.message.match(/user denied/i)&&mn.throwError("user rejected transaction",qe.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:n}),XS("sendTransaction",o,a)))})}signTransaction(e){return mn.throwError("signing transactions is unsupported",qe.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return fs(this,void 0,void 0,function*(){const r=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),n=yield this.sendUncheckedTransaction(e);try{return yield vf(()=>fs(this,void 0,void 0,function*(){const i=yield this.provider.getTransaction(n);if(i!==null)return this.provider._wrapTransaction(i,n,r)}),{oncePoll:this.provider})}catch(i){throw i.transactionHash=n,i}})}signMessage(e){return fs(this,void 0,void 0,function*(){const r=typeof e=="string"?Gi(e):e,n=yield this.getAddress();try{return yield this.provider.send("personal_sign",[Tt(r),n.toLowerCase()])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&mn.throwError("user rejected signing",qe.errors.ACTION_REJECTED,{action:"signMessage",from:n,messageData:e}),i}})}_legacySignMessage(e){return fs(this,void 0,void 0,function*(){const r=typeof e=="string"?Gi(e):e,n=yield this.getAddress();try{return yield this.provider.send("eth_sign",[n.toLowerCase(),Tt(r)])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&mn.throwError("user rejected signing",qe.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:n,messageData:e}),i}})}_signTypedData(e,r,n){return fs(this,void 0,void 0,function*(){const i=yield Hi.resolveNames(e,r,n,o=>this.provider.resolveName(o)),a=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[a.toLowerCase(),JSON.stringify(Hi.getPayload(i.domain,r,i.value))])}catch(o){throw typeof o.message=="string"&&o.message.match(/user denied/i)&&mn.throwError("user rejected signing",qe.errors.ACTION_REJECTED,{action:"_signTypedData",from:a,messageData:{domain:i.domain,types:r,value:i.value}}),o}})}unlock(e){return fs(this,void 0,void 0,function*(){const r=this.provider,n=yield this.getAddress();return r.send("personal_unlockAccount",[n.toLowerCase(),e,null])})}}class yY extends JS{sendTransaction(e){return this.sendUncheckedTransaction(e).then(r=>({hash:r,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:n=>this.provider.waitForTransaction(r,n)}))}}const vY={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class EY extends pY{constructor(e,r){let n=r;n==null&&(n=new Promise((i,a)=>{setTimeout(()=>{this.detectNetwork().then(o=>{i(o)},o=>{a(o)})},0)})),super(n),e||(e=Po(this.constructor,"defaultUrl")()),typeof e=="string"?ut(this,"connection",Object.freeze({url:e})):ut(this,"connection",Object.freeze(Sn(e))),this._nextId=42}get _cache(){return this._eventLoopCache==null&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return fs(this,void 0,void 0,function*(){yield WA(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch{try{e=yield this.send("net_version",[])}catch{}}if(e!=null){const r=Po(this.constructor,"getNetwork");try{return r(gt.from(e).toNumber())}catch(n){return mn.throwError("could not detect network",qe.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:n})}}return mn.throwError("could not detect network",qe.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(e){return new JS(Ay,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(e=>e.map(r=>this.formatter.address(r)))}send(e,r){const n={method:e,params:r,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:ks(n),provider:this});const i=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(i&&this._cache[e])return this._cache[e];const a=Vv(this.connection,JSON.stringify(n),mY).then(o=>(this.emit("debug",{action:"response",request:n,response:o,provider:this}),o),o=>{throw this.emit("debug",{action:"response",error:o,request:n,provider:this}),o});return i&&(this._cache[e]=a,setTimeout(()=>{this._cache[e]=null},0)),a}prepareRequest(e,r){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[sf(r.address),r.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[sf(r.address),r.blockTag]];case"getCode":return["eth_getCode",[sf(r.address),r.blockTag]];case"getStorageAt":return["eth_getStorageAt",[sf(r.address),un(r.position,32),r.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[r.signedTransaction]];case"getBlock":return r.blockTag?["eth_getBlockByNumber",[r.blockTag,!!r.includeTransactions]]:r.blockHash?["eth_getBlockByHash",[r.blockHash,!!r.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[r.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[r.transactionHash]];case"call":return["eth_call",[Po(this.constructor,"hexlifyTransaction")(r.transaction,{from:!0}),r.blockTag]];case"estimateGas":return["eth_estimateGas",[Po(this.constructor,"hexlifyTransaction")(r.transaction,{from:!0})]];case"getLogs":return r.filter&&r.filter.address!=null&&(r.filter.address=sf(r.filter.address)),["eth_getLogs",[r.filter]]}return null}perform(e,r){return fs(this,void 0,void 0,function*(){if(e==="call"||e==="estimateGas"){const i=r.transaction;if(i&&i.type!=null&&gt.from(i.type).isZero()&&i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null){const a=yield this.getFeeData();a.maxFeePerGas==null&&a.maxPriorityFeePerGas==null&&(r=Sn(r),r.transaction=Sn(i),delete r.transaction.type)}}const n=this.prepareRequest(e,r);n==null&&mn.throwError(e+" not implemented",qe.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(n[0],n[1])}catch(i){return XS(e,i,r)}})}_startEvent(e){e.tag==="pending"&&this._startPending(),super._startEvent(e)}_startPending(){if(this._pendingFilter!=null)return;const e=this,r=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=r,r.then(function(n){function i(){e.send("eth_getFilterChanges",[n]).then(function(a){if(e._pendingFilter!=r)return null;let o=Promise.resolve();return a.forEach(function(s){e._emitted["t:"+s.toLowerCase()]="pending",o=o.then(function(){return e.getTransaction(s).then(function(u){return e.emit("pending",u),null})})}),o.then(function(){return WA(1e3)})}).then(function(){if(e._pendingFilter!=r){e.send("eth_uninstallFilter",[n]);return}return setTimeout(function(){i()},0),null}).catch(a=>{})}return i(),n}).catch(n=>{})}_stopEvent(e){e.tag==="pending"&&this.listenerCount("pending")===0&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,r){const n=Sn(vY);if(r)for(const a in r)r[a]&&(n[a]=!0);gH(e,n);const i={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(a){if(e[a]==null)return;const o=Dv(gt.from(e[a]));a==="gasLimit"&&(a="gas"),i[a]=o}),["from","to","data"].forEach(function(a){e[a]!=null&&(i[a]=Tt(e[a]))}),e.accessList&&(i.accessList=ku(e.accessList)),i}}const YA=new qe(t2);let CY=1;function ZA(t,e){const r="Web3LegacyFetcher";return function(n,i){const a={method:n,params:i,id:CY++,jsonrpc:"2.0"};return new Promise((o,s)=>{this.emit("debug",{action:"request",fetcher:r,request:ks(a),provider:this}),e(a,(u,l)=>{if(u)return this.emit("debug",{action:"response",fetcher:r,error:u,request:a,provider:this}),s(u);if(this.emit("debug",{action:"response",fetcher:r,request:a,response:l,provider:this}),l.error){const c=new Error(l.error.message);return c.code=l.error.code,c.data=l.error.data,s(c)}o(l.result)})})}}function AY(t){return function(e,r){r==null&&(r=[]);const n={method:e,params:r};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:ks(n),provider:this}),t.request(n).then(i=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,response:i,provider:this}),i),i=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,error:i,provider:this}),i})}}class eI extends EY{constructor(e,r){e==null&&YA.throwArgumentError("missing provider","provider",e);let n=null,i=null,a=null;typeof e=="function"?(n="unknown:",i=e):(n=e.host||e.path||"",!n&&e.isMetaMask&&(n="metamask"),a=e,e.request?(n===""&&(n="eip-1193:"),i=AY(e)):e.sendAsync?i=ZA(e,e.sendAsync.bind(e)):e.send?i=ZA(e,e.send.bind(e)):YA.throwArgumentError("unsupported provider","provider",e),n||(n="unknown:")),super(n,r),ut(this,"jsonRpcFetchFunc",i),ut(this,"provider",a)}send(e,r){return this.jsonRpcFetchFunc(e,r)}}const wY=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"bytes32",name:"proofHash",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"ProofSubmitted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"proofHash",type:"bytes32"},{indexed:!1,internalType:"bool",name:"isValid",type:"bool"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"ProofVerified",type:"event"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"allProofs",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"proofDetails",outputs:[{internalType:"bytes32",name:"proofHash",type:"bytes32"},{internalType:"uint256",name:"timestamp",type:"uint256"},{internalType:"bool",name:"isValid",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"proofHash",type:"bytes32"}],name:"getProofDetails",outputs:[{components:[{internalType:"bytes32",name:"proofHash",type:"bytes32"},{internalType:"uint256",name:"timestamp",type:"uint256"},{internalType:"bool",name:"isValid",type:"bool"}],internalType:"struct AnonAadhaarVerifier.ProofData",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getUserProofs",outputs:[{components:[{internalType:"bytes32",name:"proofHash",type:"bytes32"},{internalType:"uint256",name:"timestamp",type:"uint256"},{internalType:"bool",name:"isValid",type:"bool"}],internalType:"struct AnonAadhaarVerifier.ProofData[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"proofHash",type:"bytes32"}],name:"invalidateProof",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"proofHash",type:"bytes32"}],name:"submitProof",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"proofHash",type:"bytes32"}],name:"verifyProofExists",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],_Y={abi:wY},wy="11155111",BY={chainId:wy,chainName:"Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"SEP",decimals:18},rpcUrls:["https://sepolia.infura.io/v3/"],blockExplorerUrls:["https://sepolia.etherscan.io"]};class bY{constructor(e){rh(this,"provider",null);rh(this,"contract",null);rh(this,"contractAddress");this.contractAddress=e}async checkAndSwitchNetwork(){if(!window.ethereum)throw new Error("MetaMask is not installed");try{const e=await window.ethereum.request({method:"eth_chainId"}),r="0x"+parseInt(wy).toString(16);if(e===r)return;try{await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:r}]})}catch(n){if(n.code===4902)await window.ethereum.request({method:"wallet_addEthereumChain",params:[{...BY,chainId:r}]});else throw n.code===4001?new Error("User rejected network switch to Sepolia"):new Error("Please switch to Sepolia network in MetaMask")}}catch(e){throw console.error("Network switch error:",e),e}}async verifyContractDeployment(){if(!this.provider)throw new Error("Provider not initialized");if(await this.provider.getCode(this.contractAddress)==="0x")throw new Error(`No contract found at ${this.contractAddress}`);this.contract=new qW(this.contractAddress,_Y.abi,this.provider.getSigner());try{const r=await this.contract.functions.hasOwnProperty("verifyProofExists"),n=await this.contract.functions.hasOwnProperty("submitProof");if(!r||!n)throw new Error("Contract does not have required functions");await this.contract.allProofs(nS)}catch(r){throw console.error("Contract verification error:",r),new Error("Invalid contract interface. Please verify contract address and deployment.")}}async initializeProvider(){if(!window.ethereum)throw new Error("MetaMask is not installed");try{if(await this.checkAndSwitchNetwork(),this.provider=new eI(window.ethereum),await this.provider.send("eth_requestAccounts",[]),(await this.provider.getNetwork()).chainId!==parseInt(wy))throw new Error("Please switch to Sepolia network in MetaMask");await this.verifyContractDeployment()}catch(e){throw console.error("Failed to initialize provider:",e),e.message.includes("No contract found")?new Error("Smart contract not found on Sepolia network. Please verify contract deployment."):e}}async connectWallet(){if(!window.ethereum)throw new Error("MetaMask is not installed");try{const e=await window.ethereum.request({method:"eth_requestAccounts"});if(!e||e.length===0)throw new Error("No accounts found");return await this.checkAndSwitchNetwork(),e[0]}catch(e){throw e.code===4001?new Error("User rejected the connection request"):e}}async verifyProof(e){if(!this.contract&&(await this.initializeProvider(),!this.contract))throw new Error("Failed to initialize blockchain connection");try{if(!this.contract)throw new Error("Failed to initialize blockchain connection");const r=e.proofHash||nn(Gi(JSON.stringify(e)));try{return await this.contract.allProofs(r)}catch(n){throw console.error("Error verifying proof:",n),new Error("Failed to verify proof: "+n.message)}}catch(r){throw console.error("Error in verifyProof:",r),r}}async submitProof(e){if(await this.checkAndSwitchNetwork(),(!this.provider||!this.contract)&&await this.initializeProvider(),!this.contract)throw new Error("Contract not initialized");const r=e.proofHash||nn(Gi(JSON.stringify(e)));try{if(await this.contract.allProofs(r))return{proofHash:r,transactionHash:""};const a=await(await this.contract.submitProof(r)).wait();return{proofHash:r,transactionHash:a.transactionHash}}catch(n){throw console.error("Submit error:",n),n.message.includes("user rejected")?new Error("Transaction was rejected. Please approve the transaction to submit your proof."):new Error("Failed to submit proof: "+n.message)}}async getUserProofs(e){if(await this.checkAndSwitchNetwork(),(!this.provider||!this.contract)&&await this.initializeProvider(),!this.contract)throw new Error("Contract not initialized");return await this.contract.getUserProofs(e)}}const SY=({status:t,proofHash:e,transactionHash:r,timestamp:n})=>we.jsxs("div",{className:"w-full rounded-lg",children:[we.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[we.jsx("div",{className:`w-3 h-3 rounded-full ${t==="success"?"bg-green-500":t==="pending"?"bg-yellow-500":"bg-red-500"} ring-2 ring-offset-2 ring-offset-[#0c1f35] ${t==="success"?"ring-green-500/20":t==="pending"?"ring-yellow-500/20":"ring-red-500/20"}`}),we.jsx("h3",{className:`font-semibold ${t==="success"?"text-green-400":t==="pending"?"text-yellow-400":"text-red-400"}`,children:t==="success"?"Proof Verified & Stored":t==="pending"?"Verifying Proof":"Verification Failed"})]}),e&&we.jsxs("div",{className:"flex flex-col gap-2 p-4 bg-[#0a1929] rounded-lg border border-blue-500/10",children:[we.jsxs("div",{className:"flex items-center justify-between",children:[we.jsx("span",{className:"text-gray-400",children:"Proof Hash"}),we.jsx("span",{className:"font-mono text-cyan-400",children:`${e.slice(0,10)}...${e.slice(-8)}`})]}),n&&we.jsxs("div",{className:"flex items-center justify-between",children:[we.jsx("span",{className:"text-gray-400",children:"Timestamp"}),we.jsx("span",{className:"text-gray-300",children:new Date(n*1e3).toLocaleString()})]}),t==="success"&&r&&we.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-blue-500/10",children:[we.jsx("span",{className:"text-gray-400",children:"Transaction"}),we.jsxs("a",{href:`https://sepolia.etherscan.io/tx/${r}`,target:"_blank",rel:"noopener noreferrer",className:"text-cyan-400 hover:text-cyan-300 transition-colors flex items-center gap-2",children:[we.jsx("span",{className:"font-mono",children:`${r.slice(0,10)}...${r.slice(-8)}`}),we.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:[we.jsx("path",{d:"M11 3a1 1 0 100 2h2.586l-6.293 6.293a1 1 0 101.414 1.414L15 6.414V9a1 1 0 102 0V4a1 1 0 00-1-1h-5z"}),we.jsx("path",{d:"M5 5a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2v-3a1 1 0 10-2 0v3H5V7h3a1 1 0 000-2H5z"})]})]})]})]})]}),IY=({width:t=400,height:e=300,spinnerSize:r=60})=>{const[n,i]=Dt.useState([]),[a,o]=Dt.useState("");return Dt.useEffect(()=>{const s="01アイウエオカキクケコサシスセソタチツテトナニヌネノ";let l;const c=()=>{const d=Math.floor(Math.random()*15)+5;return Array(d).fill(0).map(()=>s[Math.floor(Math.random()*s.length)]).join("")};return l=setInterval(()=>{const d=Array(20).fill(0).map(c);i(d)},100),()=>clearInterval(l)},[]),Dt.useEffect(()=>{const s="0123456789abcdef";let u;return u=setInterval(()=>{let c="0x";for(let f=0;f<64;f++)c+=s[Math.floor(Math.random()*s.length)];o(c)},150),()=>clearInterval(u)},[]),we.jsxs("div",{className:"flex flex-col items-center justify-center gap-8 text-center animate-fadeIn",style:{width:t,height:e},children:[we.jsxs("div",{className:"relative w-96 h-96 bg-[#0a1929] rounded-lg overflow-hidden border border-blue-500/10",children:[we.jsx("div",{className:"absolute inset-0 opacity-20",children:we.jsx("div",{className:"grid grid-cols-20 gap-1 p-2 font-mono text-xs leading-none text-cyan-500",children:n.map((s,u)=>we.jsx("div",{className:"animate-matrix-fall overflow-hidden whitespace-nowrap",children:s},u))})}),we.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center backdrop-blur-sm",children:[we.jsxs("div",{className:"relative w-32 h-32 mb-4",children:[we.jsx("div",{className:"absolute inset-0 animate-spin-slow",children:we.jsx("svg",{viewBox:"0 0 100 100",className:"w-full h-full",children:we.jsx("polygon",{points:"50,0 93.3,25 93.3,75 50,100 6.7,75 6.7,25",fill:"none",stroke:"currentColor",strokeWidth:"1",className:"text-cyan-500"})})}),we.jsx("div",{className:"absolute inset-0 animate-spin-reverse",children:we.jsx("svg",{viewBox:"0 0 100 100",className:"w-full h-full",children:we.jsx("polygon",{points:"50,10 86.6,30 86.6,70 50,90 13.4,70 13.4,30",fill:"none",stroke:"currentColor",strokeWidth:"1",className:"text-cyan-400 opacity-50"})})})]}),we.jsxs("div",{className:"text-center",children:[we.jsx("div",{className:"font-mono text-sm text-cyan-400 mb-2",children:"Generating Zero Knowledge Proof"}),we.jsx("div",{className:"font-mono text-sm text-cyan-400 mb-2",children:"using your device's CPU..."}),we.jsx("div",{className:"font-mono text-xs text-cyan-500/70 break-all px-4",children:a})]})]})]}),we.jsxs("div",{className:"text-center space-y-2",children:[we.jsx("p",{className:"text-sm text-gray-400",children:"• MacBook Pro M1 (16GB): ~26 seconds"}),we.jsx("p",{className:"text-sm text-gray-400",children:"• Standard Laptop: 1-2 minutes"})]})]})},LY=({onProofGenerated:t,onVerify:e,onError:r})=>{const[n]=kc.useAnonAadhaar();return Bn.useEffect(()=>{n.status==="logging-in"?t():n.status==="logged-in"?e():n.status},[n.status,t,e]),we.jsxs("div",{className:"flex flex-col items-center gap-4",children:[we.jsx(kc.LogInWithAnonAadhaar,{nullifierSeed:1234}),n.status==="logging-in"&&we.jsx("p",{className:"text-gray-400",children:"Generating your proof... Please wait."})]})},FY=({blockchainService:t})=>{const[e,r]=Dt.useState("idle"),[n,i]=Dt.useState(""),[a,o]=Dt.useState(null),[s,u]=Dt.useState(""),l=Dt.useRef(null),c=d=>nn(Gi(JSON.stringify(d))),f=async d=>{var y;const h=(y=d.target.files)==null?void 0:y[0];if(!h||!t){i("Please connect your wallet first");return}try{r("loading"),i(""),o(null),u("");try{await t.initializeProvider()}catch(_){throw new Error(_.message)}const w=new FileReader;w.onload=async _=>{var E;try{const p=(E=_.target)==null?void 0:E.result,m=JSON.parse(p);if(!m.proof||!m.proof.type||m.proof.type!=="anon-aadhaar")throw new Error("Invalid proof format. Must be an Anon Aadhaar proof.");o(m);const S=c(m.proof);u(S);try{if(!t.contract)throw new Error("Contract not initialized");if(await t.contract.verifyProofExists(S))r("success");else throw new Error("Proof not found on chain")}catch(F){console.error("Verification error:",F),r("error"),F.message.includes("not found on chain")?i("This proof has not been submitted to the blockchain yet."):i(F.message||"Failed to verify proof")}}catch(p){console.error("Proof processing error:",p),r("error"),i(p.message||"Failed to process proof")}},w.readAsText(h)}catch(w){console.error("File reading error:",w),r("error"),i(w.message||"Failed to read proof file")}};return we.jsxs("div",{className:"w-full max-w-md mx-auto p-6 bg-[#0a1929] rounded-lg shadow-lg border border-blue-500/10",children:[we.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-200",children:"Verify Existing Proof"}),we.jsx("div",{className:"mb-6",children:we.jsxs("div",{className:"relative",children:[we.jsx("input",{ref:l,type:"file",accept:".json",onChange:f,className:"hidden",id:"proof-file"}),we.jsx("label",{htmlFor:"proof-file",className:"flex items-center justify-center px-4 py-3 border-2 border-dashed border-blue-500/30 rounded-lg cursor-pointer hover:border-blue-500/50 transition-colors duration-300",children:we.jsxs("div",{className:"text-center",children:[we.jsx("div",{className:"text-blue-400 mb-2",children:we.jsx("svg",{className:"w-8 h-8 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:we.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})})}),we.jsxs("div",{className:"text-sm text-gray-300",children:["Drop your proof file here or ",we.jsx("span",{className:"text-blue-400",children:"browse"})]})]})})]})}),e==="loading"&&we.jsxs("div",{className:"text-center py-4",children:[we.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-2"}),we.jsx("p",{className:"text-gray-300",children:"Verifying proof..."})]}),e==="error"&&we.jsx("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4 mb-4",children:we.jsx("p",{className:"text-red-400",children:n})}),e==="success"&&we.jsx("div",{className:"bg-emerald-500/10 border border-emerald-500/30 rounded-lg p-4 mb-4",children:we.jsx("p",{className:"text-emerald-400",children:"Proof successfully verified!"})}),a&&we.jsxs("div",{className:"mt-6 space-y-4",children:[we.jsx("h3",{className:"text-lg font-medium text-gray-200 mb-2",children:"Proof Details"}),we.jsx("div",{className:"bg-[#0c1f35] rounded-lg p-4 border border-blue-500/10",children:we.jsx("pre",{className:"text-xs text-gray-300 overflow-auto",children:JSON.stringify(a,null,2)})}),we.jsxs("div",{className:"text-sm text-gray-400",children:[we.jsx("span",{className:"font-medium",children:"Proof Hash:"}),we.jsx("div",{className:"font-mono mt-1 break-all text-cyan-400",children:s})]})]})]})},DY=()=>{const[t,e]=Dt.useState(0);return Dt.useEffect(()=>{(async()=>{try{const i=await(await fetch("https://api.github.com/repos/0xmetaschool/ZK-Aadhaar")).json();e(i.stargazers_count)}catch(n){console.error("Error fetching star count:",n)}})()},[]),we.jsx("footer",{className:"w-full bg-black border-t border-gray-700 mt-8 py-4",children:we.jsx("div",{className:"max-w-7xl mx-auto px-4 py-5",children:we.jsxs("div",{className:"flex justify-between items-start",children:[we.jsxs("div",{children:[we.jsx("div",{className:"text-gray-400 text-xs mb-4 pt-1 pb-1 pl-3 pr-3 bg-gray-900 max-w-[210px]",children:"Free open source web3 template"}),we.jsx("div",{className:"text-white mb-4 text-2xl font-bold font-sans",children:"Build your own ZK Aadhaar"}),we.jsxs("div",{className:"flex items-center gap-4",children:[we.jsx("a",{href:"https://github.com/0xmetaschool/ZK-Aadhaar/fork",target:"_blank",rel:"noopener noreferrer",className:"bg-white text-black px-4 py-2 rounded-md hover:bg-gray-200 transition-colors text-xs",children:"Fork and Build Your Own"}),we.jsxs("div",{className:"relative inline-flex items-center group",children:[we.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-md border border-gray-700 hover:bg-white hover:text-black transition-colors text-white text-xs",children:[we.jsx("svg",{viewBox:"0 0 16 16",width:"16",height:"16",className:"fill-current",children:we.jsx("path",{d:"M8 .25a.75.75 0 0 1 .673.418l1.882 3.815 4.21.612a.75.75 0 0 1 .416 1.279l-3.046 2.97.719 4.192a.75.75 0 0 1-1.088.791L8 12.347l-3.766 1.98a.75.75 0 0 1-1.088-.79l.72-4.194L.818 6.374a.75.75 0 0 1 .416-1.28l4.21-.611L7.327.668A.75.75 0 0 1 8 .25Z"})}),"Star"]}),we.jsx("div",{className:"relative w-20 h-8",children:we.jsxs("svg",{viewBox:"0 0 80 32",className:"w-full h-full",children:[we.jsx("path",{d:"M 12 2 H 72 Q 78 2 78 8 V 24 Q 78 30 72 30 H 12 Q 6 30 6 24 V 20 L 0 16 L 6 12 V 8 Q 6 2 12 2",fill:"black",stroke:"#374151",strokeWidth:"1",className:"drop-shadow-sm"}),we.jsx("text",{x:"42",y:"16",textAnchor:"middle",dominantBaseline:"middle",className:"text-sm",fill:"white",children:t})]})})]})]})]}),we.jsxs("div",{className:"flex flex-col items-end gap-4",children:[we.jsxs("div",{className:"flex items-center gap-2 pt-8",children:[we.jsx("span",{className:"text-gray-400 font-sans",children:"MADE WITH"}),we.jsx("span",{className:"text-white text-xl font-sans",children:"♥"}),we.jsx("span",{className:"text-gray-400 font-sans",children:"BY"}),we.jsxs("div",{className:"flex items-center",children:[we.jsx("img",{alt:"crystal ball",src:"https://metaschool.so/_next/static/media/crystalball.074cad21.webp",width:20,height:20,className:"object-contain"}),we.jsx("span",{className:"text-xl font-semibold ml-2 leading-none font-sans text-white",children:"metaschool"})]})]}),we.jsxs("div",{className:"flex items-center",children:[we.jsx("span",{className:"mr-4 text-gray-400 pt-4 font-sans",children:"Follow us on"}),we.jsxs("div",{className:"flex items-center gap-3 pt-4 text-white",children:[we.jsx("a",{href:"https://discord.com/invite/vbVMUwXWgc",target:"_blank",rel:"noopener noreferrer",children:we.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:we.jsx("path",{d:"M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0 12.64 12.64 0 0 0-.617-1.25.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057 19.9 19.9 0 0 0 5.993 3.03.078.078 0 0 0 .084-.028 14.09 14.09 0 0 0 1.226-1.994.076.076 0 0 0-.041-.106 13.107 13.107 0 0 1-1.872-.892.077.077 0 0 1-.008-.128 10.2 10.2 0 0 0 .372-.292.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127 12.299 12.299 0 0 1-1.873.892.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028 19.839 19.839 0 0 0 6.002-3.03.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.956-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.955-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.946 2.418-2.157 2.418z"})})}),we.jsx("a",{href:"https://twitter.com/0xmetaschool",target:"_blank",rel:"noopener noreferrer",children:we.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"17",height:"17",viewBox:"0 0 24 24",fill:"currentColor",children:we.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})})}),we.jsx("a",{href:"https://www.linkedin.com/company/0xmetaschool/",target:"_blank",rel:"noopener noreferrer",children:we.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:we.jsx("path",{d:"M20.5 2h-17A1.5 1.5 0 002 3.5v17A1.5 1.5 0 003.5 22h17a1.5 1.5 0 001.5-1.5v-17A1.5 1.5 0 0020.5 2zM8 19H5v-9h3zM6.5 8.25A1.75 1.75 0 118.3 6.5a1.78 1.78 0 01-1.8 1.75zM19 19h-3v-4.74c0-1.42-.6-1.93-1.38-1.93A1.74 1.74 0 0013 14.19a.66.66 0 000 .14V19h-3v-9h2.9v1.3a3.11 3.11 0 012.7-1.4c1.55 0 3.36.86 3.36 3.66z"})})})]})]})]})]})})})},TY=()=>we.jsxs("div",{className:"relative w-full h-[600px] bg-[#0a1929] rounded-3xl overflow-hidden",children:[we.jsxs("div",{className:"absolute inset-0",children:[we.jsx("div",{className:"absolute inset-0 bg-grid-cyber opacity-20"}),we.jsx("div",{className:"absolute inset-0 bg-gradient-radial from-cyan-500/20 via-transparent to-transparent"})]}),we.jsx("div",{className:"absolute inset-0",children:[...Array(10)].map((t,e)=>we.jsx("div",{className:"absolute h-px bg-gradient-to-r from-cyan-500/0 via-cyan-500/50 to-cyan-500/0 cyber-line",style:{top:`${10+e*10}%`,animationDelay:`${e*.2}s`,left:"0",right:"0"}},e))}),we.jsxs("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[400px] h-[250px] animate-float-card",children:[we.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-500/30 to-blue-500/30 rounded-full blur-2xl animate-pulse-slow"}),we.jsxs("div",{className:"relative bg-white/90 backdrop-blur-sm rounded-xl p-4 shadow-2xl border border-cyan-200/30",children:[we.jsx("div",{className:"text-center text-sm font-bold text-cyan-900 mb-3",children:"ANONYMOUS ZERO-KNOWLEDGE PROOF"}),we.jsxs("div",{className:"flex gap-4",children:[we.jsx("div",{className:"w-24 h-24 bg-gray-200 rounded-lg overflow-hidden flex items-center justify-center",children:we.jsx("div",{className:"w-16 h-16 bg-gray-400 rounded-full"})}),we.jsxs("div",{className:"flex-1 space-y-2",children:[we.jsx("div",{className:"h-3 bg-gray-300 rounded w-3/4 animate-pulse"}),we.jsx("div",{className:"h-3 bg-gray-300 rounded w-1/2 animate-pulse"}),we.jsx("div",{className:"h-3 bg-gray-300 rounded w-2/3 animate-pulse"})]})]}),we.jsx("div",{className:"absolute bottom-4 right-4 w-12 h-12",children:we.jsx("div",{className:"w-full h-full bg-gradient-to-br from-cyan-500 to-blue-500 rounded-lg animate-scan"})})]})]}),we.jsx("div",{className:"absolute top-1/4 left-1/4 transform -translate-x-1/2 -translate-y-1/2",children:we.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-cyan-500 to-blue-500 rounded-lg p-2 animate-float",children:we.jsx("svg",{className:"w-full h-full text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:we.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})})}),we.jsx("div",{className:"absolute top-1/4 right-1/4 transform translate-x-1/2 -translate-y-1/2",children:we.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-cyan-500 to-blue-500 rounded-lg p-2 animate-float",style:{animationDelay:"0.5s"},children:we.jsx("svg",{className:"w-full h-full text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:we.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})})}),[...Array(20)].map((t,e)=>we.jsx("div",{className:"absolute w-2 h-2 bg-cyan-500 rounded-full animate-data-point",style:{top:`${Math.random()*100}%`,left:`${Math.random()*100}%`,animationDelay:`${e*.3}s`}},e)),we.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-48 overflow-hidden opacity-30",children:we.jsx("div",{className:"binary-rain font-mono text-xs text-cyan-500",children:[...Array(20)].map((t,e)=>we.jsx("div",{className:"absolute animate-binary-fall",style:{right:`${e*12}px`,animationDelay:`${e*.2}s`,top:"-20px"},children:Math.random().toString(2).substr(2,8)},e))})})]}),kY=({onLaunchApp:t})=>we.jsxs("div",{className:"min-h-screen bg-[#0a1929] text-white",children:[we.jsx("header",{className:"bg-[#0a1929]/80 backdrop-blur-md border-b border-blue-500/10 sticky top-0 z-50 transition-all duration-300",children:we.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:we.jsxs("div",{className:"flex justify-between items-center h-20",children:[we.jsxs("div",{className:"flex items-center gap-4 group cursor-pointer",children:[we.jsxs("div",{className:"relative",children:[we.jsx("div",{className:"absolute -inset-2 bg-gradient-to-r from-blue-500 to-blue-600 rounded-full blur-lg opacity-20 group-hover:opacity-40 transition-opacity duration-300"}),we.jsx("img",{src:"/logo.svg",alt:"Logo",className:"h-10 w-10 relative"})]}),we.jsx("span",{className:"font-bold text-2xl text-white group-hover:text-blue-400 transition-all duration-300",children:"ZK Aadhaar"})]}),we.jsx("button",{onClick:t,className:"inline-flex items-center px-6 py-2.5 text-sm font-medium rounded-full text-white bg-blue-600 hover:bg-blue-700 transition-all duration-300 hover:scale-105",children:"Launch App →"})]})})}),we.jsxs("section",{className:"relative overflow-hidden py-20 sm:py-32",children:[we.jsx("div",{className:"absolute inset-0 bg-[url('/grid.svg')] bg-center [mask-image:linear-gradient(180deg,white,rgba(255,255,255,0))]"}),we.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-[#0a1929] via-transparent to-transparent"}),we.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative",children:we.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[we.jsxs("div",{className:"text-center lg:text-left space-y-8",children:[we.jsxs("div",{className:"space-y-4 animate-slideIn",children:[we.jsxs("h1",{className:"text-5xl sm:text-7xl font-bold tracking-tight",children:[we.jsx("span",{className:"block text-gray-200",children:"Secure Identity"}),we.jsx("span",{className:"block text-gray-200",children:"Verification"}),we.jsx("span",{className:"block bg-gradient-to-r from-blue-400 to-blue-600 bg-clip-text text-transparent mt-1",children:"with Zero Knowledge"})]}),we.jsx("p",{className:"mt-8 text-lg text-gray-400 animate-fadeIn leading-relaxed max-w-2xl mx-auto lg:mx-0",style:{animationDelay:"0.3s"},children:"Experience the future of identity verification. Verify your Aadhaar securely while maintaining complete privacy through advanced zero-knowledge proofs."})]}),we.jsxs("div",{className:"flex flex-col sm:flex-row justify-center lg:justify-start gap-4 animate-scaleIn",style:{animationDelay:"0.6s"},children:[we.jsx("button",{onClick:t,className:"group relative inline-flex items-center justify-center px-8 py-3 text-base font-medium rounded-full text-white bg-blue-600 hover:bg-blue-700 transition-all duration-300 hover:scale-105",children:we.jsxs("span",{className:"relative z-10 flex items-center",children:["Get Started Now",we.jsx("svg",{className:"ml-2 w-5 h-5 group-hover:translate-x-1 transition-transform duration-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:we.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})}),we.jsxs("a",{href:"#features",className:"group inline-flex items-center justify-center px-8 py-3 text-base font-medium rounded-full text-gray-300 border border-gray-700 hover:border-blue-500 hover:text-blue-400 transition-all duration-300 hover:scale-105",children:["Learn More",we.jsx("svg",{className:"ml-2 w-5 h-5 group-hover:translate-x-1 transition-transform duration-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:we.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]}),we.jsx("div",{className:"relative lg:order-last animate-fadeIn",style:{animationDelay:"0.9s"},children:we.jsx(TY,{})})]})})]}),we.jsxs("section",{id:"features",className:"py-20 relative overflow-hidden",children:[we.jsx("div",{className:"absolute inset-0 bg-[url('/grid.svg')] bg-center opacity-5"}),we.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative",children:[we.jsxs("div",{className:"text-center mb-16",children:[we.jsx("h2",{className:"text-4xl font-bold text-white mb-4",children:"Why Choose ZK Aadhaar?"}),we.jsx("p",{className:"text-xl text-gray-400",children:"Experience the future of identity verification"})]}),we.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[{title:"Privacy First",description:"Your personal information stays with you. Only zero-knowledge proofs are shared.",icon:"🔒"},{title:"Fast & Efficient",description:"Quick verification process with minimal computational overhead.",icon:"⚡"},{title:"Decentralized",description:"No central authority or data storage. Complete control over your identity.",icon:"🌐"}].map((e,r)=>we.jsxs("div",{className:"group relative",children:[we.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-2xl blur-xl opacity-20 group-hover:opacity-60 transition duration-500 ease-in-out"}),we.jsxs("div",{className:"relative p-8 bg-[#0a1929]/80 backdrop-blur-sm rounded-2xl leading-none space-y-6 transform transition duration-300 hover:translate-y-[-4px] hover:scale-[1.02] border border-blue-500/10 flex flex-col items-center text-center",children:[we.jsx("div",{className:"text-4xl rounded-xl p-3 w-fit",children:e.icon}),we.jsx("h3",{className:"text-xl font-semibold text-white group-hover:text-blue-400 transition-colors duration-300",children:e.title}),we.jsx("p",{className:"text-gray-400",children:e.description})]})]},r))})]})]}),we.jsx(DY,{})]}),XA="0xA2DD8Fe6933120bF47B2130A46010519C1ef5460";function NY(){const[t]=kc.useAnonAadhaar(),[,e]=kc.useProver(),[r,n]=Dt.useState(!1),[i,a]=Dt.useState(null),[o,s]=Dt.useState([]),[u,l]=Dt.useState(null),[c,f]=Dt.useState(null),[d,h]=Dt.useState(1),[y,w]=Dt.useState(null),[_,E]=Dt.useState(!1),[p,m]=Dt.useState(""),[S,F]=Dt.useState(!1),[I,v]=Dt.useState(null),[A,D]=Dt.useState(!1);Dt.useEffect(()=>{(async()=>{try{if(window.ethereum){E(!0);const N=new bY(XA);l(N),h(2)}else E(!1),console.error("MetaMask is not installed")}catch(N){console.error("Error initializing blockchain service:",N)}})()},[]);const L=Dt.useCallback(async()=>{if(window.ethereum){const N=await new eI(window.ethereum).getNetwork();m(N.name)}},[]);Dt.useEffect(()=>{if(!u)return;const C=async()=>{try{if(window.ethereum){const G=await window.ethereum.request({method:"eth_accounts"});if(G&&G.length>0){const $=G[0];f($),h(3),await L()}}}catch(G){console.error("Connection check error:",G)}},N=async G=>{G.length>0?(f(G[0]),h(3)):(f(null),h(2))},U=async()=>{await L()};return C(),window.ethereum&&(window.ethereum.on("accountsChanged",N),window.ethereum.on("chainChanged",U)),()=>{window.ethereum&&(window.ethereum.removeListener("accountsChanged",N),window.ethereum.removeListener("chainChanged",U))}},[u,L]);const j=async()=>{try{if(a(null),!u)throw new Error("Blockchain service not initialized");const C=await u.connectWallet();f(C),h(3),await L()}catch(C){console.error("Wallet connection error:",C),a(C.message||"Failed to connect wallet")}};Dt.useEffect(()=>{(async()=>{if(u)if(t.status==="logging-in")F(!0),a(null);else if(t.status==="logged-in"&&e){F(!1),h(4);try{h(5),n(!0);const N=await u.submitProof(e);w(N.transactionHash),s(U=>[...U,e]),n(!1),N.transactionHash||a("Proof already exists on the blockchain. No need to store again.")}catch{a("Failed to store proof on blockchain. Please try again."),n(!1)}}else t.status==="logged-out"&&F(!1)})()},[t.status,e,u]);const Y=(C,N,U)=>{let G="";return C===4&&d===4?G="Proof Generated":C===5&&d===5&&!y?G="Storing on Blockchain...":C===5&&y&&(G="Stored Successfully"),we.jsxs("div",{className:"flex items-center gap-4 relative",children:[we.jsx("div",{className:`
          w-8 h-8 rounded-full flex items-center justify-center relative z-10
          ${d===C?"bg-cyan-500 text-white ring-2 ring-cyan-500/20 ring-offset-2 ring-offset-[#0a1929]":U?"bg-green-500 text-white":"bg-[#0c1f35] text-gray-400 border border-blue-500/20"}
          transition-all duration-300
        `,children:U?"✓":C}),we.jsxs("div",{className:"flex flex-col",children:[we.jsx("span",{className:`${d===C?"text-cyan-400 font-semibold":U?"text-gray-200":"text-gray-400"} transition-colors`,children:N}),G&&we.jsx("span",{className:`text-sm ${G.includes("Successfully")?"text-green-400":G.includes("Generated")?"text-cyan-400":"text-gray-400"}`,children:G})]})]})},O=()=>{s([]),w(null),h(_?2:1)},B=()=>{if(!e||!y)return;const C={proof:e,transactionHash:y,timestamp:Date.now(),network:p,contract:XA},N=new Blob([JSON.stringify(C,null,2)],{type:"application/json"}),U=URL.createObjectURL(N),G=document.createElement("a");G.href=U,G.download=`anon-aadhaar-proof-${Date.now()}.json`,document.body.appendChild(G),G.click(),document.body.removeChild(G),URL.revokeObjectURL(U)};return we.jsx("div",{children:A?we.jsxs("div",{className:"min-h-screen bg-[#0a1929] text-gray-200",children:[we.jsx("header",{className:"bg-[#0a1929]/80 backdrop-blur-md border-b border-blue-500/10 sticky top-0 z-50 transition-all duration-300",children:we.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:we.jsxs("div",{className:"flex justify-between items-center h-20",children:[we.jsxs("div",{className:"flex items-center gap-4 group cursor-pointer",children:[we.jsxs("div",{className:"relative",children:[we.jsx("div",{className:"absolute -inset-2 bg-gradient-to-r from-blue-500 to-blue-600 rounded-full blur-lg opacity-20 group-hover:opacity-40 transition-opacity duration-300"}),we.jsx("img",{src:"/logo.svg",alt:"Logo",className:"h-10 w-10 relative"})]}),we.jsx("span",{className:"font-bold text-2xl text-white group-hover:text-blue-400 transition-all duration-300",children:"ZK Aadhaar"})]}),we.jsx("button",{onClick:()=>D(!1),className:"inline-flex items-center px-6 py-2.5 text-sm font-medium rounded-full text-white bg-blue-600 hover:bg-blue-700 transition-all duration-300 hover:scale-105",children:"← Back to Home"})]})})}),we.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:I?I==="generate"?we.jsx("div",{className:"space-y-8",children:we.jsxs("div",{children:[we.jsxs("button",{onClick:()=>v(null),className:"text-gray-400 hover:text-gray-200 transition-colors flex items-center gap-2 mb-8",children:[we.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:we.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Options"]}),we.jsxs("div",{className:"relative",children:[we.jsx("div",{className:"absolute left-4 inset-y-0 w-0.5 bg-gradient-to-b from-blue-500/50 via-cyan-500/50 to-transparent"}),we.jsxs("div",{className:"relative space-y-6 pl-12",children:[Y(1,"Install MetaMask",d>1),Y(2,"Connect Wallet",d>2),Y(3,"Provide Aadhaar QR",d>3),Y(4,"Generate Proof",d>4),Y(5,"Store on Blockchain",d>5)]})]}),we.jsxs("div",{className:"mt-8 space-y-4",children:[we.jsx("p",{className:"text-gray-400",children:"Prove your Identity anonymously using your Aadhaar card. Your proof will be securely stored on Sepolia testnet."}),i&&we.jsx("div",{className:"p-4 bg-red-500/10 border border-red-500/30 rounded-lg",children:we.jsx("p",{className:"text-red-400",children:i})}),!_&&we.jsxs("div",{className:"p-4 bg-[#0c1f35] rounded-lg border border-blue-500/10",children:[we.jsx("p",{className:"text-gray-300 mb-4",children:"Please install MetaMask to continue"}),we.jsx("a",{href:"https://metamask.io/download/",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Install MetaMask"})]}),_&&!c&&we.jsx("button",{onClick:j,className:"w-full px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:"Connect Wallet"}),c&&!S&&d===3&&we.jsxs("div",{className:"space-y-4",children:[we.jsxs("div",{className:"p-4 bg-[#0c1f35] rounded-lg border border-blue-500/10",children:[we.jsx("p",{className:"text-gray-300 mb-2",children:"Connected Wallet:"}),we.jsx("p",{className:"font-mono text-cyan-400 break-all",children:c}),we.jsxs("p",{className:"text-gray-400 mt-2",children:["Network: ",p]})]}),we.jsx(LY,{onProofGenerated:()=>{F(!0)},onVerify:()=>{h(4)},onError:C=>{a(C.message),F(!1)}})]}),S&&we.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-[9999]",children:we.jsx("div",{className:"bg-[#0a1929] rounded-lg p-8 mx-4 border border-blue-500/20",children:we.jsx(IY,{})})}),t.status==="logged-in"&&we.jsxs("div",{className:"space-y-6",children:[we.jsxs("div",{className:"p-6 bg-[#0c1f35] rounded-lg border border-blue-500/10",children:[we.jsx(SY,{status:"success",proofHash:e?nn(Gi(JSON.stringify(e))):void 0,transactionHash:y||void 0,timestamp:Date.now()/1e3}),e&&y&&we.jsxs("div",{className:"flex gap-4 mt-6",children:[we.jsxs("button",{onClick:B,className:"px-4 py-2 bg-gradient-to-r from-blue-600 to-cyan-600 text-white rounded-lg hover:from-blue-700 hover:to-cyan-700 transition-all duration-300 flex items-center gap-2 shadow-lg shadow-blue-500/20",children:[we.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:we.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})}),"Download Proof"]}),we.jsx("button",{onClick:()=>{O(),v(null)},className:"px-4 py-2 bg-red-500/10 text-red-400 border border-red-500/20 rounded-lg hover:bg-red-500/20 transition-all duration-300",children:"Start New Verification"})]})]}),e&&we.jsxs("div",{className:"p-6 bg-[#0c1f35] rounded-lg border border-blue-500/10",children:[we.jsxs("div",{className:"flex justify-between items-center mb-4",children:[we.jsx("h3",{className:"font-semibold text-gray-200",children:"Proof Details"}),y&&we.jsxs("a",{href:`https://sepolia.etherscan.io/tx/${y}`,target:"_blank",rel:"noopener noreferrer",className:"text-cyan-400 hover:text-cyan-300 transition-colors flex items-center gap-2",children:[we.jsx("span",{children:"View on Etherscan"}),we.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:[we.jsx("path",{d:"M11 3a1 1 0 100 2h2.586l-6.293 6.293a1 1 0 101.414 1.414L15 6.414V9a1 1 0 102 0V4a1 1 0 00-1-1h-5z"}),we.jsx("path",{d:"M5 5a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2v-3a1 1 0 10-2 0v3H5V7h3a1 1 0 000-2H5z"})]})]})]}),we.jsx("div",{className:"bg-[#0a1929] rounded-lg p-4 border border-blue-500/10",children:we.jsx(kc.AnonAadhaarProof,{code:JSON.stringify(e,null,2)})})]})]}),r&&!S&&we.jsxs("div",{className:"flex flex-col items-center gap-3 p-6 bg-[#0c1f35] rounded-lg border border-blue-500/10",children:[we.jsx("div",{className:"w-10 h-10 border-t-2 border-blue-500 rounded-full animate-spin"}),we.jsx("p",{className:"text-gray-300",children:"Processing blockchain transaction..."})]})]})]})}):we.jsxs("div",{children:[we.jsxs("button",{onClick:()=>v(null),className:"text-gray-400 hover:text-gray-200 transition-colors flex items-center gap-2 mb-8",children:[we.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:we.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Options"]}),we.jsx(FY,{blockchainService:u})]}):we.jsxs("div",{className:"space-y-12",children:[we.jsx("div",{className:"text-center",children:we.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Choose an Option"})}),we.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[we.jsxs("div",{onClick:()=>v("generate"),className:"group relative cursor-pointer",children:[we.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-lg blur opacity-25 group-hover:opacity-75 transition duration-300"}),we.jsxs("div",{className:"relative p-8 bg-[#0c1f35] rounded-lg border border-blue-500/10 hover:border-blue-500/30 transition-all duration-300",children:[we.jsx("h3",{className:"text-xl font-semibold mb-4 text-gray-200 group-hover:text-cyan-400 transition-colors",children:"Option 1: New User"}),we.jsx("p",{className:"text-gray-400 group-hover:text-gray-300 transition-colors",children:"Generate a new anonymous proof using your Aadhaar card and store it on-chain."})]})]}),we.jsxs("div",{onClick:()=>v("verify"),className:"group relative cursor-pointer",children:[we.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-lg blur opacity-25 group-hover:opacity-75 transition duration-300"}),we.jsxs("div",{className:"relative p-8 bg-[#0c1f35] rounded-lg border border-blue-500/10 hover:border-blue-500/30 transition-all duration-300",children:[we.jsx("h3",{className:"text-xl font-semibold mb-4 text-gray-200 group-hover:text-cyan-400 transition-colors",children:"Option 2: Verify Existing Proof"}),we.jsx("p",{className:"text-gray-400 group-hover:text-gray-300 transition-colors",children:"Verify an existing proof by uploading the JSON file and checking its validity on-chain."})]})]})]})]})})]}):we.jsx(kY,{onLaunchApp:()=>D(!0)})})}function PY({children:t}){const[e,r]=Dt.useState(!1);return we.jsx(kc.AnonAadhaarProvider,{_useTestAadhaar:e,_appName:"Anon Aadhaar Template",children:t})}fw(document.getElementById("root")).render(we.jsx(Dt.StrictMode,{children:we.jsx(PY,{children:we.jsx(NY,{})})}));
